cscope 15 $HOME/Github/gh_retrogame_emulator/sdlpal               0001313994
	@adplug/binfile.cpp

20 
	~<°dio.h
>

21 
	~<î∫o.h
>

23 
	~"böfûe.h
"

27 
	gböfba£
::
	$böfba£
()

28 : 
	$f
(
NULL
) {

29 
	}
}

31 
böfba£
::~
	$böfba£
() {

32 i‡(
f
 !
NULL
Ë
	`˛o£
();

33 
	}
}

35 
	gböfba£
::
	$˛o£
() {

36 i‡(
f
 !
NULL
) {

37 i‡(
	`f˛o£
(
f
Ë=
EOF
Ë
îr
 |
F©Æ
;

38 
f
 = 
NULL
;

40 
îr
 |
NŸO≥n
;

41 
	}
}

43 
	gböfba£
::
	$£ek
(
pos
, 
Off£t
 
offs
) {

44 
îr‹
 = -1;

46 i‡(
f
 =
NULL
) {

47 
îr
 |
NŸO≥n
;

51 
offs
) {

52 
Së
:

53 
îr‹
 = 
	`f£ek
(
f
, 
pos
, 
SEEK_SET
);

55 
Add
:

56 
îr‹
 = 
	`f£ek
(
f
, 
pos
, 
SEEK_CUR
);

58 
End
:

59 
îr‹
 = 
	`f£ek
(
f
, 
pos
, 
SEEK_END
);

63 i‡(
îr‹
 == -1)

64 
îr
 |
F©Æ
;

65 
	}
}

67 
	gböfba£
::
	$pos
() {

68 
pos
;

70 i‡(
f
 =
NULL
) {

71 
îr
 |
NŸO≥n
;

75 
pos
 = 
	`·ñl
(
f
);

77 i‡(
pos
 == -1) {

78 
îr
 |
F©Æ
;

81  
pos
;

82 
	}
}

86 
	gböif°ªam
::
	$böif°ªam
() {

87 
	}
}

89 
böif°ªam
::
	$böif°ªam
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
) {

90 
	`›í
(
fûíame
, 
mode
);

91 
	}
}

93 #i‡
BINIO_ENABLE_STRING


94 
	gböif°ªam
::
	$böif°ªam
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
) {

95 
	`›í
(
fûíame
, 
mode
);

96 
	}
}

99 
	gböif°ªam
::~
	$böif°ªam
() {

100 
	}
}

102 
böif°ªam
::
	$›í
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
) {

103 
f
 = 
	`f›í
(
fûíame
, "rb");

105 i‡(
f
 =
NULL
)

106 
î∫o
) {

107 
ENOENT
:

108 
îr
 |
NŸFound
;

110 
EACCES
:

111 
îr
 |
Díõd
;

114 
îr
 |
NŸO≥n
;

117 
	}
}

119 #i‡
BINIO_ENABLE_STRING


120 
	gböif°ªam
::
	$›í
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
) {

121 
	`›í
(
fûíame
.
	`c_°r
(), 
mode
);

122 
	}
}

125 
	gböif°ªam
::
Byã
 
böif°ªam
::
	$gëByã
() {

126 
ªad
;

128 i‡(
f
 !
NULL
) {

129 
ªad
 = 
	`fgëc
(
f
);

130 i‡(
ªad
 =
EOF
Ë
îr
 |
Eof
;

131  (
Byã
)
ªad
;

133 
îr
 |
NŸO≥n
;

136 
	}
}

140 
	gböof°ªam
::
	$böof°ªam
() {

141 
	}
}

143 
böof°ªam
::
	$böof°ªam
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
) {

144 
	`›í
(
fûíame
, 
mode
);

145 
	}
}

147 #i‡
BINIO_ENABLE_STRING


148 
	gböof°ªam
::
	$böof°ªam
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
) {

149 
	`›í
(
fûíame
, 
mode
);

150 
	}
}

153 
	gböof°ªam
::~
	$böof°ªam
() {

154 
	}
}

156 
böof°ªam
::
	$›í
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
) {

157 
mode°r
[] = "wb";

160 i‡(
mode
 & 
Aµíd
Ë
mode°r
[0] = 'a';

162 
f
 = 
	`f›í
(
fûíame
, 
mode°r
);

164 i‡(
f
 =
NULL
)

165 
î∫o
) {

166 
EEXIST
:

167 
EACCES
:

168 
EROFS
:

169 
îr
 |
Díõd
;

171 
ENOENT
:

172 
îr
 |
NŸFound
;

175 
îr
 |
NŸO≥n
;

178 
	}
}

180 #i‡
BINIO_ENABLE_STRING


181 
	gböof°ªam
::
	$›í
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
) {

182 
	`›í
(
fûíame
.
	`c_°r
(), 
mode
);

183 
	}
}

186 
	gböof°ªam
::
	$putByã
(
Byã
 
b
) {

187 i‡(
f
 =
NULL
) {

188 
îr
 |
NŸO≥n
;

192 i‡(
	`Âutc
(
b
, 
f
Ë=
EOF
)

193 
îr
 |
F©Æ
;

194 
	}
}

198 
	gböf°ªam
::
	$böf°ªam
() {

199 
	}
}

201 
böf°ªam
::
	$böf°ªam
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
) {

202 
	`›í
(
fûíame
, 
mode
);

203 
	}
}

205 #i‡
BINIO_ENABLE_STRING


206 
	gböf°ªam
::
	$böf°ªam
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
) {

207 
	`›í
(
fûíame
, 
mode
);

208 
	}
}

211 
	gböf°ªam
::~
	$böf°ªam
() {

212 
	}
}

214 
böf°ªam
::
	$›í
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
) {

215 
mode°r
[] = "w+b";

216 
„º‹
 = 0;

219 i‡(
mode
 & 
NoCª©e
) {

220 i‡(!(
mode
 & 
Aµíd
))

221 
mode°r
[0] = 'r';

223 i‡(
mode
 & 
Aµíd
)

224 
mode°r
[0] = 'a';

226 
f
 = 
	`f›í
(
fûíame
, 
mode°r
);

229 i‡(
f
 !
NULL
 && (
mode
 & 
Aµíd
Ë&& (modê& 
NoCª©e
))

230 
„º‹
 = 
	`f£ek
(
f
, 0, 
SEEK_END
);

232 i‡(
f
 =
NULL
 || 
„º‹
 == -1) {

233 
î∫o
) {

234 
EEXIST
:

235 
EACCES
:

236 
EROFS
:

237 
îr
 |
Díõd
;

239 
ENOENT
:

240 
îr
 |
NŸFound
;

243 
îr
 |
NŸO≥n
;

247 
	}
}

249 #i‡
BINIO_ENABLE_STRING


250 
	gböf°ªam
::
	$›í
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
) {

251 
	`›í
(
fûíame
.
	`c_°r
(), 
mode
);

252 
	}
}

	@adplug/binfile.h

20 #i‚de‡
H_BINIO_BINFILE


21 
	#H_BINIO_BINFILE


	)

23 
	~<°dio.h
>

25 
	~"böio.h
"

27 #ifde‡
_MSC_VER


28 #¥agm®
w¨nög
 (
dißbÀ
:4244)

29 #¥agm®
w¨nög
 (
dißbÀ
:4996)

32 ˛as†
	cböfba£
: 
vútuÆ
 
public
 
böio
 {

33 
public
:

35 
Aµíd
 = 1 << 0,

36 
	mNoCª©e
 = 1 << 1

37 } 
	tModeFœgs
;

39 
	tMode
;

41 
böfba£
();

42 
	gvútuÆ
 ~
böfba£
();

44 
vútuÆ
 
›í
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
) = 0;

45 #i‡
BINIO_ENABLE_STRING


46 
vútuÆ
 
›í
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
) = 0;

48 
˛o£
();

50 
vútuÆ
 
£ek
(
pos
, 
Off£t
 
offs
 = 
Së
);

51 
vútuÆ
 
pos
();

53 
	g¥Ÿe˘ed
:

54 
FILE
 *
f
;

57 
˛ass
 
	gböif°ªam
: 
public
 
böi°ªam
, 
vútuÆ
Öubli¯
	gböfba£
 {

58 
	gpublic
:

59 
böif°ªam
();

60 
böif°ªam
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
 = 
NoCª©e
);

61 #i‡
BINIO_ENABLE_STRING


62 
böif°ªam
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
 = 
NoCª©e
);

65 
	gvútuÆ
 ~
böif°ªam
();

67 
vútuÆ
 
›í
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
 = 
NoCª©e
);

68 #i‡
BINIO_ENABLE_STRING


69 
vútuÆ
 
›í
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
 = 
NoCª©e
);

72 
	g¥Ÿe˘ed
:

73 
vútuÆ
 
Byã
 
gëByã
();

76 
˛ass
 
	gböof°ªam
: 
public
 
böo°ªam
, 
vútuÆ
Öubli¯
	gböfba£
 {

77 
	gpublic
:

78 
böof°ªam
();

79 
böof°ªam
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
 = 0);

80 #i‡
BINIO_ENABLE_STRING


81 
böof°ªam
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
 = 0);

84 
	gvútuÆ
 ~
böof°ªam
();

86 
vútuÆ
 
›í
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
 = 0);

87 #i‡
BINIO_ENABLE_STRING


88 
vútuÆ
 
›í
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
 = 0);

91 
	g¥Ÿe˘ed
:

92 
vútuÆ
 
putByã
(
Byã
 
b
);

95 
˛ass
 
	gböf°ªam
: 
public
 
böif°ªam
,Öubli¯
	gböof°ªam
 {

96 
	gpublic
:

97 
böf°ªam
();

98 
böf°ªam
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
 = 0);

99 #i‡
BINIO_ENABLE_STRING


100 
böf°ªam
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
 = 0);

103 
	gvútuÆ
 ~
böf°ªam
();

105 
vútuÆ
 
›í
(c⁄° *
fûíame
, c⁄° 
Mode
 
mode
 = 0);

106 #i‡
BINIO_ENABLE_STRING


107 
vútuÆ
 
›í
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
Mode
 
mode
 = 0);

	@adplug/binio.cpp

20 
	~<°rög.h
>

22 
	~"böio.h
"

24 #i‡
BINIO_WITH_MATH


26 
	~<m©h.h
>

28 #ifde‡
__QNXNTO__


29 
	#pow
 
°d
::
powf


	)

33 #i‚de‡
HUGE_VAL


34 
	#HUGE_VAL
 
HUGE


	)

41 #i‡
BINIO_ENABLE_STRING


43 
	#STRINGBUFSIZE
 256

	)

48 c⁄° 
	gböio
::
Fœgs
 
böio
::
sy°em_Êags
 = böio::
dëe˘_sy°em_Êags
();

50 c⁄° 
	gböio
::
Fœgs
 
böio
::
	$dëe˘_sy°em_Êags
() {

51 
Fœgs
 
f
 = 0;

55 
w‹d
;

56 
Byã
 
byã
;

57 } 
ídün_ã°
;

59 
ídün_ã°
.
w‹d
 = 1;

60 i‡(
ídün_ã°
.
byã
 !1Ë
f
 |
BigEndün
;

63 
Ê
 = 6.5;

64 
Byã
 *
d©
 = (Byã *)&
Ê
;

67 i‡(
f
 & 
BigEndün
) {

68 i‡(
d©
[0] == 0x40 && dat[1] == 0xD0 && !dat[2] && !dat[3])

69 
f
 |
FlﬂtIEEE
;

71 i‡(
d©
[3] == 0x40 && dat[2] == 0xD0 && !dat[1] && !dat[0])

72 
f
 |
FlﬂtIEEE
;

75  
f
;

76 
	}
}

78 
	gböio
::
	$böio
()

79 : 
	`my_Êags
(
sy°em_Êags
), 
	$îr
(
NoEº‹
) {

80 
	}
}

82 
	gböio
::~
	$böio
() {

83 
	}
}

85 
böio
::
	$£tFœg
(
Fœg
 
f
, 
boﬁ
 
£t
) {

86 i‡(
£t
)

87 
my_Êags
 |
f
;

89 
my_Êags
 &!
f
;

90 
	}
}

92 
boﬁ
 
	gböio
::
	$gëFœg
(
Fœg
 
f
) {

93  (
my_Êags
 & 
f
 ? 
åue
 : 
Ál£
);

94 
	}
}

96 
	gböio
::
Eº‹
 
böio
::
	$îr‹
() {

97 
Eº‹
 
e
 = 
îr
;

99 
îr
 = 
NoEº‹
;

100  
e
;

101 
	}
}

103 
boﬁ
 
	gböio
::
	$eof
() {

104  (
îr
 & 
Eof
 ? 
åue
 : 
Ál£
);

105 
	}
}

109 
	gböi°ªam
::
	$böi°ªam
() {

110 
	}
}

112 
böi°ªam
::~
	$böi°ªam
() {

113 
	}
}

115 
böi°ªam
::
I¡
 böi°ªam::
	$ªadI¡
(
size
) {

116 
i
;

117 
I¡
 
vÆ
 = 0, 
ö
;

120 i‡(
size
 > (
I¡
)) {

121 
îr
 |
Unsuµ‹ãd
;

125 
i
 = 0; i < 
size
; i++) {

126 
ö
 = 
	`gëByã
();

127 i‡(
	`gëFœg
(
BigEndün
))

128 
vÆ
 <<= 8;

130 
ö
 <<
i
 * 8;

131 
vÆ
 |
ö
;

134  
vÆ
;

135 
	}
}

137 
	gböi°ªam
::
Flﬂt
 
böi°ªam
::
	$ªadFlﬂt
(
FTy≥
 
·
) {

138 i‡(
	`gëFœg
(
FlﬂtIEEE
)) {

139 
i
, 
size
 = 0;

140 
Byã
 
ö
[8];

141 
boﬁ
 
sw≠
;

144 
·
) {

145 
SögÀ
:

146 
size
 = 4;

148 
DoubÀ
:

149 
size
 = 8;

154 i‡(
sy°em_Êags
 & 
FlﬂtIEEE
)

155 
sw≠
 = 
	`gëFœg
(
BigEndün
Ë^ (
sy°em_Êags
 & BigEndian);

157 
sw≠
 = !
	`gëFœg
(
BigEndün
);

160 
i
 = 0; i < 
size
; i++)

161 i‡(
sw≠
)

162 
ö
[
size
 - 
i
 - 1] = 
	`gëByã
();

164 
ö
[
i
] = 
	`gëByã
();

166 i‡(
sy°em_Êags
 & 
FlﬂtIEEE
) {

168 
·
) {

169 
SögÀ
:

170  *
ªöãΩªt_ˇ°
<*>(
ö
);

171 
DoubÀ
:

172  *
ªöãΩªt_ˇ°
<*>(
ö
);

175 
·
) {

176 
SögÀ
:

177  
	`õì_sögÀ2Êﬂt
(
ö
);

178 
DoubÀ
:

179  
	`õì_doubÀ2Êﬂt
(
ö
);

185 
îr
 |
Unsuµ‹ãd
;

187 
	}
}

189 
	gböi°ªam
::
Flﬂt
 
böi°ªam
::
	$õì_sögÀ2Êﬂt
(
Byã
 *
d©a
) {

190 sig√d 
sign
 = 
d©a
[0] >> 7 ? -1 : 1;

191 
exp
 = ((
d©a
[0] << 1) & 0xff) | ((data[1] >> 7) & 1),

192 
‰a˘hi7
 = 
d©a
[1] & 0x7f;

193 
Flﬂt
 
‰a˘
 = 
‰a˘hi7
 * 65536.0 + 
d©a
[2] * 256.0 + data[3];

196 i‡(!
exp
 && !
‰a˘hi7
 && !
d©a
[2] && !d©a[3]Ë 
sign
 * 0.0;

199 i‡(
exp
 == 255) {

200 i‡(!
‰a˘hi7
 && !
d©a
[2] && !data[3]) {

201 #ifde‡
HUGE_VAL


202 i‡(
sign
 =-1Ë -
HUGE_VAL
;

203  
HUGE_VAL
;

205 
îr
 |
Unsuµ‹ãd
;

206 i‡(
sign
 == -1)  -1.0;

210 #ifde‡
NAN


211  
NAN
;

213 
îr
 |
Unsuµ‹ãd
;

219 i‡(!
exp
)

220  
sign
 * 
	`pow
(2.0f, -126.0fË* 
‰a˘
 *Öow(2.0f, -23.0f);

222  
sign
 * 
	`pow
(2.0f, 
exp
 - 127.0fË* (
‰a˘
 *Öow(2.0f, -23.0f) + 1);

224 
îr
 |
F©Æ
;

226 
	}
}

228 
	gböi°ªam
::
Flﬂt
 
böi°ªam
::
	$õì_doubÀ2Êﬂt
(
Byã
 *
d©a
) {

229 sig√d 
sign
 = 
d©a
[0] >> 7 ? -1 : 1;

230 
exp
 = (()(
d©a
[0] & 0x7f) << 4) | (data[1] >> 4),

231 
‰a˘hi4
 = 
d©a
[1] & 0xf;

232 
Flﬂt
 
‰a˘
 = 
‰a˘hi4
 * 
	`pow
(2.0f, 48.0fË+ 
d©a
[2] *Öow(2.0f, 40.0f) + data[3] *

233 
	`pow
(2.0f, 32.0fË+ 
d©a
[4] *Öow(2.0f, 24.0f) + data[5] *Öow(2.0f, 16.0f) + data[6] *

234 
	`pow
(2.0f, 8.0fË+ 
d©a
[7];

237 i‡(!
exp
 && !
‰a˘hi4
 && !
d©a
[2] && !data[3] && !data[4] && !data[5] &&

238 !
d©a
[6] && !d©a[7]Ë 
sign
 * 0.0;

241 i‡(
exp
 == 2047) {

242 i‡(!
‰a˘hi4
 && !
d©a
[2] && !data[3] && !data[4] && !data[5] && !data[6] && !data[7]) {

243 #ifde‡
HUGE_VAL


244 i‡(
sign
 =-1Ë -
HUGE_VAL
;

245  
HUGE_VAL
;

247 
îr
 |
Unsuµ‹ãd
;

248 i‡(
sign
 == -1)  -1.0;

252 #ifde‡
NAN


253  
NAN
;

255 
îr
 |
Unsuµ‹ãd
;

261 i‡(!
exp
)

262  
sign
 * 
	`pow
(2.0f, -1022.0fË* 
‰a˘
 *Öow(2.0f, -52.0f);

264  
sign
 * 
	`pow
(2.0f, 
exp
 - 1023.0fË* (
‰a˘
 *Öow(2.0f, -52.0f) + 1);

266 
îr
 |
F©Æ
;

268 
	}
}

270 #i‡!
BINIO_WITH_MATH


271 
	gböio
::
Flﬂt
 
böio
::
	$pow
(
Flﬂt
 
ba£
, sig√d 
exp
)

277 
i
;

278 
Flﬂt
 
vÆ
 = 
ba£
;

280 i‡(!
exp
)  1.0;

282 
i
 = 1; i < (
exp
 < 0 ? -exp :Éxp); i++)

283 
vÆ
 *
ba£
;

285 i‡(
exp
 < 0Ë
vÆ
 = 1.0 / val;

287  
vÆ
;

288 
	}
}

291 
	gböi°ªam
::
	$ªadSåög
(*
°r
, 
maxÀn
) {

292 
i
;

294 
i
 = 0; i < 
maxÀn
; i++) {

295 
°r
[
i
] = ()
	`gëByã
();

296 i‡(
îr
) {

297 
°r
[
i
] = '\0';

298  
i
;

302  
maxÀn
;

303 
	}
}

305 
	gböi°ªam
::
	$ªadSåög
(*
°r
, 
maxÀn
,

306 c⁄° 
dñim
) {

307 
i
;

309 
i
 = 0; i < 
maxÀn
; i++) {

310 
°r
[
i
] = ()
	`gëByã
();

311 i‡(
°r
[
i
] =
dñim
 || 
îr
) {

312 
°r
[
i
] = '\0';

313  
i
;

317 
°r
[
maxÀn
] = '\0';

318  
maxÀn
;

319 
	}
}

321 #i‡
BINIO_ENABLE_STRING


322 
	g°d
::
°rög
 
böi°ªam
::
	$ªadSåög
(c⁄° 
dñim
) {

323 
buf
[
STRINGBUFSIZE
 + 1];

324 
°d
::
°rög
 
ãmp°r
;

325 
ªad
;

328 
ªad
 = 
	`ªadSåög
(
buf
, 
STRINGBUFSIZE
, 
dñim
);

329 
ãmp°r
.
	`≠≥nd
(
buf
, 
ªad
);

330 } 
ªad
 =
STRINGBUFSIZE
);

332  
ãmp°r
;

333 
	}
}

336 
	gböi°ªam
::
I¡
 
böi°ªam
::
	$≥ekI¡
(
size
) {

337 
I¡
 
vÆ
 = 
	`ªadI¡
(
size
);

338 i‡(!
îr
Ë
	`£ek
(-()
size
, 
Add
);

339  
vÆ
;

340 
	}
}

342 
	gböi°ªam
::
Flﬂt
 
böi°ªam
::
	$≥ekFlﬂt
(
FTy≥
 
·
) {

343 
Flﬂt
 
vÆ
 = 
	`ªadFlﬂt
(
·
);

345 i‡(!
îr
)

346 
·
) {

347 
SögÀ
:

348 
	`£ek
(-4, 
Add
);

350 
DoubÀ
:

351 
	`£ek
(-8, 
Add
);

355  
vÆ
;

356 
	}
}

358 
boﬁ
 
	gböi°ªam
::
	$©eof
() {

359 
Eº‹
 
ﬁdîr
 = 
îr
;

360 
boﬁ
 
eof_thí
;

362 
	`≥ekI¡
(1);

363 
eof_thí
 = 
	`eof
();

364 
îr
 = 
ﬁdîr
;

365  
eof_thí
;

366 
	}
}

368 
	gböi°ªam
::
	$ign‹e
(
amou¡
) {

369 
i
;

371 
i
 = 0; i < 
amou¡
; i++)

372 
	`gëByã
();

373 
	}
}

377 
	gböo°ªam
::
	$böo°ªam
() {

378 
	}
}

380 
böo°ªam
::~
	$böo°ªam
() {

381 
	}
}

383 
böo°ªam
::
	$wrôeI¡
(
I¡
 
vÆ
, 
size
) {

384 
i
;

387 i‡(
size
 > (
I¡
)) {

388 
îr
 |
Unsuµ‹ãd
;

392 
i
 = 0; i < 
size
; i++) {

393 i‡(
	`gëFœg
(
BigEndün
))

394 
	`putByã
((
vÆ
 >> (
size
 - 
i
 - 1) * 8) & 0xff);

396 
	`putByã
(
vÆ
 & 0xff);

397 
vÆ
 >>= 8;

400 
	}
}

402 
	gböo°ªam
::
	$wrôeFlﬂt
(
Flﬂt
 
f
, 
FTy≥
 
·
) {

403 i‡(
	`gëFœg
(
FlﬂtIEEE
)) {

404 
i
, 
size
 = 0;

405 
Byã
 *
out
 = 
NULL
;

406 
boﬁ
 
sw≠
;

408 i‡(
sy°em_Êags
 & 
FlﬂtIEEE
) {

410 
outf
 = 
f
;

411 
outd
 = 
f
;

414 
sw≠
 = 
	`gëFœg
(
BigEndün
Ë^ (
sy°em_Êags
 & BigEndian);

417 
·
) {

418 
SögÀ
:

419 
size
 = 4;

420 
out
 = (
Byã
 *)&
outf
;

422 
DoubÀ
:

423 
size
 = 8;

424 
out
 = (
Byã
 *)&
outd
;

428 #i‡
BINIO_WITH_MATH


430 
Byã
 
buf
[8];

434 
sw≠
 = !
	`gëFœg
(
BigEndün
);

437 
·
) {

438 
SögÀ
:

439 
size
 = 4;

440 
	`Êﬂt2õì_sögÀ
(
f
, 
buf
);

442 
DoubÀ
:

443 
size
 = 8;

444 
	`Êﬂt2õì_doubÀ
(
f
, 
buf
);

448 
out
 = 
buf
;

451 
îr
 |
Unsuµ‹ãd
;

457 i‡(
sw≠
Ë
out
 +
size
 - 1;

458 
i
 = 0; i < 
size
; i++) {

459 
	`putByã
(*
out
);

460 i‡(
sw≠
Ë
out
--;

461 
out
++;

468 
îr
 |
Unsuµ‹ãd
;

469 
	}
}

471 #ifde‡
BINIO_WITH_MATH


501 #ifde‡
≠∂ec


502 
	#FlﬂtToUnsig√d
(
f
Ë(()(f))

	)

504 
	#FlﬂtToUnsig√d
(
f
Ë(()((()((fË- 2147483648.0)Ë+ 2147483647L + 1))

	)

507 
	#SEXP_MAX
 255

	)

508 
	#SEXP_OFFSET
 127

	)

509 
	#SEXP_SIZE
 8

	)

510 
	#SEXP_POSITION
 (32-
SEXP_SIZE
-1)

	)

512 
	gböo°ªam
::
	$Êﬂt2õì_sögÀ
(
Flﬂt
 
num
, 
Byã
 *
byãs
) {

513 
sign
;

514 
bôs
;

516 i‡(
num
 < 0) {

517 
sign
 = 0x80000000;

518 
num
 *= -1;

520 
sign
 = 0;

523 i‡(
num
 == 0) {

524 
bôs
 = 0;

526 
Flﬂt
 
fM™t
;

527 
exp⁄
;

529 
fM™t
 = 
	`‰exp
(
num
, &
exp⁄
);

531 i‡((
exp⁄
 > (
SEXP_MAX
-
SEXP_OFFSET
+1)Ë|| !(
fM™t
 < 1)) {

533 
bôs
 = 
sign
 | 0x7F800000;

537 
m™tisß
;

539 i‡(
exp⁄
 < -(
SEXP_OFFSET
-2)) {

540 
shi·
 = (
SEXP_POSITION
+1Ë+ (
SEXP_OFFSET
-2Ë+ 
exp⁄
;

541 i‡(
shi·
 < 0) {

542 
bôs
 = 
sign
;

544 
m™tisß
 = ()(
fM™t
 * (1L << 
shi·
));

545 
bôs
 = 
sign
 | 
m™tisß
;

550 
m™tisß
 = ()
	`Êo‹
(
fM™t
 * (1L << (
SEXP_POSITION
+1)));

551 
m™tisß
 -(1L << 
SEXP_POSITION
);

552 
bôs
 = 
sign
 | (()((
exp⁄
 + 
SEXP_OFFSET
 - 1)Ë<< 
SEXP_POSITION
Ë| 
m™tisß
;

557 
byãs
[0] = 
bôs
 >> 24;

558 
byãs
[1] = 
bôs
 >> 16;

559 
byãs
[2] = 
bôs
 >> 8;

560 
byãs
[3] = 
bôs
;

561 
	}
}

563 
	#DEXP_MAX
 2047

	)

564 
	#DEXP_OFFSET
 1023

	)

565 
	#DEXP_SIZE
 11

	)

566 
	#DEXP_POSITION
 (32-
DEXP_SIZE
-1)

	)

568 
	gböo°ªam
::
	$Êﬂt2õì_doubÀ
(
Flﬂt
 
num
, 
Byã
 *
byãs
) {

569 
sign
;

570 
fú°
, 
£c⁄d
;

572 i‡(
num
 < 0) {

573 
sign
 = 0x80000000;

574 
num
 *= -1;

576 
sign
 = 0;

579 i‡(
num
 == 0) {

580 
fú°
 = 0;

581 
£c⁄d
 = 0;

583 
Flﬂt
 
fM™t
, 
fsM™t
;

584 
exp⁄
;

586 
fM™t
 = 
	`‰exp
(
num
, &
exp⁄
);

588 i‡((
exp⁄
 > (
DEXP_MAX
-
DEXP_OFFSET
+1)Ë|| !(
fM™t
 < 1)) {

590 
fú°
 = 
sign
 | 0x7FF00000;

591 
£c⁄d
 = 0;

595 
m™tisß
;

597 i‡(
exp⁄
 < -(
DEXP_OFFSET
-2)) {

598 
shi·
 = (
DEXP_POSITION
+1Ë+ (
DEXP_OFFSET
-2Ë+ 
exp⁄
;

599 i‡(
shi·
 < 0) {

600 
fú°
 = 
sign
;

601 
shi·
 += 32;

602 i‡(
shi·
 < 0) {

603 
£c⁄d
 = 0;

605 
£c⁄d
 = 
	`FlﬂtToUnsig√d
(
	`Êo‹
(
	`ldexp
(
fM™t
, 
shi·
)));

608 
fsM™t
 = 
	`ldexp
(
fM™t
, 
shi·
);

609 
m™tisß
 = ()
	`Êo‹
(
fsM™t
);

610 
fú°
 = 
sign
 | 
m™tisß
;

611 
£c⁄d
 = 
	`FlﬂtToUnsig√d
(
	`Êo‹
(
	`ldexp
(
fsM™t
 - 
m™tisß
, 32)));

616 
fsM™t
 = 
	`ldexp
(
fM™t
, 
DEXP_POSITION
+1);

617 
m™tisß
 = ()
	`Êo‹
(
fsM™t
);

618 
m™tisß
 -(1L << 
DEXP_POSITION
);

619 
fsM™t
 -(1L << 
DEXP_POSITION
);

620 
fú°
 = 
sign
 | (()((
exp⁄
 + 
DEXP_OFFSET
 - 1)Ë<< 
DEXP_POSITION
Ë| 
m™tisß
;

621 
£c⁄d
 = 
	`FlﬂtToUnsig√d
(
	`Êo‹
(
	`ldexp
(
fsM™t
 - 
m™tisß
, 32)));

626 
byãs
[0] = 
fú°
 >> 24;

627 
byãs
[1] = 
fú°
 >> 16;

628 
byãs
[2] = 
fú°
 >> 8;

629 
byãs
[3] = 
fú°
;

630 
byãs
[4] = 
£c⁄d
 >> 24;

631 
byãs
[5] = 
£c⁄d
 >> 16;

632 
byãs
[6] = 
£c⁄d
 >> 8;

633 
byãs
[7] = 
£c⁄d
;

634 
	}
}

638 
	gböo°ªam
::
	$wrôeSåög
(c⁄° *
°r
, 
amou¡
) {

639 
i
;

641 i‡(!
amou¡
Ëamou¡ = 
	`°æí
(
°r
);

643 
i
 = 0; i < 
amou¡
; i++) {

644 
	`putByã
(
°r
[
i
]);

645 i‡(
îr
Ë 
i
;

648  
amou¡
;

649 
	}
}

651 #i‡
BINIO_ENABLE_STRING


652 
	gböo°ªam
::
	$wrôeSåög
(c⁄° 
°d
::
°rög
 &
°r
) {

653  
	`wrôeSåög
(
°r
.
	`c_°r
());

654 
	}
}

	@adplug/binio.h

20 #i‚de‡
H_BINIO_BINIO


21 
	#H_BINIO_BINIO


	)

23 #ifde‡
_MSC_VER


24 #¥agm®
w¨nög
 (
dißbÀ
:4244)

25 #¥agm®
w¨nög
 (
dißbÀ
:4996)

26 #¥agm®
w¨nög
 (
dißbÀ
:4267)

35 
	#BINIO_ENABLE_STRING
 1

	)

41 
	#BINIO_ENABLE_IOSTREAM
 1

	)

47 
	#BINIO_ISO_STDLIB
 1

	)

61 #ifde‡
_MSC_VER


62 #¥agm®
w¨nög
(
dißbÀ
: 4250)

64 
	#__öt64
 

	)

67 #i‡
BINIO_ENABLE_STRING


68 
	~<°rög
>

71 ˛as†
	cböio
 {

72 
	mpublic
:

74 
BigEndün
 = 1 << 0,

75 
	mFlﬂtIEEE
 = 1 << 1

76 } 
	tFœg
;

79 
	gNoEº‹
 = 0,

80 
	gF©Æ
 = 1 << 0,

81 
	gUnsuµ‹ãd
 = 1 << 1,

82 
	gNŸO≥n
 = 1 << 2,

83 
	gDíõd
 = 1 << 3,

84 
	gNŸFound
 = 1 << 4,

85 
	gEof
 = 1 << 5

86 } 
	tEº‹Code
;

88 íum { 
	gSë
, 
	gAdd
, 
	gEnd
 } 
	tOff£t
;

89 íum { 
	gSögÀ
, 
	gDoubÀ
 } 
	tFTy≥
;

90 
	tEº‹
;

92 
böio
();

93 
	gvútuÆ
 ~
böio
();

95 
£tFœg
(
Fœg
 
f
, 
boﬁ
 
£t
 = 
åue
);

96 
boﬁ
 
gëFœg
(
Fœg
 
f
);

98 
Eº‹
 
îr‹
();

99 
boﬁ
 
eof
();

101 
vútuÆ
 
£ek
(, 
Off£t
 = 
Së
) = 0;

102 
vútuÆ
 
pos
() = 0;

104 
	g¥Ÿe˘ed
:

105 
__öt64
 
	tI¡
;

106 
	tFlﬂt
;

107 
	tByã
;

109 
	tFœgs
;

111 
Fœgs
 
	gmy_Êags
;

112 c⁄° 
Fœgs
 
	gsy°em_Êags
;

113 
Eº‹
 
	gîr
;

116 #i‡!
BINIO_WITH_MATH


117 
Flﬂt
 
pow
(Flﬂà
ba£
, sig√d 
exp
);

118 
Flﬂt
 
	$ldexp
(
Flﬂt
 
x
, sig√d 
exp
) {

119  
x
 * 
	`pow
(2, 
exp
);

120 
	}
}

123 
	g¥iv©e
:

124 c⁄° 
Fœgs
 
dëe˘_sy°em_Êags
();

127 ˛as†
	cböi°ªam
: 
vútuÆ
 
public
 
böio
 {

128 
public
:

129 
böi°ªam
();

130 
	mvútuÆ
 ~
böi°ªam
();

132 
I¡
 
ªadI¡
(
size
);

133 
Flﬂt
 
ªadFlﬂt
(
FTy≥
 
·
);

134 
ªadSåög
(*
°r
, 
amou¡
);

135 
ªadSåög
(*
°r
, 
maxÀn
, c⁄° 
dñim
);

136 #i‡
BINIO_ENABLE_STRING


137 
	m°d
::
°rög
 
ªadSåög
(c⁄° 
dñim
 = '\0');

140 
I¡
 
≥ekI¡
(
size
);

141 
Flﬂt
 
≥ekFlﬂt
(
FTy≥
 
·
);

143 
boﬁ
 
©eof
();

144 
ign‹e
(
amou¡
 = 1);

146 
	m¥Ÿe˘ed
:

147 
vútuÆ
 
Byã
 
gëByã
() = 0;

149 
	m¥iv©e
:

150 
Flﬂt
 
õì_sögÀ2Êﬂt
(
Byã
 *
d©a
);

151 
Flﬂt
 
õì_doubÀ2Êﬂt
(
Byã
 *
d©a
);

154 ˛as†
	cböo°ªam
: 
vútuÆ
 
public
 
böio
 {

155 
public
:

156 
böo°ªam
();

157 
	mvútuÆ
 ~
böo°ªam
();

159 
wrôeI¡
(
I¡
 
vÆ
, 
size
);

160 
wrôeFlﬂt
(
Flﬂt
 
f
, 
FTy≥
 
·
);

161 
wrôeSåög
(c⁄° *
°r
, 
amou¡
 = 0);

162 #i‡
BINIO_ENABLE_STRING


163 
wrôeSåög
(c⁄° 
°d
::
°rög
 &
°r
);

166 
	m¥Ÿe˘ed
:

167 
vútuÆ
 
putByã
(
Byã
) = 0;

169 
	m¥iv©e
:

170 
Êﬂt2õì_sögÀ
(
Flﬂt
 
f
, 
Byã
 *
d©a
);

171 
Êﬂt2õì_doubÀ
(
Flﬂt
 
f
, 
Byã
 *
d©a
);

174 
˛ass
 
	gbö°ªam
: 
public
 
böi°ªam
,Öubli¯
	gböo°ªam
 {

175 
	gpublic
:

176 
bö°ªam
();

177 
	gvútuÆ
 ~
bö°ªam
();

	@adplug/demuopl.h

23 #i‚de‡
H_ADPLUG_DEMUOPL


24 
	#H_ADPLUG_DEMUOPL


	)

26 
	~"›l.h
"

27 
	~"dosbox_›l.h
"

29 
	~<as£π.h
>

31 ˛as†
	cCDemu›l
: 
public
 
C›l


33 
public
:

34 
	$CDemu›l
(
øã
, 
boﬁ
 
bô16
, boﬁ 
u£°îeo
)

35 :
	`u£16bô
(
bô16
), 
	$°îeo
(
u£°îeo
)

37 
	`adlib_öô
(
øã
);

38 
cuºTy≥
 = 
TYPE_OPL2
;

41 
	$upd©e
(*
buf
, 
ßm∂es
)

43 *
mixbuf0
 = 
√w
 [
ßm∂es
*2],*
mixbuf1
 =Çew [samples*2];

44 *
outbuf
;

45 if(
u£16bô
Ë
outbuf
 = 
buf
;

46 
outbuf
 = 
mixbuf1
;

49 
	`adlib_gëßm∂e
(
outbuf
, 
ßm∂es
);

50 if(
°îeo
)

51 
i
=
ßm∂es
-1;i>=0;i--) {

52 
outbuf
[
i
*2] = outbuf[i];

53 
outbuf
[
i
*2+1] = outbuf[i];

56 if(!
u£16bô
)

57 
i
=0;i<(
°îeo
 ? 
ßm∂es
*2 : samples);i++)

58 ((*)
buf
)[
i
] = (
outbuf
[i] >> 8) ^ 0x80;

59 
dñëe
[] 
mixbuf0
; dñëe[] 
mixbuf1
;

60 
	}
}

63 
	$wrôe
(
ªg
, 
vÆ
)

65 if(
cuºChù
 == 0)

66 
	`adlib_wrôe
(
ªg
, 
vÆ
);

67 
	}
};

69 
	$öô
(Ë{
	}
};

71 
	g¥Ÿe˘ed
:

72 
boﬁ
 
u£16bô
,
	g°îeo
;

	@adplug/dosbox_opl.cpp

28 
	~<m©h.h
>

29 
	~<°dlib.h
>

30 
	~<°rög.h
>

31 
	~"dosbox_›l.h
"

34 
Bôu
 
	gchù_num
;

35 
›_ty≥
 
	g›
[
MAXOPERATORS
];

37 
Bôs
 
	göt_ßm∂î©e
;

39 
Bô8u
 
	g°©us
;

40 
Bô32u
 
	g›l_ödex
;

41 #i‡
deföed
(
OPLTYPE_IS_OPL3
)

42 
Bô8u
 
	gadlibªg
[512];

43 
Bô8u
 
	gwave_£l
[44];

45 
Bô8u
 
	gadlibªg
[256];

46 
Bô8u
 
	gwave_£l
[22];

51 
Bô32u
 
	gvibèb_pos
;

52 
Bô32u
 
	gvibèb_add
;

53 
Bô32u
 
	gåemèb_pos
;

54 
Bô32u
 
	gåemèb_add
;

58 
Êty≥
 
	gªcùßmp
;

59 
Bô16s
 
	gwavèbÀ
[
WAVEPREC
*3];

62 
Bô32s
 
	gvib_èbÀ
[
VIBTAB_SIZE
];

63 
Bô32s
 
	gåem_èbÀ
[
TREMTAB_SIZE
*2];

65 
Bô32s
 
	gvibvÆ_c⁄°
[
BLOCKBUF_SIZE
];

66 
Bô32s
 
	gåemvÆ_c⁄°
[
BLOCKBUF_SIZE
];

69 
Bô32s
 
	gvibvÆ_v¨1
[
BLOCKBUF_SIZE
];

70 
Bô32s
 
	gvibvÆ_v¨2
[
BLOCKBUF_SIZE
];

75 
Bô32s
 *
	gvibvÆ1
, *
	gvibvÆ2
, *
	gvibvÆ3
, *
	gvibvÆ4
;

76 
Bô32s
 *
	gåemvÆ1
, *
	gåemvÆ2
, *
	gåemvÆ3
, *
	gåemvÆ4
;

80 c⁄° 
Êty≥
 
	gk¶mul
[4] = {

85 c⁄° 
Êty≥
 
	g‰qmul_èb
[16] = {

89 
Êty≥
 
	g‰qmul
[16];

92 
Bô8u
 
	gk¶ev
[8][16];

95 c⁄° 
Bô8u
 
	gmoduœt‹ba£
[9] = {

102 #i‡
deföed
(
OPLTYPE_IS_OPL3
)

103 c⁄° 
Bô8u
 
	gªgba£2mod›
[44] = {

107 c⁄° 
Bô8u
 
	gªgba£2›
[44] = {

112 c⁄° 
Bô8u
 
	gªgba£2mod›
[44] = {

116 c⁄° 
Bô8u
 
	gªgba£2›
[44] = {

124 
Bô32u
 
	gwavef‹m
[8] = {

125 
WAVEPREC
,

126 
WAVEPREC
>>1,

127 
WAVEPREC
,

128 (
WAVEPREC
*3)>>2,

131 (
WAVEPREC
*5)>>2,

132 
WAVEPREC
<<1

136 
Bô32u
 
	gwavemask
[8] = {

137 
WAVEPREC
-1,

138 
WAVEPREC
-1,

139 (
WAVEPREC
>>1)-1,

140 (
WAVEPREC
>>1)-1,

141 
WAVEPREC
-1,

142 ((
WAVEPREC
*3)>>2)-1,

143 
WAVEPREC
>>1,

144 
WAVEPREC
-1

148 
Bô32u
 
	gwave°¨t
[8] = {

150 
WAVEPREC
>>1,

152 
WAVEPREC
>>2,

156 
WAVEPREC
>>3

160 
Êty≥
 
	g©èckc⁄°
[4] = {

161 (
Êty≥
)(1/2.82624),

162 (
Êty≥
)(1/2.25280),

163 (
Êty≥
)(1/1.88416),

164 (
Êty≥
)(1/1.59744)

166 
Êty≥
 
	gde¸ñc⁄°
[4] = {

167 (
Êty≥
)(1/39.28064),

168 (
Êty≥
)(1/31.41608),

169 (
Êty≥
)(1/26.17344),

170 (
Êty≥
)(1/22.44608)

173 
Bô32u
 
	ggíî©‹_add
;

175 
	$›î©‹_adv™˚
(
›_ty≥
* 
›_±
, 
Bô32s
 
vib
) {

176 
›_±
->
wÂos
 = op_±->
tcou¡
;

179 
›_±
->
tcou¡
 +›_±->
töc
;

180 
›_±
->
tcou¡
 +(
Bô32s
)(›_±->
töc
)*
vib
/
FIXEDPT
;

182 
›_±
->
gíî©‹_pos
 +
gíî©‹_add
;

183 
	}
}

185 
	$›î©‹_adv™˚_drums
(
›_ty≥
* 
›_±1
, 
Bô32s
 
vib1
, op_ty≥* 
›_±2
, Bô32†
vib2
, op_ty≥* 
›_±3
, Bô32†
vib3
) {

186 
Bô32u
 
c1
 = 
›_±1
->
tcou¡
/
FIXEDPT
;

187 
Bô32u
 
c3
 = 
›_±3
->
tcou¡
/
FIXEDPT
;

188 
Bô32u
 
pha£bô
 = (((
c1
 & 0x88Ë^ ((c1<<5Ë& 0x80)Ë| ((
c3
 ^ (c3<<2)) & 0x20)) ? 0x02 : 0x00;

190 
Bô32u
 
noi£bô
 = 
	`ønd
()&1;

192 
Bô32u
 
¢¨e_pha£_bô
 = (((
Bôu
)((
›_±1
->
tcou¡
/
FIXEDPT
) / 0x100))&1);

195 
Bô32u
 
öâm
 = (
pha£bô
<<8Ë| (0x34<<’ha£bô ^ (
noi£bô
<<1)));

196 
›_±1
->
wÂos
 = 
öâm
*
FIXEDPT
;

198 
›_±1
->
tcou¡
 +›_±1->
töc
;

199 
›_±1
->
tcou¡
 +(
Bô32s
)(›_±1->
töc
)*
vib1
/
FIXEDPT
;

200 
›_±1
->
gíî©‹_pos
 +
gíî©‹_add
;

203 
öâm
 = ((1+
¢¨e_pha£_bô
Ë^ 
noi£bô
)<<8;

204 
›_±2
->
wÂos
 = 
öâm
*
FIXEDPT
;

206 
›_±2
->
tcou¡
 +›_±2->
töc
;

207 
›_±2
->
tcou¡
 +(
Bô32s
)(›_±2->
töc
)*
vib2
/
FIXEDPT
;

208 
›_±2
->
gíî©‹_pos
 +
gíî©‹_add
;

211 
öâm
 = (1+
pha£bô
)<<8;

212 
›_±3
->
wÂos
 = 
öâm
*
FIXEDPT
;

214 
›_±3
->
tcou¡
 +›_±3->
töc
;

215 
›_±3
->
tcou¡
 +(
Bô32s
)(›_±3->
töc
)*
vib3
/
FIXEDPT
;

216 
›_±3
->
gíî©‹_pos
 +
gíî©‹_add
;

217 
	}
}

222 
	$›î©‹_ouçut
(
›_ty≥
* 
›_±
, 
Bô32s
 
moduœt‹
, Bô32†
åem
) {

223 i‡(
›_±
->
›_°©e
 !
OF_TYPE_OFF
) {

224 
›_±
->
œ°cvÆ
 = op_±->
cvÆ
;

225 
Bô32u
 
i
 = (Bô32u)((
›_±
->
wÂos
+
moduœt‹
)/
FIXEDPT
);

232 
›_±
->
cvÆ
 = (
Bô32s
)(›_±->
°ï_amp
*›_±->
vﬁ
*›_±->
cur_wf‹m
[
i
&›_±->
cur_wmask
]*
åem
/16.0);

234 
	}
}

238 
	$›î©‹_off
(
›_ty≥
* ) {

239 
	}
}

243 
	$›î©‹_su°aö
(
›_ty≥
* 
›_±
) {

244 
Bô32u
 
num_°ïs_add
 = 
›_±
->
gíî©‹_pos
/
FIXEDPT
;

245 
Bô32u
 
˘
=0; ct<
num_°ïs_add
; ct++) {

246 
›_±
->
cur_ív_°ï
++;

248 
›_±
->
gíî©‹_pos
 -
num_°ïs_add
*
FIXEDPT
;

249 
	}
}

252 
	$›î©‹_ªÀa£
(
›_ty≥
* 
›_±
) {

254 i‡(
›_±
->
amp
 > 0.00000001) {

256 
›_±
->
amp
 *›_±->
ªÀa£mul
;

259 
Bô32u
 
num_°ïs_add
 = 
›_±
->
gíî©‹_pos
/
FIXEDPT
;

260 
Bô32u
 
˘
=0; ct<
num_°ïs_add
; ct++) {

261 
›_±
->
cur_ív_°ï
++;

262 i‡((
›_±
->
cur_ív_°ï
 & op_±->
ív_°ï_r
)==0) {

263 i‡(
›_±
->
amp
 <= 0.00000001) {

265 
›_±
->
amp
 = 0.0;

266 i‡(
›_±
->
›_°©e
 =
OF_TYPE_REL
) {

267 
›_±
->
›_°©e
 = 
OF_TYPE_OFF
;

270 
›_±
->
°ï_amp
 = op_±->
amp
;

273 
›_±
->
gíî©‹_pos
 -
num_°ïs_add
*
FIXEDPT
;

274 
	}
}

278 
	$›î©‹_deˇy
(
›_ty≥
* 
›_±
) {

279 i‡(
›_±
->
amp
 > op_±->
su°aö_Àvñ
) {

281 
›_±
->
amp
 *›_±->
deˇymul
;

284 
Bô32u
 
num_°ïs_add
 = 
›_±
->
gíî©‹_pos
/
FIXEDPT
;

285 
Bô32u
 
˘
=0; ct<
num_°ïs_add
; ct++) {

286 
›_±
->
cur_ív_°ï
++;

287 i‡((
›_±
->
cur_ív_°ï
 & op_±->
ív_°ï_d
)==0) {

288 i‡(
›_±
->
amp
 <›_±->
su°aö_Àvñ
) {

290 i‡(
›_±
->
sus_kìp
) {

292 
›_±
->
›_°©e
 = 
OF_TYPE_SUS
;

293 
›_±
->
amp
 = op_±->
su°aö_Àvñ
;

296 
›_±
->
›_°©e
 = 
OF_TYPE_SUS_NOKEEP
;

299 
›_±
->
°ï_amp
 = op_±->
amp
;

302 
›_±
->
gíî©‹_pos
 -
num_°ïs_add
*
FIXEDPT
;

303 
	}
}

307 
	$›î©‹_©èck
(
›_ty≥
* 
›_±
) {

308 
›_±
->
amp
 = ((›_±->
a3
*›_±->am∞+ op_±->
a2
)*›_±->am∞+ op_±->
a1
)*›_±->am∞+ op_±->
a0
;

310 
Bô32u
 
num_°ïs_add
 = 
›_±
->
gíî©‹_pos
/
FIXEDPT
;

311 
Bô32u
 
˘
=0; ct<
num_°ïs_add
; ct++) {

312 
›_±
->
cur_ív_°ï
++;

313 i‡((
›_±
->
cur_ív_°ï
 & op_±->
ív_°ï_a
)==0) {

314 i‡(
›_±
->
amp
 > 1.0) {

316 
›_±
->
›_°©e
 = 
OF_TYPE_DEC
;

317 
›_±
->
amp
 = 1.0;

318 
›_±
->
°ï_amp
 = 1.0;

320 
›_±
->
°ï_skù_pos_a
 <<= 1;

321 i‡(
›_±
->
°ï_skù_pos_a
==0) op_pt->step_skip_pos_a = 1;

322 i‡(
›_±
->
°ï_skù_pos_a
 & op_±->
ív_°ï_skù_a
) {

323 
›_±
->
°ï_amp
 = op_±->
amp
;

327 
›_±
->
gíî©‹_pos
 -
num_°ïs_add
*
FIXEDPT
;

328 
	}
}

331 (*
	t›ty≥_Âå
)(
	t›_ty≥
*);

333 
›ty≥_Âå
 
›funcs
[6] = {

334 
›î©‹_©èck
,

335 
›î©‹_deˇy
,

336 
›î©‹_ªÀa£
,

337 
›î©‹_su°aö
,

338 
›î©‹_ªÀa£
,

339 
›î©‹_off


340 
	}
};

342 
	$ch™ge_©èckøã
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
) {

343 
Bôs
 
©èckøã
 = 
adlibªg
[
ARC_ATTR_DECR
+
ªgba£
]>>4;

344 i‡(
©èckøã
) {

345 
Êty≥
 
f
 = (Êty≥)(
	`pow
(
FL2
,(Êty≥)
©èckøã
+(
›_±
->
toff
>>2)-1)*
©èckc⁄°
[›_±->toff&3]*
ªcùßmp
);

347 
›_±
->
a0
 = (
Êty≥
)(0.0377*
f
);

348 
›_±
->
a1
 = (
Êty≥
)(10.73*
f
+1);

349 
›_±
->
a2
 = (
Êty≥
)(-17.57*
f
);

350 
›_±
->
a3
 = (
Êty≥
)(7.42*
f
);

352 
Bôs
 
°ï_skù
 = 
©èckøã
*4 + 
›_±
->
toff
;

353 
Bôs
 
°ïs
 = 
°ï_skù
 >> 2;

354 
›_±
->
ív_°ï_a
 = (1<<(
°ïs
<=12?12-steps:0))-1;

356 
Bôs
 
°ï_num
 = (
°ï_skù
<=48)?(4-(step_skip&3)):0;

357 
Bô8u
 
°ï_skù_mask
[5] = {0xff, 0xfe, 0xee, 0xba, 0xaa};

358 
›_±
->
ív_°ï_skù_a
 = 
°ï_skù_mask
[
°ï_num
];

360 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

361 i‡(
°ï_skù
>=60) {

363 i‡(
°ï_skù
>=62) {

365 
›_±
->
a0
 = (
Êty≥
)(2.0);

366 
›_±
->
a1
 = (
Êty≥
)(0.0);

367 
›_±
->
a2
 = (
Êty≥
)(0.0);

368 
›_±
->
a3
 = (
Êty≥
)(0.0);

372 
›_±
->
a0
 = 0.0;

373 
›_±
->
a1
 = 1.0;

374 
›_±
->
a2
 = 0.0;

375 
›_±
->
a3
 = 0.0;

376 
›_±
->
ív_°ï_a
 = 0;

377 
›_±
->
ív_°ï_skù_a
 = 0;

379 
	}
}

381 
	$ch™ge_deˇyøã
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
) {

382 
Bôs
 
deˇyøã
 = 
adlibªg
[
ARC_ATTR_DECR
+
ªgba£
]&15;

384 i‡(
deˇyøã
) {

385 
Êty≥
 
f
 = (Êty≥)(-7.4493*
de¸ñc⁄°
[
›_±
->
toff
&3]*
ªcùßmp
);

386 
›_±
->
deˇymul
 = (
Êty≥
)(
	`pow
(
FL2
,
f
*pow(FL2,(Êty≥)(
deˇyøã
+(›_±->
toff
>>2)))));

387 
Bôs
 
°ïs
 = (
deˇyøã
*4 + 
›_±
->
toff
) >> 2;

388 
›_±
->
ív_°ï_d
 = (1<<(
°ïs
<=12?12-steps:0))-1;

390 
›_±
->
deˇymul
 = 1.0;

391 
›_±
->
ív_°ï_d
 = 0;

393 
	}
}

395 
	$ch™ge_ªÀa£øã
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
) {

396 
Bôs
 
ªÀa£øã
 = 
adlibªg
[
ARC_SUSL_RELR
+
ªgba£
]&15;

398 i‡(
ªÀa£øã
) {

399 
Êty≥
 
f
 = (Êty≥)(-7.4493*
de¸ñc⁄°
[
›_±
->
toff
&3]*
ªcùßmp
);

400 
›_±
->
ªÀa£mul
 = (
Êty≥
)(
	`pow
(
FL2
,
f
*pow(FL2,(Êty≥)(
ªÀa£øã
+(›_±->
toff
>>2)))));

401 
Bôs
 
°ïs
 = (
ªÀa£øã
*4 + 
›_±
->
toff
) >> 2;

402 
›_±
->
ív_°ï_r
 = (1<<(
°ïs
<=12?12-steps:0))-1;

404 
›_±
->
ªÀa£mul
 = 1.0;

405 
›_±
->
ív_°ï_r
 = 0;

407 
	}
}

409 
	$ch™ge_su°aöÀvñ
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
) {

410 
Bôs
 
su°aöÀvñ
 = 
adlibªg
[
ARC_SUSL_RELR
+
ªgba£
]>>4;

412 i‡(
su°aöÀvñ
<15) {

413 
›_±
->
su°aö_Àvñ
 = (
Êty≥
)(
	`pow
(
FL2
,(Êty≥)
su°aöÀvñ
 * (-
FL05
)));

415 
›_±
->
su°aö_Àvñ
 = 0.0;

417 
	}
}

419 
	$ch™ge_wavef‹m
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
) {

420 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

421 i‡(
ªgba£
>=
ARC_SECONDSET
)Ñegbase -= (ARC_SECONDSET-22);

424 
›_±
->
cur_wmask
 = 
wavemask
[
wave_£l
[
ªgba£
]];

425 
›_±
->
cur_wf‹m
 = &
wavèbÀ
[
wavef‹m
[
wave_£l
[
ªgba£
]]];

427 
	}
}

429 
	$ch™ge_kìpsu°aö
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
) {

430 
›_±
->
sus_kìp
 = (
adlibªg
[
ARC_TVS_KSR_MUL
+
ªgba£
]&0x20)>0;

431 i‡(
›_±
->
›_°©e
==
OF_TYPE_SUS
) {

432 i‡(!
›_±
->
sus_kìp
Ë›_±->
›_°©e
 = 
OF_TYPE_SUS_NOKEEP
;

433 } i‡(
›_±
->
›_°©e
==
OF_TYPE_SUS_NOKEEP
) {

434 i‡(
›_±
->
sus_kìp
Ë›_±->
›_°©e
 = 
OF_TYPE_SUS
;

436 
	}
}

439 
	$ch™ge_vibøto
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
) {

440 
›_±
->
vibøto
 = (
adlibªg
[
ARC_TVS_KSR_MUL
+
ªgba£
]&0x40)!=0;

441 
›_±
->
åemﬁo
 = (
adlibªg
[
ARC_TVS_KSR_MUL
+
ªgba£
]&0x80)!=0;

442 
	}
}

445 
	$ch™ge_„edback
(
Bôu
 
ch™ba£
, 
›_ty≥
* 
›_±
) {

446 
Bôs
 
„edback
 = 
adlibªg
[
ARC_FEEDBACK
+
ch™ba£
]&14;

447 i‡(
„edback
Ë
›_±
->
mfbi
 = (
Bô32s
)(
	`pow
(
FL2
,(
Êty≥
)((feedback>>1)+8)));

448 
›_±
->
mfbi
 = 0;

449 
	}
}

451 
	$ch™ge_‰equícy
(
Bôu
 
ch™ba£
, Bôu 
ªgba£
, 
›_ty≥
* 
›_±
) {

453 
Bô32u
 
‰n
 = ((((Bô32u)
adlibªg
[
ARC_KON_BNUM
+
ch™ba£
])&3)<<8Ë+ (Bô32uÔdlibªg[
ARC_FREQ_NUM
+chanbase];

455 
Bô32u
 
o˘
 = ((((Bô32u)
adlibªg
[
ARC_KON_BNUM
+
ch™ba£
])>>2)&7);

456 
›_±
->
‰eq_high
 = (
Bô32s
)((
‰n
>>7)&7);

459 
Bô32u
 
nŸe_£l
 = (
adlibªg
[8]>>6)&1;

460 
›_±
->
toff
 = ((
‰n
>>9)&(
nŸe_£l
^1)) | ((frn>>8)&note_sel);

461 
›_±
->
toff
 +(
o˘
<<1);

464 i‡(!(
adlibªg
[
ARC_TVS_KSR_MUL
+
ªgba£
]&0x10)Ë
›_±
->
toff
 >>= 2;

467 
›_±
->
töc
 = (
Bô32u
)((((
Êty≥
)(
‰n
<<
o˘
))*
‰qmul
[
adlibªg
[
ARC_TVS_KSR_MUL
+
ªgba£
]&15]));

469 
Êty≥
 
vﬁ_ö
 = (Êty≥)((Êty≥)(
adlibªg
[
ARC_KSL_OUTLEV
+
ªgba£
]&63) +

470 
k¶mul
[
adlibªg
[
ARC_KSL_OUTLEV
+
ªgba£
]>>6]*
k¶ev
[
o˘
][
‰n
>>6]);

471 
›_±
->
vﬁ
 = (
Êty≥
)(
	`pow
(
FL2
,(Êty≥)(
vﬁ_ö
 * -0.125 - 14)));

474 
	`ch™ge_©èckøã
(
ªgba£
,
›_±
);

475 
	`ch™ge_deˇyøã
(
ªgba£
,
›_±
);

476 
	`ch™ge_ªÀa£øã
(
ªgba£
,
›_±
);

477 
	}
}

479 
	$íabÀ_›î©‹
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
, 
Bô32u
 
a˘_ty≥
) {

481 i‡(
›_±
->
a˘_°©e
 =
OP_ACT_OFF
) {

482 
Bôs
 
w£lba£
 = 
ªgba£
;

483 i‡(
w£lba£
>=
ARC_SECONDSET
) wselbase -= (ARC_SECONDSET-22);

485 
›_±
->
tcou¡
 = 
wave°¨t
[
wave_£l
[
w£lba£
]]*
FIXEDPT
;

488 
›_±
->
›_°©e
 = 
OF_TYPE_ATT
;

489 
›_±
->
a˘_°©e
 |
a˘_ty≥
;

491 
	}
}

493 
	$dißbÀ_›î©‹
(
›_ty≥
* 
›_±
, 
Bô32u
 
a˘_ty≥
) {

495 i‡(
›_±
->
a˘_°©e
 !
OP_ACT_OFF
) {

496 
›_±
->
a˘_°©e
 &(~
a˘_ty≥
);

497 i‡(
›_±
->
a˘_°©e
 =
OP_ACT_OFF
) {

498 i‡(
›_±
->
›_°©e
 !
OF_TYPE_OFF
Ë›_±->›_°©ê
OF_TYPE_REL
;

501 
	}
}

503 
	$adlib_öô
(
Bô32u
 
ßm∂î©e
) {

504 
Bôs
 
i
, 
j
, 
o˘
;

506 
öt_ßm∂î©e
 = 
ßm∂î©e
;

508 
gíî©‹_add
 = (
Bô32u
)(
INTFREQU
*
FIXEDPT
/
öt_ßm∂î©e
);

511 
	`mem£t
((*)
adlibªg
,0,(adlibreg));

512 
	`mem£t
((*)
›
,0,(
›_ty≥
)*
MAXOPERATORS
);

513 
	`mem£t
((*)
wave_£l
,0,(wave_sel));

515 
i
=0;i<
MAXOPERATORS
;i++) {

516 
›
[
i
].
›_°©e
 = 
OF_TYPE_OFF
;

517 
›
[
i
].
a˘_°©e
 = 
OP_ACT_OFF
;

518 
›
[
i
].
amp
 = 0.0;

519 
›
[
i
].
°ï_amp
 = 0.0;

520 
›
[
i
].
vﬁ
 = 0.0;

521 
›
[
i
].
tcou¡
 = 0;

522 
›
[
i
].
töc
 = 0;

523 
›
[
i
].
toff
 = 0;

524 
›
[
i
].
cur_wmask
 = 
wavemask
[0];

525 
›
[
i
].
cur_wf‹m
 = &
wavèbÀ
[
wavef‹m
[0]];

526 
›
[
i
].
‰eq_high
 = 0;

528 
›
[
i
].
gíî©‹_pos
 = 0;

529 
›
[
i
].
cur_ív_°ï
 = 0;

530 
›
[
i
].
ív_°ï_a
 = 0;

531 
›
[
i
].
ív_°ï_d
 = 0;

532 
›
[
i
].
ív_°ï_r
 = 0;

533 
›
[
i
].
°ï_skù_pos_a
 = 0;

534 
›
[
i
].
ív_°ï_skù_a
 = 0;

536 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

537 
›
[
i
].
is_4›
 = 
Ál£
;

538 
›
[
i
].
is_4›_©èched
 = 
Ál£
;

539 
›
[
i
].
À·_∑n
 = 1;

540 
›
[
i
].
right_∑n
 = 1;

544 
ªcùßmp
 = 1.0 / (
Êty≥
)
öt_ßm∂î©e
;

545 
i
=15;i>=0;i--) {

546 
‰qmul
[
i
] = (
Êty≥
)(
‰qmul_èb
[i]*
INTFREQU
/(Êty≥)
WAVEPREC
*(Êty≥)
FIXEDPT
*
ªcùßmp
);

549 
°©us
 = 0;

550 
›l_ödex
 = 0;

554 
vib_èbÀ
[0] = 8;

555 
vib_èbÀ
[1] = 4;

556 
vib_èbÀ
[2] = 0;

557 
vib_èbÀ
[3] = -4;

558 
i
=4; i<
VIBTAB_SIZE
; i++Ë
vib_èbÀ
[i] = vib_table[i-4]*-1;

561 
vibèb_add
 = 
°©ic_ˇ°
<
Bô32u
>(
VIBTAB_SIZE
*
FIXEDPT_LFO
/8192*
INTFREQU
/
öt_ßm∂î©e
);

562 
vibèb_pos
 = 0;

564 
i
=0; i<
BLOCKBUF_SIZE
; i++Ë
vibvÆ_c⁄°
[i] = 0;

568 
Bô32s
 
åem_èbÀ_öt
[
TREMTAB_SIZE
];

569 
i
=0; i<14; i++Ë
åem_èbÀ_öt
[i] = i-13;

570 
i
=14; i<41; i++Ë
åem_èbÀ_öt
[i] = -i+14;

571 
i
=41; i<53; i++Ë
åem_èbÀ_öt
[i] = i-40-26;

573 
i
=0; i<
TREMTAB_SIZE
; i++) {

575 
Êty≥
 
åem_vÆ1
=(Êty≥)(((Êty≥)
åem_èbÀ_öt
[
i
])*4.8/26.0/6.0);

576 
Êty≥
 
åem_vÆ2
=(Êty≥)((Êty≥)((
Bô32s
)(
åem_èbÀ_öt
[
i
]/4))*1.2/6.0/6.0);

578 
åem_èbÀ
[
i
] = (
Bô32s
)(
	`pow
(
FL2
,
åem_vÆ1
)*
FIXEDPT
);

579 
åem_èbÀ
[
TREMTAB_SIZE
+
i
] = (
Bô32s
)(
	`pow
(
FL2
,
åem_vÆ2
)*
FIXEDPT
);

583 
åemèb_add
 = (
Bô32u
)((
Êty≥
)
TREMTAB_SIZE
 * 
TREM_FREQ
 * 
FIXEDPT_LFO
 / (Êty≥)
öt_ßm∂î©e
);

584 
åemèb_pos
 = 0;

586 
i
=0; i<
BLOCKBUF_SIZE
; i++Ë
åemvÆ_c⁄°
[i] = 
FIXEDPT
;

589 
Bôu
 
öôfú°ime
 = 0;

590 i‡(!
öôfú°ime
) {

591 
öôfú°ime
 = 1;

594 
i
=0;i<(
WAVEPREC
>>1);i++) {

595 
wavèbÀ
[(
i
<<1Ë+
WAVEPREC
] = (
Bô16s
)(16384*
	`sö
((
Êty≥
)((i<<1Ë)*
PI
*2/WAVEPREC));

596 
wavèbÀ
[(
i
<<1)+1+
WAVEPREC
] = (
Bô16s
)(16384*
	`sö
((
Êty≥
)((i<<1)+1)*
PI
*2/WAVEPREC));

597 
wavèbÀ
[
i
] = wavèbÀ[(i<<1Ë+
WAVEPREC
];

603 
i
=0;i<(
WAVEPREC
>>3);i++) {

604 
wavèbÀ
[
i
+(
WAVEPREC
<<1)] = wavtable[i+(WAVEPREC>>3)]-16384;

605 
wavèbÀ
[
i
+((
WAVEPREC
*17)>>3)] = wavtable[i+(WAVEPREC>>2)]+16384;

609 
k¶ev
[7][0] = 0; kslev[7][1] = 24; kslev[7][2] = 32; kslev[7][3] = 37;

610 
k¶ev
[7][4] = 40; kslev[7][5] = 43; kslev[7][6] = 45; kslev[7][7] = 47;

611 
k¶ev
[7][8] = 48;

612 
i
=9;i<16;i++Ë
k¶ev
[7][i] = (
Bô8u
)(i+41);

613 
j
=6;j>=0;j--) {

614 
i
=0;i<16;i++) {

615 
o˘
 = (
Bôs
)
k¶ev
[
j
+1][
i
]-8;

616 i‡(
o˘
 < 0) oct = 0;

617 
k¶ev
[
j
][
i
] = (
Bô8u
)
o˘
;

622 
	}
}

626 
	$adlib_wrôe
(
Bôu
 
idx
, 
Bô8u
 
vÆ
) {

627 
Bô32u
 
£c⁄d_£t
 = 
idx
&0x100;

628 
adlibªg
[
idx
] = 
vÆ
;

630 
idx
&0xf0) {

631 
ARC_CONTROL
:

633 
idx
) {

639 i‡(
vÆ
&0x80) {

641 
°©us
 &= ~0x60;

643 
°©us
 = 0;

646 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

647 0x04|
ARC_SECONDSET
:

649 
›
[0].
is_4›
 = (
vÆ
&1)>0;

650 
›
[3].
is_4›_©èched
 = op[0].
is_4›
;

651 
›
[1].
is_4›
 = (
vÆ
&2)>0;

652 
›
[4].
is_4›_©èched
 = op[1].
is_4›
;

653 
›
[2].
is_4›
 = (
vÆ
&4)>0;

654 
›
[5].
is_4›_©èched
 = op[2].
is_4›
;

655 
›
[18].
is_4›
 = (
vÆ
&8)>0;

656 
›
[21].
is_4›_©èched
 = op[18].
is_4›
;

657 
›
[19].
is_4›
 = (
vÆ
&16)>0;

658 
›
[22].
is_4›_©èched
 = op[19].
is_4›
;

659 
›
[20].
is_4›
 = (
vÆ
&32)>0;

660 
›
[23].
is_4›_©èched
 = op[20].
is_4›
;

662 0x05|
ARC_SECONDSET
:

672 
ARC_TVS_KSR_MUL
:

673 
ARC_TVS_KSR_MUL
+0x10: {

675 
num
 = 
idx
&7;

676 
Bôu
 
ba£
 = (
idx
-
ARC_TVS_KSR_MUL
)&0xff;

677 i‡((
num
<6Ë&& (
ba£
<22)) {

678 
Bôu
 
mod›
 = 
ªgba£2mod›
[
£c⁄d_£t
?(
ba£
+22):base];

679 
Bôu
 
ªgba£
 = 
ba£
+
£c⁄d_£t
;

680 
Bôu
 
ch™ba£
 = 
£c⁄d_£t
?(
mod›
-18+
ARC_SECONDSET
):modop;

683 
›_ty≥
* 
›_±r
 = &
›
[
mod›
+((
num
<3) ? 0 : 9)];

684 
	`ch™ge_kìpsu°aö
(
ªgba£
,
›_±r
);

685 
	`ch™ge_vibøto
(
ªgba£
,
›_±r
);

689 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

690 i‡((
adlibªg
[0x105]&1Ë&& (
›
[
mod›
].
is_4›_©èched
)) {

692 
	`ch™ge_‰equícy
(
ch™ba£
-3,
ªgba£
,
›_±r
);

694 
	`ch™ge_‰equícy
(
ch™ba£
,
ªgba£
,
›_±r
);

697 
	`ch™ge_‰equícy
(
ch™ba£
,
ba£
,
›_±r
);

702 
ARC_KSL_OUTLEV
:

703 
ARC_KSL_OUTLEV
+0x10: {

705 
num
 = 
idx
&7;

706 
Bôu
 
ba£
 = (
idx
-
ARC_KSL_OUTLEV
)&0xff;

707 i‡((
num
<6Ë&& (
ba£
<22)) {

708 
Bôu
 
mod›
 = 
ªgba£2mod›
[
£c⁄d_£t
?(
ba£
+22):base];

709 
Bôu
 
ch™ba£
 = 
£c⁄d_£t
?(
mod›
-18+
ARC_SECONDSET
):modop;

713 
›_ty≥
* 
›_±r
 = &
›
[
mod›
+((
num
<3) ? 0 : 9)];

714 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

715 
Bôu
 
ªgba£
 = 
ba£
+
£c⁄d_£t
;

716 i‡((
adlibªg
[0x105]&1Ë&& (
›
[
mod›
].
is_4›_©èched
)) {

718 
	`ch™ge_‰equícy
(
ch™ba£
-3,
ªgba£
,
›_±r
);

720 
	`ch™ge_‰equícy
(
ch™ba£
,
ªgba£
,
›_±r
);

723 
	`ch™ge_‰equícy
(
ch™ba£
,
ba£
,
›_±r
);

728 
ARC_ATTR_DECR
:

729 
ARC_ATTR_DECR
+0x10: {

731 
num
 = 
idx
&7;

732 
Bôu
 
ba£
 = (
idx
-
ARC_ATTR_DECR
)&0xff;

733 i‡((
num
<6Ë&& (
ba£
<22)) {

734 
Bôu
 
ªgba£
 = 
ba£
+
£c⁄d_£t
;

737 
›_ty≥
* 
›_±r
 = &
›
[
ªgba£2›
[
£c⁄d_£t
?(
ba£
+22):base]];

738 
	`ch™ge_©èckøã
(
ªgba£
,
›_±r
);

739 
	`ch™ge_deˇyøã
(
ªgba£
,
›_±r
);

743 
ARC_SUSL_RELR
:

744 
ARC_SUSL_RELR
+0x10: {

746 
num
 = 
idx
&7;

747 
Bôu
 
ba£
 = (
idx
-
ARC_SUSL_RELR
)&0xff;

748 i‡((
num
<6Ë&& (
ba£
<22)) {

749 
Bôu
 
ªgba£
 = 
ba£
+
£c⁄d_£t
;

752 
›_ty≥
* 
›_±r
 = &
›
[
ªgba£2›
[
£c⁄d_£t
?(
ba£
+22):base]];

753 
	`ch™ge_ªÀa£øã
(
ªgba£
,
›_±r
);

754 
	`ch™ge_su°aöÀvñ
(
ªgba£
,
›_±r
);

758 
ARC_FREQ_NUM
: {

760 
Bôu
 
ba£
 = (
idx
-
ARC_FREQ_NUM
)&0xff;

761 i‡(
ba£
<9) {

762 
Bôs
 
›ba£
 = 
£c⁄d_£t
?(
ba£
+18):base;

763 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

764 i‡((
adlibªg
[0x105]&1Ë&& 
›
[
›ba£
].
is_4›_©èched
) ;

767 
Bôs
 
modba£
 = 
moduœt‹ba£
[
ba£
]+
£c⁄d_£t
;

769 
Bôu
 
ch™ba£
 = 
ba£
+
£c⁄d_£t
;

771 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
,&
›
[
›ba£
]);

772 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
+3,&
›
[
›ba£
+9]);

773 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

775 i‡((
adlibªg
[0x105]&1Ë&& 
›
[
£c⁄d_£t
?(
ba£
+18):ba£].
is_4›
) {

776 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
+8,&
›
[
›ba£
+3]);

777 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
+3+8,&
›
[
›ba£
+3+9]);

783 
ARC_KON_BNUM
: {

784 i‡(
idx
 =
ARC_PERC_MODE
) {

785 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

786 i‡(
£c⁄d_£t
) ;

789 i‡((
vÆ
&0x30) == 0x30) {

790 
	`íabÀ_›î©‹
(16,&
›
[6],
OP_ACT_PERC
);

791 
	`ch™ge_‰equícy
(6,16,&
›
[6]);

792 
	`íabÀ_›î©‹
(16+3,&
›
[6+9],
OP_ACT_PERC
);

793 
	`ch™ge_‰equícy
(6,16+3,&
›
[6+9]);

795 
	`dißbÀ_›î©‹
(&
›
[6],
OP_ACT_PERC
);

796 
	`dißbÀ_›î©‹
(&
›
[6+9],
OP_ACT_PERC
);

798 i‡((
vÆ
&0x28) == 0x28) {

799 
	`íabÀ_›î©‹
(17+3,&
›
[16],
OP_ACT_PERC
);

800 
	`ch™ge_‰equícy
(7,17+3,&
›
[16]);

802 
	`dißbÀ_›î©‹
(&
›
[16],
OP_ACT_PERC
);

804 i‡((
vÆ
&0x24) == 0x24) {

805 
	`íabÀ_›î©‹
(18,&
›
[8],
OP_ACT_PERC
);

806 
	`ch™ge_‰equícy
(8,18,&
›
[8]);

808 
	`dißbÀ_›î©‹
(&
›
[8],
OP_ACT_PERC
);

810 i‡((
vÆ
&0x22) == 0x22) {

811 
	`íabÀ_›î©‹
(18+3,&
›
[8+9],
OP_ACT_PERC
);

812 
	`ch™ge_‰equícy
(8,18+3,&
›
[8+9]);

814 
	`dißbÀ_›î©‹
(&
›
[8+9],
OP_ACT_PERC
);

816 i‡((
vÆ
&0x21) == 0x21) {

817 
	`íabÀ_›î©‹
(17,&
›
[7],
OP_ACT_PERC
);

818 
	`ch™ge_‰equícy
(7,17,&
›
[7]);

820 
	`dißbÀ_›î©‹
(&
›
[7],
OP_ACT_PERC
);

826 
Bôu
 
ba£
 = (
idx
-
ARC_KON_BNUM
)&0xff;

827 i‡(
ba£
<9) {

828 
Bôs
 
›ba£
 = 
£c⁄d_£t
?(
ba£
+18):base;

829 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

830 i‡((
adlibªg
[0x105]&1Ë&& 
›
[
›ba£
].
is_4›_©èched
) ;

833 
Bôs
 
modba£
 = 
moduœt‹ba£
[
ba£
]+
£c⁄d_£t
;

835 i‡(
vÆ
&32) {

837 
	`íabÀ_›î©‹
(
modba£
,&
›
[
›ba£
],
OP_ACT_NORMAL
);

838 
	`íabÀ_›î©‹
(
modba£
+3,&
›
[
›ba£
+9],
OP_ACT_NORMAL
);

839 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

841 i‡((
adlibªg
[0x105]&1Ë&& 
›
[
›ba£
].
is_4›
) {

843 
	`íabÀ_›î©‹
(
modba£
+8,&
›
[
›ba£
+3],
OP_ACT_NORMAL
);

844 
	`íabÀ_›î©‹
(
modba£
+3+8,&
›
[
›ba£
+3+9],
OP_ACT_NORMAL
);

849 
	`dißbÀ_›î©‹
(&
›
[
›ba£
],
OP_ACT_NORMAL
);

850 
	`dißbÀ_›î©‹
(&
›
[
›ba£
+9],
OP_ACT_NORMAL
);

851 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

853 i‡((
adlibªg
[0x105]&1Ë&& 
›
[
›ba£
].
is_4›
) {

855 
	`dißbÀ_›î©‹
(&
›
[
›ba£
+3],
OP_ACT_NORMAL
);

856 
	`dißbÀ_›î©‹
(&
›
[
›ba£
+3+9],
OP_ACT_NORMAL
);

861 
Bôu
 
ch™ba£
 = 
ba£
+
£c⁄d_£t
;

865 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
,&
›
[
›ba£
]);

866 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
+3,&
›
[
›ba£
+9]);

867 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

869 i‡((
adlibªg
[0x105]&1Ë&& 
›
[
£c⁄d_£t
?(
ba£
+18):ba£].
is_4›
) {

871 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
+8,&
›
[
›ba£
+3]);

872 
	`ch™ge_‰equícy
(
ch™ba£
,
modba£
+3+8,&
›
[
›ba£
+3+9]);

878 
ARC_FEEDBACK
: {

880 
Bôu
 
ba£
 = (
idx
-
ARC_FEEDBACK
)&0xff;

881 i‡(
ba£
<9) {

882 
Bôs
 
›ba£
 = 
£c⁄d_£t
?(
ba£
+18):base;

883 
Bôu
 
ch™ba£
 = 
ba£
+
£c⁄d_£t
;

884 
	`ch™ge_„edback
(
ch™ba£
,&
›
[
›ba£
]);

885 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

887 
›
[
›ba£
].
À·_∑n
 = ((
vÆ
&0x10)>>4);

888 
›
[
›ba£
].
right_∑n
 = ((
vÆ
&0x20)>>5);

893 
ARC_WAVE_SEL
:

894 
ARC_WAVE_SEL
+0x10: {

895 
num
 = 
idx
&7;

896 
Bôu
 
ba£
 = (
idx
-
ARC_WAVE_SEL
)&0xff;

897 i‡((
num
<6Ë&& (
ba£
<22)) {

898 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

899 
Bôs
 
w£lba£
 = 
£c⁄d_£t
?(
ba£
+22):base;

901 i‡(
adlibªg
[0x105]&1Ë
wave_£l
[
w£lba£
] = 
vÆ
&7;

902 
wave_£l
[
w£lba£
] = 
vÆ
&3;

903 
›_ty≥
* 
›_±r
 = &
›
[
ªgba£2mod›
[
w£lba£
]+((
num
<3) ? 0 : 9)];

904 
	`ch™ge_wavef‹m
(
w£lba£
,
›_±r
);

906 i‡(
adlibªg
[0x01]&0x20) {

908 
wave_£l
[
ba£
] = 
vÆ
&3;

909 
›_ty≥
* 
›_±r
 = &
›
[
ªgba£2mod›
[
ba£
]+((
num
<3) ? 0 : 9)];

910 
	`ch™ge_wavef‹m
(
ba£
,
›_±r
);

919 
	}
}

922 
Bôu
 
	$adlib_ªg_ªad
(
Bôu
 
p‹t
) {

923 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

925 i‡((
p‹t
&1)==0) {

926  
°©us
;

931 i‡((
p‹t
&1)==0) {

932  
°©us
|6;

936 
	}
}

938 
	$adlib_wrôe_ödex
(
Bôu
 
p‹t
, 
Bô8u
 
vÆ
) {

939 
›l_ödex
 = 
vÆ
;

940 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

941 i‡((
p‹t
&3)!=0) {

943 i‡(((
adlibªg
[0x105]&1)!=0Ë|| (
›l_ödex
==5)Ë›l_ödex |
ARC_SECONDSET
;

946 
	}
}

948 
	$˛ùô16
(
Bô32s
 
ivÆ
, 
Bô16s
* 
outvÆ
) {

949 i‡(
ivÆ
<32768) {

950 i‡(
ivÆ
>-32769) {

951 *
outvÆ
=(
Bô16s
)
ivÆ
;

953 *
outvÆ
 = -32768;

956 *
outvÆ
 = 32767;

958 
	}
}

965 #unde‡
CHANVAL_OUT


966 #i‡
deföed
(
OPLTYPE_IS_OPL3
)

967 
	#CHANVAL_OUT
 \

968 i‡(
adlibªg
[0x105]&1) { \

969 
outbuÊ
[
i
] +
ch™vÆ
*
˝å
[0].
À·_∑n
; \

970 
outbu‰
[
i
] +
ch™vÆ
*
˝å
[0].
right_∑n
; \

972 
outbuÊ
[
i
] +
ch™vÆ
; \

973 }

	)

975 
	#CHANVAL_OUT
 \

976 
outbuÊ
[
i
] +
ch™vÆ
;

	)

979 
	$adlib_gëßm∂e
(
Bô16s
* 
¢d±r
, 
Bôs
 
numßm∂es
) {

980 
Bôs
 
i
, 
ídßm∂es
;

981 
›_ty≥
* 
˝å
;

983 
Bô32s
 
outbuÊ
[
BLOCKBUF_SIZE
];

984 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

986 
Bô32s
 
outbu‰
[
BLOCKBUF_SIZE
];

990 
Bô32s
 
vib_lut
[
BLOCKBUF_SIZE
];

991 
Bô32s
 
åem_lut
[
BLOCKBUF_SIZE
];

993 
Bôs
 
ßm∂es_to_¥o˚ss
 = 
numßm∂es
;

995 
Bôs
 
cursmp
=0; cursmp<
ßm∂es_to_¥o˚ss
; cursmp+=
ídßm∂es
) {

996 
ídßm∂es
 = 
ßm∂es_to_¥o˚ss
-
cursmp
;

997 i‡(
ídßm∂es
>
BLOCKBUF_SIZE
)Éndsamples = BLOCKBUF_SIZE;

999 
	`mem£t
((*)&
outbuÊ
,0,
ídßm∂es
*(
Bô32s
));

1000 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

1002 i‡(
adlibªg
[0x105]&1Ë
	`mem£t
((*)&
outbu‰
,0,
ídßm∂es
*(
Bô32s
));

1006 
Bô32s
 
vib_tshi·
 = ((
adlibªg
[
ARC_PERC_MODE
]&0x40)==0) ? 1 : 0;

1007 
i
=0;i<
ídßm∂es
;i++) {

1009 
vibèb_pos
 +
vibèb_add
;

1010 i‡(
vibèb_pos
/
FIXEDPT_LFO
>=
VIBTAB_SIZE
) vibtab_pos-=VIBTAB_SIZE*FIXEDPT_LFO;

1011 
vib_lut
[
i
] = 
vib_èbÀ
[
vibèb_pos
/
FIXEDPT_LFO
]>>
vib_tshi·
;

1014 
åemèb_pos
 +
åemèb_add
;

1015 i‡(
åemèb_pos
/
FIXEDPT_LFO
>=
TREMTAB_SIZE
)Åremtab_pos-=TREMTAB_SIZE*FIXEDPT_LFO;

1016 i‡(
adlibªg
[
ARC_PERC_MODE
]&0x80Ë
åem_lut
[
i
] = 
åem_èbÀ
[
åemèb_pos
/
FIXEDPT_LFO
];

1017 
åem_lut
[
i
] = 
åem_èbÀ
[
TREMTAB_SIZE
+
åemèb_pos
/
FIXEDPT_LFO
];

1020 i‡(
adlibªg
[
ARC_PERC_MODE
]&0x20) {

1022 
˝å
 = &
›
[6];

1023 i‡(
adlibªg
[
ARC_FEEDBACK
+6]&1) {

1025 i‡(
˝å
[9].
›_°©e
 !
OF_TYPE_OFF
) {

1026 i‡(
˝å
[9].
vibøto
) {

1027 
vibvÆ1
 = 
vibvÆ_v¨1
;

1028 
i
=0;i<
ídßm∂es
;i++)

1029 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1030 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1031 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1032 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1035 
i
=0;i<
ídßm∂es
;i++) {

1036 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ1
[
i
]);

1037 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1038 
	`›î©‹_ouçut
(&
˝å
[9],0,
åemvÆ1
[
i
]);

1040 
Bô32s
 
ch™vÆ
 = 
˝å
[9].
cvÆ
*2;

1041 
CHANVAL_OUT


1046 i‡((
˝å
[9].
›_°©e
 !
OF_TYPE_OFF
) || (cptr[0].op_state != OF_TYPE_OFF)) {

1047 i‡((
˝å
[0].
vibøto
Ë&& (˝å[0].
›_°©e
 !
OF_TYPE_OFF
)) {

1048 
vibvÆ1
 = 
vibvÆ_v¨1
;

1049 
i
=0;i<
ídßm∂es
;i++)

1050 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1051 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1052 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 !
OF_TYPE_OFF
)) {

1053 
vibvÆ2
 = 
vibvÆ_v¨2
;

1054 
i
=0;i<
ídßm∂es
;i++)

1055 
vibvÆ2
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1056 } 
vibvÆ2
 = 
vibvÆ_c⁄°
;

1057 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1058 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1059 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1060 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1063 
i
=0;i<
ídßm∂es
;i++) {

1064 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ1
[
i
]);

1065 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1066 
	`›î©‹_ouçut
(&
˝å
[0],(˝å[0].
œ°cvÆ
+˝å[0].
cvÆ
)*˝å[0].
mfbi
/2,
åemvÆ1
[
i
]);

1068 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ2
[
i
]);

1069 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1070 
	`›î©‹_ouçut
(&
˝å
[9],˝å[0].
cvÆ
*
FIXEDPT
,
åemvÆ2
[
i
]);

1072 
Bô32s
 
ch™vÆ
 = 
˝å
[9].
cvÆ
*2;

1073 
CHANVAL_OUT


1079 i‡(
›
[8].
›_°©e
 !
OF_TYPE_OFF
) {

1080 
˝å
 = &
›
[8];

1081 i‡(
˝å
[0].
vibøto
) {

1082 
vibvÆ3
 = 
vibvÆ_v¨1
;

1083 
i
=0;i<
ídßm∂es
;i++)

1084 
vibvÆ3
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1085 } 
vibvÆ3
 = 
vibvÆ_c⁄°
;

1087 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ3
 = 
åem_lut
;

1088 
åemvÆ3
 = 
åemvÆ_c⁄°
;

1091 
i
=0;i<
ídßm∂es
;i++) {

1092 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ3
[
i
]);

1093 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1094 
	`›î©‹_ouçut
(&
˝å
[0],0,
åemvÆ3
[
i
]);

1095 
Bô32s
 
ch™vÆ
 = 
˝å
[0].
cvÆ
*2;

1096 
CHANVAL_OUT


1101 i‡((
›
[7].
›_°©e
 !
OF_TYPE_OFF
) || (op[16].op_state != OF_TYPE_OFF) ||

1102 (
›
[17].
›_°©e
 !
OF_TYPE_OFF
)) {

1103 
˝å
 = &
›
[7];

1104 i‡((
˝å
[0].
vibøto
Ë&& (˝å[0].
›_°©e
 !
OF_TYPE_OFF
)) {

1105 
vibvÆ1
 = 
vibvÆ_v¨1
;

1106 
i
=0;i<
ídßm∂es
;i++)

1107 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1108 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1109 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 =
OF_TYPE_OFF
)) {

1110 
vibvÆ2
 = 
vibvÆ_v¨2
;

1111 
i
=0;i<
ídßm∂es
;i++)

1112 
vibvÆ2
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1113 } 
vibvÆ2
 = 
vibvÆ_c⁄°
;

1115 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1116 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1117 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1118 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1120 
˝å
 = &
›
[8];

1121 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 =
OF_TYPE_OFF
)) {

1122 
vibvÆ4
 = 
vibvÆ_v¨2
;

1123 
i
=0;i<
ídßm∂es
;i++)

1124 
vibvÆ4
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1125 } 
vibvÆ4
 = 
vibvÆ_c⁄°
;

1127 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ4
 = 
åem_lut
;

1128 
åemvÆ4
 = 
åemvÆ_c⁄°
;

1131 
i
=0;i<
ídßm∂es
;i++) {

1132 
	`›î©‹_adv™˚_drums
(&
›
[7],
vibvÆ1
[
i
],&›[7+9],
vibvÆ2
[i],&›[8+9],
vibvÆ4
[i]);

1134 
›funcs
[
›
[7].
›_°©e
](&op[7]);

1135 
	`›î©‹_ouçut
(&
›
[7],0,
åemvÆ1
[
i
]);

1137 
›funcs
[
›
[7+9].
›_°©e
](&op[7+9]);

1138 
	`›î©‹_ouçut
(&
›
[7+9],0,
åemvÆ2
[
i
]);

1140 
›funcs
[
›
[8+9].
›_°©e
](&op[8+9]);

1141 
	`›î©‹_ouçut
(&
›
[8+9],0,
åemvÆ4
[
i
]);

1143 
Bô32s
 
ch™vÆ
 = (
›
[7].
cvÆ
 + op[7+9].cval + op[8+9].cval)*2;

1144 
CHANVAL_OUT


1149 
Bôu
 
max_ch™√l
 = 
NUM_CHANNELS
;

1150 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

1151 i‡((
adlibªg
[0x105]&1)==0Ë
max_ch™√l
 = 
NUM_CHANNELS
/2;

1153 
Bôs
 
cur_ch
=
max_ch™√l
-1; cur_ch>=0; cur_ch--) {

1155 i‡((
adlibªg
[
ARC_PERC_MODE
]&0x20Ë&& (
cur_ch
 >= 6) && (cur_ch < 9)) ;

1157 
Bôu
 
k
 = 
cur_ch
;

1158 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

1159 i‡(
cur_ch
 < 9) {

1160 
˝å
 = &
›
[
cur_ch
];

1162 
˝å
 = &
›
[
cur_ch
+9];

1163 
k
 += (-9+256);

1166 i‡((
adlibªg
[0x105]&1Ë&& 
˝å
->
is_4›_©èched
) ;

1168 
˝å
 = &
›
[
cur_ch
];

1172 i‡(
adlibªg
[
ARC_FEEDBACK
+
k
]&1) {

1173 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

1174 i‡((
adlibªg
[0x105]&1Ë&& 
˝å
->
is_4›
) {

1175 i‡(
adlibªg
[
ARC_FEEDBACK
+
k
+3]&1) {

1177 i‡(
˝å
[0].
›_°©e
 !
OF_TYPE_OFF
) {

1178 i‡(
˝å
[0].
vibøto
) {

1179 
vibvÆ1
 = 
vibvÆ_v¨1
;

1180 
i
=0;i<
ídßm∂es
;i++)

1181 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1182 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1183 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1184 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1187 
i
=0;i<
ídßm∂es
;i++) {

1188 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ1
[
i
]);

1189 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1190 
	`›î©‹_ouçut
(&
˝å
[0],(˝å[0].
œ°cvÆ
+˝å[0].
cvÆ
)*˝å[0].
mfbi
/2,
åemvÆ1
[
i
]);

1192 
Bô32s
 
ch™vÆ
 = 
˝å
[0].
cvÆ
;

1193 
CHANVAL_OUT


1197 i‡((
˝å
[3].
›_°©e
 !
OF_TYPE_OFF
) || (cptr[9].op_state != OF_TYPE_OFF)) {

1198 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 !
OF_TYPE_OFF
)) {

1199 
vibvÆ1
 = 
vibvÆ_v¨1
;

1200 
i
=0;i<
ídßm∂es
;i++)

1201 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1202 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1203 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1204 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1205 i‡(
˝å
[3].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1206 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1209 
i
=0;i<
ídßm∂es
;i++) {

1210 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ1
[
i
]);

1211 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1212 
	`›î©‹_ouçut
(&
˝å
[9],0,
åemvÆ1
[
i
]);

1214 
	`›î©‹_adv™˚
(&
˝å
[3],0);

1215 
›funcs
[
˝å
[3].
›_°©e
](&cptr[3]);

1216 
	`›î©‹_ouçut
(&
˝å
[3],˝å[9].
cvÆ
*
FIXEDPT
,
åemvÆ2
[
i
]);

1218 
Bô32s
 
ch™vÆ
 = 
˝å
[3].
cvÆ
;

1219 
CHANVAL_OUT


1223 i‡(
˝å
[3+9].
›_°©e
 !
OF_TYPE_OFF
) {

1224 i‡(
˝å
[3+9].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1225 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1228 
i
=0;i<
ídßm∂es
;i++) {

1229 
	`›î©‹_adv™˚
(&
˝å
[3+9],0);

1230 
›funcs
[
˝å
[3+9].
›_°©e
](&cptr[3+9]);

1231 
	`›î©‹_ouçut
(&
˝å
[3+9],0,
åemvÆ1
[
i
]);

1233 
Bô32s
 
ch™vÆ
 = 
˝å
[3+9].
cvÆ
;

1234 
CHANVAL_OUT


1239 i‡(
˝å
[0].
›_°©e
 !
OF_TYPE_OFF
) {

1240 i‡(
˝å
[0].
vibøto
) {

1241 
vibvÆ1
 = 
vibvÆ_v¨1
;

1242 
i
=0;i<
ídßm∂es
;i++)

1243 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1244 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1245 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1246 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1249 
i
=0;i<
ídßm∂es
;i++) {

1250 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ1
[
i
]);

1251 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1252 
	`›î©‹_ouçut
(&
˝å
[0],(˝å[0].
œ°cvÆ
+˝å[0].
cvÆ
)*˝å[0].
mfbi
/2,
åemvÆ1
[
i
]);

1254 
Bô32s
 
ch™vÆ
 = 
˝å
[0].
cvÆ
;

1255 
CHANVAL_OUT


1259 i‡((
˝å
[9].
›_°©e
 !
OF_TYPE_OFF
) || (cptr[3].op_state != OF_TYPE_OFF) || (cptr[3+9].op_state != OF_TYPE_OFF)) {

1260 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 !
OF_TYPE_OFF
)) {

1261 
vibvÆ1
 = 
vibvÆ_v¨1
;

1262 
i
=0;i<
ídßm∂es
;i++)

1263 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1264 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1265 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1266 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1267 i‡(
˝å
[3].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1268 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1269 i‡(
˝å
[3+9].
åemﬁo
Ë
åemvÆ3
 = 
åem_lut
;

1270 
åemvÆ3
 = 
åemvÆ_c⁄°
;

1273 
i
=0;i<
ídßm∂es
;i++) {

1274 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ1
[
i
]);

1275 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1276 
	`›î©‹_ouçut
(&
˝å
[9],0,
åemvÆ1
[
i
]);

1278 
	`›î©‹_adv™˚
(&
˝å
[3],0);

1279 
›funcs
[
˝å
[3].
›_°©e
](&cptr[3]);

1280 
	`›î©‹_ouçut
(&
˝å
[3],˝å[9].
cvÆ
*
FIXEDPT
,
åemvÆ2
[
i
]);

1282 
	`›î©‹_adv™˚
(&
˝å
[3+9],0);

1283 
›funcs
[
˝å
[3+9].
›_°©e
](&cptr[3+9]);

1284 
	`›î©‹_ouçut
(&
˝å
[3+9],˝å[3].
cvÆ
*
FIXEDPT
,
åemvÆ3
[
i
]);

1286 
Bô32s
 
ch™vÆ
 = 
˝å
[3+9].
cvÆ
;

1287 
CHANVAL_OUT


1295 i‡((
˝å
[9].
›_°©e
 =
OF_TYPE_OFF
) && (cptr[0].op_state == OF_TYPE_OFF)) ;

1296 i‡((
˝å
[0].
vibøto
Ë&& (˝å[0].
›_°©e
 !
OF_TYPE_OFF
)) {

1297 
vibvÆ1
 = 
vibvÆ_v¨1
;

1298 
i
=0;i<
ídßm∂es
;i++)

1299 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1300 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1301 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 !
OF_TYPE_OFF
)) {

1302 
vibvÆ2
 = 
vibvÆ_v¨2
;

1303 
i
=0;i<
ídßm∂es
;i++)

1304 
vibvÆ2
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1305 } 
vibvÆ2
 = 
vibvÆ_c⁄°
;

1306 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1307 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1308 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1309 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1312 
i
=0;i<
ídßm∂es
;i++) {

1314 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ1
[
i
]);

1315 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1316 
	`›î©‹_ouçut
(&
˝å
[0],(˝å[0].
œ°cvÆ
+˝å[0].
cvÆ
)*˝å[0].
mfbi
/2,
åemvÆ1
[
i
]);

1319 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ2
[
i
]);

1320 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1321 
	`›î©‹_ouçut
(&
˝å
[9],0,
åemvÆ2
[
i
]);

1323 
Bô32s
 
ch™vÆ
 = 
˝å
[9].
cvÆ
 + cptr[0].cval;

1324 
CHANVAL_OUT


1327 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

1328 i‡((
adlibªg
[0x105]&1Ë&& 
˝å
->
is_4›
) {

1329 i‡(
adlibªg
[
ARC_FEEDBACK
+
k
+3]&1) {

1331 i‡((
˝å
[0].
›_°©e
 !
OF_TYPE_OFF
) || (cptr[9].op_state != OF_TYPE_OFF)) {

1332 i‡((
˝å
[0].
vibøto
Ë&& (˝å[0].
›_°©e
 !
OF_TYPE_OFF
)) {

1333 
vibvÆ1
 = 
vibvÆ_v¨1
;

1334 
i
=0;i<
ídßm∂es
;i++)

1335 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1336 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1337 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 !
OF_TYPE_OFF
)) {

1338 
vibvÆ2
 = 
vibvÆ_v¨2
;

1339 
i
=0;i<
ídßm∂es
;i++)

1340 
vibvÆ2
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1341 } 
vibvÆ2
 = 
vibvÆ_c⁄°
;

1342 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1343 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1344 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1345 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1348 
i
=0;i<
ídßm∂es
;i++) {

1349 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ1
[
i
]);

1350 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1351 
	`›î©‹_ouçut
(&
˝å
[0],(˝å[0].
œ°cvÆ
+˝å[0].
cvÆ
)*˝å[0].
mfbi
/2,
åemvÆ1
[
i
]);

1353 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ2
[
i
]);

1354 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1355 
	`›î©‹_ouçut
(&
˝å
[9],˝å[0].
cvÆ
*
FIXEDPT
,
åemvÆ2
[
i
]);

1357 
Bô32s
 
ch™vÆ
 = 
˝å
[9].
cvÆ
;

1358 
CHANVAL_OUT


1362 i‡((
˝å
[3].
›_°©e
 !
OF_TYPE_OFF
) || (cptr[3+9].op_state != OF_TYPE_OFF)) {

1363 i‡(
˝å
[3].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1364 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1365 i‡(
˝å
[3+9].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1366 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1369 
i
=0;i<
ídßm∂es
;i++) {

1370 
	`›î©‹_adv™˚
(&
˝å
[3],0);

1371 
›funcs
[
˝å
[3].
›_°©e
](&cptr[3]);

1372 
	`›î©‹_ouçut
(&
˝å
[3],0,
åemvÆ1
[
i
]);

1374 
	`›î©‹_adv™˚
(&
˝å
[3+9],0);

1375 
›funcs
[
˝å
[3+9].
›_°©e
](&cptr[3+9]);

1376 
	`›î©‹_ouçut
(&
˝å
[3+9],˝å[3].
cvÆ
*
FIXEDPT
,
åemvÆ2
[
i
]);

1378 
Bô32s
 
ch™vÆ
 = 
˝å
[3+9].
cvÆ
;

1379 
CHANVAL_OUT


1385 i‡((
˝å
[0].
›_°©e
 !
OF_TYPE_OFF
) || (cptr[9].op_state != OF_TYPE_OFF) ||

1386 (
˝å
[3].
›_°©e
 !
OF_TYPE_OFF
) || (cptr[3+9].op_state != OF_TYPE_OFF)) {

1387 i‡((
˝å
[0].
vibøto
Ë&& (˝å[0].
›_°©e
 !
OF_TYPE_OFF
)) {

1388 
vibvÆ1
 = 
vibvÆ_v¨1
;

1389 
i
=0;i<
ídßm∂es
;i++)

1390 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1391 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1392 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 !
OF_TYPE_OFF
)) {

1393 
vibvÆ2
 = 
vibvÆ_v¨2
;

1394 
i
=0;i<
ídßm∂es
;i++)

1395 
vibvÆ2
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1396 } 
vibvÆ2
 = 
vibvÆ_c⁄°
;

1397 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1398 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1399 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1400 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1401 i‡(
˝å
[3].
åemﬁo
Ë
åemvÆ3
 = 
åem_lut
;

1402 
åemvÆ3
 = 
åemvÆ_c⁄°
;

1403 i‡(
˝å
[3+9].
åemﬁo
Ë
åemvÆ4
 = 
åem_lut
;

1404 
åemvÆ4
 = 
åemvÆ_c⁄°
;

1407 
i
=0;i<
ídßm∂es
;i++) {

1408 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ1
[
i
]);

1409 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1410 
	`›î©‹_ouçut
(&
˝å
[0],(˝å[0].
œ°cvÆ
+˝å[0].
cvÆ
)*˝å[0].
mfbi
/2,
åemvÆ1
[
i
]);

1412 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ2
[
i
]);

1413 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1414 
	`›î©‹_ouçut
(&
˝å
[9],˝å[0].
cvÆ
*
FIXEDPT
,
åemvÆ2
[
i
]);

1416 
	`›î©‹_adv™˚
(&
˝å
[3],0);

1417 
›funcs
[
˝å
[3].
›_°©e
](&cptr[3]);

1418 
	`›î©‹_ouçut
(&
˝å
[3],˝å[9].
cvÆ
*
FIXEDPT
,
åemvÆ3
[
i
]);

1420 
	`›î©‹_adv™˚
(&
˝å
[3+9],0);

1421 
›funcs
[
˝å
[3+9].
›_°©e
](&cptr[3+9]);

1422 
	`›î©‹_ouçut
(&
˝å
[3+9],˝å[3].
cvÆ
*
FIXEDPT
,
åemvÆ4
[
i
]);

1424 
Bô32s
 
ch™vÆ
 = 
˝å
[3+9].
cvÆ
;

1425 
CHANVAL_OUT


1433 i‡((
˝å
[9].
›_°©e
 =
OF_TYPE_OFF
) && (cptr[0].op_state == OF_TYPE_OFF)) ;

1434 i‡((
˝å
[0].
vibøto
Ë&& (˝å[0].
›_°©e
 !
OF_TYPE_OFF
)) {

1435 
vibvÆ1
 = 
vibvÆ_v¨1
;

1436 
i
=0;i<
ídßm∂es
;i++)

1437 
vibvÆ1
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[0].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1438 } 
vibvÆ1
 = 
vibvÆ_c⁄°
;

1439 i‡((
˝å
[9].
vibøto
Ë&& (˝å[9].
›_°©e
 !
OF_TYPE_OFF
)) {

1440 
vibvÆ2
 = 
vibvÆ_v¨2
;

1441 
i
=0;i<
ídßm∂es
;i++)

1442 
vibvÆ2
[
i
] = (
Bô32s
)((
vib_lut
[i]*
˝å
[9].
‰eq_high
/8)*
FIXEDPT
*
VIBFAC
);

1443 } 
vibvÆ2
 = 
vibvÆ_c⁄°
;

1444 i‡(
˝å
[0].
åemﬁo
Ë
åemvÆ1
 = 
åem_lut
;

1445 
åemvÆ1
 = 
åemvÆ_c⁄°
;

1446 i‡(
˝å
[9].
åemﬁo
Ë
åemvÆ2
 = 
åem_lut
;

1447 
åemvÆ2
 = 
åemvÆ_c⁄°
;

1450 
i
=0;i<
ídßm∂es
;i++) {

1452 
	`›î©‹_adv™˚
(&
˝å
[0],
vibvÆ1
[
i
]);

1453 
›funcs
[
˝å
[0].
›_°©e
](&cptr[0]);

1454 
	`›î©‹_ouçut
(&
˝å
[0],(˝å[0].
œ°cvÆ
+˝å[0].
cvÆ
)*˝å[0].
mfbi
/2,
åemvÆ1
[
i
]);

1457 
	`›î©‹_adv™˚
(&
˝å
[9],
vibvÆ2
[
i
]);

1458 
›funcs
[
˝å
[9].
›_°©e
](&cptr[9]);

1459 
	`›î©‹_ouçut
(&
˝å
[9],˝å[0].
cvÆ
*
FIXEDPT
,
åemvÆ2
[
i
]);

1461 
Bô32s
 
ch™vÆ
 = 
˝å
[9].
cvÆ
;

1462 
CHANVAL_OUT


1467 #i‡
	`deföed
(
OPLTYPE_IS_OPL3
)

1468 i‡(
adlibªg
[0x105]&1) {

1470 
i
=0;i<
ídßm∂es
;i++) {

1471 
	`˛ùô16
(
outbuÊ
[
i
],
¢d±r
++);

1472 
	`˛ùô16
(
outbu‰
[
i
],
¢d±r
++);

1476 
i
=0;i<
ídßm∂es
;i++) {

1477 
	`˛ùô16
(
outbuÊ
[
i
],
¢d±r
++);

1478 
	`˛ùô16
(
outbuÊ
[
i
],
¢d±r
++);

1483 
i
=0;i<
ídßm∂es
;i++)

1484 
	`˛ùô16
(
outbuÊ
[
i
],
¢d±r
++);

1488 
	}
}

	@adplug/dosbox_opl.h

28 
	#Êty≥
 

	)

34 #ifde‡
_MSC_VER


35 
	~<wödows.h
>

36 
	#uöçå_t
 
ULONG


	)

37 
	#öçå_t
 
LONG


	)

38 
	#uöt32_t
 
DWORD


	)

39 
	#öt32_t
 
INT


	)

40 
	#uöt16_t
 
WORD


	)

41 
	#öt16_t
 
SHORT


	)

42 
	#uöt8_t
 
BYTE


	)

43 
	#öt8_t
 
CHAR


	)

45 
	~<°döt.h
>

48 
uöçå_t
 
	tBôu
;

49 
öçå_t
 
	tBôs
;

50 
uöt32_t
 
	tBô32u
;

51 
öt32_t
 
	tBô32s
;

52 
uöt16_t
 
	tBô16u
;

53 
öt16_t
 
	tBô16s
;

54 
uöt8_t
 
	tBô8u
;

55 
öt8_t
 
	tBô8s
;

62 
	#OPL_INLINE
 
INLINE


	)

65 #unde‡
NUM_CHANNELS


66 #i‡
deföed
(
OPLTYPE_IS_OPL3
)

67 
	#NUM_CHANNELS
 18

	)

69 
	#NUM_CHANNELS
 9

	)

72 
	#MAXOPERATORS
 (
NUM_CHANNELS
*2)

	)

75 
	#FL05
 ((
Êty≥
)0.5)

	)

76 
	#FL2
 ((
Êty≥
)2.0)

	)

77 
	#PI
 ((
Êty≥
)3.1415926535897932384626433832795)

	)

80 
	#FIXEDPT
 0x10000

81 
	#FIXEDPT_LFO
 0x1000000

82 

	)

83 
	#WAVEPREC
 1024

84 

	)

85 
	#INTFREQU
 ((
Êty≥
)(14318180.0 / 288.0))

86 

	)

88 
	#OF_TYPE_ATT
 0

	)

89 
	#OF_TYPE_DEC
 1

	)

90 
	#OF_TYPE_REL
 2

	)

91 
	#OF_TYPE_SUS
 3

	)

92 
	#OF_TYPE_SUS_NOKEEP
 4

	)

93 
	#OF_TYPE_OFF
 5

	)

95 
	#ARC_CONTROL
 0x00

	)

96 
	#ARC_TVS_KSR_MUL
 0x20

	)

97 
	#ARC_KSL_OUTLEV
 0x40

	)

98 
	#ARC_ATTR_DECR
 0x60

	)

99 
	#ARC_SUSL_RELR
 0x80

	)

100 
	#ARC_FREQ_NUM
 0xa0

	)

101 
	#ARC_KON_BNUM
 0xb0

	)

102 
	#ARC_PERC_MODE
 0xbd

	)

103 
	#ARC_FEEDBACK
 0xc0

	)

104 
	#ARC_WAVE_SEL
 0xe0

	)

106 
	#ARC_SECONDSET
 0x100

107 

	)

109 
	#OP_ACT_OFF
 0x00

	)

110 
	#OP_ACT_NORMAL
 0x01

111 
	#OP_ACT_PERC
 0x02

112 

	)

113 
	#BLOCKBUF_SIZE
 512

	)

117 
	#VIBTAB_SIZE
 8

	)

118 
	#VIBFAC
 70/50000

119 

	)

121 
	#TREMTAB_SIZE
 53

	)

122 
	#TREM_FREQ
 ((
Êty≥
)(3.7))

123 

	)

136 
	s›î©‹_°ru˘
 {

137 
Bô32s
 
	mcvÆ
, 
	mœ°cvÆ
;

138 
Bô32u
 
	mtcou¡
, 
	mwÂos
, 
	mtöc
;

139 
Êty≥
 
	mamp
, 
	m°ï_amp
;

140 
Êty≥
 
	mvﬁ
;

141 
Êty≥
 
	msu°aö_Àvñ
;

142 
Bô32s
 
	mmfbi
;

143 
Êty≥
 
	ma0
, 
	ma1
, 
	ma2
, 
	ma3
;

144 
Êty≥
 
	mdeˇymul
, 
	mªÀa£mul
;

145 
Bô32u
 
	m›_°©e
;

146 
Bô32u
 
	mtoff
;

147 
Bô32s
 
	m‰eq_high
;

148 
Bô16s
* 
	mcur_wf‹m
;

149 
Bô32u
 
	mcur_wmask
;

150 
Bô32u
 
	ma˘_°©e
;

151 
boﬁ
 
	msus_kìp
;

152 
boﬁ
 
	mvibøto
,
	måemﬁo
;

155 
Bô32u
 
	mgíî©‹_pos
;

156 
Bôs
 
	mcur_ív_°ï
;

157 
Bôs
 
	mív_°ï_a
,
	mív_°ï_d
,
	mív_°ï_r
;

158 
Bô8u
 
	m°ï_skù_pos_a
;

159 
Bôs
 
	mív_°ï_skù_a
;

161 #i‡
deföed
(
OPLTYPE_IS_OPL3
)

162 
boﬁ
 
	mis_4›
,
	mis_4›_©èched
;

163 
Bô32s
 
	mÀ·_∑n
,
	mright_∑n
;

165 } 
	t›_ty≥
;

168 
íabÀ_›î©‹
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

171 
ch™ge_‰equícy
(
Bôu
 
ch™ba£
, Bôu 
ªgba£
, 
›_ty≥
* 
›_±
);

173 
ch™ge_©èckøã
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

174 
ch™ge_deˇyøã
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

175 
ch™ge_ªÀa£øã
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

176 
ch™ge_su°aöÀvñ
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

177 
ch™ge_wavef‹m
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

178 
ch™ge_kìpsu°aö
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

179 
ch™ge_vibøto
(
Bôu
 
ªgba£
, 
›_ty≥
* 
›_±
);

180 
ch™ge_„edback
(
Bôu
 
ch™ba£
, 
›_ty≥
* 
›_±
);

183 
adlib_öô
(
Bô32u
 
ßm∂î©e
);

184 
adlib_wrôe
(
Bôu
 
idx
, 
Bô8u
 
vÆ
);

185 
adlib_gëßm∂e
(
Bô16s
* 
¢d±r
, 
Bôs
 
numßm∂es
);

187 
Bôu
 
adlib_ªg_ªad
(Bôu 
p‹t
);

188 
adlib_wrôe_ödex
(
Bôu
 
p‹t
, 
Bô8u
 
vÆ
);

	@adplug/emuopl.cpp

22 
	~"emu›l.h
"

24 
	gCEmu›l
::
	$CEmu›l
(
øã
, 
boﬁ
 
bô16
, boﬁ 
u£°îeo
)

25 : 
	`u£16bô
(
bô16
), 
	`°îeo
(
u£°îeo
), 
	$mixbufSam∂es
(0) {

26 
›l
[0] = 
	`OPLCª©e
(
OPL_TYPE_YM3812
, 3579545, 
øã
);

27 
›l
[1] = 
	`OPLCª©e
(
OPL_TYPE_YM3812
, 3579545, 
øã
);

29 
cuºTy≥
 = 
TYPE_OPL2
;

31 
	`öô
();

32 
	}
}

34 
	gCEmu›l
::~
	$CEmu›l
() {

35 
	`OPLDe°roy
(
›l
[0]);

36 
	`OPLDe°roy
(
›l
[1]);

38 i‡(
mixbufSam∂es
) {

39 
dñëe
 [] 
mixbuf0
;

40 
dñëe
 [] 
mixbuf1
;

42 
	}
}

44 
	gCEmu›l
::
	$upd©e
(*
buf
, 
ßm∂es
) {

45 
i
;

48 i‡(
mixbufSam∂es
 < 
ßm∂es
) {

49 i‡(
mixbufSam∂es
) {

50 
dñëe
[] 
mixbuf0
;

51 
dñëe
[] 
mixbuf1
;

53 
mixbufSam∂es
 = 
ßm∂es
;

56 
mixbuf0
 = 
√w
 [
ßm∂es
*2];

57 
mixbuf1
 = 
√w
 [
ßm∂es
*2];

68 *
outbuf
;

69 *
ãmpbuf
=
mixbuf0
;

70 *
ãmpbuf2
=
mixbuf1
;

71 i‡(
u£16bô
Ë
outbuf
 = 
buf
;

72 
outbuf
 = 
mixbuf1
;

78 
cuºTy≥
) {

79 
TYPE_OPL2
:

82 
	`YM3812Upd©eO√
(
›l
[0],
outbuf
,
ßm∂es
);

86 i‡(
°îeo
)

87 
i
=
ßm∂es
-1;i>=0;i--) {

88 
outbuf
[
i
*2] = outbuf[i];

89 
outbuf
[
i
*2+1] = outbuf[i];

93 
TYPE_OPL3
:

96 
TYPE_DUAL_OPL2
:

99 
	`YM3812Upd©eO√
(
›l
[0],
ãmpbuf2
,
ßm∂es
);

100 
	`YM3812Upd©eO√
(
›l
[1],
ãmpbuf
,
ßm∂es
);

104 i‡(
°îeo
) {

107 
i
=0;i<
ßm∂es
;i++)

108 
outbuf
[
i
*2] = 
ãmpbuf2
[i];

110 
i
=0;i<
ßm∂es
;i++)

111 
outbuf
[
i
*2+1] = 
ãmpbuf
[i];

115 
i
=0;i<
ßm∂es
;i++)

116 
outbuf
[
i
] = (
ãmpbuf
[i]>>1Ë+ (
ãmpbuf2
[i]>>1);

121 i‡(!
u£16bô
)

122 
i
=0;i<(
°îeo
 ? 
ßm∂es
*2 : samples);i++)

123 ((*)
buf
)[
i
] = (
outbuf
[i] >> 8) ^ 0x80;

124 
	}
}

126 
	gCEmu›l
::
	$wrôe
(
ªg
, 
vÆ
) {

127 
cuºTy≥
) {

128 
TYPE_OPL2
:

129 
TYPE_DUAL_OPL2
:

130 
	`OPLWrôe
(
›l
[
cuºChù
], 0, 
ªg
);

131 
	`OPLWrôe
(
›l
[
cuºChù
], 1, 
vÆ
);

133 
TYPE_OPL3
:

136 
	}
}

138 
	gCEmu›l
::
	$öô
() {

139 
	`OPLRe£tChù
(
›l
[0]);

140 
	`OPLRe£tChù
(
›l
[1]);

141 
cuºChù
 = 0;

142 
	}
}

144 
	gCEmu›l
::
	$£ây≥
(
ChùTy≥
 
ty≥
) {

145 
cuºTy≥
 = 
ty≥
;

146 
	}
}

	@adplug/emuopl.h

22 #i‚de‡
H_ADPLUG_EMUOPL


23 
	#H_ADPLUG_EMUOPL


	)

25 
	~"›l.h
"

27 
	~"fm›l.h
"

30 ˛as†
	cCEmu›l
: 
public
 
C›l
 {

31 
public
:

32 
CEmu›l
(
øã
, 
boﬁ
 
bô16
, boﬁ 
u£°îeo
);

33 
vútuÆ
 ~
CEmu›l
();

35 
upd©e
(*
buf
, 
ßm∂es
);

36 
wrôe
(
ªg
, 
vÆ
);

38 
öô
();

39 
£ây≥
(
ChùTy≥
 
ty≥
);

41 
¥iv©e
:

42 
boﬁ
 
u£16bô
, 
°îeo
;

43 
FM_OPL
 *
›l
[2];

44 *
mixbuf0
, *
mixbuf1
;

45 
mixbufSam∂es
;

	@adplug/fmopl.c

28 #ifde‡
__˛™g__


29 
	#INLINE
 

	)

31 
	#INLINE
 
__ölöe


	)

33 
	#HAS_YM3812
 1

	)

35 
	~<°dio.h
>

36 
	~<°dlib.h
>

37 
	~<°rög.h
>

38 
	~<°d¨g.h
>

39 
	~<m©h.h
>

40 
	~"fm›l.h
"

42 #i‚de‡
PI


43 
	#PI
 3.14159265358979323846

	)

48 #ifde‡
OPL_OUTPUT_LOG


49 
FILE
 *
	g›l_dbg_Â
 = 
NULL
;

50 
FM_OPL
 *
	g›l_dbg_›l
[16];

51 
	g›l_dbg_maxchù
,
	g›l_dbg_chù
;

56 
	#OPL_ARRATE
 141280

	)

57 
	#OPL_DRRATE
 1956000

	)

59 
	#DELTAT_MIXING_LEVEL
 (1Ë

	)

61 
	#FREQ_BITS
 24

	)

64 
	#FREQ_RATE
 (1<<(
FREQ_BITS
-20))

	)

65 
	#TL_BITS
 (
FREQ_BITS
+2)

	)

68 
	#OPL_OUTSB
 (
TL_BITS
+3-16Ë

	)

69 
	#OPL_MAXOUT
 (0x7fff<<
OPL_OUTSB
)

	)

70 
	#OPL_MINOUT
 (-0x8000<<
OPL_OUTSB
)

	)

76 
	#SIN_ENT
 2048

	)

80 
	#ENV_BITS
 16

	)

82 
	#EG_ENT
 4096

	)

86 
	#EG_OFF
 ((2*
EG_ENT
)<<
ENV_BITS
Ë

	)

87 
	#EG_DED
 
EG_OFF


	)

88 
	#EG_DST
 (
EG_ENT
<<
ENV_BITS
Ë

	)

89 
	#EG_AED
 
EG_DST


	)

90 
	#EG_AST
 0

	)

92 
	#EG_STEP
 (96.0/
EG_ENT
Ë

	)

95 
	#VIB_ENT
 512

	)

96 
	#VIB_SHIFT
 (32-9)

	)

97 
	#AMS_ENT
 512

	)

98 
	#AMS_SHIFT
 (32-9)

	)

100 
	#VIB_RATE
 256

	)

105 
	#SLOT1
 0

	)

106 
	#SLOT2
 1

	)

109 
	#ENV_MOD_RR
 0x00

	)

110 
	#ENV_MOD_DR
 0x01

	)

111 
	#ENV_MOD_AR
 0x02

	)

114 c⁄° 
	g¶Ÿ_¨øy
[32] = {

123 
	#DV
 (
EG_STEP
/2)

	)

124 c⁄° 
UINT32
 
	gKSL_TABLE
[8*16]= {

126 0.000/
DV
, 0.000/DV, 0.000/DV, 0.000/DV,

127 0.000/
DV
, 0.000/DV, 0.000/DV, 0.000/DV,

128 0.000/
DV
, 0.000/DV, 0.000/DV, 0.000/DV,

129 0.000/
DV
, 0.000/DV, 0.000/DV, 0.000/DV,

131 0.000/
DV
, 0.000/DV, 0.000/DV, 0.000/DV,

132 0.000/
DV
, 0.000/DV, 0.000/DV, 0.000/DV,

133 0.000/
DV
, 0.750/DV, 1.125/DV, 1.500/DV,

134 1.875/
DV
, 2.250/DV, 2.625/DV, 3.000/DV,

136 0.000/
DV
, 0.000/DV, 0.000/DV, 0.000/DV,

137 0.000/
DV
, 1.125/DV, 1.875/DV, 2.625/DV,

138 3.000/
DV
, 3.750/DV, 4.125/DV, 4.500/DV,

139 4.875/
DV
, 5.250/DV, 5.625/DV, 6.000/DV,

141 0.000/
DV
, 0.000/DV, 0.000/DV, 1.875/DV,

142 3.000/
DV
, 4.125/DV, 4.875/DV, 5.625/DV,

143 6.000/
DV
, 6.750/DV, 7.125/DV, 7.500/DV,

144 7.875/
DV
, 8.250/DV, 8.625/DV, 9.000/DV,

146 0.000/
DV
, 0.000/DV, 3.000/DV, 4.875/DV,

147 6.000/
DV
, 7.125/DV, 7.875/DV, 8.625/DV,

148 9.000/
DV
, 9.750/DV,10.125/DV,10.500/DV,

149 10.875/
DV
,11.250/DV,11.625/DV,12.000/DV,

151 0.000/
DV
, 3.000/DV, 6.000/DV, 7.875/DV,

152 9.000/
DV
,10.125/DV,10.875/DV,11.625/DV,

153 12.000/
DV
,12.750/DV,13.125/DV,13.500/DV,

154 13.875/
DV
,14.250/DV,14.625/DV,15.000/DV,

156 0.000/
DV
, 6.000/DV, 9.000/DV,10.875/DV,

157 12.000/
DV
,13.125/DV,13.875/DV,14.625/DV,

158 15.000/
DV
,15.750/DV,16.125/DV,16.500/DV,

159 16.875/
DV
,17.250/DV,17.625/DV,18.000/DV,

161 0.000/
DV
, 9.000/DV,12.000/DV,13.875/DV,

162 15.000/
DV
,16.125/DV,16.875/DV,17.625/DV,

163 18.000/
DV
,18.750/DV,19.125/DV,19.500/DV,

164 19.875/
DV
,20.250/DV,20.625/DV,21.000/DV

166 #unde‡
DV


170 
	#SC
(
db
Ë(db*((3/
EG_STEP
)*(1<<
ENV_BITS
)))+
EG_DST


	)

171 c⁄° 
INT32
 
	gSL_TABLE
[16]={

172 
SC
( 0),SC( 1),SC( 2),SC(3 ),SC(4 ),SC(5 ),SC(6 ),SC( 7),

173 
SC
( 8),SC( 9),SC(10),SC(11),SC(12),SC(13),SC(14),SC(31)

175 #unde‡
SC


177 
	#TL_MAX
 (
EG_ENT
*2Ë

	)

181 
INT32
 *
	gTL_TABLE
;

184 
INT32
 **
	gSIN_TABLE
;

187 
INT32
 *
	gAMS_TABLE
;

188 
INT32
 *
	gVIB_TABLE
;

192 
INT32
 
	gENV_CURVE
[2*
EG_ENT
+1];

195 
	#ML
 2

	)

196 c⁄° 
UINT32
 
	gMUL_TABLE
[16]= {

198 0.50*
ML
, 1.00*ML, 2.00*ML, 3.00*ML, 4.00*ML, 5.00*ML, 6.00*ML, 7.00*ML,

199 8.00*
ML
, 9.00*ML,10.00*ML,10.00*ML,12.00*ML,12.00*ML,15.00*ML,15.00*ML

201 #unde‡
ML


204 
INT32
 
	gRATE_0
[16]= {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

209 
	gnum_lock
 = 0;

212 *
	gcur_chù
 = 
NULL
;

215 
OPL_CH
 *
	gS_CH
;

216 
OPL_CH
 *
	gE_CH
;

217 
OPL_SLOT
 *
	gSLOT7_1
,*
	gSLOT7_2
,*
	gSLOT8_1
,*
	gSLOT8_2
;

219 
INT32
 
	goutd
[1];

220 
INT32
 
	gams
;

221 
INT32
 
	gvib
;

222 
INT32
 *
	gams_èbÀ
;

223 
INT32
 *
	gvib_èbÀ
;

224 
INT32
 
	gamsIn¸
;

225 
INT32
 
	gvibIn¸
;

226 
INT32
 
	g„edback2
;

229 
	#LOG_ERR
 3

	)

230 
	#LOG_WAR
 2

	)

231 
	#LOG_INF
 1

	)

234 
	#LOG_LEVEL
 
LOG_ERR


	)

237 
	#LOG
(
n
,
x
)

	)

241 
INLINE
 
	$Limô
–
vÆ
, 
max
, 
mö
 ) {

242 i‡–
vÆ
 > 
max
 )

243 
vÆ
 = 
max
;

244 i‡–
vÆ
 < 
mö
 )

245 
vÆ
 = 
mö
;

247  
vÆ
;

248 
	}
}

251 
INLINE
 
	$OPL_STATUS_SET
(
FM_OPL
 *
OPL
,
Êag
) {

253 
OPL
->
°©us
 |
Êag
;

254 i‡(!(
OPL
->
°©us
 & 0x80)) {

255 i‡(
OPL
->
°©us
 & OPL->
°©usmask
) {

256 
OPL
->
°©us
 |= 0x80;

258 i‡(
OPL
->
IRQH™dÀr
Ë(OPL->IRQH™dÀr)(OPL->
IRQP¨am
,1);

261 
	}
}

264 
INLINE
 
	$OPL_STATUS_RESET
(
FM_OPL
 *
OPL
,
Êag
) {

266 
OPL
->
°©us
 &=~
Êag
;

267 i‡((
OPL
->
°©us
 & 0x80)) {

268 i‡(!(
OPL
->
°©us
 & OPL->
°©usmask
) ) {

269 
OPL
->
°©us
 &= 0x7f;

271 i‡(
OPL
->
IRQH™dÀr
Ë(OPL->IRQH™dÀr)(OPL->
IRQP¨am
,0);

274 
	}
}

277 
INLINE
 
	$OPL_STATUSMASK_SET
(
FM_OPL
 *
OPL
,
Êag
) {

278 
OPL
->
°©usmask
 = 
Êag
;

280 
	`OPL_STATUS_SET
(
OPL
,0);

281 
	`OPL_STATUS_RESET
(
OPL
,0);

282 
	}
}

285 
INLINE
 
	$OPL_KEYON
(
OPL_SLOT
 *
SLOT
) {

287 
SLOT
->
C¡
 = 0;

289 
SLOT
->
evm
 = 
ENV_MOD_AR
;

290 
SLOT
->
evs
 = SLOT->
evß
;

291 
SLOT
->
evc
 = 
EG_AST
;

292 
SLOT
->
eve
 = 
EG_AED
;

293 
	}
}

295 
INLINE
 
	$OPL_KEYOFF
(
OPL_SLOT
 *
SLOT
) {

296 i‡–
SLOT
->
evm
 > 
ENV_MOD_RR
) {

298 
SLOT
->
evm
 = 
ENV_MOD_RR
;

299 i‡–!(
SLOT
->
evc
&
EG_DST
) )

301 
SLOT
->
evc
 = 
EG_DST
;

302 
SLOT
->
eve
 = 
EG_DED
;

303 
SLOT
->
evs
 = SLOT->
ev§
;

305 
	}
}

309 
INLINE
 
UINT32
 
	$OPL_CALC_SLOT
–
OPL_SLOT
 *
SLOT
 ) {

311 i‡–(
SLOT
->
evc
+=SLOT->
evs
Ë>SLOT->
eve
 ) {

312  
SLOT
->
evm
 ) {

313 
ENV_MOD_AR
:

315 
SLOT
->
evm
 = 
ENV_MOD_DR
;

316 
SLOT
->
evc
 = 
EG_DST
;

317 
SLOT
->
eve
 = SLOT->
SL
;

318 
SLOT
->
evs
 = SLOT->
evsd
;

320 
ENV_MOD_DR
:

321 
SLOT
->
evc
 = SLOT->
SL
;

322 
SLOT
->
eve
 = 
EG_DED
;

323 i‡(
SLOT
->
eg_typ
) {

324 
SLOT
->
evs
 = 0;

326 
SLOT
->
evm
 = 
ENV_MOD_RR
;

327 
SLOT
->
evs
 = SLOT->
ev§
;

330 
ENV_MOD_RR
:

331 
SLOT
->
evc
 = 
EG_OFF
;

332 
SLOT
->
eve
 = 
EG_OFF
+1;

333 
SLOT
->
evs
 = 0;

338  
SLOT
->
TLL
+
ENV_CURVE
[SLOT->
evc
>>
ENV_BITS
]+(SLOT->
ams
 ?áms : 0);

339 
	}
}

342 
	$£t_Æg‹ythm
–
OPL_CH
 *
CH
) {

343 
INT32
 *
ˇºõr
 = &
outd
[0];

344 
CH
->
c⁄√˘1
 = CH->
CON
 ? 
ˇºõr
 : &
„edback2
;

345 
CH
->
c⁄√˘2
 = 
ˇºõr
;

346 
	}
}

349 
INLINE
 
	$CALC_FCSLOT
(
OPL_CH
 *
CH
,
OPL_SLOT
 *
SLOT
) {

350 
k§
;

353 
SLOT
->
In¸
 = 
CH
->
fc
 * SLOT->
mul
;

354 
k§
 = 
CH
->
kcode
 >> 
SLOT
->
KSR
;

356 i‡–
SLOT
->
k§
 != ksr ) {

357 
SLOT
->
k§
 = ksr;

359 
SLOT
->
evß
 = SLOT->
AR
[
k§
];

360 
SLOT
->
evsd
 = SLOT->
DR
[
k§
];

361 
SLOT
->
ev§
 = SLOT->
RR
[
k§
];

363 
SLOT
->
TLL
 = SLOT->
TL
 + (
CH
->
k¶_ba£
>>SLOT->
k¶
);

364 
	}
}

367 
INLINE
 
	$£t_mul
(
FM_OPL
 *
OPL
,
¶Ÿ
,
v
) {

368 
OPL_CH
 *
CH
 = &
OPL
->
P_CH
[
¶Ÿ
/2];

369 
OPL_SLOT
 *
SLOT
 = &
CH
->SLOT[
¶Ÿ
&1];

371 
SLOT
->
mul
 = 
MUL_TABLE
[
v
&0x0f];

372 
SLOT
->
KSR
 = (
v
&0x10) ? 0 : 2;

373 
SLOT
->
eg_typ
 = (
v
&0x20)>>5;

374 
SLOT
->
vib
 = (
v
&0x40);

375 
SLOT
->
ams
 = (
v
&0x80);

376 
	`CALC_FCSLOT
(
CH
,
SLOT
);

377 
	}
}

380 
INLINE
 
	$£t_k¶_é
(
FM_OPL
 *
OPL
,
¶Ÿ
,
v
) {

381 
OPL_CH
 *
CH
 = &
OPL
->
P_CH
[
¶Ÿ
/2];

382 
OPL_SLOT
 *
SLOT
 = &
CH
->SLOT[
¶Ÿ
&1];

383 
k¶
 = 
v
>>6;

385 
SLOT
->
k¶
 = ksl ? 3-ksl : 31;

386 
SLOT
->
TL
 = (
v
&0x3f)*(0.75/
EG_STEP
);

388 i‡–!(
OPL
->
mode
&0x80) ) {

389 
SLOT
->
TLL
 = SLOT->
TL
 + (
CH
->
k¶_ba£
>>SLOT->
k¶
);

391 
	}
}

394 
INLINE
 
	$£t_¨_dr
(
FM_OPL
 *
OPL
,
¶Ÿ
,
v
) {

395 
OPL_CH
 *
CH
 = &
OPL
->
P_CH
[
¶Ÿ
/2];

396 
OPL_SLOT
 *
SLOT
 = &
CH
->SLOT[
¶Ÿ
&1];

397 
¨
 = 
v
>>4;

398 
dr
 = 
v
&0x0f;

400 
SLOT
->
AR
 = 
¨
 ? &
OPL
->
AR_TABLE
[¨<<2] : 
RATE_0
;

401 
SLOT
->
evß
 = SLOT->
AR
[SLOT->
k§
];

402 i‡–
SLOT
->
evm
 =
ENV_MOD_AR
 ) SLOT->
evs
 = SLOT->
evß
;

404 
SLOT
->
DR
 = 
dr
 ? &
OPL
->
DR_TABLE
[dr<<2] : 
RATE_0
;

405 
SLOT
->
evsd
 = SLOT->
DR
[SLOT->
k§
];

406 i‡–
SLOT
->
evm
 =
ENV_MOD_DR
 ) SLOT->
evs
 = SLOT->
evsd
;

407 
	}
}

410 
INLINE
 
	$£t_¶_º
(
FM_OPL
 *
OPL
,
¶Ÿ
,
v
) {

411 
OPL_CH
 *
CH
 = &
OPL
->
P_CH
[
¶Ÿ
/2];

412 
OPL_SLOT
 *
SLOT
 = &
CH
->SLOT[
¶Ÿ
&1];

413 
¶
 = 
v
>>4;

414 
º
 = 
v
 & 0x0f;

416 
SLOT
->
SL
 = 
SL_TABLE
[
¶
];

417 i‡–
SLOT
->
evm
 =
ENV_MOD_DR
 ) SLOT->
eve
 = SLOT->
SL
;

418 
SLOT
->
RR
 = &
OPL
->
DR_TABLE
[
º
<<2];

419 
SLOT
->
ev§
 = SLOT->
RR
[SLOT->
k§
];

420 i‡–
SLOT
->
evm
 =
ENV_MOD_RR
 ) SLOT->
evs
 = SLOT->
ev§
;

421 
	}
}

424 
	#OP_OUT
(
¶Ÿ
,
ív
,
c⁄
Ë¶Ÿ->
wavëabÀ
[((¶Ÿ->
C¡
+c⁄)/(0x1000000/
SIN_ENT
))&(SIN_ENT-1)][ív]

	)

426 
INLINE
 
	$OPL_CALC_CH
–
OPL_CH
 *
CH
 ) {

427 
UINT32
 
ív_out
;

428 
OPL_SLOT
 *
SLOT
;

430 
„edback2
 = 0;

432 
SLOT
 = &
CH
->SLOT[
SLOT1
];

433 
ív_out
=
	`OPL_CALC_SLOT
(
SLOT
);

434 i‡–
ív_out
 < 
EG_ENT
-1 ) {

436 i‡(
SLOT
->
vib
ËSLOT->
C¡
 +(SLOT->
In¸
*vib/
VIB_RATE
);

437 
SLOT
->
C¡
 +SLOT->
In¸
;

439 i‡(
CH
->
FB
) {

440 
„edback1
 = (
CH
->
›1_out
[0]+CH->›1_out[1])>>CH->
FB
;

441 
CH
->
›1_out
[1] = CH->op1_out[0];

442 *
CH
->
c⁄√˘1
 +CH->
›1_out
[0] = 
	`OP_OUT
(
SLOT
,
ív_out
,
„edback1
);

444 *
CH
->
c⁄√˘1
 +
	`OP_OUT
(
SLOT
,
ív_out
,0);

447 
CH
->
›1_out
[1] = CH->op1_out[0];

448 
CH
->
›1_out
[0] = 0;

451 
SLOT
 = &
CH
->SLOT[
SLOT2
];

452 
ív_out
=
	`OPL_CALC_SLOT
(
SLOT
);

453 i‡–
ív_out
 < 
EG_ENT
-1 ) {

455 i‡(
SLOT
->
vib
ËSLOT->
C¡
 +(SLOT->
In¸
*vib/
VIB_RATE
);

456 
SLOT
->
C¡
 +SLOT->
In¸
;

458 
outd
[0] +
	`OP_OUT
(
SLOT
,
ív_out
, 
„edback2
);

460 
	}
}

463 
	#WHITE_NOISE_db
 6.0

	)

464 
INLINE
 
	$OPL_CALC_RH
–
OPL_CH
 *
CH
 ) {

465 
UINT32
 
ív_èm
,
ív_sd
,
ív_t›
,
ív_hh
;

466 
whôíoi£
 = (
	`ønd
()&1)*(
WHITE_NOISE_db
/
EG_STEP
);

467 
INT32
 
t⁄e8
;

469 
OPL_SLOT
 *
SLOT
;

470 
ív_out
;

473 
„edback2
 = 0;

475 
SLOT
 = &
CH
[6].SLOT[
SLOT1
];

476 
ív_out
=
	`OPL_CALC_SLOT
(
SLOT
);

477 i‡–
ív_out
 < 
EG_ENT
-1 ) {

479 i‡(
SLOT
->
vib
ËSLOT->
C¡
 +(SLOT->
In¸
*vib/
VIB_RATE
);

480 
SLOT
->
C¡
 +SLOT->
In¸
;

482 i‡(
CH
[6].
FB
) {

483 
„edback1
 = (
CH
[6].
›1_out
[0]+CH[6].›1_out[1])>>CH[6].
FB
;

484 
CH
[6].
›1_out
[1] = CH[6].op1_out[0];

485 
„edback2
 = 
CH
[6].
›1_out
[0] = 
	`OP_OUT
(
SLOT
,
ív_out
,
„edback1
);

487 
„edback2
 = 
	`OP_OUT
(
SLOT
,
ív_out
,0);

490 
„edback2
 = 0;

491 
CH
[6].
›1_out
[1] = CH[6].op1_out[0];

492 
CH
[6].
›1_out
[0] = 0;

495 
SLOT
 = &
CH
[6].SLOT[
SLOT2
];

496 
ív_out
=
	`OPL_CALC_SLOT
(
SLOT
);

497 i‡–
ív_out
 < 
EG_ENT
-1 ) {

499 i‡(
SLOT
->
vib
ËSLOT->
C¡
 +(SLOT->
In¸
*vib/
VIB_RATE
);

500 
SLOT
->
C¡
 +SLOT->
In¸
;

502 
outd
[0] +
	`OP_OUT
(
SLOT
,
ív_out
, 
„edback2
)*2;

509 
ív_sd
 =
	`OPL_CALC_SLOT
(
SLOT7_2
Ë+ 
whôíoi£
;

510 
ív_èm
=
	`OPL_CALC_SLOT
(
SLOT8_1
);

511 
ív_t›
=
	`OPL_CALC_SLOT
(
SLOT8_2
);

512 
ív_hh
 =
	`OPL_CALC_SLOT
(
SLOT7_1
Ë+ 
whôíoi£
;

515 i‡(
SLOT7_1
->
vib
ËSLOT7_1->
C¡
 +(2*SLOT7_1->
In¸
*vib/
VIB_RATE
);

516 
SLOT7_1
->
C¡
 +2*SLOT7_1->
In¸
;

517 i‡(
SLOT7_2
->
vib
ËSLOT7_2->
C¡
 +((
CH
[7].
fc
*8)*vib/
VIB_RATE
);

518 
SLOT7_2
->
C¡
 +(
CH
[7].
fc
*8);

519 i‡(
SLOT8_1
->
vib
ËSLOT8_1->
C¡
 +(SLOT8_1->
In¸
*vib/
VIB_RATE
);

520 
SLOT8_1
->
C¡
 +SLOT8_1->
In¸
;

521 i‡(
SLOT8_2
->
vib
ËSLOT8_2->
C¡
 +((
CH
[8].
fc
*48)*vib/
VIB_RATE
);

522 
SLOT8_2
->
C¡
 +(
CH
[8].
fc
*48);

524 
t⁄e8
 = 
	`OP_OUT
(
SLOT8_2
,
whôíoi£
,0 );

527 i‡–
ív_sd
 < 
EG_ENT
-1 )

528 
outd
[0] +
	`OP_OUT
(
SLOT7_1
,
ív_sd
, 0)*8;

530 i‡–
ív_èm
 < 
EG_ENT
-1 )

531 
outd
[0] +
	`OP_OUT
(
SLOT8_1
,
ív_èm
, 0)*2;

533 i‡–
ív_t›
 < 
EG_ENT
-1 )

534 
outd
[0] +
	`OP_OUT
(
SLOT7_2
,
ív_t›
,
t⁄e8
)*2;

536 i‡–
ív_hh
 < 
EG_ENT
-1 )

537 
outd
[0] +
	`OP_OUT
(
SLOT7_2
,
ív_hh
,
t⁄e8
)*2;

538 
	}
}

541 
	$öô_timëabÀs
–
FM_OPL
 *
OPL
 , 
ARRATE
 , 
DRRATE
 ) {

542 
i
;

543 
øã
;

546 
i
 = 0;ò< 4;i++Ë
OPL
->
AR_TABLE
[i] = OPL->
DR_TABLE
[i] = 0;

547 
i
 = 4;i <= 60;i++) {

548 
øã
 = 
OPL
->
‰eqba£
;

549 i‡–
i
 < 60 ) 
øã
 *= 1.0+(i&3)*0.25;

550 
øã
 *1<<((
i
>>2)-1);

551 
øã
 *()(
EG_ENT
<<
ENV_BITS
);

552 
OPL
->
AR_TABLE
[
i
] = 
øã
 / 
ARRATE
;

553 
OPL
->
DR_TABLE
[
i
] = 
øã
 / 
DRRATE
;

555 
i
 = 60;i < 76;i++) {

556 
OPL
->
AR_TABLE
[
i
] = 
EG_AED
-1;

557 
OPL
->
DR_TABLE
[
i
] = OPL->DR_TABLE[60];

560 
i
 = 0;i < 64 ;i++) {

561 
	`LOG
(
LOG_WAR
,("øã %2d ,á∏%‡m†, d∏%‡m†\n",
i
,

562 (()(
EG_ENT
<<
ENV_BITS
Ë/ 
OPL
->
AR_TABLE
[
i
]Ë* (1000.0 / OPL->
øã
),

563 (()(
EG_ENT
<<
ENV_BITS
Ë/ 
OPL
->
DR_TABLE
[
i
]Ë* (1000.0 / OPL->
øã
) ));

566 
	}
}

569 
	$OPLO≥nTabÀ
( ) {

570 
s
,
t
;

571 
øã
;

572 
i
,
j
;

573 
pom
;

576 i‡–(
TL_TABLE
 = (
INT32
 *)
	`mÆloc
(
TL_MAX
*2*(INT32))Ë=
NULL
)

578 i‡–(
SIN_TABLE
 = (
INT32
 **)
	`mÆloc
(
SIN_ENT
*4 *(INT32 *))Ë=
NULL
) {

579 
	`‰ì
(
TL_TABLE
);

582 i‡–(
AMS_TABLE
 = (
INT32
 *)
	`mÆloc
(
AMS_ENT
*2 *(INT32))Ë=
NULL
) {

583 
	`‰ì
(
TL_TABLE
);

584 
	`‰ì
(
SIN_TABLE
);

587 i‡–(
VIB_TABLE
 = (
INT32
 *)
	`mÆloc
(
VIB_ENT
*2 *(INT32))Ë=
NULL
) {

588 
	`‰ì
(
TL_TABLE
);

589 
	`‰ì
(
SIN_TABLE
);

590 
	`‰ì
(
AMS_TABLE
);

594 
t
 = 0;à< 
EG_ENT
-1 ;t++) {

595 
øã
 = ((1<<
TL_BITS
)-1)/
	`pow
(10,
EG_STEP
*
t
/20);

596 
TL_TABLE
[ 
t
] = ()
øã
;

597 
TL_TABLE
[
TL_MAX
+
t
] = -TL_TABLE[t];

601  
t
 = 
EG_ENT
-1;Å < 
TL_MAX
 ;t++) {

602 
TL_TABLE
[
t
] = TL_TABLE[
TL_MAX
+t] = 0;

607 
SIN_TABLE
[0] = SIN_TABLE[
SIN_ENT
/2] = &
TL_TABLE
[
EG_ENT
-1];

608 
s
 = 1;†<
SIN_ENT
/4;s++) {

609 
pom
 = 
	`sö
(2*
PI
*
s
/
SIN_ENT
);

610 
pom
 = 20*
	`log10
(1/pom);

611 
j
 = 
pom
 / 
EG_STEP
;

614 
SIN_TABLE
[ 
s
] = SIN_TABLE[
SIN_ENT
/2-s] = &
TL_TABLE
[
j
];

616 
SIN_TABLE
[
SIN_ENT
/2+
s
] = SIN_TABLE[SIN_ENT -s] = &
TL_TABLE
[
TL_MAX
+
j
];

619 
s
 = 0;†< 
SIN_ENT
;s++) {

620 
SIN_TABLE
[
SIN_ENT
*1+
s
] = s<(SIN_ENT/2Ë? SIN_TABLE[s] : &
TL_TABLE
[
EG_ENT
];

621 
SIN_TABLE
[
SIN_ENT
*2+
s
] = SIN_TABLE[s % (SIN_ENT/2)];

622 
SIN_TABLE
[
SIN_ENT
*3+
s
] = (s/(SIN_ENT/4))&1 ? &
TL_TABLE
[
EG_ENT
] : SIN_TABLE[SIN_ENT*2+s];

626 
i
=0; i<
EG_ENT
; i++) {

628 
pom
 = 
	`pow
–(()(
EG_ENT
-1-
i
)/EG_ENT) , 8 ) * EG_ENT;

630 
ENV_CURVE
[
i
] = ()
pom
;

632 
ENV_CURVE
[(
EG_DST
>>
ENV_BITS
)+
i
]= i;

635 
ENV_CURVE
[
EG_OFF
>>
ENV_BITS
]
EG_ENT
-1;

637 
i
=0; i<
AMS_ENT
; i++) {

638 
pom
 = (1.0+
	`sö
(2*
PI
*
i
/
AMS_ENT
))/2;

639 
AMS_TABLE
[
i
] = (1.0/
EG_STEP
)*
pom
;

640 
AMS_TABLE
[
AMS_ENT
+
i
] = (4.8/
EG_STEP
)*
pom
;

643 
i
=0; i<
VIB_ENT
; i++) {

645 
pom
 = ()
VIB_RATE
*0.06*
	`sö
(2*
PI
*
i
/
VIB_ENT
);

646 
VIB_TABLE
[
i
] = 
VIB_RATE
 + (
pom
*0.07);

647 
VIB_TABLE
[
VIB_ENT
+
i
] = 
VIB_RATE
 + (
pom
*0.14);

651 
	}
}

654 
	$OPLClo£TabÀ
( ) {

655 
	`‰ì
(
TL_TABLE
);

656 
	`‰ì
(
SIN_TABLE
);

657 
	`‰ì
(
AMS_TABLE
);

658 
	`‰ì
(
VIB_TABLE
);

659 
	}
}

662 
INLINE
 
	$CSMKeyC⁄åﬁl
(
OPL_CH
 *
CH
) {

663 
OPL_SLOT
 *
¶Ÿ1
 = &
CH
->
SLOT
[
SLOT1
];

664 
OPL_SLOT
 *
¶Ÿ2
 = &
CH
->
SLOT
[
SLOT2
];

666 
	`OPL_KEYOFF
(
¶Ÿ1
);

667 
	`OPL_KEYOFF
(
¶Ÿ2
);

669 
¶Ÿ1
->
TLL
 = slŸ1->
TL
 + (
CH
->
k¶_ba£
>>¶Ÿ1->
k¶
);

670 
¶Ÿ1
->
TLL
 = slŸ1->
TL
 + (
CH
->
k¶_ba£
>>¶Ÿ1->
k¶
);

672 
CH
->
›1_out
[0] = CH->op1_out[1] = 0;

673 
	`OPL_KEYON
(
¶Ÿ1
);

674 
	`OPL_KEYON
(
¶Ÿ2
);

675 
	}
}

678 
	$OPL_öôÆize
(
FM_OPL
 *
OPL
) {

679 
‚
;

682 
OPL
->
‰eqba£
 = (OPL->
øã
Ë? (()OPL->
˛ock
 / OPL->rate) / 72 : 0;

684 
OPL
->
TimîBa£
 = 1.0/(()OPL->
˛ock
 / 72.0 );

686 
	`öô_timëabÀs
–
OPL
 , 
OPL_ARRATE
 , 
OPL_DRRATE
 );

688  
‚
=0 ; fn < 1024 ; fn++ ) {

689 
OPL
->
FN_TABLE
[
‚
] = OPL->
‰eqba£
 * f¿* 
FREQ_RATE
 * (1<<7) / 2;

692 
OPL
->
amsIn¸
 = OPL->
øã
 ? ()
AMS_ENT
*(1<<
AMS_SHIFT
Ë/ OPL->øã * 3.7 * (()OPL->
˛ock
/3600000) : 0;

693 
OPL
->
vibIn¸
 = OPL->
øã
 ? ()
VIB_ENT
*(1<<
VIB_SHIFT
Ë/ OPL->øã * 6.4 * (()OPL->
˛ock
/3600000) : 0;

694 
	}
}

697 
	$OPLWrôeReg
(
FM_OPL
 *
OPL
, 
r
, 
v
) {

698 
OPL_CH
 *
CH
;

699 
¶Ÿ
;

700 
block_‚um
;

702 
r
&0xe0) {

704 
r
&0x1f) {

707 i‡(
OPL
->
ty≥
&
OPL_TYPE_WAVESEL
) {

708 
OPL
->
wave£l
 = 
v
&0x20;

709 i‡(!
OPL
->
wave£l
) {

711 
c
;

712 
c
=0;c<
OPL
->
max_ch
;c++) {

713 
OPL
->
P_CH
[
c
].
SLOT
[
SLOT1
].
wavëabÀ
 = &
SIN_TABLE
[0];

714 
OPL
->
P_CH
[
c
].
SLOT
[
SLOT2
].
wavëabÀ
 = &
SIN_TABLE
[0];

720 
OPL
->
T
[0] = (256-
v
)*4;

723 
OPL
->
T
[1] = (256-
v
)*16;

726 i‡(
v
&0x80) {

727 
	`OPL_STATUS_RESET
(
OPL
,0x7f);

729 
UINT8
 
°1
 = 
v
&1;

730 
UINT8
 
°2
 = (
v
>>1)&1;

732 
	`OPL_STATUS_RESET
(
OPL
,
v
&0x78);

733 
	`OPL_STATUSMASK_SET
(
OPL
,((~
v
)&0x78)|0x01);

735 i‡(
OPL
->
°
[1] !
°2
) {

736 
öãrvÆ
 = 
°2
 ? ()
OPL
->
T
[1]*OPL->
TimîBa£
 : 0.0;

737 
OPL
->
°
[1] = 
°2
;

738 i‡(
OPL
->
TimîH™dÀr
Ë(OPL->TimîH™dÀr)(OPL->
TimîP¨am
+1,
öãrvÆ
);

741 i‡(
OPL
->
°
[0] !
°1
) {

742 
öãrvÆ
 = 
°1
 ? ()
OPL
->
T
[0]*OPL->
TimîBa£
 : 0.0;

743 
OPL
->
°
[0] = 
°1
;

744 i‡(
OPL
->
TimîH™dÀr
Ë(OPL->TimîH™dÀr)(OPL->
TimîP¨am
+0,
öãrvÆ
);

748 #i‡
BUILD_Y8950


750 i‡(
OPL
->
ty≥
&
OPL_TYPE_KEYBOARD
) {

751 i‡(
OPL
->
keybﬂrdh™dÀr_w
)

752 
OPL
->
	`keybﬂrdh™dÀr_w
(OPL->
keybﬂrd_∑øm
,
v
);

754 
	`LOG
(
LOG_WAR
,("OPL:write unmapped KEYBOARDÖort\n"));

758 i‡(
OPL
->
ty≥
&
OPL_TYPE_ADPCM
)

759 
	`YM_DELTAT_ADPCM_Wrôe
(
OPL
->
dñèt
,
r
-0x07,
v
);

762 
OPL
->
mode
 = 
v
;

763 
v
&=0x1f;

774 i‡(
OPL
->
ty≥
&
OPL_TYPE_ADPCM
)

775 
	`YM_DELTAT_ADPCM_Wrôe
(
OPL
->
dñèt
,
r
-0x07,
v
);

783 i‡(
OPL
->
ty≥
&
OPL_TYPE_IO
)

784 
OPL
->
p‹tDúe˘i⁄
 = 
v
&0x0f;

787 i‡(
OPL
->
ty≥
&
OPL_TYPE_IO
) {

788 
OPL
->
p‹tL©ch
 = 
v
;

789 i‡(
OPL
->
p‹th™dÀr_w
)

790 
OPL
->
	`p‹th™dÀr_w
(OPL->
p‹t_∑øm
,
v
&OPL->
p‹tDúe˘i⁄
);

800 
¶Ÿ
 = 
¶Ÿ_¨øy
[
r
&0x1f];

801 i‡(
¶Ÿ
 == -1) ;

802 
	`£t_mul
(
OPL
,
¶Ÿ
,
v
);

805 
¶Ÿ
 = 
¶Ÿ_¨øy
[
r
&0x1f];

806 i‡(
¶Ÿ
 == -1) ;

807 
	`£t_k¶_é
(
OPL
,
¶Ÿ
,
v
);

810 
¶Ÿ
 = 
¶Ÿ_¨øy
[
r
&0x1f];

811 i‡(
¶Ÿ
 == -1) ;

812 
	`£t_¨_dr
(
OPL
,
¶Ÿ
,
v
);

815 
¶Ÿ
 = 
¶Ÿ_¨øy
[
r
&0x1f];

816 i‡(
¶Ÿ
 == -1) ;

817 
	`£t_¶_º
(
OPL
,
¶Ÿ
,
v
);

820 
r
) {

824 
UINT8
 
rkey
 = 
OPL
->
rythm
^
v
;

825 
OPL
->
ams_èbÀ
 = &
AMS_TABLE
[
v
&0x80 ? 
AMS_ENT
 : 0];

826 
OPL
->
vib_èbÀ
 = &
VIB_TABLE
[
v
&0x40 ? 
VIB_ENT
 : 0];

827 
OPL
->
rythm
 = 
v
&0x3f;

828 i‡(
OPL
->
rythm
&0x20) {

830 
	`u§ötf_showmesßge
("OPL Rythm mode select");

833 i‡(
rkey
&0x10) {

834 i‡(
v
&0x10) {

835 
OPL
->
P_CH
[6].
›1_out
[0] = OPL->P_CH[6].op1_out[1] = 0;

836 
	`OPL_KEYON
(&
OPL
->
P_CH
[6].
SLOT
[
SLOT1
]);

837 
	`OPL_KEYON
(&
OPL
->
P_CH
[6].
SLOT
[
SLOT2
]);

839 
	`OPL_KEYOFF
(&
OPL
->
P_CH
[6].
SLOT
[
SLOT1
]);

840 
	`OPL_KEYOFF
(&
OPL
->
P_CH
[6].
SLOT
[
SLOT2
]);

844 i‡(
rkey
&0x08) {

845 i‡(
v
&0x08Ë
	`OPL_KEYON
(&
OPL
->
P_CH
[7].
SLOT
[
SLOT2
]);

846 
	`OPL_KEYOFF
(&
OPL
->
P_CH
[7].
SLOT
[
SLOT2
]);

848 i‡(
rkey
&0x04) {

849 i‡(
v
&0x04Ë
	`OPL_KEYON
(&
OPL
->
P_CH
[8].
SLOT
[
SLOT1
]);

850 
	`OPL_KEYOFF
(&
OPL
->
P_CH
[8].
SLOT
[
SLOT1
]);

853 i‡(
rkey
&0x02) {

854 i‡(
v
&0x02Ë
	`OPL_KEYON
(&
OPL
->
P_CH
[8].
SLOT
[
SLOT2
]);

855 
	`OPL_KEYOFF
(&
OPL
->
P_CH
[8].
SLOT
[
SLOT2
]);

858 i‡(
rkey
&0x01) {

859 i‡(
v
&0x01Ë
	`OPL_KEYON
(&
OPL
->
P_CH
[7].
SLOT
[
SLOT1
]);

860 
	`OPL_KEYOFF
(&
OPL
->
P_CH
[7].
SLOT
[
SLOT1
]);

867 i‡–(
r
&0x0f) > 8) ;

868 
CH
 = &
OPL
->
P_CH
[
r
&0x0f];

869 i‡(!(
r
&0x10)) {

870 
block_‚um
 = (
CH
->block_‚um&0x1f00Ë| 
v
;

872 
key⁄
 = (
v
>>5)&1;

873 
block_‚um
 = ((
v
&0x1f)<<8Ë| (
CH
->block_fnum&0xff);

874 i‡(
CH
->
key⁄
 != keyon) {

875 i‡–(
CH
->
key⁄
=keyon) ) {

876 
CH
->
›1_out
[0] = CH->op1_out[1] = 0;

877 
	`OPL_KEYON
(&
CH
->
SLOT
[
SLOT1
]);

878 
	`OPL_KEYON
(&
CH
->
SLOT
[
SLOT2
]);

880 
	`OPL_KEYOFF
(&
CH
->
SLOT
[
SLOT1
]);

881 
	`OPL_KEYOFF
(&
CH
->
SLOT
[
SLOT2
]);

886 i‡(
CH
->
block_‚um
 != block_fnum) {

887 
blockRv
 = 7-(
block_‚um
>>10);

888 
‚um
 = 
block_‚um
&0x3ff;

889 
CH
->
block_‚um
 = block_fnum;

891 
CH
->
k¶_ba£
 = 
KSL_TABLE
[
block_‚um
>>6];

892 
CH
->
fc
 = 
OPL
->
FN_TABLE
[
‚um
]>>
blockRv
;

893 
CH
->
kcode
 = CH->
block_‚um
>>9;

894 i‡–(
OPL
->
mode
&0x40Ë&& 
CH
->
block_‚um
&0x100ËCH->
kcode
 |=1;

895 
	`CALC_FCSLOT
(
CH
,&CH->
SLOT
[
SLOT1
]);

896 
	`CALC_FCSLOT
(
CH
,&CH->
SLOT
[
SLOT2
]);

901 i‡–(
r
&0x0f) > 8) ;

902 
CH
 = &
OPL
->
P_CH
[
r
&0x0f];

904 
„edback
 = (
v
>>1)&7;

905 
CH
->
FB
 = 
„edback
 ? (8+1) - feedback : 0;

906 
CH
->
CON
 = 
v
&1;

907 
	`£t_Æg‹ythm
(
CH
);

911 
¶Ÿ
 = 
¶Ÿ_¨øy
[
r
&0x1f];

912 i‡(
¶Ÿ
 == -1) ;

913 
CH
 = &
OPL
->
P_CH
[
¶Ÿ
/2];

914 i‡(
OPL
->
wave£l
) {

916 
CH
->
SLOT
[
¶Ÿ
&1].
wavëabÀ
 = &
SIN_TABLE
[(
v
&0x03)*
SIN_ENT
];

920 
	}
}

923 
	$OPL_LockTabÀ
() {

924 
num_lock
++;

925 i‡(
num_lock
>1)  0;

927 
cur_chù
 = 
NULL
;

929 i‡–!
	`OPLO≥nTabÀ
() ) {

930 
num_lock
--;

934 
	}
}

936 
	$OPL_UnLockTabÀ
() {

937 i‡(
num_lock
)Çum_lock--;

938 i‡(
num_lock
) ;

940 
cur_chù
 = 
NULL
;

941 
	`OPLClo£TabÀ
();

942 
	}
}

944 #i‡(
BUILD_YM3812
 || 
BUILD_YM3526
)

950 
	$YM3812Upd©eO√
(
FM_OPL
 *
OPL
, 
INT16
 *
buf„r
, 
Àngth
) {

951 
i
;

952 
d©a
;

953 
OPLSAMPLE
 *
buf
 = 
buf„r
;

954 
UINT32
 
amsC¡
 = 
OPL
->amsCnt;

955 
UINT32
 
vibC¡
 = 
OPL
->vibCnt;

956 
UINT8
 
rythm
 = 
OPL
->rythm&0x20;

957 
OPL_CH
 *
CH
,*
R_CH
;

959 i‡–(*)
OPL
 !
cur_chù
 ) {

960 
cur_chù
 = (*)
OPL
;

962 
S_CH
 = 
OPL
->
P_CH
;

963 
E_CH
 = &
S_CH
[9];

965 
SLOT7_1
 = &
S_CH
[7].
SLOT
[
SLOT1
];

966 
SLOT7_2
 = &
S_CH
[7].
SLOT
[
SLOT2
];

967 
SLOT8_1
 = &
S_CH
[8].
SLOT
[
SLOT1
];

968 
SLOT8_2
 = &
S_CH
[8].
SLOT
[
SLOT2
];

970 
amsIn¸
 = 
OPL
->amsIncr;

971 
vibIn¸
 = 
OPL
->vibIncr;

972 
ams_èbÀ
 = 
OPL
->ams_table;

973 
vib_èbÀ
 = 
OPL
->vib_table;

975 
R_CH
 = 
rythm
 ? &
S_CH
[6] : 
E_CH
;

976  
i
=0; i < 
Àngth
 ; i++ ) {

979 
ams
 = 
ams_èbÀ
[(
amsC¡
+=
amsIn¸
)>>
AMS_SHIFT
];

980 
vib
 = 
vib_èbÀ
[(
vibC¡
+=
vibIn¸
)>>
VIB_SHIFT
];

981 
outd
[0] = 0;

983 
CH
=
S_CH
 ; CH < 
R_CH
 ; CH++)

984 
	`OPL_CALC_CH
(
CH
);

986 i‡(
rythm
)

987 
	`OPL_CALC_RH
(
S_CH
);

989 
d©a
 = 
	`Limô
–
outd
[0] , 
OPL_MAXOUT
, 
OPL_MINOUT
 );

991 
buf
[
i
] = 
d©a
 >> 
OPL_OUTSB
;

994 
OPL
->
amsC¡
 =ámsCnt;

995 
OPL
->
vibC¡
 = vibCnt;

996 #ifde‡
OPL_OUTPUT_LOG


997 i‡(
›l_dbg_Â
) {

998 
›l_dbg_chù
=0;›l_dbg_chù<
›l_dbg_maxchù
;opl_dbg_chip++)

999 i‡–
›l_dbg_›l
[
›l_dbg_chù
] =
OPL
) ;

1000 
	`Ârötf
(
›l_dbg_Â
,"%c%c%c",0x20+
›l_dbg_chù
,
Àngth
&0xff,length/256);

1003 
	}
}

1006 #i‡
BUILD_Y8950


1008 
	$Y8950Upd©eO√
(
FM_OPL
 *
OPL
, 
INT16
 *
buf„r
, 
Àngth
) {

1009 
i
;

1010 
d©a
;

1011 
OPLSAMPLE
 *
buf
 = 
buf„r
;

1012 
UINT32
 
amsC¡
 = 
OPL
->amsCnt;

1013 
UINT32
 
vibC¡
 = 
OPL
->vibCnt;

1014 
UINT8
 
rythm
 = 
OPL
->rythm&0x20;

1015 
OPL_CH
 *
CH
,*
R_CH
;

1016 
YM_DELTAT
 *
DELTAT
 = 
OPL
->
dñèt
;

1019 
	`YM_DELTAT_DECODE_PRESET
(
DELTAT
);

1021 i‡–(*)
OPL
 !
cur_chù
 ) {

1022 
cur_chù
 = (*)
OPL
;

1024 
S_CH
 = 
OPL
->
P_CH
;

1025 
E_CH
 = &
S_CH
[9];

1027 
SLOT7_1
 = &
S_CH
[7].
SLOT
[
SLOT1
];

1028 
SLOT7_2
 = &
S_CH
[7].
SLOT
[
SLOT2
];

1029 
SLOT8_1
 = &
S_CH
[8].
SLOT
[
SLOT1
];

1030 
SLOT8_2
 = &
S_CH
[8].
SLOT
[
SLOT2
];

1032 
amsIn¸
 = 
OPL
->amsIncr;

1033 
vibIn¸
 = 
OPL
->vibIncr;

1034 
ams_èbÀ
 = 
OPL
->ams_table;

1035 
vib_èbÀ
 = 
OPL
->vib_table;

1037 
R_CH
 = 
rythm
 ? &
S_CH
[6] : 
E_CH
;

1038  
i
=0; i < 
Àngth
 ; i++ ) {

1041 
ams
 = 
ams_èbÀ
[(
amsC¡
+=
amsIn¸
)>>
AMS_SHIFT
];

1042 
vib
 = 
vib_èbÀ
[(
vibC¡
+=
vibIn¸
)>>
VIB_SHIFT
];

1043 
outd
[0] = 0;

1045 i‡–
DELTAT
->
p‹t°©e
 )

1046 
	`YM_DELTAT_ADPCM_CALC
(
DELTAT
);

1048 
CH
=
S_CH
 ; CH < 
R_CH
 ; CH++)

1049 
	`OPL_CALC_CH
(
CH
);

1051 i‡(
rythm
)

1052 
	`OPL_CALC_RH
(
S_CH
);

1054 
d©a
 = 
	`Limô
–
outd
[0] , 
OPL_MAXOUT
, 
OPL_MINOUT
 );

1056 
buf
[
i
] = 
d©a
 >> 
OPL_OUTSB
;

1058 
OPL
->
amsC¡
 =ámsCnt;

1059 
OPL
->
vibC¡
 = vibCnt;

1061 i‡–!
DELTAT
->
p‹t°©e
 )

1062 
OPL
->
°©us
 &= 0xfe;

1063 
	}
}

1067 
	$OPLRe£tChù
(
FM_OPL
 *
OPL
) {

1068 
c
,
s
;

1069 
i
;

1072 
OPL
->
mode
 = 0;

1073 
	`OPL_STATUS_RESET
(
OPL
,0x7f);

1075 
	`OPLWrôeReg
(
OPL
,0x01,0);

1076 
	`OPLWrôeReg
(
OPL
,0x02,0);

1077 
	`OPLWrôeReg
(
OPL
,0x03,0);

1078 
	`OPLWrôeReg
(
OPL
,0x04,0);

1079 
i
 = 0xf‡; i >0x20 ; i-- ) 
	`OPLWrôeReg
(
OPL
,i,0);

1081  
c
 = 0 ; c < 
OPL
->
max_ch
 ; c++ ) {

1082 
OPL_CH
 *
CH
 = &
OPL
->
P_CH
[
c
];

1084 
s
 = 0 ; s < 2 ; s++ ) {

1086 
CH
->
SLOT
[
s
].
wavëabÀ
 = &
SIN_TABLE
[0];

1088 
CH
->
SLOT
[
s
].
evc
 = 
EG_OFF
;

1089 
CH
->
SLOT
[
s
].
eve
 = 
EG_OFF
+1;

1090 
CH
->
SLOT
[
s
].
evs
 = 0;

1093 #i‡
BUILD_Y8950


1094 i‡(
OPL
->
ty≥
&
OPL_TYPE_ADPCM
) {

1095 
YM_DELTAT
 *
DELTAT
 = 
OPL
->
dñèt
;

1097 
DELTAT
->
‰eqba£
 = 
OPL
->freqbase;

1098 
DELTAT
->
ouçut_poöãr
 = 
outd
;

1099 
DELTAT
->
p‹tshi·
 = 5;

1100 
DELTAT
->
ouçut_ønge
 = 
DELTAT_MIXING_LEVEL
<<
TL_BITS
;

1101 
	`YM_DELTAT_ADPCM_Re£t
(
DELTAT
,0);

1104 
	}
}

1108 
FM_OPL
 *
	$OPLCª©e
(
ty≥
, 
˛ock
, 
øã
) {

1109 *
±r
;

1110 
FM_OPL
 *
OPL
;

1111 
°©e_size
;

1112 
max_ch
 = 9;

1114 i‡–
	`OPL_LockTabÀ
(Ë==-1Ë 
NULL
;

1116 
°©e_size
 = (
FM_OPL
);

1117 
°©e_size
 +(
OPL_CH
)*
max_ch
;

1118 #i‡
BUILD_Y8950


1119 i‡(
ty≥
&
OPL_TYPE_ADPCM
Ë
°©e_size
+(
YM_DELTAT
);

1122 
±r
 = (*)
	`mÆloc
(
°©e_size
);

1123 i‡(
±r
==
NULL
)  NULL;

1125 
	`mem£t
(
±r
,0,
°©e_size
);

1126 
OPL
 = (
FM_OPL
 *)
±r
;

1127 
±r
+=(
FM_OPL
);

1128 
OPL
->
P_CH
 = (
OPL_CH
 *)
±r
;

1129 
±r
+=(
OPL_CH
)*
max_ch
;

1130 #i‡
BUILD_Y8950


1131 i‡(
ty≥
&
OPL_TYPE_ADPCM
Ë
OPL
->
dñèt
 = (
YM_DELTAT
 *)
±r
;

1132 
±r
+=(
YM_DELTAT
);

1135 
OPL
->
ty≥
 =Åype;

1136 
OPL
->
˛ock
 = clock;

1137 
OPL
->
øã
 =Ñate;

1138 
OPL
->
max_ch
 = max_ch;

1140 
	`OPL_öôÆize
(
OPL
);

1142 
	`OPLRe£tChù
(
OPL
);

1143 #ifde‡
OPL_OUTPUT_LOG


1144 i‡(!
›l_dbg_Â
) {

1145 
›l_dbg_Â
 = 
	`f›í
("opllog.opl","wb");

1146 
›l_dbg_maxchù
 = 0;

1148 i‡(
›l_dbg_Â
) {

1149 
›l_dbg_›l
[
›l_dbg_maxchù
] = 
OPL
;

1150 
	`Ârötf
(
›l_dbg_Â
,"%c%c%c%c%c%c",0x00+
›l_dbg_maxchù
,

1151 
ty≥
,

1152 
˛ock
&0xff,

1153 (
˛ock
/0x100)&0xff,

1154 (
˛ock
/0x10000)&0xff,

1155 (
˛ock
/0x1000000)&0xff);

1156 
›l_dbg_maxchù
++;

1159  
OPL
;

1160 
	}
}

1163 
	$OPLDe°roy
(
FM_OPL
 *
OPL
) {

1164 #ifde‡
OPL_OUTPUT_LOG


1165 i‡(
›l_dbg_Â
) {

1166 
	`f˛o£
(
›l_dbg_Â
);

1167 
›l_dbg_Â
 = 
NULL
;

1170 
	`OPL_UnLockTabÀ
();

1171 
	`‰ì
(
OPL
);

1172 
	}
}

1176 
	$OPLSëTimîH™dÀr
(
FM_OPL
 *
OPL
,
OPL_TIMERHANDLER
 
TimîH™dÀr
,
ch™√lOff£t
) {

1177 
OPL
->
TimîH™dÀr
 = TimerHandler;

1178 
OPL
->
TimîP¨am
 = 
ch™√lOff£t
;

1179 
	}
}

1180 
	$OPLSëIRQH™dÀr
(
FM_OPL
 *
OPL
,
OPL_IRQHANDLER
 
IRQH™dÀr
,
∑øm
) {

1181 
OPL
->
IRQH™dÀr
 = IRQHandler;

1182 
OPL
->
IRQP¨am
 = 
∑øm
;

1183 
	}
}

1184 
	$OPLSëUpd©eH™dÀr
(
FM_OPL
 *
OPL
,
OPL_UPDATEHANDLER
 
Upd©eH™dÀr
,
∑øm
) {

1185 
OPL
->
Upd©eH™dÀr
 = UpdateHandler;

1186 
OPL
->
Upd©eP¨am
 = 
∑øm
;

1187 
	}
}

1188 #i‡
BUILD_Y8950


1189 
	$OPLSëP‹tH™dÀr
(
FM_OPL
 *
OPL
,
OPL_PORTHANDLER_W
 
P‹tH™dÀr_w
,
OPL_PORTHANDLER_R
 
P‹tH™dÀr_r
,
∑øm
) {

1190 
OPL
->
p‹th™dÀr_w
 = 
P‹tH™dÀr_w
;

1191 
OPL
->
p‹th™dÀr_r
 = 
P‹tH™dÀr_r
;

1192 
OPL
->
p‹t_∑øm
 = 
∑øm
;

1193 
	}
}

1195 
	$OPLSëKeybﬂrdH™dÀr
(
FM_OPL
 *
OPL
,
OPL_PORTHANDLER_W
 
KeybﬂrdH™dÀr_w
,
OPL_PORTHANDLER_R
 
KeybﬂrdH™dÀr_r
,
∑øm
) {

1196 
OPL
->
keybﬂrdh™dÀr_w
 = 
KeybﬂrdH™dÀr_w
;

1197 
OPL
->
keybﬂrdh™dÀr_r
 = 
KeybﬂrdH™dÀr_r
;

1198 
OPL
->
keybﬂrd_∑øm
 = 
∑øm
;

1199 
	}
}

1202 
	$OPLWrôe
(
FM_OPL
 *
OPL
,
a
,
v
) {

1203 i‡–!(
a
&1) ) {

1204 
OPL
->
addªss
 = 
v
 & 0xff;

1206 i‡(
OPL
->
Upd©eH™dÀr
ËOPL->
	`Upd©eH™dÀr
(OPL->
Upd©eP¨am
,0);

1207 #ifde‡
OPL_OUTPUT_LOG


1208 i‡(
›l_dbg_Â
) {

1209 
›l_dbg_chù
=0;›l_dbg_chù<
›l_dbg_maxchù
;opl_dbg_chip++)

1210 i‡–
›l_dbg_›l
[
›l_dbg_chù
] =
OPL
) ;

1211 
	`Ârötf
(
›l_dbg_Â
,"%c%c%c",0x10+
›l_dbg_chù
,
OPL
->
addªss
,
v
);

1214 
	`OPLWrôeReg
(
OPL
,OPL->
addªss
,
v
);

1216  
OPL
->
°©us
>>7;

1217 
	}
}

1219 
	$OPLRód
(
FM_OPL
 *
OPL
,
a
) {

1220 i‡–!(
a
&1) ) {

1221  
OPL
->
°©us
 & (OPL->
°©usmask
|0x80);

1224 
OPL
->
addªss
) {

1226 i‡(
OPL
->
ty≥
&
OPL_TYPE_KEYBOARD
) {

1227 i‡(
OPL
->
keybﬂrdh™dÀr_r
)

1228  
OPL
->
	`keybﬂrdh™dÀr_r
(OPL->
keybﬂrd_∑øm
);

1230 
	`LOG
(
LOG_WAR
,("OPL:read unmapped KEYBOARDÖort\n"));

1238 i‡(
OPL
->
ty≥
&
OPL_TYPE_IO
) {

1239 i‡(
OPL
->
p‹th™dÀr_r
)

1240  
OPL
->
	`p‹th™dÀr_r
(OPL->
p‹t_∑øm
);

1242 
	`LOG
(
LOG_WAR
,("OPL:read unmapped I/OÖort\n"));

1249 
	}
}

1251 
	$OPLTimîOvî
(
FM_OPL
 *
OPL
,
c
) {

1252 i‡–
c
 ) {

1253 
	`OPL_STATUS_SET
(
OPL
,0x20);

1255 
	`OPL_STATUS_SET
(
OPL
,0x40);

1257 i‡–
OPL
->
mode
 & 0x80 ) {

1258 
ch
;

1259 i‡(
OPL
->
Upd©eH™dÀr
ËOPL->
	`Upd©eH™dÀr
(OPL->
Upd©eP¨am
,0);

1260 
ch
=0;ch<9;ch++)

1261 
	`CSMKeyC⁄åﬁl
–&
OPL
->
P_CH
[
ch
] );

1265 i‡(
OPL
->
TimîH™dÀr
Ë(OPL->TimîH™dÀr)(OPL->
TimîP¨am
+
c
,()OPL->
T
[c]*OPL->
TimîBa£
);

1266  
OPL
->
°©us
>>7;

1267 
	}
}

	@adplug/fmopl.h

1 #i‚de‡
__FMOPL_H_


2 
	#__FMOPL_H_


	)

4 #ifde‡
_MSC_VER


5 #¥agm®
w¨nög
 (
dißbÀ
:4018)

6 #¥agm®
w¨nög
 (
dißbÀ
:4244)

7 #¥agm®
w¨nög
 (
dißbÀ
:4996)

11 
	#BUILD_YM3812
 (
HAS_YM3812
)

	)

17 
	#OPL_OUTPUT_BIT
 16

	)

20 #i‚de‡
OSD_CPU_H


21 
	#OSD_CPU_H


	)

22 
	tUINT8
;

23 
	tUINT16
;

24 
	tUINT32
;

25 sig√d 
	tINT8
;

26 sig√d 
	tINT16
;

27 sig√d 
	tINT32
;

30 #i‡(
OPL_OUTPUT_BIT
==16)

31 
INT16
 
	tOPLSAMPLE
;

33 #i‡(
OPL_OUTPUT_BIT
==8)

34 
	tOPLSAMPLE
;

38 #i‡
BUILD_Y8950


39 
	~"ymdñèt.h
"

42 (*
	tOPL_TIMERHANDLER
)(
	tch™√l
,
	töãrvÆ_Sec
);

43 (*
	tOPL_IRQHANDLER
)(
	t∑øm
,
	túq
);

44 (*
	tOPL_UPDATEHANDLER
)(
	t∑øm
,
	tmö_öãrvÆ_us
);

45 (*
	tOPL_PORTHANDLER_W
)(
	t∑øm
,
	td©a
);

46 (*
	tOPL_PORTHANDLER_R
)(
	t∑øm
);

50 
	#OPL_TYPE_WAVESEL
 0x01

	)

51 
	#OPL_TYPE_ADPCM
 0x02

	)

52 
	#OPL_TYPE_KEYBOARD
 0x04

	)

53 
	#OPL_TYPE_IO
 0x08

	)

57 
	sfm_›l_¶Ÿ
 {

58 
INT32
 
TL
;

59 
INT32
 
TLL
;

60 
UINT8
 
KSR
;

61 
INT32
 *
AR
;

62 
INT32
 *
DR
;

63 
INT32
 
SL
;

64 
INT32
 *
RR
;

65 
UINT8
 
k¶
;

66 
UINT8
 
k§
;

67 
UINT32
 
mul
;

68 
UINT32
 
C¡
;

69 
UINT32
 
In¸
;

71 
UINT8
 
eg_typ
;

72 
UINT8
 
evm
;

73 
INT32
 
evc
;

74 
INT32
 
eve
;

75 
INT32
 
evs
;

76 
INT32
 
evß
;

77 
INT32
 
evsd
;

78 
INT32
 
ev§
;

80 
UINT8
 
ams
;

81 
UINT8
 
vib
;

83 
INT32
 **
wavëabÀ
;

84 }
	tOPL_SLOT
;

87 
	sfm_›l_ch™√l
 {

88 
OPL_SLOT
 
SLOT
[2];

89 
UINT8
 
CON
;

90 
UINT8
 
FB
;

91 
INT32
 *
c⁄√˘1
;

92 
INT32
 *
c⁄√˘2
;

93 
INT32
 
›1_out
[2];

95 
UINT32
 
block_‚um
;

96 
UINT8
 
kcode
;

97 
UINT32
 
fc
;

98 
UINT32
 
k¶_ba£
;

99 
UINT8
 
key⁄
;

100 } 
	tOPL_CH
;

103 
	sfm_›l_f
 {

104 
UINT8
 
ty≥
;

105 
˛ock
;

106 
øã
;

107 
‰eqba£
;

108 
TimîBa£
;

109 
UINT8
 
addªss
;

110 
UINT8
 
°©us
;

111 
UINT8
 
°©usmask
;

112 
UINT32
 
mode
;

114 
T
[2];

115 
UINT8
 
°
[2];

117 
OPL_CH
 *
P_CH
;

118 
max_ch
;

120 
UINT8
 
rythm
;

121 #i‡
BUILD_Y8950


123 
YM_DELTAT
 *
dñèt
;

126 
UINT8
 
p‹tDúe˘i⁄
;

127 
UINT8
 
p‹tL©ch
;

128 
OPL_PORTHANDLER_R
 
p‹th™dÀr_r
;

129 
OPL_PORTHANDLER_W
 
p‹th™dÀr_w
;

130 
p‹t_∑øm
;

131 
OPL_PORTHANDLER_R
 
keybﬂrdh™dÀr_r
;

132 
OPL_PORTHANDLER_W
 
keybﬂrdh™dÀr_w
;

133 
keybﬂrd_∑øm
;

135 
INT32
 
AR_TABLE
[75];

136 
INT32
 
DR_TABLE
[75];

137 
UINT32
 
FN_TABLE
[1024];

139 
INT32
 *
ams_èbÀ
;

140 
INT32
 *
vib_èbÀ
;

141 
INT32
 
amsC¡
;

142 
INT32
 
amsIn¸
;

143 
INT32
 
vibC¡
;

144 
INT32
 
vibIn¸
;

146 
UINT8
 
wave£l
;

148 
OPL_TIMERHANDLER
 
TimîH™dÀr
;

149 
TimîP¨am
;

150 
OPL_IRQHANDLER
 
IRQH™dÀr
;

151 
IRQP¨am
;

152 
OPL_UPDATEHANDLER
 
Upd©eH™dÀr
;

153 
Upd©eP¨am
;

154 } 
	tFM_OPL
;

157 
	#OPL_TYPE_YM3526
 (0)

	)

158 
	#OPL_TYPE_YM3812
 (
OPL_TYPE_WAVESEL
)

	)

159 
	#OPL_TYPE_Y8950
 (
OPL_TYPE_ADPCM
|
OPL_TYPE_KEYBOARD
|
OPL_TYPE_IO
)

	)

161 
FM_OPL
 *
	`OPLCª©e
(
ty≥
, 
˛ock
, 
øã
);

162 
	`OPLDe°roy
(
FM_OPL
 *
OPL
);

163 
	`OPLSëTimîH™dÀr
(
FM_OPL
 *
OPL
,
OPL_TIMERHANDLER
 
TimîH™dÀr
,
ch™√lOff£t
);

164 
	`OPLSëIRQH™dÀr
(
FM_OPL
 *
OPL
,
OPL_IRQHANDLER
 
IRQH™dÀr
,
∑øm
);

165 
	`OPLSëUpd©eH™dÀr
(
FM_OPL
 *
OPL
,
OPL_UPDATEHANDLER
 
Upd©eH™dÀr
,
∑øm
);

167 
	`OPLSëP‹tH™dÀr
(
FM_OPL
 *
OPL
,
OPL_PORTHANDLER_W
 
P‹tH™dÀr_w
,
OPL_PORTHANDLER_R
 
P‹tH™dÀr_r
,
∑øm
);

168 
	`OPLSëKeybﬂrdH™dÀr
(
FM_OPL
 *
OPL
,
OPL_PORTHANDLER_W
 
KeybﬂrdH™dÀr_w
,
OPL_PORTHANDLER_R
 
KeybﬂrdH™dÀr_r
,
∑øm
);

170 
	`OPLRe£tChù
(
FM_OPL
 *
OPL
);

171 
	`OPLWrôe
(
FM_OPL
 *
OPL
,
a
,
v
);

172 
	`OPLRód
(
FM_OPL
 *
OPL
,
a
);

173 
	`OPLTimîOvî
(
FM_OPL
 *
OPL
,
c
);

176 
	`YM3812Upd©eO√
(
FM_OPL
 *
OPL
, 
INT16
 *
buf„r
, 
Àngth
);

178 
	`Y8950Upd©eO√
(
FM_OPL
 *
OPL
, 
INT16
 *
buf„r
, 
Àngth
);

	@adplug/fprovide.cpp

22 
	~<°rög.h
>

23 
	~"böio.h
"

24 
	~"böfûe.h
"

26 
	~"Ârovide.h
"

28 #ifde‡
__SYMBIAN32__


29 
	#°ricmp
 
°rˇ£cmp


	)

31 #i‚de‡
_WIN32


32 
	#°ricmp
 
°rˇ£cmp


	)

37 
boﬁ
 
	gCFûeProvidî
::
	$exãnsi⁄
(c⁄° 
°d
::
°rög
 &
fûíame
,

38 c⁄° 
°d
::
°rög
 &
exãnsi⁄
) {

39 c⁄° *
‚ame
 = 
fûíame
.
	`c_°r
(), *
ext
 = 
exãnsi⁄
.c_str();

41 i‡(
	`°æí
(
‚ame
Ë< såÀn(
ext
) ||

42 
	`°ricmp
(
‚ame
 + 
	`°æí
(‚ameË- såÀn(
ext
),Éxt))

43  
Ál£
;

45  
åue
;

46 
	}
}

48 
	gCFûeProvidî
::
	$fûesize
(
böi°ªam
 *
f
) {

49 
ﬁdpos
 = 
f
->
	`pos
(), 
size
;

51 
f
->
	`£ek
(0, 
böio
::
End
);

52 
size
 = 
f
->
	`pos
();

53 
f
->
	`£ek
(
ﬁdpos
, 
böio
::
Së
);

55  
size
;

56 
	}
}

60 
böi°ªam
 *
	gCProvidî_Fûesy°em
::
	$›í
(
°d
::
°rög
 
fûíame
) const {

61 
böif°ªam
 *
f
 = 
√w
 
	`böif°ªam
(
fûíame
);

63 i‡(!
f
)  0;

64 i‡(
f
->
	`îr‹
()) {

65 
dñëe
 
f
;

70 
f
->
	`£tFœg
(
böio
::
BigEndün
, 
Ál£
);

71 
f
->
	`£tFœg
(
böio
::
FlﬂtIEEE
);

73  
f
;

74 
	}
}

76 
	gCProvidî_Fûesy°em
::
	$˛o£
(
böi°ªam
 *
f
) const {

77 
böif°ªam
 *
ff
 = (böif°ªam *)
f
;

79 i‡(
f
) {

80 
ff
->
	`˛o£
();

81 
dñëe
 
ff
;

83 
	}
}

	@adplug/fprovide.h

22 #i‚de‡
H_ADPLUG_FILEPROVIDER


23 
	#H_ADPLUG_FILEPROVIDER


	)

25 
	~<°rög
>

26 
	~"böio.h
"

28 ˛as†
	cCFûeProvidî
 {

29 
	mpublic
:

30 
vútuÆ
 ~
	$CFûeProvidî
() {

33 
vútuÆ
 
böi°ªam
 *
	$›í
(
°d
::
°rög
) const = 0;

34 
vútuÆ
 
	$˛o£
(
böi°ªam
 *) const = 0;

36 
boﬁ
 
	`exãnsi⁄
(c⁄° 
°d
::
°rög
 &
fûíame
,

37 c⁄° 
°d
::
°rög
 &
exãnsi⁄
);

38 
	`fûesize
(
böi°ªam
 *
f
);

39 
	}
};

41 ˛as†
	cCProvidî_Fûesy°em
: 
public
 
CFûeProvidî
 {

42 
public
:

43 
vútuÆ
 
böi°ªam
 *
	$›í
(
°d
::
°rög
 
fûíame
) const;

44 
vútuÆ
 
	$˛o£
(
böi°ªam
 *
f
) const;

	@adplug/opl.h

22 #i‚de‡
H_ADPLUG_OPL


23 
	#H_ADPLUG_OPL


	)

25 ˛as†
	cC›l
 {

26 
	mpublic
:

28 
TYPE_OPL2
, 
	mTYPE_OPL3
, 
	mTYPE_DUAL_OPL2


29 } 
	tChùTy≥
;

31 
	$C›l
()

32 : 
	`cuºChù
(0), 
	$cuºTy≥
(
TYPE_OPL2
) {

33 
	}
}

35 
	gvútuÆ
 ~
	$C›l
() {

36 
	}
}

38 
vútuÆ
 
	$wrôe
(
ªg
, 
vÆ
Ë{
	}
}

39 
vútuÆ
 
	$£tchù
(
n
) {

40 i‡(
n
 < 2)

41 
cuºChù
 = 
n
;

42 
	}
}

44 
vútuÆ
 
	$gëchù
() {

45  
cuºChù
;

46 
	}
}

48 
vútuÆ
 
	$öô
(Ë{
	}
}

51 
ChùTy≥
 
	$gëty≥
() {

52  
cuºTy≥
;

53 
	}
}

56 
vútuÆ
 
	$upd©e
(*
buf
, 
ßm∂es
Ë{
	}
}

58 
	g¥Ÿe˘ed
:

59 
cuºChù
;

60 
ChùTy≥
 
	gcuºTy≥
;

	@adplug/player.cpp

22 
	~"∂ayî.h
"

23 
	~"›l.h
"

27 c⁄° 
	gCPœyî
::
nŸe_èbÀ
[12] =

30 c⁄° 
	gCPœyî
::
›_èbÀ
[9] =

33 
	gCPœyî
::
	$CPœyî
(
C›l
 *
√w›l
)

34 : 
	$›l
(
√w›l
) {

35 
	}
}

37 
CPœyî
::~
	$CPœyî
() {

38 
	}
}

40 
CPœyî
::
	$s⁄gÀngth
(
subs⁄g
) {

41 
C›l
 
ãmp›l
;

42 
C›l
 *
ßve›l
 = 
›l
;

43 
¶ígth
 = 0.0f;

46 
›l
 = &
ãmp›l
;

49 
	`ªwöd
(
subs⁄g
);

50 
	`upd©e
(Ë&& 
¶ígth
 < 600000)

51 
¶ígth
 +1000.0‡/ 
	`gëª‰esh
();

52 
	`ªwöd
(
subs⁄g
);

55 
›l
 = 
ßve›l
;

56  ()
¶ígth
;

57 
	}
}

59 
	gCPœyî
::
	$£ek
(
ms
) {

60 
pos
 = 0.0f;

62 
	`ªwöd
();

63 
pos
 < 
ms
 && 
	`upd©e
())

64 
pos
 +1000/
	`gëª‰esh
();

65 
	}
}

	@adplug/player.h

22 #i‚de‡
H_ADPLUG_PLAYER


23 
	#H_ADPLUG_PLAYER


	)

25 
	~<°rög
>

27 
	~"Ârovide.h
"

28 
	~"›l.h
"

30 ˛as†
	cCPœyî
 {

31 
	mpublic
:

32 
CPœyî
(
C›l
 *
√w›l
);

33 
	mvútuÆ
 ~
CPœyî
();

36 
£ek
(
ms
);

38 
vútuÆ
 
boﬁ
 
lﬂd
(c⁄° 
°d
::
°rög
 &
fûíame
,

39 c⁄° 
CFûeProvidî
 &
Â
 = 
CProvidî_Fûesy°em
()) = 0;

40 
vútuÆ
 
boﬁ
 
upd©e
() = 0;

41 
vútuÆ
 
ªwöd
(
subs⁄g
 = -1) = 0;

42 
vútuÆ
 
gëª‰esh
() = 0;

45 
s⁄gÀngth
(
subs⁄g
 = -1);

47 
vútuÆ
 
	m°d
::
°rög
 
gëty≥
() = 0;

48 
vútuÆ
 
	m°d
::
°rög
 
	$gëtôÀ
() {

49  
°d
::
	`°rög
();

51 
vútuÆ
 
°d
::
°rög
 
	$gëauth‹
() {

52  
°d
::
	`°rög
();

53 
	}
}

54 
vútuÆ
 
	g°d
::
°rög
 
	$gëdesc
() {

55  
°d
::
	`°rög
();

56 
	}
}

57 
vútuÆ
 
	$gë∑âîns
() {

59 
	}
}

60 
vútuÆ
 
	$gë∑âîn
() {

62 
	}
}

63 
vútuÆ
 
	$gë‹dîs
() {

65 
	}
}

66 
vútuÆ
 
	$gë‹dî
() {

68 
	}
}

69 
vútuÆ
 
	$gërow
() {

71 
	}
}

72 
vútuÆ
 
	$gë•ìd
() {

74 
	}
}

75 
vútuÆ
 
	$gësubs⁄gs
() {

77 
	}
}

78 
vútuÆ
 
	$gëö°rumíts
() {

80 
	}
}

81 
vútuÆ
 
	g°d
::
°rög
 
	$gëö°rumít
(
n
) {

82  
°d
::
	`°rög
();

83 
	}
}

85 
	g¥Ÿe˘ed
:

86 
C›l
 *
›l
;

88 c⁄° 
	gnŸe_èbÀ
[12];

89 c⁄° 
	g›_èbÀ
[9];

	@adplug/rix.cpp

23 
	~<c°rög
>

24 
	~<c°dlib
>

25 
	~"rix.h
"

27 
usög
 
«me•a˚
 
	g°d
;

29 #i‡!
deföed
(
_WIN32
Ë|| deföed(
__SYMBIAN32__
)

30 
	#°ricmp
 
°rˇ£cmp


	)

33 #i‡
deföed
(
__hµa__
) || \

34 
deföed
(
__m68k__
Ë|| deföed(
mc68000
Ë|| deföed(
_M_M68K
) || \

35 (
deföed
(
__MIPS__
Ë&& deföed(
__MISPEB__
)) || \

36 
deföed
(
__µc__
Ë|| deföed(
__POWERPC__
Ë|| deföed(
_M_PPC
) || \

37 
	$deföed
(
__•¨c__
)

39 
	#RIX_SWAP32
(
a
Ë((◊Ë<< 24Ë| ((◊Ë<< 8Ë& 0x00FF0000Ë| ((◊Ë>> 8Ë& 0x0000FF00Ë| (◊Ë>> 24))

	)

42 
	#RIX_SWAP32
(
a
Ë◊)

	)

45 c⁄° 
uöt8_t
 
CrixPœyî
::
adÊag
[] = {0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,1
	}
};

46 c⁄° 
uöt8_t
 
	gCrixPœyî
::
ªg_d©a
[] = {0,1,2,3,4,5,8,9,10,11,12,13,16,17,18,19,20,21};

47 c⁄° 
uöt8_t
 
	gCrixPœyî
::
ad_C0_offs
[] = {0,1,2,0,1,2,3,4,5,3,4,5,6,7,8,6,7,8};

48 c⁄° 
uöt8_t
 
	gCrixPœyî
::
modify
[] = {0,3,1,4,2,5,6,9,7,10,8,11,12,15,13,16,14,17,12,\

50 c⁄° 
uöt8_t
 
	gCrixPœyî
::
bd_ªg_d©a
[] = {

63 
uöt8_t
 
	gCrixPœyî
::
f‹40ªg
[] = {0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,

65 c⁄° 
uöt16_t
 
	gCrixPœyî
::
mus_time
 = 0x4268;

69 
CPœyî
 *
	gCrixPœyî
::
	$Á˘‹y
(
C›l
 *
√w›l
)

71  
√w
 
	`CrixPœyî
(
√w›l
);

72 
	}
}

74 
	gCrixPœyî
::
	$CrixPœyî
(
C›l
 *
√w›l
)

75 : 
	`CPœyî
(
√w›l
), 
	`Êag_mkf
(0), 
	`fûe_buf„r
(0), 
	$rix_buf
(0)

77 
	}
}

79 
	gCrixPœyî
::~
	$CrixPœyî
()

81 if(
fûe_buf„r
)

82 
dñëe
 [] 
fûe_buf„r
;

83 
	}
}

85 
boﬁ
 
	gCrixPœyî
::
	$lﬂd
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
CFûeProvidî
 &
Â
)

87 
böi°ªam
 *
f
 = 
Â
.
	`›í
(
fûíame
); if(!fË 
Ál£
;

88 
uöt32_t
 
i
=0;

90 if(
	`°ricmp
(
fûíame
.
	`sub°r
(fûíame.
	`Àngth
()-4,4).
	`c_°r
(),".mkf")==0)

92 
Êag_mkf
=1;

93 
f
->
	`£ek
(0);

94 
off£t
=
f
->
	`ªadI¡
(4);

95 
f
->
	`£ek
(
off£t
);

97 if(
f
->
	`ªadI¡
(2)!=0x55Ø){ 
Â
.
	`˛o£
(f); 
Ál£
; }

98 
fûe_buf„r
 = 
√w
 
uöt8_t
 [
Â
.
	`fûesize
(
f
) + 1];

99 
f
->
	`£ek
(0);

100 !
f
->
	`eof
())

101 
fûe_buf„r
[
i
++]=
f
->
	`ªadI¡
(1);

102 
Àngth
=
i
;

103 
Â
.
	`˛o£
(
f
);

104 if(!
Êag_mkf
)

105 
rix_buf
=
fûe_buf„r
;

106 
	`ªwöd
(0);

107  
åue
;

108 
	}
}

110 
boﬁ
 
	gCrixPœyî
::
	$upd©e
()

112 
	`öt_08h_íåy
();

113  !
∂ay_íd
;

114 
	}
}

116 
	gCrixPœyî
::
	$ªwöd
(
subs⁄g
)

118 
I
 = 0; 
T
 = 0;

119 
mus_block
 = 0;

120 
ös_block
 = 0;

121 
rhythm
 = 0;

122 
music_⁄
 = 0;

123 
∑u£_Êag
 = 0;

124 
b™d
 = 0;

125 
b™d_low
 = 0;

126 
e0_ªg_Êag
 = 0;

127 
bd_modify
 = 0;

128 
su°aö
 = 0;

129 
∂ay_íd
 = 0;

130 
pos
 = 
ödex
 = 0;

132 
	`mem£t
(
f_buf„r
, 0, (f_buffer));

133 
	`mem£t
(
a0b0_d©a2
, 0, (a0b0_data2));

134 
	`mem£t
(
a0b0_d©a3
, 0, (a0b0_data3));

135 
	`mem£t
(
a0b0_d©a4
, 0, (a0b0_data4));

136 
	`mem£t
(
a0b0_d©a5
, 0, (a0b0_data5));

137 
	`mem£t
(
addrs_hód
, 0, (addrs_head));

138 
	`mem£t
(
ösbuf
, 0, (insbuf));

139 
	`mem£t
(
di•œ˚
, 0, (displace));

140 
	`mem£t
(
ªg_bufs
, 0, (reg_bufs));

141 
	`mem£t
(
f‹40ªg
, 0x7F, (for40reg));

143 if(
Êag_mkf
)

145 
uöt32_t
 *
buf_ödex
=(uöt32_à*)
fûe_buf„r
;

146 
off£t1
=
	`RIX_SWAP32
(
buf_ödex
[
subs⁄g
]),
off£t2
;

147 (
off£t2
=
	`RIX_SWAP32
(
buf_ödex
[++
subs⁄g
]))==
off£t1
);

148 
Àngth
=
off£t2
-
off£t1
+1;

149 
rix_buf
=
fûe_buf„r
+
off£t1
;

151 
›l
->
	`öô
();

152 
›l
->
	`wrôe
(1,32);

153 
	`£t_√w_öt
();

154 
	`d©a_öôül
();

155 
	}
}

157 
	gCrixPœyî
::
	$gësubs⁄gs
()

159 if(
Êag_mkf
)

161 
uöt32_t
 *
buf_ödex
=(uöt32_à*)
fûe_buf„r
;

162 
s⁄gs
=
	`RIX_SWAP32
(
buf_ödex
[0])/4,
i
=0;

163 
i
=0;i<
s⁄gs
;i++)

164 if(
buf_ödex
[
i
+1]==buf_index[i])

165 
s⁄gs
--;

166  
s⁄gs
;

170 
	}
}

172 
	gCrixPœyî
::
	$gëª‰esh
()

175 
	}
}

178 
ölöe
 
	gCrixPœyî
::
	$£t_√w_öt
()

181 
	`ad_öôül
();

182 
	}
}

184 
ölöe
 
	gCrixPœyî
::
	$Pau£
()

186 
uöt16_t
 
i
;

187 
∑u£_Êag
 = 1;

188 
i
=0;i<11;i++)

189 
	`swôch_ad_bd
(
i
);

190 
	}
}

192 
ölöe
 
	gCrixPœyî
::
	$ad_a0b0l_ªg_
(
uöt16_t
 
ödex
,uöt16_à
p2
,uöt16_à
p3
)

195 
a0b0_d©a4
[
ödex
] = 
p3
;

196 
a0b0_d©a3
[
ödex
] = 
p2
;

197 
	}
}

198 
ölöe
 
	gCrixPœyî
::
	$d©a_öôül
()

200 
rhythm
 = 
rix_buf
[2];

201 
mus_block
 = (
rix_buf
[0x0D]<<8)+rix_buf[0x0C];

202 
ös_block
 = (
rix_buf
[0x09]<<8)+rix_buf[0x08];

203 
I
 = 
mus_block
+1;

204 if(
rhythm
 != 0)

206 
	`ad_a0b0_ªg
(6);

207 
	`ad_a0b0_ªg
(7);

208 
	`ad_a0b0_ªg
(8);

209 
	`ad_a0b0l_ªg_
(8,0x18,0);

210 
	`ad_a0b0l_ªg_
(7,0x1F,0);

212 
bd_modify
 = 0;

213 
	`ad_bd_ªg
();

214 
b™d
 = 0; 
music_⁄
 = 1;

215 
	}
}

217 
ölöe
 
uöt16_t
 
	gCrixPœyî
::
	$ad_öôül
()

219 
uöt16_t
 
i
,
j
,
k
 = 0;

220 
i
=0;i<25;i++)

222 
uöt32_t
 
ªs
 = ((uöt32_t)
i
*24+10000)*52088/250000*0x24000/0x1B503;

223 
f_buf„r
[
i
*12]=((
uöt16_t
)
ªs
+4)>>3;

224 
t
=1;t<12;t++)

226 
ªs
*=1.06;

227 
f_buf„r
[
i
*12+
t
]=((
uöt16_t
)
ªs
+4)>>3;

230 
i
=0;i<8;i++)

231 
j
=0;j<12;j++)

233 
a0b0_d©a5
[
k
] = 
i
;

234 
addrs_hód
[
k
] = 
j
;

235 
k
++;

237 
	`ad_bd_ªg
();

238 
	`ad_08_ªg
();

239 
i
=0;i<9;i++Ë
	`ad_a0b0_ªg
(i);

240 
e0_ªg_Êag
 = 0x20;

241 
i
=0;i<18;i++Ë
	`ad_b›
(0xE0+
ªg_d©a
[i],0);

242 
	`ad_b›
(1,
e0_ªg_Êag
);

244 
	}
}

246 
ölöe
 
	gCrixPœyî
::
	$ad_b›
(
uöt16_t
 
ªg
,uöt16_à
vÆue
)

250 
›l
->
	`wrôe
(
ªg
 & 0xff, 
vÆue
 & 0xff);

251 
	}
}

253 
ölöe
 
	gCrixPœyî
::
	$öt_08h_íåy
()

255 
uöt16_t
 
b™d_sus
 = 1;

256 
b™d_sus
)

258 if(
su°aö
 <= 0)

260 
b™d_sus
 = 
	`rix_¥oc
();

261 if(
b™d_sus
Ë
su°aö
 += band_sus;

264 
∂ay_íd
=1;

270 if(
b™d_sus
Ë
su°aö
 -= 14;

274 
	}
}

276 
ölöe
 
uöt16_t
 
	gCrixPœyî
::
	$rix_¥oc
()

278 
uöt8_t
 
˘æ
 = 0;

279 if(
music_⁄
 =0||
∑u£_Êag
 == 1)  0;

280 
b™d
 = 0;

281 
rix_buf
[
I
] !0x80 && I<
Àngth
-1)

283 
b™d_low
 = 
rix_buf
[
I
-1];

284 
˘æ
 = 
rix_buf
[
I
]; I+=2;

285 
˘æ
&0xF0)

287 0x90: 
	`rix_gë_ös
(); 
	`rix_90_¥o
(
˘æ
&0x0F); ;

288 0xA0: 
	`rix_A0_¥o
(
˘æ
&0x0F,((
uöt16_t
)
b™d_low
)<<6); ;

289 0xB0: 
	`rix_B0_¥o
(
˘æ
&0x0F,
b™d_low
); ;

290 0xC0: 
	`swôch_ad_bd
(
˘æ
&0x0F);

291 if(
b™d_low
 !0Ë
	`rix_C0_¥o
(
˘æ
&0x0F,band_low);

293 : 
b™d
 = (
˘æ
<<8)+
b™d_low
; ;

295 if(
b™d
 != 0)  band;

297 
	`music_˘æ
();

298 
I
 = 
mus_block
+1;

299 
b™d
 = 0; 
music_⁄
 = 1;

301 
	}
}

303 
ölöe
 
	gCrixPœyî
::
	$rix_gë_ös
()

305 
i
;

306 
uöt8_t
 *
baddr
 = (&
rix_buf
[
ös_block
])+(
b™d_low
<<6);

308 
i
 = 0; i < 28; i++)

309 
ösbuf
[
i
] = (
baddr
[i * 2 + 1] << 8) + baddr[i * 2];

310 
	}
}

312 
ölöe
 
	gCrixPœyî
::
	$rix_90_¥o
(
uöt16_t
 
˘æ_l
)

314 if(
rhythm
 =0 || 
˘æ_l
 < 6)

316 
	`ös_to_ªg
(
modify
[
˘æ_l
*2],
ösbuf
,insbuf[26]);

317 
	`ös_to_ªg
(
modify
[
˘æ_l
*2+1],
ösbuf
+13,insbuf[27]);

320 if(
˘æ_l
 > 6)

322 
	`ös_to_ªg
(
modify
[
˘æ_l
*2+6],
ösbuf
,insbuf[26]);

327 
	`ös_to_ªg
(12,
ösbuf
,insbuf[26]);

328 
	`ös_to_ªg
(15,
ösbuf
+13,insbuf[27]);

331 
	}
}

333 
ölöe
 
	gCrixPœyî
::
	$rix_A0_¥o
(
uöt16_t
 
˘æ_l
,uöt16_à
ödex
)

335 if(
rhythm
 =0 || 
˘æ_l
 <= 6)

337 
	`¥ï¨e_a0b0
(
˘æ_l
,
ödex
>0x3FFF?0x3FFF:index);

338 
	`ad_a0b0l_ªg
(
˘æ_l
,
a0b0_d©a3
[˘æ_l],
a0b0_d©a4
[ctrl_l]);

341 
	}
}

343 
ölöe
 
	gCrixPœyî
::
	$¥ï¨e_a0b0
(
uöt16_t
 
ödex
,uöt16_à
v
)

345 
high
 = 0,
low
 = 0; 
uöt32_t
 
ªs
;

346 
ªs1
 = (
v
-0x2000)*0x19;

347 if(
ªs1
 == ()0xff) ;

348 
low
 = 
ªs1
/0x2000;

349 if(
low
 < 0)

351 
low
 = 0x18-low; 
high
 = (signed )low<0?0xFFFF:0;

352 
ªs
 = 
high
;Ñes<<=16;Ñes+=
low
;

353 
low
 = ((sig√d )
ªs
)/(signed )0xFFE7;

354 
a0b0_d©a2
[
ödex
] = 
low
;

355 
low
 = 
ªs
;

356 
ªs
 = 
low
 - 0x18;

357 
high
 = (sig√d )
ªs
%0x19;

358 
low
 = (sig√d )
ªs
/0x19;

359 if(
high
 !0Ë{
low
 = 0x19;Üow =Üow-high;}

363 
ªs
 = 
high
 = 
low
;

364 
low
 = (sig√d )
ªs
/(signed )0x19;

365 
a0b0_d©a2
[
ödex
] = 
low
;

366 
ªs
 = 
high
;

367 
low
 = (sig√d )
ªs
%(signed )0x19;

369 
low
 = (signed )low*(signed )0x18;

370 
di•œ˚
[
ödex
] = 
low
;

371 
	}
}

373 
ölöe
 
	gCrixPœyî
::
	$ad_a0b0l_ªg
(
uöt16_t
 
ödex
,uöt16_à
p2
,uöt16_à
p3
)

375 
uöt16_t
 
d©a
; uöt16_à
i
 = 
p2
+
a0b0_d©a2
[
ödex
];

376 
a0b0_d©a4
[
ödex
] = 
p3
;

377 
a0b0_d©a3
[
ödex
] = 
p2
;

378 
i
 = ((signed )i<=0x5F?i:0x5F);

379 
i
 = ((signed )i>=0?i:0);

380 
d©a
 = 
f_buf„r
[
addrs_hód
[
i
]+
di•œ˚
[
ödex
]/2];

381 
	`ad_b›
(0xA0+
ödex
,
d©a
);

382 
d©a
 = 
a0b0_d©a5
[
i
]*4+(
p3
<1?0:0x20)+((data>>8)&3);

383 
	`ad_b›
(0xB0+
ödex
,
d©a
);

384 
	}
}

386 
ölöe
 
	gCrixPœyî
::
	$rix_B0_¥o
(
uöt16_t
 
˘æ_l
,uöt16_à
ödex
)

388 
ãmp
 = 0;

389 if(
rhythm
 =0 || 
˘æ_l
 < 6Ë
ãmp
 = 
modify
[ctrl_l*2+1];

392 
ãmp
 = 
˘æ_l
 > 6?ctrl_l*2:ctrl_l*2+1;

393 
ãmp
 = 
modify
[temp+6];

395 
f‹40ªg
[
ãmp
] = 
ödex
>0x7F?0x7F:index;

396 
	`ad_40_ªg
(
ãmp
);

397 
	}
}

399 
ölöe
 
	gCrixPœyî
::
	$rix_C0_¥o
(
uöt16_t
 
˘æ_l
,uöt16_à
ödex
)

401 
uöt16_t
 
i
 = 
ödex
>=12?index-12:0;

402 if(
˘æ_l
 < 6 || 
rhythm
 == 0)

404 
	`ad_a0b0l_ªg
(
˘æ_l
,
i
,1);

409 if(
˘æ_l
 != 6)

411 if(
˘æ_l
 == 8)

413 
	`ad_a0b0l_ªg
(
˘æ_l
,
i
,0);

414 
	`ad_a0b0l_ªg
(7,
i
+7,0);

417 
	`ad_a0b0l_ªg
(
˘æ_l
,
i
,0);

418 
bd_modify
 |
bd_ªg_d©a
[
˘æ_l
];

419 
	`ad_bd_ªg
();

422 
	}
}

424 
ölöe
 
	gCrixPœyî
::
	$swôch_ad_bd
(
uöt16_t
 
ödex
)

427 if(
rhythm
 =0 || 
ödex
 < 6Ë
	`ad_a0b0l_ªg
(ödex,
a0b0_d©a3
[index],0);

430 
bd_modify
 &(~
bd_ªg_d©a
[
ödex
]),

431 
	`ad_bd_ªg
();

433 
	}
}

435 
ölöe
 
	gCrixPœyî
::
	$ös_to_ªg
(
uöt16_t
 
ödex
,uöt16_t* 
ösb
,uöt16_à
vÆue
)

437 
uöt16_t
 
i
;

438 
i
=0;i<13;i++Ë
ªg_bufs
[
ödex
].
v
[i] = 
ösb
[i];

439 
ªg_bufs
[
ödex
].
v
[13] = 
vÆue
&3;

440 
	`ad_bd_ªg
(),
	`ad_08_ªg
(),

441 
	`ad_40_ªg
(
ödex
),
	`ad_C0_ªg
(ödex),
	`ad_60_ªg
(index),

442 
	`ad_80_ªg
(
ödex
),
	`ad_20_ªg
(ödex),
	`ad_E0_ªg
(index);

443 
	}
}

445 
ölöe
 
	gCrixPœyî
::
	$ad_E0_ªg
(
uöt16_t
 
ödex
)

447 
uöt16_t
 
d©a
 = 
e0_ªg_Êag
 =0?0:(
ªg_bufs
[
ödex
].
v
[13]&3);

448 
	`ad_b›
(0xE0+
ªg_d©a
[
ödex
],
d©a
);

449 
	}
}

451 
ölöe
 
	gCrixPœyî
::
	$ad_20_ªg
(
uöt16_t
 
ödex
)

453 
uöt16_t
 
d©a
 = (
ªg_bufs
[
ödex
].
v
[9] < 1?0:0x80);

454 
d©a
 +(
ªg_bufs
[
ödex
].
v
[10] < 1?0:0x40);

455 
d©a
 +(
ªg_bufs
[
ödex
].
v
[5] < 1?0:0x20);

456 
d©a
 +(
ªg_bufs
[
ödex
].
v
[11] < 1?0:0x10);

457 
d©a
 +(
ªg_bufs
[
ödex
].
v
[1]&0x0F);

458 
	`ad_b›
(0x20+
ªg_d©a
[
ödex
],
d©a
);

459 
	}
}

461 
ölöe
 
	gCrixPœyî
::
	$ad_80_ªg
(
uöt16_t
 
ödex
)

463 
uöt16_t
 
d©a
 = (
ªg_bufs
[
ödex
].
v
[7]&0x0F),
ãmp
 =Ñeg_bufs[index].v[4];

464 
d©a
 |(
ãmp
 << 4);

465 
	`ad_b›
(0x80+
ªg_d©a
[
ödex
],
d©a
);

466 
	}
}

468 
ölöe
 
	gCrixPœyî
::
	$ad_60_ªg
(
uöt16_t
 
ödex
)

470 
uöt16_t
 
d©a
 = 
ªg_bufs
[
ödex
].
v
[6]&0x0F,
ãmp
 =Ñeg_bufs[index].v[3];

471 
d©a
 |(
ãmp
 << 4);

472 
	`ad_b›
(0x60+
ªg_d©a
[
ödex
],
d©a
);

473 
	}
}

475 
ölöe
 
	gCrixPœyî
::
	$ad_C0_ªg
(
uöt16_t
 
ödex
)

477 
uöt16_t
 
d©a
 = 
ªg_bufs
[
ödex
].
v
[2];

478 if(
adÊag
[
ödex
] == 1) ;

479 
d©a
 *= 2,

480 
d©a
 |(
ªg_bufs
[
ödex
].
v
[12] < 1?1:0);

481 
	`ad_b›
(0xC0+
ad_C0_offs
[
ödex
],
d©a
);

482 
	}
}

484 
ölöe
 
	gCrixPœyî
::
	$ad_40_ªg
(
uöt16_t
 
ödex
)

486 
uöt32_t
 
ªs
 = 0;

487 
uöt16_t
 
d©a
 = 0,
ãmp
 = 
ªg_bufs
[
ödex
].
v
[0];

488 
d©a
 = 0x3F - (0x3F & 
ªg_bufs
[
ödex
].
v
[8]),

489 
d©a
 *
f‹40ªg
[
ödex
],

490 
d©a
 *= 2,

491 
d©a
 += 0x7F,

492 
ªs
 = 
d©a
;

493 
d©a
 = 
ªs
/0xFE,

494 
d©a
 -= 0x3F,

495 
d©a
 = -data,

496 
d©a
 |
ãmp
<<6;

497 
	`ad_b›
(0x40+
ªg_d©a
[
ödex
],
d©a
);

498 
	}
}

500 
ölöe
 
	gCrixPœyî
::
	$ad_bd_ªg
()

502 
uöt16_t
 
d©a
 = 
rhythm
 < 1? 0:0x20;

503 
d©a
 |
bd_modify
;

504 
	`ad_b›
(0xBD,
d©a
);

505 
	}
}

507 
ölöe
 
	gCrixPœyî
::
	$ad_a0b0_ªg
(
uöt16_t
 
ödex
)

509 
	`ad_b›
(0xA0+
ödex
,0);

510 
	`ad_b›
(0xB0+
ödex
,0);

511 
	}
}

513 
ölöe
 
	gCrixPœyî
::
	$music_˘æ
()

515 
i
;

516 
i
=0;i<11;i++)

517 
	`swôch_ad_bd
(
i
);

518 
	}
}

	@adplug/rix.h

23 
	~"∂ayî.h
"

25 #ifde‡
_MSC_VER


26 
	~<wödows.h
>

27 
	#uöt8_t
 
BYTE


	)

28 
	#uöt16_t
 
WORD


	)

29 
	#uöt32_t
 
DWORD


	)

31 
	~<°döt.h
>

34 ˛as†
	cCrixPœyî
: 
public
 
CPœyî


36 
public
:

37 
CPœyî
 *
Á˘‹y
(
C›l
 *
√w›l
);

39 
CrixPœyî
(
C›l
 *
√w›l
);

40 ~
CrixPœyî
();

42 
boﬁ
 
lﬂd
(c⁄° 
°d
::
°rög
 &
fûíame
, c⁄° 
CFûeProvidî
 &
Â
);

43 
boﬁ
 
upd©e
();

44 
ªwöd
(
subs⁄g
);

45 
gëª‰esh
();

46 
gësubs⁄gs
();

48 
	m°d
::
°rög
 
	$gëty≥
()

49 {  
°d
::
	`°rög
("Softstar RIX OPL Music Format"); };

51 
¥Ÿe˘ed
:

53 
uöt8_t
 
v
[14];

54 
	}
} 
	tADDT
;

56 
	gÊag_mkf
;

57 
uöt8_t
 *
	gfûe_buf„r
;

58 
uöt8_t
 *
	grix_buf
;

59 
uöt16_t
 
	gf_buf„r
[300];

60 
uöt16_t
 
	ga0b0_d©a2
[11];

61 
uöt8_t
 
	ga0b0_d©a3
[18];

62 
uöt8_t
 
	ga0b0_d©a4
[18];

63 
uöt8_t
 
	ga0b0_d©a5
[96];

64 
uöt8_t
 
	gaddrs_hód
[96];

65 
uöt16_t
 
	gösbuf
[28];

66 
uöt16_t
 
	gdi•œ˚
[11];

67 
ADDT
 
	gªg_bufs
[18];

68 
uöt32_t
 
	gpos
,
	gÀngth
;

69 
uöt8_t
 
	gödex
;

71 c⁄° 
uöt8_t
 
	gadÊag
[18];

72 c⁄° 
uöt8_t
 
	gªg_d©a
[18];

73 c⁄° 
uöt8_t
 
	gad_C0_offs
[18];

74 c⁄° 
uöt8_t
 
	gmodify
[28];

75 c⁄° 
uöt8_t
 
	gbd_ªg_d©a
[124];

76 
uöt8_t
 
	gf‹40ªg
[18];

77 c⁄° 
uöt16_t
 
	gmus_time
;

78 
uöt32_t
 
	gI
,
	gT
;

79 
uöt16_t
 
	gmus_block
;

80 
uöt16_t
 
	gös_block
;

81 
uöt8_t
 
	grhythm
;

82 
uöt8_t
 
	gmusic_⁄
;

83 
uöt8_t
 
	g∑u£_Êag
;

84 
uöt16_t
 
	gb™d
;

85 
uöt8_t
 
	gb™d_low
;

86 
uöt16_t
 
	ge0_ªg_Êag
;

87 
uöt8_t
 
	gbd_modify
;

88 
	gsu°aö
;

89 
	g∂ay_íd
;

91 
	#ad_08_ªg
(Ë
	$ad_b›
(8,0Ë

	)

92 
ölöe
 
	`ad_20_ªg
(
uöt16_t
);

93 
ölöe
 
	`ad_40_ªg
(
uöt16_t
);

94 
ölöe
 
	`ad_60_ªg
(
uöt16_t
);

95 
ölöe
 
	`ad_80_ªg
(
uöt16_t
);

96 
ölöe
 
	`ad_a0b0_ªg
(
uöt16_t
);

97 
ölöe
 
	`ad_a0b0l_ªg
(
uöt16_t
,uint16_t,uint16_t);

98 
ölöe
 
	`ad_a0b0l_ªg_
(
uöt16_t
,uint16_t,uint16_t);

99 
ölöe
 
	`ad_bd_ªg
();

100 
ölöe
 
	`ad_b›
(
uöt16_t
,uint16_t);

101 
ölöe
 
	`ad_C0_ªg
(
uöt16_t
);

102 
ölöe
 
	`ad_E0_ªg
(
uöt16_t
);

103 
ölöe
 
uöt16_t
 
	`ad_öôül
();

104 
ölöe
 
uöt16_t
 
	`ad_ã°
();

105 
ölöe
 
	`¸c_å™s
(
uöt16_t
,uint16_t);

106 
ölöe
 
	`d©a_öôül
();

107 
ölöe
 
	`öô
();

108 
ölöe
 
	`ös_to_ªg
(
uöt16_t
,uint16_t*,uint16_t);

109 
ölöe
 
	`öt_08h_íåy
();

110 
ölöe
 
	`music_˘æ
();

111 
ölöe
 
	`Pau£
();

112 
ölöe
 
	`¥ï¨e_a0b0
(
uöt16_t
,uint16_t);

113 
ölöe
 
	`rix_90_¥o
(
uöt16_t
);

114 
ölöe
 
	`rix_A0_¥o
(
uöt16_t
,uint16_t);

115 
ölöe
 
	`rix_B0_¥o
(
uöt16_t
,uint16_t);

116 
ölöe
 
	`rix_C0_¥o
(
uöt16_t
,uint16_t);

117 
ölöe
 
	`rix_gë_ös
();

118 
ölöe
 
uöt16_t
 
	`rix_¥oc
();

119 
ölöe
 
	`£t_√w_öt
();

120 
ölöe
 
	`swôch_ad_bd
(
uöt16_t
);

121 
	}
};

	@adplug/surroundopl.cpp

26 
	~<m©h.h
>

27 
	~"suºound›l.h
"

30 
	gCSuºound›l
::
	$CSuºound›l
(
C›l
 *
a
, C›»*
b
, 
boﬁ
 
u£16bô
)

31 : 
	`u£16bô
(
u£16bô
),

32 
	`bufsize
(4096),

33 
	`a
(
a
), 
	$b
(
b
)

35 
cuºTy≥
 = 
TYPE_OPL2
;

36 
this
->
lbuf
 = 
√w
 [this->
bufsize
];

37 
this
->
rbuf
 = 
√w
 [this->
bufsize
];

38 
	}
};

40 
	gCSuºound›l
::~
	$CSuºound›l
()

42 
dñëe
[] 
this
->
rbuf
;

43 
dñëe
[] 
this
->
lbuf
;

44 
dñëe
 
a
;

45 
dñëe
 
b
;

46 
	}
}

48 
	gCSuºound›l
::
	$upd©e
(*
buf
, 
ßm∂es
)

50 i‡(
ßm∂es
 * 2 > 
this
->
bufsize
) {

52 
dñëe
[] 
this
->
rbuf
;

53 
dñëe
[] 
this
->
lbuf
;

54 
this
->
bufsize
 = 
ßm∂es
 * 2;

55 
this
->
lbuf
 = 
√w
 [this->
bufsize
];

56 
this
->
rbuf
 = 
√w
 [this->
bufsize
];

59 
a
->
	`upd©e
(
this
->
lbuf
, 
ßm∂es
);

60 
b
->
	`upd©e
(
this
->
rbuf
, 
ßm∂es
);

63 
i
 = 0; i < 
ßm∂es
; i++) {

64 i‡(
this
->
u£16bô
) {

65 
buf
[
i
 * 2] = 
this
->
lbuf
[i];

66 
buf
[
i
 * 2 + 1] = 
this
->
rbuf
[i];

68 ((*)
buf
)[
i
 * 2] = ((*)
this
->
lbuf
)[i];

69 ((*)
buf
)[
i
 * 2 + 1] = ((*)
this
->
rbuf
)[i];

73 
	}
}

76 
	gCSuºound›l
::
	$wrôe
(
ªg
, 
vÆ
)

78 
a
->
	`wrôe
(
ªg
, 
vÆ
);

82 
iCh™√l
 = -1;

83 
iRegi°î
 = 
ªg
;

84 
iVÆue
 = 
vÆ
;

85 i‡((
iRegi°î
 >> 4 =0xAË|| (iRegi°î >> 4 =0xB)Ë
iCh™√l
 = iRegister & 0x0F;

95 
this
->
iFMReg
[
iRegi°î
] = 
iVÆue
;

97 i‡((
iCh™√l
 >= 0)) {

98 
iBlock
 = (
this
->
iFMReg
[0xB0 + 
iCh™√l
] >> 2) & 0x07;

99 
iFNum
 = ((
this
->
iFMReg
[0xB0 + 
iCh™√l
] & 0x03) << 8) |Åhis->iFMReg[0xA0 + iChannel];

101 
dbOrigöÆFªq
 = 49716.0 * ()
iFNum
 * 
	`pow
(2.0, 
iBlock
 - 20);

103 
iNewBlock
 = 
iBlock
;

104 
iNewFNum
;

109 
	#ˇlcFNum
(Ë((
dbOrigöÆFªq
+(dbOrigöÆFªq/
FREQ_OFFSET
)Ë/ (49716.0 * 
	`pow
(2.0, 
iNewBlock
 - 20)))

	)

110 
dbNewFNum
 = 
	`ˇlcFNum
();

113 i‡(
dbNewFNum
 > 1023 - 
NEWBLOCK_LIMIT
) {

116 i‡(
iNewBlock
 > 6) {

122 
iNewBlock
 = 
iBlock
;

123 
iNewFNum
 = 
iFNum
;

125 
iNewBlock
++;

126 
iNewFNum
 = ()
	`ˇlcFNum
();

128 } i‡(
dbNewFNum
 < 0 + 
NEWBLOCK_LIMIT
) {

131 i‡(
iNewBlock
 == 0) {

137 
iNewBlock
 = 
iBlock
;

138 
iNewFNum
 = 
iFNum
;

140 
iNewBlock
--;

141 
iNewFNum
 = ()
	`ˇlcFNum
();

145 
iNewFNum
 = ()
dbNewFNum
;

149 i‡(
iNewFNum
 > 1023) {

155 
iNewBlock
 = 
iBlock
;

156 
iNewFNum
 = 
iFNum
;

159 i‡((
iRegi°î
 >= 0xB0) && (iRegister <= 0xB8)) {

162 
iVÆue
 = (iVÆuê& ~0x1FË| (
iNewBlock
 << 2Ë| ((
iNewFNum
 >> 8) & 0x03);

164 
this
->
iCuºítTwókedBlock
[
iCh™√l
] = 
iNewBlock
;

165 
this
->
iCuºítFNum
[
iCh™√l
] = ()
iNewFNum
;

167 i‡(
this
->
iTwókedFMReg
[0xA0 + 
iCh™√l
] !(
iNewFNum
 & 0xFF)) {

169 
iAddôi⁄ÆReg
 = 0xA0 + 
iCh™√l
;

170 
iAddôi⁄ÆVÆue
 = 
iNewFNum
 & 0xFF;

171 
b
->
	`wrôe
(
iAddôi⁄ÆReg
, 
iAddôi⁄ÆVÆue
);

172 
this
->
iTwókedFMReg
[
iAddôi⁄ÆReg
] = 
iAddôi⁄ÆVÆue
;

174 } i‡((
iRegi°î
 >= 0xA0) && (iRegister <= 0xA8)) {

177 
iVÆue
 = 
iNewFNum
 & 0xFF;

180 
iNewB0VÆue
 = (
this
->
iFMReg
[0xB0 + 
iCh™√l
] & ~0x1FË| (
iNewBlock
 << 2Ë| ((
iNewFNum
 >> 8) & 0x03);

182 (
iNewB0VÆue
 & 0x20) &&

183 (
this
->
iTwókedFMReg
[0xB0 + 
iCh™√l
] !
iNewB0VÆue
)

188 
iAddôi⁄ÆReg
 = 0xB0 + 
iCh™√l
;

189 
b
->
	`wrôe
(
iAddôi⁄ÆReg
, 
iNewB0VÆue
);

190 
this
->
iTwókedFMReg
[
iAddôi⁄ÆReg
] = 
iNewB0VÆue
;

198 
b
->
	`wrôe
(
iRegi°î
, 
iVÆue
);

199 
this
->
iTwókedFMReg
[
iRegi°î
] = 
iVÆue
;

201 
	}
};

203 
	gCSuºound›l
::
	$öô
(Ë{
	}
};

	@adplug/surroundopl.h

26 #i‚de‡
H_ADPLUG_SURROUNDOPL


27 
	#H_ADPLUG_SURROUNDOPL


	)

30 
	~"›l.h
"

35 
	#FREQ_OFFSET
 128.0

36 

	)

43 
	#NEWBLOCK_LIMIT
 32

	)

45 ˛as†
	cCSuºound›l
: 
public
 
C›l


47 
¥iv©e
:

48 
boﬁ
 
u£16bô
;

49 
	mbufsize
;

50 *
	mlbuf
, *
	mrbuf
;

51 
C›l
 *
	ma
, *
	mb
;

52 
	miFMReg
[256];

53 
	miTwókedFMReg
[256];

54 
	miCuºítTwókedBlock
[9];

55 
	miCuºítFNum
[9];

57 
	mpublic
:

59 
CSuºound›l
(
C›l
 *
a
, C›»*
b
, 
boﬁ
 
u£16bô
);

60 ~
CSuºound›l
();

62 
upd©e
(*
buf
, 
ßm∂es
);

63 
wrôe
(
ªg
, 
vÆ
);

65 
öô
();

	@ascii.h

1 
	giso_f⁄t
[] =

	@battle.c

22 
	~"maö.h
"

24 
BATTLE
 
	gg_B©ée
;

26 
WORD


27 
	gg_rgPœyîPos
[3][3][2] = {

33 
VOID


34 
	$PAL_B©éeMakeS˚√
(

35 
VOID


52 
i
;

53 
PAL_POS
 
pos
;

54 
LPBYTE
 
pSrc
, 
pD°
;

55 
BYTE
 
shi·èbÀ
[256];

60 
pSrc
 = 
g_B©ée
.
ÕBackground
->
pixñs
;

61 
pD°
 = 
g_B©ée
.
ÕS˚√Buf
->
pixñs
;

62 
	`PAL_MakeCﬁ‹Shi·TabÀ
(
shi·èbÀ
, 
g_B©ée
.
sBackgroundCﬁ‹Shi·
);

64 
i
 = 0; i < 
g_B©ée
.
ÕS˚√Buf
->
pôch
 * g_B©ée.ÕS˚√Buf->
h
; i++)

66 *
pD°
 = 
shi·èbÀ
[*
pSrc
];

68 ++
pSrc
;

69 ++
pD°
;

72 
	`PAL_AµlyWave
(
g_B©ée
.
ÕS˚√Buf
);

77 
i
 = 
g_B©ée
.
wMaxE√myIndex
; i >= 0; i--)

79 
pos
 = 
g_B©ée
.
rgE√my
[
i
].pos;

81 i‡(
g_B©ée
.
rgE√my
[
i
].
rgwSètus
[
kSètusC⁄fu£d
] > 0 &&

82 
g_B©ée
.
rgE√my
[
i
].
rgwSètus
[
kSètusSÀï
] == 0 &&

83 
g_B©ée
.
rgE√my
[
i
].
rgwSètus
[
kSètusP¨Æyzed
] == 0)

88 
pos
 = 
	`PAL_XY
(
	`PAL_X
’osË+ 
	`R™domL⁄g
(-1, 1), 
	`PAL_Y
(pos));

91 
pos
 = 
	`PAL_XY
(
	`PAL_X
’osË- 
	`PAL_RLEGëWidth
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
)) / 2,

92 
	`PAL_Y
(
pos
Ë- 
	`PAL_RLEGëHeight
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
)));

94 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0)

96 i‡(
g_B©ée
.
rgE√my
[
i
].
iCﬁ‹Shi·
)

98 
	`PAL_RLEBlôWôhCﬁ‹Shi·
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
),

99 
g_B©ée
.
ÕS˚√Buf
, 
pos
, g_B©ée.
rgE√my
[
i
].
iCﬁ‹Shi·
);

103 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
),

104 
g_B©ée
.
ÕS˚√Buf
, 
pos
);

109 i‡(
g_B©ée
.
ÕSumm⁄S¥ôe
 !
NULL
)

114 
pos
 = 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
posSumm⁄
Ë- 
	`PAL_RLEGëWidth
(
	`PAL_S¥ôeGëFøme
(g_B©ée.
ÕSumm⁄S¥ôe
, g_B©ée.
iSumm⁄Føme
)) / 2,

115 
	`PAL_Y
(
g_B©ée
.
posSumm⁄
Ë- 
	`PAL_RLEGëHeight
(
	`PAL_S¥ôeGëFøme
(g_B©ée.
ÕSumm⁄S¥ôe
, g_B©ée.
iSumm⁄Føme
)));

117 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
ÕSumm⁄S¥ôe
, g_B©ée.
iSumm⁄Føme
),

118 
g_B©ée
.
ÕS˚√Buf
, 
pos
);

125 
i
 = 
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i >= 0; i--)

127 
pos
 = 
g_B©ée
.
rgPœyî
[
i
].pos;

129 i‡(
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
][
kSètusC⁄fu£d
] != 0 &&

130 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
][
kSètusSÀï
] == 0 &&

131 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
][
kSètusP¨Æyzed
] == 0 &&

132 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] > 0)

140 
pos
 = 
	`PAL_XY
(
	`PAL_X
’osË- 
	`PAL_RLEGëWidth
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
)) / 2,

141 
	`PAL_Y
(
pos
Ë- 
	`PAL_RLEGëHeight
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
)));

143 i‡(
g_B©ée
.
rgPœyî
[
i
].
iCﬁ‹Shi·
 != 0)

145 
	`PAL_RLEBlôWôhCﬁ‹Shi·
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
),

146 
g_B©ée
.
ÕS˚√Buf
, 
pos
, g_B©ée.
rgPœyî
[
i
].
iCﬁ‹Shi·
);

148 i‡(
g_B©ée
.
iHidögTime
 == 0)

150 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
),

151 
g_B©ée
.
ÕS˚√Buf
, 
pos
);

158 
i
 = 
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i >= 0; i--)

160 i‡(
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
][
kSètusC⁄fu£d
] != 0 &&

161 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
][
kSètusSÀï
] == 0 &&

162 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
][
kSètusP¨Æyzed
] == 0 &&

163 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] > 0)

168 
pos
 = 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
i
].pos), 
	`PAL_Y
(g_B©ée.rgPœyî[i].posË+ 
	`R™domL⁄g
(-1, 1));

169 
pos
 = 
	`PAL_XY
(
	`PAL_X
’osË- 
	`PAL_RLEGëWidth
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
)) / 2,

170 
	`PAL_Y
(
pos
Ë- 
	`PAL_RLEGëHeight
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
)));

172 i‡(
g_B©ée
.
rgPœyî
[
i
].
iCﬁ‹Shi·
 != 0)

174 
	`PAL_RLEBlôWôhCﬁ‹Shi·
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
),

175 
g_B©ée
.
ÕS˚√Buf
, 
pos
, g_B©ée.
rgPœyî
[
i
].
iCﬁ‹Shi·
);

177 i‡(
g_B©ée
.
iHidögTime
 == 0)

179 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, g_B©ée.rgPœyî[i].
wCuºítFøme
),

180 
g_B©ée
.
ÕS˚√Buf
, 
pos
);

185 
	}
}

187 
VOID


188 
	$PAL_B©éeBackupS˚√
(

189 
VOID


206 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìnBak
, NULL);

207 
	}
}

209 
VOID


210 
	$PAL_B©éeFadeS˚√
(

211 
VOID


228 
i
, 
j
, 
k
;

229 
DWORD
 
time
;

230 
BYTE
 
a
, 
b
;

231 c⁄° 
rgIndex
[6] = {0, 3, 1, 5, 2, 4};

233 
time
 = 
	`SDL_GëTicks
();

235 
i
 = 0; i < 12; i++)

237 
j
 = 0; j < 6; j++)

239 
	`PAL_Pro˚ssEvít
();

240 
	`SDL_GëTicks
(Ë<
time
)

242 
	`PAL_Pro˚ssEvít
();

243 
	`SDL_Dñay
(1);

245 
time
 = 
	`SDL_GëTicks
() + 16;

251 
k
 = 
rgIndex
[
j
]; k < 
gpS¸ìn
->
pôch
 * gpS¸ìn->
h
; k += 6)

253 
a
 = ((
LPBYTE
)(
g_B©ée
.
ÕS˚√Buf
->
pixñs
))[
k
];

254 
b
 = ((
LPBYTE
)(
gpS¸ìnBak
->
pixñs
))[
k
];

256 i‡(
i
 > 0)

258 i‡((
a
 & 0x0FË> (
b
 & 0x0F))

260 
b
++;

262 i‡((
a
 & 0x0FË< (
b
 & 0x0F))

264 
b
--;

268 ((
LPBYTE
)(
gpS¸ìnBak
->
pixñs
))[
k
] = ((
a
 & 0xF0Ë| (
b
 & 0x0F));

274 
	`SDL_BlôSurÁ˚
(
gpS¸ìnBak
, 
NULL
, 
gpS¸ìn
, NULL);

276 
	`PAL_B©éeUIUpd©e
();

277 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

284 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

285 
	`PAL_B©éeUIUpd©e
();

287 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

288 
	}
}

290 
BATTLERESULT


291 
	$PAL_B©éeMaö
(

292 
VOID


309 
i
;

310 
DWORD
 
dwTime
;

312 
	`VIDEO_BackupS¸ìn
();

317 
	`PAL_B©éeMakeS˚√
();

318 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

323 
	`PAL_PœyMUS
(0, 
FALSE
, 1);

324 
	`UTIL_Dñay
(200);

329 
	`VIDEO_SwôchS¸ìn
(5);

334 
	`PAL_PœyMUS
(
gpGlobÆs
->
wNumB©éeMusic
, 
TRUE
, 0);

339 i‡(
gpGlobÆs
->
fNìdToFadeIn
)

341 
	`PAL_FadeIn
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
, 1);

342 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

348 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

350 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
 =

351 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
, i);

353 i‡(
g_B©ée
.
B©éeResu…
 !
kB©éeResu…PªB©ée
)

359 i‡(
g_B©ée
.
B©éeResu…
 =
kB©éeResu…PªB©ée
)

361 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…OnGoög
;

364 #i‚de‡
PAL_CLASSIC


365 
	`PAL_Upd©eTimeCh¨gögUnô
();

368 
dwTime
 = 
	`SDL_GëTicks
();

370 
	`PAL_CÀ¨KeySèã
();

375 
TRUE
)

380 i‡(
g_B©ée
.
B©éeResu…
 !
kB©éeResu…OnGoög
)

388 
	`PAL_Pro˚ssEvít
();

389 
	`SDL_GëTicks
(Ë<
dwTime
)

391 
	`PAL_Pro˚ssEvít
();

392 
	`SDL_Dñay
(1);

398 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
BATTLE_FRAME_TIME
;

403 
	`PAL_B©éeSèπFøme
();

408 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

414  
g_B©ée
.
B©éeResu…
;

415 
	}
}

417 
VOID


418 
	$PAL_FªeB©éeS¥ôes
(

419 
VOID


436 
i
;

441 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

443 i‡(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
 !
NULL
)

445 
	`‰ì
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
);

447 
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
 = 
NULL
;

450 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

452 i‡(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
 !
NULL
)

454 
	`‰ì
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
);

456 
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
 = 
NULL
;

459 i‡(
g_B©ée
.
ÕSumm⁄S¥ôe
 !
NULL
)

461 
	`‰ì
(
g_B©ée
.
ÕSumm⁄S¥ôe
);

463 
g_B©ée
.
ÕSumm⁄S¥ôe
 = 
NULL
;

464 
	}
}

466 
VOID


467 
	$PAL_LﬂdB©éeS¥ôes
(

468 
VOID


485 
i
, 
l
, 
x
, 
y
, 
s
;

486 
FILE
 *
Â
;

488 
	`PAL_FªeB©éeS¥ôes
();

490 
Â
 = 
	`UTIL_O≥nRequúedFûe
("abc.mkf");

495 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

497 
s
 = 
	`PAL_GëPœyîB©éeS¥ôe
(
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
);

499 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(
s
, 
gpGlobÆs
->
f
.
ÂF
);

501 i‡(
l
 <= 0)

506 
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
 = 
	`UTIL_ˇŒoc
(
l
, 1);

508 
	`PAL_MKFDecom¥essChunk
(
g_B©ée
.
rgPœyî
[
i
].
ÕS¥ôe
, 
l
,

509 
s
, 
gpGlobÆs
->
f
.
ÂF
);

514 
x
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
i
][0];

515 
y
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
i
][1];

517 
g_B©ée
.
rgPœyî
[
i
].
posOrigöÆ
 = 
	`PAL_XY
(
x
, 
y
);

518 
g_B©ée
.
rgPœyî
[
i
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

524 
i
 = 0; i < 
MAX_ENEMIES_IN_TEAM
; i++)

526 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

531 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(

532 
gpGlobÆs
->
g
.
rgObje˘
[
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
].
íemy
.
wE√myID
, 
Â
);

534 i‡(
l
 <= 0)

539 
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
 = 
	`UTIL_ˇŒoc
(
l
, 1);

541 
	`PAL_MKFDecom¥essChunk
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, 
l
,

542 
gpGlobÆs
->
g
.
rgObje˘
[
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
].
íemy
.
wE√myID
, 
Â
);

547 
x
 = 
gpGlobÆs
->
g
.
E√myPos
.
pos
[
i
][
g_B©ée
.
wMaxE√myIndex
].x;

548 
y
 = 
gpGlobÆs
->
g
.
E√myPos
.
pos
[
i
][
g_B©ée
.
wMaxE√myIndex
].y;

550 
y
 +
g_B©ée
.
rgE√my
[
i
].
e
.
wYPosOff£t
;

552 
g_B©ée
.
rgE√my
[
i
].
posOrigöÆ
 = 
	`PAL_XY
(
x
, 
y
);

553 
g_B©ée
.
rgE√my
[
i
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

556 
	`f˛o£
(
Â
);

557 
	}
}

559 
VOID


560 
	$PAL_LﬂdB©éeBackground
(

561 
VOID


578 
PAL_LARGE
 
BYTE
 
buf
[320 * 200];

583 
g_B©ée
.
ÕBackground
 =

584 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

585 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

586 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

588 i‡(
g_B©ée
.
ÕBackground
 =
NULL
)

590 
	`Tîmö©eOnEº‹
("PAL_LoadBattleBackground(): failedÅo create surface!");

592 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

593 
	`SDL_SëSurÁ˚PÆëã
(
g_B©ée
.
ÕBackground
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

595 
	`SDL_SëPÆëã
(
g_B©ée
.
ÕBackground
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

600 
	`PAL_MKFDecom¥essChunk
(
buf
, 320 * 200, 
gpGlobÆs
->
wNumB©éeFõld
, gpGlobÆs->
f
.
ÂFBP
);

605 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
g_B©ée
.
ÕBackground
);

606 
	}
}

608 
VOID


609 
	$PAL_B©éeW⁄
(

610 
VOID


627 c⁄° 
SDL_Re˘
 
ª˘
 = {65, 60, 200, 100};

628 c⁄° 
SDL_Re˘
 
ª˘1
 = {80, 0, 180, 200};

630 
i
, 
j
, 
iTŸÆCou¡
;

631 
DWORD
 
dwExp
;

632 
WORD
 
w
;

633 
BOOL
 
fLevñUp
;

634 
PLAYERROLES
 
OrigPœyîRﬁes
;

639 
OrigPœyîRﬁes
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
;

641 i‡(
g_B©ée
.
iExpGaöed
 > 0)

646 
	`PAL_PœyMUS
(
g_B©ée
.
fIsBoss
 ? 2 : 3, 
FALSE
, 0);

651 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(83, 60), 8, 
FALSE
);

652 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(65, 105), 10, 
FALSE
);

654 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BATTLEWIN_GETEXP_LABEL
), 
	`PAL_XY
(95, 70), 0, 
FALSE
, FALSE);

655 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BATTLEWIN_BEATENEMY_LABEL
), 
	`PAL_XY
(77, 115), 0, 
FALSE
, FALSE);

656 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BATTLEWIN_DOLLAR_LABEL
), 
	`PAL_XY
(197, 115), 0, 
FALSE
, FALSE);

658 
	`PAL_DøwNumbî
(
g_B©ée
.
iExpGaöed
, 5, 
	`PAL_XY
(182, 74), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

659 
	`PAL_DøwNumbî
(
g_B©ée
.
iCashGaöed
, 5, 
	`PAL_XY
(162, 119), 
kNumCﬁ‹Yñlow
, 
kNumAlignMid
);

661 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

662 
	`PAL_WaôF‹Key
(
g_B©ée
.
fIsBoss
 ? 5500 : 3000);

668 
gpGlobÆs
->
dwCash
 +
g_B©ée
.
iCashGaöed
;

673 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

675 
fLevñUp
 = 
FALSE
;

677 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

678 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] == 0)

683 
dwExp
 = 
gpGlobÆs
->
Exp
.
rgPrim¨yExp
[
w
].
wExp
;

684 
dwExp
 +
g_B©ée
.
iExpGaöed
;

686 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
w
] > 
MAX_LEVELS
)

688 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
w
] = 
MAX_LEVELS
;

691 
dwExp
 >
gpGlobÆs
->
g
.
rgLevñUpExp
[gpGlobÆs->g.
PœyîRﬁes
.
rgwLevñ
[
w
]])

693 
dwExp
 -
gpGlobÆs
->
g
.
rgLevñUpExp
[gpGlobÆs->g.
PœyîRﬁes
.
rgwLevñ
[
w
]];

695 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
w
] < 
MAX_LEVELS
)

697 
fLevñUp
 = 
TRUE
;

698 
	`PAL_PœyîLevñUp
(
w
, 1);

700 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] = gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[w];

701 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
w
] = gpGlobÆs->g.PœyîRﬁes.
rgwMaxMP
[w];

705 
gpGlobÆs
->
Exp
.
rgPrim¨yExp
[
w
].
wExp
 = (
WORD
)
dwExp
;

707 i‡(
fLevñUp
)

712 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(80, 0), 10, 
FALSE
);

713 
	`PAL_Cª©eBox
(
	`PAL_XY
(82, 32), 7, 8, 1, 
FALSE
);

715 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
w
]), 
	`PAL_XY
(110, 10), 0,

716 
FALSE
, FALSE);

717 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_LEVEL
), 
	`PAL_XY
(110 + 16 * 3, 10), 0, 
FALSE
, FALSE);

718 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BATTLEWIN_LEVELUP_LABEL
), 
	`PAL_XY
(110 + 16 * 5, 10), 0, 
FALSE
, FALSE);

720 
j
 = 0; j < 8; j++)

722 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_ARROW
),

723 
gpS¸ìn
, 
	`PAL_XY
(183, 48 + 18 * 
j
));

726 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_LEVEL
), 
	`PAL_XY
(100, 44), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

727 
TRUE
, 
FALSE
);

728 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_HP
), 
	`PAL_XY
(100, 62), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

729 
TRUE
, 
FALSE
);

730 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_MP
), 
	`PAL_XY
(100, 80), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

731 
TRUE
, 
FALSE
);

732 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_ATTACKPOWER
), 
	`PAL_XY
(100, 98), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

733 
TRUE
, 
FALSE
);

734 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_MAGICPOWER
), 
	`PAL_XY
(100, 116), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

735 
TRUE
, 
FALSE
);

736 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_RESISTANCE
), 
	`PAL_XY
(100, 134), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

737 
TRUE
, 
FALSE
);

738 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_DEXTERITY
), 
	`PAL_XY
(100, 152), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

739 
TRUE
, 
FALSE
);

740 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_FLEERATE
), 
	`PAL_XY
(100, 170), 
BATTLEWIN_LEVELUP_LABEL_COLOR
,

741 
TRUE
, 
FALSE
);

746 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwLevñ
[
w
], 4, 
	`PAL_XY
(133, 47),

747 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

748 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
w
], 4, 
	`PAL_XY
(195, 47),

749 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

751 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwHP
[
w
], 4, 
	`PAL_XY
(133, 64),

752 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

753 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwMaxHP
[
w
], 4, 
	`PAL_XY
(154, 68),

754 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

755 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

756 
	`PAL_XY
(156, 66));

757 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
], 4, 
	`PAL_XY
(195, 64),

758 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

759 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
w
], 4, 
	`PAL_XY
(216, 68),

760 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

761 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

762 
	`PAL_XY
(218, 66));

764 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwMP
[
w
], 4, 
	`PAL_XY
(133, 82),

765 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

766 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwMaxMP
[
w
], 4, 
	`PAL_XY
(154, 86),

767 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

768 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

769 
	`PAL_XY
(156, 84));

770 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
w
], 4, 
	`PAL_XY
(195, 82),

771 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

772 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
w
], 4, 
	`PAL_XY
(216, 86),

773 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

774 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

775 
	`PAL_XY
(218, 84));

777 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwAâackSåígth
[
w
] + 
	`PAL_GëPœyîAâackSåígth
(w) -

778 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwAâackSåígth
[
w
],

779 4, 
	`PAL_XY
(133, 101), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

780 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîAâackSåígth
(
w
), 4, 
	`PAL_XY
(195, 101),

781 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

783 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwMagicSåígth
[
w
] + 
	`PAL_GëPœyîMagicSåígth
(w) -

784 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagicSåígth
[
w
],

785 4, 
	`PAL_XY
(133, 119), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

786 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîMagicSåígth
(
w
), 4, 
	`PAL_XY
(195, 119),

787 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

789 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwDe„n£
[
w
] + 
	`PAL_GëPœyîDe„n£
(w) -

790 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDe„n£
[
w
],

791 4, 
	`PAL_XY
(133, 137), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

792 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDe„n£
(
w
), 4, 
	`PAL_XY
(195, 137),

793 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

795 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwDexãrôy
[
w
] + 
	`PAL_GëPœyîDexãrôy
(w) -

796 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDexãrôy
[
w
],

797 4, 
	`PAL_XY
(133, 155), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

798 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDexãrôy
(
w
), 4, 
	`PAL_XY
(195, 155),

799 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

801 
	`PAL_DøwNumbî
(
OrigPœyîRﬁes
.
rgwFÀeR©e
[
w
] + 
	`PAL_GëPœyîFÀeR©e
(w) -

802 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwFÀeR©e
[
w
],

803 4, 
	`PAL_XY
(133, 173), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

804 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîFÀeR©e
(
w
), 4, 
	`PAL_XY
(195, 173),

805 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

810 
	`VIDEO_Upd©eS¸ìn
(&
ª˘1
);

811 
	`PAL_WaôF‹Key
(3000);

813 
OrigPœyîRﬁes
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
;

819 
iTŸÆCou¡
 = 0;

821 
iTŸÆCou¡
 +
gpGlobÆs
->
Exp
.
rgAâackExp
[
w
].
wCou¡
;

822 
iTŸÆCou¡
 +
gpGlobÆs
->
Exp
.
rgDe„n£Exp
[
w
].
wCou¡
;

823 
iTŸÆCou¡
 +
gpGlobÆs
->
Exp
.
rgDexãrôyExp
[
w
].
wCou¡
;

824 
iTŸÆCou¡
 +
gpGlobÆs
->
Exp
.
rgFÀeExp
[
w
].
wCou¡
;

825 
iTŸÆCou¡
 +
gpGlobÆs
->
Exp
.
rgHó…hExp
[
w
].
wCou¡
;

826 
iTŸÆCou¡
 +
gpGlobÆs
->
Exp
.
rgMagicExp
[
w
].
wCou¡
;

827 
iTŸÆCou¡
 +
gpGlobÆs
->
Exp
.
rgMagicPowîExp
[
w
].
wCou¡
;

829 i‡(
iTŸÆCou¡
 > 0)

831 
	#CHECK_HIDDEN_EXP
(
ex≤ame
, 
°©«me
, 
œbñ
) \

833 
dwExp
 = 
g_B©ée
.
iExpGaöed
; \

834 
dwExp
 *
gpGlobÆs
->
Exp
.
ex≤ame
[
w
].
wCou¡
; \

835 
dwExp
 /
iTŸÆCou¡
; \

836 
dwExp
 *= 2; \

838 
dwExp
 +
gpGlobÆs
->
Exp
.
ex≤ame
[
w
].
wExp
; \

840 i‡(
gpGlobÆs
->
Exp
.
ex≤ame
[
w
].
wLevñ
 > 
MAX_LEVELS
) \

842 
gpGlobÆs
->
Exp
.
ex≤ame
[
w
].
wLevñ
 = 
MAX_LEVELS
; \

845 
dwExp
 >
gpGlobÆs
->
g
.
rgLevñUpExp
[gpGlobÆs->
Exp
.
ex≤ame
[
w
].
wLevñ
]) \

847 
dwExp
 -
gpGlobÆs
->
g
.
rgLevñUpExp
[gpGlobÆs->
Exp
.
ex≤ame
[
w
].
wLevñ
]; \

848 
gpGlobÆs
->
g
.
PœyîRﬁes
.
°©«me
[
w
] +
	`R™domL⁄g
(1, 2); \

849 i‡(
gpGlobÆs
->
Exp
.
ex≤ame
[
w
].
wLevñ
 < 
MAX_LEVELS
) \

851 
gpGlobÆs
->
Exp
.
ex≤ame
[
w
].
wLevñ
++; \

855 
gpGlobÆs
->
Exp
.
ex≤ame
[
w
].
wExp
 = (
WORD
)
dwExp
; \

857 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
°©«me
[
w
] != \

858 
OrigPœyîRﬁes
.
°©«me
[
w
]) \

860 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(83, 60), 8, 
FALSE
); \

861 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
w
]), 
	`PAL_XY
(95, 70), \

862 0, 
FALSE
, FALSE); \

863 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
œbñ
), 
	`PAL_XY
(143, 70), \

864 0, 
FALSE
, FALSE); \

865 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BATTLEWIN_LEVELUP_LABEL
), 
	`PAL_XY
(175, 70), \

866 0, 
FALSE
, FALSE); \

867 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
°©«me
[
w
] - \

868 
OrigPœyîRﬁes
.
°©«me
[
w
], \

869 5, 
	`PAL_XY
(188, 74), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
); \

870 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
); \

871 
	`PAL_WaôF‹Key
(3000); \

873 }

	)

875 
	`CHECK_HIDDEN_EXP
(
rgHó…hExp
, 
rgwMaxHP
, 
STATUS_LABEL_HP
);

876 
	`CHECK_HIDDEN_EXP
(
rgMagicExp
, 
rgwMaxMP
, 
STATUS_LABEL_MP
);

877 
	`CHECK_HIDDEN_EXP
(
rgAâackExp
, 
rgwAâackSåígth
, 
STATUS_LABEL_ATTACKPOWER
);

878 
	`CHECK_HIDDEN_EXP
(
rgMagicPowîExp
, 
rgwMagicSåígth
, 
STATUS_LABEL_MAGICPOWER
);

879 
	`CHECK_HIDDEN_EXP
(
rgDe„n£Exp
, 
rgwDe„n£
, 
STATUS_LABEL_RESISTANCE
);

880 
	`CHECK_HIDDEN_EXP
(
rgDexãrôyExp
, 
rgwDexãrôy
, 
STATUS_LABEL_DEXTERITY
);

881 
	`CHECK_HIDDEN_EXP
(
rgFÀeExp
, 
rgwFÀeR©e
, 
STATUS_LABEL_FLEERATE
);

883 #unde‡
CHECK_HIDDEN_EXP


889 
j
 = 0;

891 
j
 < 
gpGlobÆs
->
g
.
nLevñUpMagic
)

893 i‡(
gpGlobÆs
->
g
.
ÕrgLevñUpMagic
[
j
].
m
[
w
].
wMagic
 == 0 ||

894 
gpGlobÆs
->
g
.
ÕrgLevñUpMagic
[
j
].
m
[
w
].
wLevñ
 > gpGlobÆs->g.
PœyîRﬁes
.
rgwLevñ
[w])

896 
j
++;

900 i‡(
	`PAL_AddMagic
(
w
, 
gpGlobÆs
->
g
.
ÕrgLevñUpMagic
[
j
].
m
[w].
wMagic
))

902 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(65, 105), 10, 
FALSE
);

904 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
w
]),

905 
	`PAL_XY
(75, 115), 0, 
FALSE
, FALSE);

906 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BATTLEWIN_ADDMAGIC_LABEL
), 
	`PAL_XY
(75 + 16 * 3, 115),

907 0, 
FALSE
, FALSE);

908 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
ÕrgLevñUpMagic
[
j
].
m
[
w
].
wMagic
),

909 
	`PAL_XY
(75 + 16 * 5, 115), 0x1B, 
FALSE
, FALSE);

911 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

912 
	`PAL_WaôF‹Key
(3000);

915 
j
++;

922 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

924 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnB©éeEnd
, i);

930 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

932 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

935 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] +=

936 (
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
w
] - gpGlobÆs->g.PœyîRﬁes.
rgwHP
[w]) / 2;

937 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
w
] +=

938 (
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
w
] - gpGlobÆs->g.PœyîRﬁes.
rgwMP
[w]) / 2;

940 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] == 0)

942 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] = 1;

944 i‡(
g_B©ée
.
iExpGaöed
 > 0)

946 
FLOAT
 
f
 =

947 (
gpGlobÆs
->
g
.
rgLevñUpExp
[gpGlobÆs->g.
PœyîRﬁes
.
rgwLevñ
[
w
]] / 5.0fË/ 
g_B©ée
.
iExpGaöed
;

949 i‡(
f
 < 2)

951 
f
 = 2;

954 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] +=

955 (
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
w
] - gpGlobÆs->g.PœyîRﬁes.
rgwHP
[w]Ë/ 
f
;

956 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
w
] +=

957 (
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
w
] - gpGlobÆs->g.PœyîRﬁes.
rgwMP
[w]Ë/ 
f
 / 1.2;

961 
	}
}

963 
VOID


964 
	$PAL_B©éeE√myEsˇ≥
(

965 
VOID


982 
j
, 
x
, 
y
, 
w
;

983 
BOOL
 
f
 = 
TRUE
;

985 
	`SOUND_Pœy
(45);

990 
f
)

992 
f
 = 
FALSE
;

994 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

996 i‡(
g_B©ée
.
rgE√my
[
j
].
wObje˘ID
 == 0)

1001 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
j
].
pos
) - 5;

1002 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
j
].
pos
);

1004 
g_B©ée
.
rgE√my
[
j
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

1006 
w
 = 
	`PAL_RLEGëWidth
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
j
].
ÕS¥ôe
, 0));

1008 i‡(
x
 + 
w
 > 0)

1010 
f
 = 
TRUE
;

1014 
	`PAL_B©éeMakeS˚√
();

1015 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

1016 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1018 
	`UTIL_Dñay
(10);

1021 
	`UTIL_Dñay
(500);

1022 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…Tîmö©ed
;

1023 
	}
}

1025 
VOID


1026 
	$PAL_B©éePœyîEsˇ≥
(

1027 
VOID


1044 
i
, 
j
;

1045 
WORD
 
wPœyîRﬁe
;

1047 
	`SOUND_Pœy
(45);

1049 
	`PAL_B©éeUpd©eFighãrs
();

1051 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1053 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1055 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] > 0)

1057 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 0;

1061 
i
 = 0; i < 16; i++)

1063 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

1065 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
j
].wPlayerRole;

1067 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] > 0)

1072 
j
)

1075 i‡(
gpGlobÆs
->
wMaxP¨tyMembîIndex
 > 0)

1077 
g_B©ée
.
rgPœyî
[
j
].
pos
 =

1078 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
j
].
pos
) + 4,

1079 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
j
].
pos
) + 6);

1084 
g_B©ée
.
rgPœyî
[
j
].
pos
 =

1085 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
j
].
pos
) + 4,

1086 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
j
].
pos
) + 4);

1090 
g_B©ée
.
rgPœyî
[
j
].
pos
 =

1091 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
j
].
pos
) + 6,

1092 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
j
].
pos
) + 3);

1096 
	`as£π
(
FALSE
);

1102 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

1108 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1110 
g_B©ée
.
rgPœyî
[
i
].
pos
 = 
	`PAL_XY
(9999, 9999);

1113 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

1115 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…FÀed
;

1116 
	}
}

1118 
BATTLERESULT


1119 
	$PAL_SèπB©ée
(

1120 
WORD
 
wE√myTóm
,

1121 
BOOL
 
fIsBoss


1140 
i
;

1141 
WORD
 
w
, 
wPªvWaveLevñ
;

1142 
SHORT
 
sPªvWaveProgªssi⁄
;

1147 
wPªvWaveLevñ
 = 
gpGlobÆs
->
wS¸ìnWave
;

1148 
sPªvWaveProgªssi⁄
 = 
gpGlobÆs
->
sWaveProgªssi⁄
;

1150 
gpGlobÆs
->
sWaveProgªssi⁄
 = 0;

1151 
gpGlobÆs
->
wS¸ìnWave
 = gpGlobÆs->
g
.
ÕrgB©éeFõld
[gpGlobÆs->
wNumB©éeFõld
].wScreenWave;

1157 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1159 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

1161 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] == 0)

1163 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] = 1;

1164 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusPuµë
] = 0;

1167 
gpGlobÆs
->
Exp
.
rgHó…hExp
[
w
].
wCou¡
 = 0;

1168 
gpGlobÆs
->
Exp
.
rgMagicExp
[
w
].
wCou¡
 = 0;

1169 
gpGlobÆs
->
Exp
.
rgAâackExp
[
w
].
wCou¡
 = 0;

1170 
gpGlobÆs
->
Exp
.
rgMagicPowîExp
[
w
].
wCou¡
 = 0;

1171 
gpGlobÆs
->
Exp
.
rgDe„n£Exp
[
w
].
wCou¡
 = 0;

1172 
gpGlobÆs
->
Exp
.
rgDexãrôyExp
[
w
].
wCou¡
 = 0;

1173 
gpGlobÆs
->
Exp
.
rgFÀeExp
[
w
].
wCou¡
 = 0;

1179 
i
 = 0; i < 
MAX_INVENTORY
; i++)

1181 
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡InU£
 = 0;

1187 
i
 = 0; i < 
MAX_ENEMIES_IN_TEAM
; i++)

1189 
	`mem£t
(&(
g_B©ée
.
rgE√my
[
i
]), 0, (
BATTLEENEMY
));

1190 
w
 = 
gpGlobÆs
->
g
.
ÕrgE√myTóm
[
wE√myTóm
].
rgwE√my
[
i
];

1192 i‡(
w
 == 0xFFFF)

1197 i‡(
w
 != 0)

1199 
g_B©ée
.
rgE√my
[
i
].
e
 = 
gpGlobÆs
->
g
.
ÕrgE√my
[gpGlobÆs->g.
rgObje˘
[
w
].
íemy
.
wE√myID
];

1200 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 = 
w
;

1201 
g_B©ée
.
rgE√my
[
i
].
°©e
 = 
kFighãrWaô
;

1202 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.wScriptOnTurnStart;

1203 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnB©éeEnd
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.wScriptOnBattleEnd;

1204 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnRódy
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.wScriptOnReady;

1205 
g_B©ée
.
rgE√my
[
i
].
iCﬁ‹Shi·
 = 0;

1207 #i‚de‡
PAL_CLASSIC


1208 
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 = 50;

1213 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 == 164)

1215 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 /((
gpGlobÆs
->
wMaxP¨tyMembîIndex
 == 0) ? 6 : 3);

1221 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 == 32760)

1223 
w
 = 0; w < 
MAX_PLAYER_ROLES
; w++)

1225 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] = gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[w];

1226 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
w
] = gpGlobÆs->g.PœyîRﬁes.
rgwMaxMP
[w];

1233 i‡((
SHORT
)
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 == -32)

1235 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 = 0;

1237 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 == 20)

1242 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[0] < 15)

1244 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 = 8;

1246 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[4] > 28 ||

1247 
gpGlobÆs
->
Exp
.
rgPrim¨yExp
[4].
wExp
 > 0)

1249 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 = 60;

1252 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wExp
 == 250 &&

1253 
g_B©ée
.
rgE√my
[
i
].
e
.
wCash
 == 1100)

1255 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 += 12;

1257 i‡((
SHORT
)
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 == -60)

1259 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 = 15;

1261 i‡((
SHORT
)
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 == -30)

1263 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 = (
WORD
)-10;

1265 i‡((
SHORT
)
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 == -16)

1267 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 = 0;

1269 i‡((
SHORT
)
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 == -20)

1271 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 = -8;

1273 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 < 20 &&

1274 
gpGlobÆs
->
wNumS˚√
 >= 0xD8 && gpGlobals->wNumScene <= 0xE2)

1279 
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 += 15;

1280 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 += 25;

1282 i‡(
gpGlobÆs
->
wNumS˚√
 == 0x90)

1284 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 += 25;

1286 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 == 2 &&

1287 
g_B©ée
.
rgE√my
[
i
].
e
.
wCash
 == 48)

1289 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 += 8;

1291 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 == 4 &&

1292 
g_B©ée
.
rgE√my
[
i
].
e
.
wCash
 == 240)

1294 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 += 18;

1296 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 == 16 &&

1297 
g_B©ée
.
rgE√my
[
i
].
e
.
wMagicR©e
 == 4 &&

1298 
g_B©ée
.
rgE√my
[
i
].
e
.
wAâackEquivIãmR©e
 == 4)

1300 
g_B©ée
.
rgE√my
[
i
].
e
.
wDexãrôy
 += 50;

1306 
g_B©ée
.
wMaxE√myIndex
 = 
i
 - 1;

1311 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1313 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 = 15.0f;

1314 #i‚de‡
PAL_CLASSIC


1315 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeS≥edModifõr
 = 2.0f;

1316 
g_B©ée
.
rgPœyî
[
i
].
sTu∫Ordî
 = -1;

1318 
g_B©ée
.
rgPœyî
[
i
].
wHidögTime
 = 0;

1319 
g_B©ée
.
rgPœyî
[
i
].
°©e
 = 
kFighãrWaô
;

1320 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
sT¨gë
 = -1;

1321 
g_B©ée
.
rgPœyî
[
i
].
fDe„ndög
 = 
FALSE
;

1322 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 0;

1323 
g_B©ée
.
rgPœyî
[
i
].
iCﬁ‹Shi·
 = 
FALSE
;

1329 
	`PAL_LﬂdB©éeS¥ôes
();

1330 
	`PAL_LﬂdB©éeBackground
();

1335 
g_B©ée
.
ÕS˚√Buf
 =

1336 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

1337 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

1338 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

1340 i‡(
g_B©ée
.
ÕS˚√Buf
 =
NULL
)

1342 
	`Tîmö©eOnEº‹
("PAL_StartBattle(): creating surface for scene buffer failed!");

1345 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

1346 
	`SDL_SëSurÁ˚PÆëã
(
g_B©ée
.
ÕS˚√Buf
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

1348 
	`SDL_SëPÆëã
(
g_B©ée
.
ÕS˚√Buf
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

1351 
	`PAL_Upd©eEquùmíts
();

1353 
g_B©ée
.
iExpGaöed
 = 0;

1354 
g_B©ée
.
iCashGaöed
 = 0;

1356 
g_B©ée
.
fIsBoss
 = fIsBoss;

1357 
g_B©ée
.
fE√myCÀ¨ed
 = 
FALSE
;

1358 
g_B©ée
.
fE√myMovög
 = 
FALSE
;

1359 
g_B©ée
.
iHidögTime
 = 0;

1360 
g_B©ée
.
wMovögPœyîIndex
 = 0;

1362 
g_B©ée
.
UI
.
szMsg
[0] = '\0';

1363 
g_B©ée
.
UI
.
szNextMsg
[0] = '\0';

1364 
g_B©ée
.
UI
.
dwMsgShowTime
 = 0;

1365 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUIWaô
;

1366 
g_B©ée
.
UI
.
fAutoAâack
 = 
FALSE
;

1367 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 0;

1368 
g_B©ée
.
UI
.
wPªvE√myT¨gë
 = 0;

1370 
	`mem£t
(
g_B©ée
.
UI
.
rgShowNum
, 0, (g_Battle.UI.rgShowNum));

1372 
g_B©ée
.
ÕSumm⁄S¥ôe
 = 
NULL
;

1373 
g_B©ée
.
sBackgroundCﬁ‹Shi·
 = 0;

1375 
gpGlobÆs
->
fInB©ée
 = 
TRUE
;

1376 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…PªB©ée
;

1378 
	`PAL_B©éeUpd©eFighãrs
();

1383 
i
 = 
	`PAL_MKFGëChunkSize
(10, 
gpGlobÆs
->
f
.
ÂDATA
);

1384 
g_B©ée
.
ÕEf„˘S¥ôe
 = 
	`UTIL_mÆloc
(
i
);

1386 
	`PAL_MKFRódChunk
(
g_B©ée
.
ÕEf„˘S¥ôe
, 
i
, 10, 
gpGlobÆs
->
f
.
ÂDATA
);

1388 #ifde‡
PAL_CLASSIC


1389 
g_B©ée
.
Pha£
 = 
kB©éePha£Sñe˘A˘i⁄
;

1390 
g_B©ée
.
fRïót
 = 
FALSE
;

1391 
g_B©ée
.
fF‹˚
 = 
FALSE
;

1392 
g_B©ée
.
fFÀe
 = 
FALSE
;

1395 #ifde‡
PAL_ALLOW_KEYREPEAT


1396 
	`SDL_E«bÀKeyRïót
(120, 75);

1402 
i
 = 
	`PAL_B©éeMaö
();

1404 #ifde‡
PAL_ALLOW_KEYREPEAT


1405 
	`SDL_E«bÀKeyRïót
(0, 0);

1406 
	`PAL_CÀ¨KeySèã
();

1407 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

1410 i‡(
i
 =
kB©éeResu…W⁄
)

1415 
	`PAL_B©éeW⁄
();

1421 
w
 = 0; w < 
MAX_INVENTORY
; w++)

1423 
gpGlobÆs
->
rgInvít‹y
[
w
].
nAmou¡InU£
 = 0;

1429 
	`PAL_CÀ¨AŒPœyîSètus
();

1430 
w
 = 0; w < 
MAX_PLAYER_ROLES
; w++)

1432 
	`PAL_CuªPois⁄ByLevñ
(
w
, 3);

1433 
	`PAL_RemoveEquùmítEf„˘
(
w
, 
kBodyP¨tExåa
);

1439 
	`PAL_FªeB©éeS¥ôes
();

1440 
	`‰ì
(
g_B©ée
.
ÕEf„˘S¥ôe
);

1445 
	`SDL_FªeSurÁ˚
(
g_B©ée
.
ÕBackground
);

1446 
	`SDL_FªeSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
);

1448 
g_B©ée
.
ÕBackground
 = 
NULL
;

1449 
g_B©ée
.
ÕS˚√Buf
 = 
NULL
;

1451 
gpGlobÆs
->
fInB©ée
 = 
FALSE
;

1453 
	`PAL_PœyMUS
(
gpGlobÆs
->
wNumMusic
, 
TRUE
, 1);

1458 
gpGlobÆs
->
sWaveProgªssi⁄
 = 
sPªvWaveProgªssi⁄
;

1459 
gpGlobÆs
->
wS¸ìnWave
 = 
wPªvWaveLevñ
;

1461  
i
;

1462 
	}
}

	@battle.h

22 #i‚de‡
BATTLE_H


23 
	#BATTLE_H


	)

25 #ifde‡
__˝lu•lus


30 
	~"globÆ.h
"

31 
	~"uib©ée.h
"

33 
	#BATTLE_FPS
 25

	)

34 
	#BATTLE_FRAME_TIME
 (1000 / 
BATTLE_FPS
)

	)

36 
	eègBATTLERESULT


38 
kB©éeResu…W⁄
 = 3,

39 
kB©éeResu…Lo°
 = 1,

40 
kB©éeResu…FÀed
 = 0xFFFF,

41 
kB©éeResu…Tîmö©ed
 = 0,

42 
kB©éeResu…OnGoög
 = 1000,

43 
kB©éeResu…PªB©ée
 = 1001,

44 
kB©éeResu…Pau£
 = 1002,

45 } 
	tBATTLERESULT
;

47 
	eègFIGHTERSTATE


49 
kFighãrWaô
,

50 
kFighãrCom
,

51 
kFighãrA˘
,

52 } 
	tFIGHTERSTATE
;

54 
	eègBATTLEACTIONTYPE


56 
kB©éeA˘i⁄Pass
,

57 
kB©éeA˘i⁄De„nd
,

58 
kB©éeA˘i⁄Aâack
,

59 
kB©éeA˘i⁄Magic
,

60 
kB©éeA˘i⁄Co›Magic
,

61 
kB©éeA˘i⁄FÀe
,

62 
kB©éeA˘i⁄ThrowIãm
,

63 
kB©éeA˘i⁄U£Iãm
,

64 
kB©éeA˘i⁄AâackM©e
,

65 } 
	tBATTLEACTIONTYPE
;

67 
	sègBATTLEACTION


69 
BATTLEACTIONTYPE
 
A˘i⁄Ty≥
;

70 
WORD
 
wA˘i⁄ID
;

71 
SHORT
 
sT¨gë
;

72 
FLOAT
 
ÊRemaöögTime
;

73 } 
	tBATTLEACTION
;

75 
	sègBATTLEENEMY


77 
WORD
 
wObje˘ID
;

78 
ENEMY
 
e
;

79 
WORD
 
rgwSètus
[
kSètusAŒ
];

80 
FLOAT
 
ÊTimeMëî
;

81 
POISONSTATUS
 
rgPois⁄s
[
MAX_POISONS
];

82 
LPSPRITE
 
ÕS¥ôe
;

83 
PAL_POS
 
pos
;

84 
PAL_POS
 
posOrigöÆ
;

85 
WORD
 
wCuºítFøme
;

86 
FIGHTERSTATE
 
°©e
;

88 
BOOL
 
fTu∫Sèπ
;

89 
BOOL
 
fFú°MoveD⁄e
;

90 
BOOL
 
fDuÆMove
;

92 
WORD
 
wS¸ùtOnTu∫Sèπ
;

93 
WORD
 
wS¸ùtOnB©éeEnd
;

94 
WORD
 
wS¸ùtOnRódy
;

96 
WORD
 
wPªvHP
;

98 
INT
 
iCﬁ‹Shi·
;

99 } 
	tBATTLEENEMY
;

102 
	sègBATTLEPLAYER


104 
INT
 
iCﬁ‹Shi·
;

105 
FLOAT
 
ÊTimeMëî
;

106 
FLOAT
 
ÊTimeS≥edModifõr
;

107 
WORD
 
wHidögTime
;

108 
LPSPRITE
 
ÕS¥ôe
;

109 
PAL_POS
 
pos
;

110 
PAL_POS
 
posOrigöÆ
;

111 
WORD
 
wCuºítFøme
;

112 
FIGHTERSTATE
 
°©e
;

113 
BATTLEACTION
 
a˘i⁄
;

114 
BOOL
 
fDe„ndög
;

115 
WORD
 
wPªvHP
;

116 
WORD
 
wPªvMP
;

117 #i‚de‡
PAL_CLASSIC


118 
SHORT
 
sTu∫Ordî
;

120 } 
	tBATTLEPLAYER
;

122 
	sègSUMMON


124 
LPSPRITE
 
ÕS¥ôe
;

125 
WORD
 
wCuºítFøme
;

126 } 
	tSUMMON
;

128 
	#MAX_BATTLE_ACTIONS
 256

	)

129 
	#MAX_KILLED_ENEMIES
 256

	)

131 #ifde‡
PAL_CLASSIC


133 
	eèbBATTLEPHASE


135 
kB©éePha£Sñe˘A˘i⁄
,

136 
kB©éePha£Pîf‹mA˘i⁄


137 } 
	tBATTLEPHASE
;

139 
	sègACTIONQUEUE


141 
BOOL
 
fIsE√my
;

142 
WORD
 
wDexãrôy
;

143 
WORD
 
wIndex
;

144 } 
	tACTIONQUEUE
;

146 
	#MAX_ACTIONQUEUE_ITEMS
 (
MAX_PLAYERS_IN_PARTY
 + 
MAX_ENEMIES_IN_TEAM
 * 2)

	)

150 
	sègBATTLE


152 
BATTLEPLAYER
 
rgPœyî
[
MAX_PLAYERS_IN_PARTY
];

153 
BATTLEENEMY
 
rgE√my
[
MAX_ENEMIES_IN_TEAM
];

155 
WORD
 
wMaxE√myIndex
;

157 
SDL_SurÁ˚
 *
ÕS˚√Buf
;

158 
SDL_SurÁ˚
 *
ÕBackground
;

160 
SHORT
 
sBackgroundCﬁ‹Shi·
;

162 
LPSPRITE
 
ÕSumm⁄S¥ôe
;

163 
PAL_POS
 
posSumm⁄
;

164 
INT
 
iSumm⁄Føme
;

166 
INT
 
iExpGaöed
;

167 
INT
 
iCashGaöed
;

169 
BOOL
 
fIsBoss
;

170 
BOOL
 
fE√myCÀ¨ed
;

171 
BATTLERESULT
 
B©éeResu…
;

173 
FLOAT
 
ÊTimeCh¨gögUnô
;

175 
BATTLEUI
 
UI
;

177 
LPBYTE
 
ÕEf„˘S¥ôe
;

179 
BOOL
 
fE√myMovög
;

181 
INT
 
iHidögTime
;

183 
WORD
 
wMovögPœyîIndex
;

185 
iBlow
;

187 #ifde‡
PAL_CLASSIC


188 
BATTLEPHASE
 
Pha£
;

189 
ACTIONQUEUE
 
A˘i⁄Queue
[
MAX_ACTIONQUEUE_ITEMS
];

190 
iCurA˘i⁄
;

191 
BOOL
 
fRïót
;

192 
BOOL
 
fF‹˚
;

193 
BOOL
 
fFÀe
;

195 } 
	tBATTLE
;

197 
BATTLE
 
g_B©ée
;

199 
VOID


200 
PAL_LﬂdB©éeS¥ôes
(

201 
VOID


204 
VOID


205 
PAL_B©éeMakeS˚√
(

206 
VOID


209 
VOID


210 
PAL_B©éeBackupS˚√
(

211 
VOID


214 
VOID


215 
PAL_B©éeFadeS˚√
(

216 
VOID


219 
VOID


220 
PAL_B©éeE√myEsˇ≥
(

221 
VOID


224 
VOID


225 
PAL_B©éePœyîEsˇ≥
(

226 
VOID


229 
BATTLERESULT


230 
PAL_SèπB©ée
(

231 
WORD
 
wE√myTóm
,

232 
BOOL
 
fIsBoss


235 #ifde‡
__˝lu•lus


	@big5font.h

1 
	gbig5f⁄t
[] = {

	@common.h

21 #i‚de‡
_COMMON_H


22 
	#_COMMON_H


	)

27 #ifde‡
__˝lu•lus


32 
	~<°dio.h
>

33 
	~<°dlib.h
>

34 
	~<°rög.h
>

35 
	~<time.h
>

36 
	~<limôs.h
>

37 
	~<°d¨g.h
>

38 
	~<as£π.h
>

40 
	~"SDL.h
"

41 
	~"SDL_ídün.h
"

43 #ifde‡
_SDL_°döc_h


44 
	#mÆloc
 
SDL_mÆloc


	)

45 
	#ˇŒoc
 
SDL_ˇŒoc


	)

46 
	#‰ì
 
SDL_‰ì


	)

47 
	#ªÆloc
 
SDL_ªÆloc


	)

50 #i‡
SDL_VERSION_ATLEAST
(2,0,0)

52 
	#SDLK_KP1
 
SDLK_KP_1


	)

53 
	#SDLK_KP2
 
SDLK_KP_2


	)

54 
	#SDLK_KP3
 
SDLK_KP_3


	)

55 
	#SDLK_KP4
 
SDLK_KP_4


	)

56 
	#SDLK_KP5
 
SDLK_KP_5


	)

57 
	#SDLK_KP6
 
SDLK_KP_6


	)

58 
	#SDLK_KP7
 
SDLK_KP_7


	)

59 
	#SDLK_KP8
 
SDLK_KP_8


	)

60 
	#SDLK_KP9
 
SDLK_KP_9


	)

61 
	#SDLK_KP0
 
SDLK_KP_0


	)

63 
	#SDL_HWSURFACE
 0

	)

67 #i‡
SDL_BYTEORDER
 =
SDL_LIL_ENDIAN


68 
	#SWAP16
(
X
Ë(X)

	)

69 
	#SWAP32
(
X
Ë(X)

	)

71 
	#SWAP16
(
X
Ë
	`SDL_Sw≠16
(X)

	)

72 
	#SWAP32
(
X
Ë
	`SDL_Sw≠32
(X)

	)

76 #i‚de‡
cxmax


77 
	#cxmax
(
a
, 
b
Ë((◊Ë> (b)Ë? (aË: (b))

	)

80 #i‚de‡
cxmö


81 
	#cxmö
(
a
, 
b
Ë((◊Ë< (b)Ë? (aË: (b))

	)

84 #i‡
deföed
 (
__SYMBIAN32__
)

86 #unde‡
_WIN32


87 #unde‡
SDL_INIT_JOYSTICK


88 
	#SDL_INIT_JOYSTICK
 0

	)

89 
	#PAL_HAS_MOUSE
 1

	)

90 
	#PAL_PREFIX
 "e:/d©a/∑l/"

	)

91 
	#PAL_SAVE_PREFIX
 "e:/d©a/∑l/"

	)

93 #ñi‡
deföed
 (
GEKKO
)

95 
	#PAL_HAS_JOYSTICKS
 1

	)

96 
	#PAL_HAS_MOUSE
 0

	)

97 
	#PAL_PREFIX
 "SD:/≠ps/sdÕÆ/"

	)

98 
	#PAL_SAVE_PREFIX
 "SD:/≠ps/sdÕÆ/"

	)

100 #ñi‡
deföed
 (
PSP
)

102 
	#PAL_HAS_JOYSTICKS
 0

	)

103 
	#PAL_PREFIX
 "ms0:/"

	)

104 
	#PAL_SAVE_PREFIX
 "ms0:/PSP/SAVEDATA/SDLPAL/"

	)

106 #ñi‡
deföed
 (
__N3DS__
)

108 
	#PAL_PREFIX
 "sdmc:/3ds/sdÕÆ/"

	)

109 
	#PAL_SAVE_PREFIX
 "sdmc:/3ds/sdÕÆ/"

	)

111 #ñi‡
deföed
 (
__IOS__
)

113 
	#PAL_PREFIX
 
	`UTIL_IOS_Ba£P©h
()

	)

114 
	#PAL_SAVE_PREFIX
 
	`UTIL_IOS_SaveP©h
()

	)

115 
	#PAL_HAS_TOUCH
 1

	)

117 #ñi‡
deföed
 (
__ANDROID__
)

119 
	#PAL_PREFIX
 "/m¡/sdˇrd/sdÕÆ/"

	)

120 
	#PAL_SAVE_PREFIX
 "/m¡/sdˇrd/sdÕÆ/"

	)

121 
	#PAL_HAS_TOUCH
 1

	)

123 #ñi‡
deföed
 (
__WINPHONE__
)

125 
	#PAL_PREFIX
 "As£ts\\D©a\\"

	)

126 
	#PAL_SAVE_PREFIX
 ""

127 
	#PAL_HAS_TOUCH
 1

	)

128 
	~<°dio.h
>

129 #ifde‡
__˝lu•lus


130 
	~<c°dio
>

133 
FILE
 *
MY_f›í
(c⁄° *
∑th
, c⁄° *
mode
);

134 
	#f›í
 
MY_f›í


	)

138 
	#PAL_HAS_JOYSTICKS
 1

	)

139 #i‚de‡
_WIN32_WCE


140 #i‡
SDL_MAJOR_VERSION
 =1 && 
SDL_MINOR_VERSION
 <= 2

141 
	#PAL_ALLOW_KEYREPEAT
 1

	)

142 
	#PAL_HAS_CD
 1

	)

144 #i‡!
deföed
 (
CYGWIN
Ë&& !deföed (
DINGOO
Ë&& !deföed (
GPH
Ë&& !deföed (
GEKKO
Ë&& !deföed (
__WINPHONE__
)

145 
	#PAL_HAS_MP3
 1

	)

148 #i‚de‡
PAL_PREFIX


149 
	#PAL_PREFIX
 "./"

	)

151 #i‚de‡
PAL_SAVE_PREFIX


152 
	#PAL_SAVE_PREFIX
 "/medü/d©a/loˇl/home/.sdÕÆ/"

	)

157 #i‚de‡
SDL_INIT_CDROM


158 
	#SDL_INIT_CDROM
 0

	)

161 #ifde‡
_WIN32


163 
	~<wödows.h
>

165 #i‡!
deföed
(
__BORLANDC__
Ë&& !deföed(
_WIN32_WCE
)

166 
	~<io.h
>

169 
	#v¢¥ötf
 
_v¢¥ötf


	)

171 #ifde‡
_MSC_VER


172 #¥agm®
w¨nög
 (
dißbÀ
:4018)

173 #¥agm®
w¨nög
 (
dißbÀ
:4028)

174 #¥agm®
w¨nög
 (
dißbÀ
:4244)

175 #¥agm®
w¨nög
 (
dißbÀ
:4305)

176 #¥agm®
w¨nög
 (
dißbÀ
:4761)

177 #¥agm®
w¨nög
 (
dißbÀ
:4996)

180 #i‚de‡
_LPCBYTE_DEFINED


181 
	#_LPCBYTE_DEFINED


	)

182 c⁄° 
	tBYTE
 *
	tLPCBYTE
;

185 #i‚de‡
__WINPHONE__


186 
	#PAL_HAS_NATIVEMIDI
 1

	)

191 
	~<uni°d.h
>

193 
	#CONST
 c⁄°

	)

194 #i‚de‡
FALSE


195 
	#FALSE
 0

	)

197 #i‚de‡
TRUE


198 
	#TRUE
 1

	)

200 
	#VOID
 

	)

201 
	tCHAR
;

202 
	tSHORT
;

203 
	tLONG
;

205 
	tULONG
, *
	tPULONG
;

206 
	tUSHORT
, *
	tPUSHORT
;

207 
	tUCHAR
, *
	tPUCHAR
;

209 
	tWORD
, *
	tLPWORD
;

210 
	tDWORD
, *
	tLPDWORD
;

211 
	tINT
, *
	tLPINT
;

212 #i‚de‡
__OBJC__


213 
	tBOOL
, *
	tLPBOOL
;

215 
	tUINT
, *
	tPUINT
, 
	tUINT32
, *
	tPUINT32
;

216 
	tBYTE
, *
	tLPBYTE
;

217 
CONST
 
	tBYTE
 *
	tLPCBYTE
;

218 
	tFLOAT
, *
	tLPFLOAT
;

219 *
	tLPVOID
;

220 c⁄° *
	tLPCVOID
;

221 
CHAR
 *
	tLPSTR
;

222 c⁄° 
	tCHAR
 *
	tLPCSTR
;

226 #i‡
deföed
 (
__SYMBIAN32__
Ë|| deföed (
__N3DS__
)

227 
	#PAL_LARGE
 

	)

229 
	#PAL_LARGE


	)

232 #ifde‡
__˝lu•lus


	@ending.c

22 
	~"maö.h
"

24 
WORD
 
	gg_wCurEf„˘S¥ôe
 = 0;

26 
VOID


27 
	$PAL_EndögSëEf„˘S¥ôe
(

28 
WORD
 
wS¥ôeNum


45 
g_wCurEf„˘S¥ôe
 = 
wS¥ôeNum
;

46 
	}
}

48 
VOID


49 
	$PAL_ShowFBP
(

50 
WORD
 
wChunkNum
,

51 
WORD
 
wFade


70 
PAL_LARGE
 
BYTE
 
buf
[320 * 200];

71 
PAL_LARGE
 
BYTE
 
bufS¥ôe
[320 * 200];

72 c⁄° 
rgIndex
[6] = {0, 3, 1, 5, 2, 4};

73 
SDL_SurÁ˚
 *
p
;

74 
i
, 
j
, 
k
;

75 
BYTE
 
a
, 
b
;

77 i‡(
	`PAL_MKFDecom¥essChunk
(
buf
, 320 * 200, 
wChunkNum
, 
gpGlobÆs
->
f
.
ÂFBP
) <= 0)

79 
	`mem£t
(
buf
, 0, (buf));

82 i‡(
g_wCurEf„˘S¥ôe
 != 0)

84 
	`PAL_MKFDecom¥essChunk
(
bufS¥ôe
, 320 * 200, 
g_wCurEf„˘S¥ôe
, 
gpGlobÆs
->
f
.
ÂMGO
);

87 i‡(
wFade
)

89 
wFade
++;

90 
wFade
 *= 10;

92 
p
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

93 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

94 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

95 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

96 
	`SDL_SëSurÁ˚PÆëã
(
p
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

98 
	`SDL_SëPÆëã
(
p
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

100 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
p
);

101 
	`VIDEO_BackupS¸ìn
();

103 
i
 = 0; i < 16; i++)

105 
j
 = 0; j < 6; j++)

111 
k
 = 
rgIndex
[
j
]; k < 
gpS¸ìn
->
pôch
 * gpS¸ìn->
h
; k += 6)

113 
a
 = ((
LPBYTE
)(
p
->
pixñs
))[
k
];

114 
b
 = ((
LPBYTE
)(
gpS¸ìnBak
->
pixñs
))[
k
];

116 i‡(
i
 > 0)

118 i‡((
a
 & 0x0FË> (
b
 & 0x0F))

120 
b
++;

122 i‡((
a
 & 0x0FË< (
b
 & 0x0F))

124 
b
--;

128 ((
LPBYTE
)(
gpS¸ìnBak
->
pixñs
))[
k
] = ((
a
 & 0xF0Ë| (
b
 & 0x0F));

131 
	`SDL_BlôSurÁ˚
(
gpS¸ìnBak
, 
NULL
, 
gpS¸ìn
, NULL);

133 i‡(
g_wCurEf„˘S¥ôe
 != 0)

135 
f
 = 
	`SDL_GëTicks
() / 150;

136 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
bufS¥ôe
, 
f
 % 
	`PAL_S¥ôeGëNumFømes
(bufSprite)),

137 
gpS¸ìn
, 
	`PAL_XY
(0, 0));

140 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

141 
	`UTIL_Dñay
(
wFade
);

145 
	`SDL_FªeSurÁ˚
(
p
);

151 #ifde‡
PAL_WIN95


152 i‡(
wChunkNum
 != 68)

154 i‡(
wChunkNum
 != 49)

157 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
gpS¸ìn
);

160 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

161 
	}
}

163 
VOID


164 
	$PAL_S¸ﬁlFBP
(

165 
WORD
 
wChunkNum
,

166 
WORD
 
wS¸ﬁlS≥ed
,

167 
BOOL
 
fS¸ﬁlDown


188 
SDL_SurÁ˚
 *
p
;

189 
PAL_LARGE
 
BYTE
 
buf
[320 * 200];

190 
PAL_LARGE
 
BYTE
 
bufS¥ôe
[320 * 200];

191 
i
, 
l
;

192 
SDL_Re˘
 
ª˘
, 
d°ª˘
;

194 i‡(
	`PAL_MKFDecom¥essChunk
(
buf
, 320 * 200, 
wChunkNum
, 
gpGlobÆs
->
f
.
ÂFBP
) <= 0)

199 i‡(
g_wCurEf„˘S¥ôe
 != 0)

201 
	`PAL_MKFDecom¥essChunk
(
bufS¥ôe
, 320 * 200, 
g_wCurEf„˘S¥ôe
, 
gpGlobÆs
->
f
.
ÂMGO
);

204 
p
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

205 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

206 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

208 i‡(
p
 =
NULL
)

213 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

214 
	`SDL_SëSurÁ˚PÆëã
(
p
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

216 
	`SDL_SëPÆëã
(
p
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

219 
	`VIDEO_BackupS¸ìn
();

220 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
p
);

222 i‡(
wS¸ﬁlS≥ed
 == 0)

224 
wS¸ﬁlS≥ed
 = 1;

227 
ª˘
.
x
 = 0;

228 
ª˘
.
w
 = 320;

229 
d°ª˘
.
x
 = 0;

230 
d°ª˘
.
w
 = 320;

232 
l
 = 0;Ü < 220;Ü++)

234 
i
 = 
l
;

235 i‡(
i
 > 200)

237 
i
 = 200;

240 i‡(
fS¸ﬁlDown
)

242 
ª˘
.
y
 = 0;

243 
d°ª˘
.
y
 = 
i
;

244 
ª˘
.
h
 = 200 - 
i
;

245 
d°ª˘
.
h
 = 200 - 
i
;

249 
ª˘
.
y
 = 
i
;

250 
d°ª˘
.
y
 = 0;

251 
ª˘
.
h
 = 200 - 
i
;

252 
d°ª˘
.
h
 = 200 - 
i
;

255 
	`SDL_BlôSurÁ˚
(
gpS¸ìnBak
, &
ª˘
, 
gpS¸ìn
, &
d°ª˘
);

257 i‡(
fS¸ﬁlDown
)

259 
ª˘
.
y
 = 200 - 
i
;

260 
d°ª˘
.
y
 = 0;

261 
ª˘
.
h
 = 
i
;

262 
d°ª˘
.
h
 = 
i
;

266 
ª˘
.
y
 = 0;

267 
d°ª˘
.
y
 = 200 - 
i
;

268 
ª˘
.
h
 = 
i
;

269 
d°ª˘
.
h
 = 
i
;

272 
	`SDL_BlôSurÁ˚
(
p
, &
ª˘
, 
gpS¸ìn
, &
d°ª˘
);

274 
	`PAL_AµlyWave
(
gpS¸ìn
);

276 i‡(
g_wCurEf„˘S¥ôe
 != 0)

278 
f
 = 
	`SDL_GëTicks
() / 150;

279 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
bufS¥ôe
, 
f
 % 
	`PAL_S¥ôeGëNumFømes
(bufSprite)),

280 
gpS¸ìn
, 
	`PAL_XY
(0, 0));

283 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

285 i‡(
gpGlobÆs
->
fNìdToFadeIn
)

287 
	`PAL_FadeIn
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
, 1);

288 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

289 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

290 
	`SDL_SëSurÁ˚PÆëã
(
p
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

292 
	`SDL_SëPÆëã
(
p
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

296 
	`UTIL_Dñay
(800 / 
wS¸ﬁlS≥ed
);

299 
	`SDL_BlôSurÁ˚
(
p
, 
NULL
, 
gpS¸ìn
, NULL);

300 
	`SDL_FªeSurÁ˚
(
p
);

301 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

302 
	}
}

304 
VOID


305 
	$PAL_EndögAnim©i⁄
(

306 
VOID


323 
LPBYTE
 
buf
;

324 
LPBYTE
 
bufGúl
;

325 
SDL_SurÁ˚
 *
pUµî
;

326 
SDL_SurÁ˚
 *
pLowî
;

327 
SDL_Re˘
 
§¸e˘
, 
d°ª˘
;

329 
yPosGúl
 = 180;

330 
i
;

332 
buf
 = (
LPBYTE
)
	`UTIL_ˇŒoc
(1, 64000);

333 
bufGúl
 = (
LPBYTE
)
	`UTIL_ˇŒoc
(1, 6000);

335 
pUµî
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

336 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

337 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

339 
pLowî
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

340 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

341 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

343 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

344 
	`SDL_SëSurÁ˚PÆëã
(
pUµî
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

345 
	`SDL_SëSurÁ˚PÆëã
(
pLowî
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

347 
	`SDL_SëPÆëã
(
pUµî
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

348 
	`SDL_SëPÆëã
(
pLowî
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

351 #ifde‡
PAL_WIN95


352 
	`PAL_MKFDecom¥essChunk
(
buf
, 64000, 69, 
gpGlobÆs
->
f
.
ÂFBP
);

353 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
pUµî
);

355 
	`PAL_MKFDecom¥essChunk
(
buf
, 64000, 70, 
gpGlobÆs
->
f
.
ÂFBP
);

356 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
pLowî
);

358 
	`PAL_MKFDecom¥essChunk
(
buf
, 64000, 61, 
gpGlobÆs
->
f
.
ÂFBP
);

359 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
pUµî
);

361 
	`PAL_MKFDecom¥essChunk
(
buf
, 64000, 62, 
gpGlobÆs
->
f
.
ÂFBP
);

362 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
pLowî
);

365 
	`PAL_MKFDecom¥essChunk
(
buf
, 64000, 571, 
gpGlobÆs
->
f
.
ÂMGO
);

366 
	`PAL_MKFDecom¥essChunk
(
bufGúl
, 6000, 572, 
gpGlobÆs
->
f
.
ÂMGO
);

368 
§¸e˘
.
x
 = 0;

369 
d°ª˘
.
x
 = 0;

370 
§¸e˘
.
w
 = 320;

371 
d°ª˘
.
w
 = 320;

373 
gpGlobÆs
->
wS¸ìnWave
 = 2;

375 
i
 = 0; i < 400; i++)

380 
§¸e˘
.
y
 = 0;

381 
§¸e˘
.
h
 = 200 - 
i
 / 2;

383 
d°ª˘
.
y
 = 
i
 / 2;

384 
d°ª˘
.
h
 = 200 - 
i
 / 2;

386 
	`SDL_BlôSurÁ˚
(
pLowî
, &
§¸e˘
, 
gpS¸ìn
, &
d°ª˘
);

388 
§¸e˘
.
y
 = 200 - 
i
 / 2;

389 
§¸e˘
.
h
 = 
i
 / 2;

391 
d°ª˘
.
y
 = 0;

392 
d°ª˘
.
h
 = 
i
 / 2;

394 
	`SDL_BlôSurÁ˚
(
pUµî
, &
§¸e˘
, 
gpS¸ìn
, &
d°ª˘
);

396 
	`PAL_AµlyWave
(
gpS¸ìn
);

401 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
buf
, 0), 
gpS¸ìn
, 
	`PAL_XY
(0, -400 + 
i
));

402 #ifde‡
PAL_WIN95


403 
	`PAL_RLEBlôToSurÁ˚
(
buf
 + 0x8444, 
gpS¸ìn
, 
	`PAL_XY
(0, -200 + 
i
));

405 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
buf
, 1), 
gpS¸ìn
, 
	`PAL_XY
(0, -200 + 
i
));

410 
yPosGúl
 -
i
 & 1;

411 i‡(
yPosGúl
 < 80)

413 
yPosGúl
 = 80;

416 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
bufGúl
, (
	`SDL_GëTicks
() / 50) % 4),

417 
gpS¸ìn
, 
	`PAL_XY
(220, 
yPosGúl
));

422 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

423 i‡(
gpGlobÆs
->
fNìdToFadeIn
)

425 
	`PAL_FadeIn
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
, 1);

426 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

427 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

428 
	`SDL_SëSurÁ˚PÆëã
(
pUµî
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

429 
	`SDL_SëSurÁ˚PÆëã
(
pLowî
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

431 
	`SDL_SëPÆëã
(
pUµî
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

432 
	`SDL_SëPÆëã
(
pLowî
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

436 
	`UTIL_Dñay
(50);

439 
gpGlobÆs
->
wS¸ìnWave
 = 0;

441 
	`SDL_FªeSurÁ˚
(
pUµî
);

442 
	`SDL_FªeSurÁ˚
(
pLowî
);

444 
	`‰ì
(
buf
);

445 
	`‰ì
(
bufGúl
);

446 
	}
}

448 #ifde‡
PAL_WIN95


450 
VOID


451 
	$PAL_EndögS¸ìn
(

452 
VOID


455 
	`RIX_Pœy
(0x1a, 
TRUE
, 0);

456 
	`PAL_RNGPœy
(
gpGlobÆs
->
iCurPœyögRNG
, 110, 150, 7);

457 
	`PAL_RNGPœy
(
gpGlobÆs
->
iCurPœyögRNG
, 151, 999, 9);

459 
	`PAL_FadeOut
(2);

461 
	`RIX_Pœy
(0x19, 
TRUE
, 0);

463 
	`PAL_ShowFBP
(75, 0);

464 
	`PAL_FadeIn
(5, 
FALSE
, 1);

465 
	`PAL_S¸ﬁlFBP
(74, 0xf, 
TRUE
);

467 
	`PAL_FadeOut
(1);

469 
	`SDL_FûlRe˘
(
gpS¸ìn
, 
NULL
, 0);

470 
gpGlobÆs
->
wNumPÆëã
 = 4;

471 
gpGlobÆs
->
fNìdToFadeIn
 = 
TRUE
;

472 
	`PAL_EndögAnim©i⁄
();

474 
	`RIX_Pœy
(0, 
FALSE
, 2);

475 
	`PAL_Cﬁ‹Fade
(7, 15, 
FALSE
);

477 i‡(!
	`SOUND_PœyCDA
(2))

479 
	`RIX_Pœy
(0x11, 
TRUE
, 0);

482 
	`SDL_FûlRe˘
(
gpS¸ìn
, 
NULL
, 0);

483 
	`PAL_SëPÆëã
(0, 
FALSE
);

484 
	`PAL_RNGPœy
(0xb, 0, 999, 7);

486 
	`PAL_FadeOut
(2);

488 
	`SDL_FûlRe˘
(
gpS¸ìn
, 
NULL
, 0);

489 
gpGlobÆs
->
wNumPÆëã
 = 8;

490 
gpGlobÆs
->
fNìdToFadeIn
 = 
TRUE
;

491 
	`PAL_RNGPœy
(10, 0, 999, 6);

493 
	`PAL_EndögSëEf„˘S¥ôe
(0);

494 
	`PAL_ShowFBP
(77, 10);

496 
	`VIDEO_BackupS¸ìn
();

498 
	`PAL_EndögSëEf„˘S¥ôe
(0x27b);

499 
	`PAL_ShowFBP
(76, 7);

501 
	`PAL_SëPÆëã
(5, 
FALSE
);

502 
	`PAL_ShowFBP
(73, 7);

503 
	`PAL_S¸ﬁlFBP
(72, 0xf, 
TRUE
);

505 
	`PAL_ShowFBP
(71, 7);

506 
	`PAL_ShowFBP
(68, 7);

508 
	`PAL_EndögSëEf„˘S¥ôe
(0);

509 
	`PAL_ShowFBP
(68, 6);

511 
	`PAL_WaôF‹Key
(0);

512 
	`RIX_Pœy
(0, 
FALSE
, 1);

513 
	`UTIL_Dñay
(500);

515 i‡(!
	`SOUND_PœyCDA
(13))

517 
	`RIX_Pœy
(9, 
TRUE
, 0);

520 
	`PAL_S¸ﬁlFBP
(67, 0xf, 
TRUE
);

521 
	`PAL_S¸ﬁlFBP
(66, 0xf, 
TRUE
);

522 
	`PAL_S¸ﬁlFBP
(65, 0xf, 
TRUE
);

523 
	`PAL_S¸ﬁlFBP
(64, 0xf, 
TRUE
);

524 
	`PAL_S¸ﬁlFBP
(63, 0xf, 
TRUE
);

525 
	`PAL_S¸ﬁlFBP
(62, 0xf, 
TRUE
);

526 
	`PAL_S¸ﬁlFBP
(61, 0xf, 
TRUE
);

527 
	`PAL_S¸ﬁlFBP
(60, 0xf, 
TRUE
);

528 
	`PAL_S¸ﬁlFBP
(59, 0xf, 
TRUE
);

530 
	`RIX_Pœy
(0, 
FALSE
, 6);

531 
	`PAL_FadeOut
(3);

532 
	}
}

	@ending.h

22 #i‚de‡
ENDGAME_H


23 
	#ENDGAME_H


	)

25 #ifde‡
__˝lu•lus


30 
VOID


31 
PAL_EndögSëEf„˘S¥ôe
(

32 
WORD
 
wS¥ôeNum


35 
VOID


36 
PAL_ShowFBP
(

37 
WORD
 
wChunkNum
,

38 
WORD
 
wFade


41 
VOID


42 
PAL_S¸ﬁlFBP
(

43 
WORD
 
wChunkNum
,

44 
WORD
 
wS¸ﬁlS≥ed
,

45 
BOOL
 
fS¸ﬁlDown


48 
VOID


49 
PAL_EndögAnim©i⁄
(

50 
VOID


53 #ifde‡
PAL_WIN95


54 
VOID


55 
PAL_EndögS¸ìn
(

56 
VOID


60 #ifde‡
__˝lu•lus


	@fight.c

22 
	~"maö.h
"

23 
	~<m©h.h
>

27 
BOOL


28 
	$PAL_IsPœyîDyög
(

29 
WORD
 
wPœyîRﬁe


46  
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] < gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[wPlayerRole] / 5;

47 
	}
}

49 
INT


50 
	$PAL_B©éeSñe˘AutoT¨gë
(

51 
VOID


68 
i
;

70 
i
 = ()
g_B©ée
.
UI
.
wPªvE√myT¨gë
;

72 i‡(
i
 >0 && i <
g_B©ée
.
wMaxE√myIndex
 &&

73 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0 &&

74 
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 > 0)

76  
i
;

79 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

81 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0 &&

82 
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 > 0)

84  
i
;

89 
	}
}

91 
SHORT


92 
	$PAL_CÆcBa£Damage
(

93 
WORD
 
wAâackSåígth
,

94 
WORD
 
wDe„n£


113 
SHORT
 
sDamage
;

118 i‡(
wAâackSåígth
 > 
wDe„n£
)

120 
sDamage
 = (
SHORT
)(
wAâackSåígth
 * 2 - 
wDe„n£
 * 1.6 + 0.5);

122 i‡(
wAâackSåígth
 > 
wDe„n£
 * 0.6)

124 
sDamage
 = (
SHORT
)(
wAâackSåígth
 - 
wDe„n£
 * 0.6 + 0.5);

128 
sDamage
 = 0;

131  
sDamage
;

132 
	}
}

134 
SHORT


135 
	$PAL_CÆcMagicDamage
(

136 
WORD
 
wMagicSåígth
,

137 
WORD
 
wDe„n£
,

138 c⁄° 
WORD
 
rgwEÀmíèlResi°™˚
[
NUM_MAGIC_ELEMENTAL
],

139 
WORD
 
wPois⁄Resi°™˚
,

140 
WORD
 
wMagicID


165 
SHORT
 
sDamage
;

166 
WORD
 
wEÀm
;

168 
wMagicID
 = 
gpGlobÆs
->
g
.
rgObje˘
[wMagicID].
magic
.
wMagicNumbî
;

173 
wMagicSåígth
 *
	`R™domFlﬂt
(10, 11);

174 
wMagicSåígth
 /= 10;

176 
sDamage
 = 
	`PAL_CÆcBa£Damage
(
wMagicSåígth
, 
wDe„n£
);

177 
sDamage
 /= 4;

179 
sDamage
 +
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicID
].
wBa£Damage
;

181 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicID
].
wEÀmíèl
 != 0)

183 
wEÀm
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicID
].
wEÀmíèl
;

185 i‡(
wEÀm
 > 
NUM_MAGIC_ELEMENTAL
)

187 
sDamage
 *10 - 
wPois⁄Resi°™˚
;

189 i‡(
wEÀm
 == 0)

191 
sDamage
 *= 5;

195 
sDamage
 *10 - 
rgwEÀmíèlResi°™˚
[
wEÀm
 - 1];

198 
sDamage
 /= 5;

200 i‡(
wEÀm
 <
NUM_MAGIC_ELEMENTAL
)

202 
sDamage
 *10 + 
gpGlobÆs
->
g
.
ÕrgB©éeFõld
[gpGlobÆs->
wNumB©éeFõld
].
rgsMagicEf„˘
[
wEÀm
 - 1];

203 
sDamage
 /= 10;

207  
sDamage
;

208 
	}
}

210 
SHORT


211 
	$PAL_CÆcPhysiˇlAâackDamage
(

212 
WORD
 
wAâackSåígth
,

213 
WORD
 
wDe„n£
,

214 
WORD
 
wAâackResi°™˚


235 
SHORT
 
sDamage
;

237 
sDamage
 = 
	`PAL_CÆcBa£Damage
(
wAâackSåígth
, 
wDe„n£
);

238 i‡(
wAâackResi°™˚
 != 0)

240 
sDamage
 /
wAâackResi°™˚
;

243  
sDamage
;

244 
	}
}

246 
SHORT


247 
	$PAL_GëE√myDexãrôy
(

248 
WORD
 
wE√myIndex


265 
SHORT
 
s
;

267 
	`as£π
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
wObje˘ID
 != 0);

269 
s
 = (
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wLevñ
 + 6) * 3;

270 
s
 +(
SHORT
)
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wDexãrôy
;

272 #i‚de‡
PAL_CLASSIC


273 i‡(
s
 < 20)

275 
s
 = 20;

278 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
kSètusHa°e
] != 0)

280 
s
 *= 6;

281 
s
 /= 5;

283 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
kSètusSlow
] != 0)

285 
s
 *= 2;

286 
s
 /= 3;

290  
s
;

291 
	}
}

293 
WORD


294 
	$PAL_GëPœyîA˘uÆDexãrôy
(

295 
WORD
 
wPœyîRﬁe


312 
WORD
 
wDexãrôy
 = 
	`PAL_GëPœyîDexãrôy
(
wPœyîRﬁe
);

314 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusHa°e
] != 0)

316 #ifde‡
PAL_CLASSIC


317 
wDexãrôy
 *= 3;

319 
wDexãrôy
 *= 6;

320 
wDexãrôy
 /= 5;

323 #i‚de‡
PAL_CLASSIC


324 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSlow
] != 0)

326 
wDexãrôy
 *= 2;

327 
wDexãrôy
 /= 3;

331 i‡(
	`PAL_IsPœyîDyög
(
wPœyîRﬁe
))

336 #ifde‡
PAL_CLASSIC


337 
wDexãrôy
 /= 2;

339 
wDexãrôy
 *= 4;

340 
wDexãrôy
 /= 5;

344 #ifde‡
PAL_CLASSIC


345 i‡(
wDexãrôy
 > 999)

347 
wDexãrôy
 = 999;

351  
wDexãrôy
;

352 
	}
}

354 #i‚de‡
PAL_CLASSIC


356 
VOID


357 
	$PAL_Upd©eTimeCh¨gögUnô
(

358 
VOID


375 
g_B©ée
.
ÊTimeCh¨gögUnô
 = (
FLOAT
)(
	`pow
(
	`PAL_GëPœyîDexãrôy
(0) + 5, 0.3));

376 
g_B©ée
.
ÊTimeCh¨gögUnô
 /
	`PAL_GëPœyîDexãrôy
(0);

378 i‡(
gpGlobÆs
->
bB©éeS≥ed
 > 1)

380 
g_B©ée
.
ÊTimeCh¨gögUnô
 /1 + (
gpGlobÆs
->
bB©éeS≥ed
 - 1) * 0.5;

384 
g_B©ée
.
ÊTimeCh¨gögUnô
 /= 1.2f;

386 
	}
}

388 
FLOAT


389 
	$PAL_GëTimeCh¨gögS≥ed
(

390 
WORD
 
wDexãrôy


407 i‡((
g_B©ée
.
UI
.
°©e
 =
kB©éeUISñe˘Move
 &&

408 
g_B©ée
.
UI
.
MíuSèã
 !
kB©éeMíuMaö
) ||

409 
	`SDL_GëTicks
(Ë< 
g_B©ée
.
UI
.
dwMsgShowTime
)

420 i‡(
gpGlobÆs
->
fAutoB©ée
)

422 
wDexãrôy
 *= 3;

425  
g_B©ée
.
ÊTimeCh¨gögUnô
 * 
wDexãrôy
;

426 
	}
}

430 
VOID


431 
	$PAL_B©éeDñay
(

432 
WORD
 
wDuøti⁄
,

433 
WORD
 
wObje˘ID
,

434 
BOOL
 
fUpd©eGe°uª


455 
i
, 
j
;

456 
DWORD
 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
BATTLE_FRAME_TIME
;

458 
i
 = 0; i < 
wDuøti⁄
; i++)

460 i‡(
fUpd©eGe°uª
)

465 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

467 i‡(
g_B©ée
.
rgE√my
[
j
].
wObje˘ID
 == 0 ||

468 
g_B©ée
.
rgE√my
[
j
].
rgwSètus
[
kSètusSÀï
] != 0 ||

469 
g_B©ée
.
rgE√my
[
j
].
rgwSètus
[
kSètusP¨Æyzed
] != 0)

474 i‡(--
g_B©ée
.
rgE√my
[
j
].
e
.
wIdÀAnimS≥ed
 == 0)

476 
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
++;

477 
g_B©ée
.
rgE√my
[
j
].
e
.
wIdÀAnimS≥ed
 =

478 
gpGlobÆs
->
g
.
ÕrgE√my
[gpGlobÆs->g.
rgObje˘
[
g_B©ée
.
rgE√my
[
j
].
wObje˘ID
].
íemy
.
wE√myID
].
wIdÀAnimS≥ed
;

481 i‡(
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
 >g_B©ée.rgE√my[j].
e
.
wIdÀFømes
)

483 
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
 = 0;

491 
	`PAL_Pro˚ssEvít
();

492 
	`SDL_GëTicks
(Ë<
dwTime
)

494 
	`PAL_Pro˚ssEvít
();

495 
	`SDL_Dñay
(1);

501 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
BATTLE_FRAME_TIME
;

503 
	`PAL_B©éeMakeS˚√
();

504 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

505 
	`PAL_B©éeUIUpd©e
();

507 i‡(
wObje˘ID
 != 0)

509 i‡(
wObje˘ID
 =
BATTLE_LABEL_ESCAPEFAIL
)

511 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
wObje˘ID
), 
	`PAL_XY
(130, 75),

512 15, 
TRUE
, 
FALSE
);

514 i‡((
SHORT
)
wObje˘ID
 < 0)

516 
	`PAL_DøwText
(
	`PAL_GëW‹d
(-((
SHORT
)
wObje˘ID
)), 
	`PAL_XY
(170, 45),

517 
DESCTEXT_COLOR
, 
TRUE
, 
FALSE
);

521 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
wObje˘ID
), 
	`PAL_XY
(210, 50),

522 15, 
TRUE
, 
FALSE
);

526 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

528 
	}
}

530 
VOID


531 
	$PAL_B©éeBackupSèt
(

532 
VOID


549 
i
;

550 
WORD
 
wPœyîRﬁe
;

552 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

554 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

558 
g_B©ée
.
rgE√my
[
i
].
wPªvHP
 = g_B©ée.rgE√my[i].
e
.
wHó…h
;

561 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

563 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

565 
g_B©ée
.
rgPœyî
[
i
].
wPªvHP
 =

566 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
];

567 
g_B©ée
.
rgPœyî
[
i
].
wPªvMP
 =

568 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
];

570 
	}
}

572 
BOOL


573 
	$PAL_B©éeDi•œySètCh™ge
(

574 
VOID


591 
i
, 
x
, 
y
;

592 
SHORT
 
sDamage
;

593 
WORD
 
wPœyîRﬁe
;

594 
BOOL
 
f
 = 
FALSE
;

596 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

598 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

603 i‡(
g_B©ée
.
rgE√my
[
i
].
wPªvHP
 !g_B©ée.rgE√my[i].
e
.
wHó…h
)

608 
sDamage
 = 
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 - g_B©ée.rgE√my[i].
wPªvHP
;

610 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
i
].
pos
) - 9;

611 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
i
].
pos
) - 115;

613 i‡(
y
 < 10)

615 
y
 = 10;

618 i‡(
sDamage
 < 0)

620 
	`PAL_B©éeUIShowNum
((
WORD
)(-
sDamage
), 
	`PAL_XY
(
x
, 
y
), 
kNumCﬁ‹Blue
);

624 
	`PAL_B©éeUIShowNum
((
WORD
)(
sDamage
), 
	`PAL_XY
(
x
, 
y
), 
kNumCﬁ‹Yñlow
);

627 
f
 = 
TRUE
;

631 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

633 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

635 i‡(
g_B©ée
.
rgPœyî
[
i
].
wPªvHP
 !
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
])

637 
sDamage
 =

638 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] - 
g_B©ée
.
rgPœyî
[
i
].
wPªvHP
;

640 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
i
].
pos
) - 9;

641 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
i
].
pos
) - 75;

643 i‡(
y
 < 10)

645 
y
 = 10;

648 i‡(
sDamage
 < 0)

650 
	`PAL_B©éeUIShowNum
((
WORD
)(-
sDamage
), 
	`PAL_XY
(
x
, 
y
), 
kNumCﬁ‹Blue
);

654 
	`PAL_B©éeUIShowNum
((
WORD
)(
sDamage
), 
	`PAL_XY
(
x
, 
y
), 
kNumCﬁ‹Yñlow
);

657 
f
 = 
TRUE
;

660 i‡(
g_B©ée
.
rgPœyî
[
i
].
wPªvMP
 !
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
])

662 
sDamage
 =

663 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] - 
g_B©ée
.
rgPœyî
[
i
].
wPªvMP
;

665 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
i
].
pos
) - 9;

666 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
i
].
pos
) - 67;

668 i‡(
y
 < 10)

670 
y
 = 10;

676 i‡(
sDamage
 > 0)

678 
	`PAL_B©éeUIShowNum
((
WORD
)(
sDamage
), 
	`PAL_XY
(
x
, 
y
), 
kNumCﬁ‹Cy™
);

681 
f
 = 
TRUE
;

685  
f
;

686 
	}
}

688 
VOID


689 
	$PAL_B©éePo°A˘i⁄Check
(

690 
BOOL
 
fCheckPœyîs


707 
i
, 
j
;

708 
BOOL
 
fFade
 = 
FALSE
;

709 
BOOL
 
fE√myRemaöög
 = 
FALSE
;

711 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

713 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

718 i‡((
SHORT
)(
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
) <= 0)

723 
g_B©ée
.
iExpGaöed
 +g_B©ée.
rgE√my
[
i
].
e
.
wExp
;

724 
g_B©ée
.
iCashGaöed
 +g_B©ée.
rgE√my
[
i
].
e
.
wCash
;

726 
	`SOUND_Pœy
(
g_B©ée
.
rgE√my
[
i
].
e
.
wDóthSound
);

727 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 = 0;

728 
fFade
 = 
TRUE
;

733 
fE√myRemaöög
 = 
TRUE
;

736 i‡(!
fE√myRemaöög
)

738 
g_B©ée
.
fE√myCÀ¨ed
 = 
TRUE
;

739 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUIWaô
;

742 i‡(
fCheckPœyîs
 && !
gpGlobÆs
->
fAutoB©ée
)

744 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

746 
WORD
 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
, 
wName
;

748 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] < 
g_B©ée
.
rgPœyî
[
i
].
wPªvHP
 &&

749 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] == 0)

751 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwCovîedBy
[w];

753 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

755 i‡(
gpGlobÆs
->
rgP¨ty
[
j
].
wPœyîRﬁe
 =
w
)

761 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] > 0 &&

762 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] == 0 &&

763 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusP¨Æyzed
] == 0 &&

764 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] == 0 &&

765 
j
 <
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

767 
wName
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
w
];

769 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wName
].
∂ayî
.
wS¸ùtOnFrõndDóth
 != 0)

771 
	`PAL_B©éeDñay
(10, 0, 
TRUE
);

773 
	`PAL_B©éeMakeS˚√
();

774 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

775 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

777 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…Pau£
;

779 
gpGlobÆs
->
g
.
rgObje˘
[
wName
].
∂ayî
.
wS¸ùtOnFrõndDóth
 =

780 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wName
].
∂ayî
.
wS¸ùtOnFrõndDóth
, 
w
);

782 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…OnGoög
;

784 
	`PAL_CÀ¨KeySèã
();

785 
íd
;

791 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

793 
WORD
 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
, 
wName
;

795 i‡(
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] != 0 ||

796 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] != 0)

801 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] < 
g_B©ée
.
rgPœyî
[
i
].
wPªvHP
)

803 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] > 0 && 
	`PAL_IsPœyîDyög
(w) &&

804 
g_B©ée
.
rgPœyî
[
i
].
wPªvHP
 >
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
w
] / 5)

806 
WORD
 
wCovî
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwCovîedBy
[
w
];

808 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wCovî
][
kSètusSÀï
] != 0 ||

809 
gpGlobÆs
->
rgPœyîSètus
[
wCovî
][
kSètusP¨Æyzed
] != 0 ||

810 
gpGlobÆs
->
rgPœyîSètus
[
wCovî
][
kSètusC⁄fu£d
] != 0)

815 
wName
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
w
];

817 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDyögSound
[
w
]);

819 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

821 i‡(
gpGlobÆs
->
rgP¨ty
[
j
].
wPœyîRﬁe
 =
wCovî
)

827 i‡(
j
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
 || gpGlobÆs->
g
.
PœyîRﬁes
.
rgwHP
[
wCovî
] == 0)

832 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wName
].
∂ayî
.
wS¸ùtOnDyög
 != 0)

834 
	`PAL_B©éeDñay
(10, 0, 
TRUE
);

836 
	`PAL_B©éeMakeS˚√
();

837 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

838 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

840 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…Pau£
;

842 
gpGlobÆs
->
g
.
rgObje˘
[
wName
].
∂ayî
.
wS¸ùtOnDyög
 =

843 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wName
].
∂ayî
.
wS¸ùtOnDyög
, 
w
);

845 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…OnGoög
;

846 
	`PAL_CÀ¨KeySèã
();

849 
íd
;

855 
íd
:

856 i‡(
fFade
)

858 
	`PAL_B©éeBackupS˚√
();

859 
	`PAL_B©éeMakeS˚√
();

860 
	`PAL_B©éeFadeS˚√
();

866 i‡(
g_B©ée
.
ÕSumm⁄S¥ôe
 !
NULL
)

868 
	`PAL_B©éeUpd©eFighãrs
();

869 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

871 
	`‰ì
(
g_B©ée
.
ÕSumm⁄S¥ôe
);

872 
g_B©ée
.
ÕSumm⁄S¥ôe
 = 
NULL
;

874 
g_B©ée
.
sBackgroundCﬁ‹Shi·
 = 0;

876 
	`PAL_B©éeBackupS˚√
();

877 
	`PAL_B©éeMakeS˚√
();

878 
	`PAL_B©éeFadeS˚√
();

880 
	}
}

882 
VOID


883 
	$PAL_B©éeUpd©eFighãrs
(

884 
VOID


901 
i
;

902 
WORD
 
wPœyîRﬁe
;

907 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

909 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

911 
g_B©ée
.
rgPœyî
[
i
].
pos
 = g_B©ée.rgPœyî[i].
posOrigöÆ
;

912 
g_B©ée
.
rgPœyî
[
i
].
iCﬁ‹Shi·
 = 0;

914 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0)

916 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPuµë
] == 0)

918 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 2;

922 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 0;

927 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] != 0 ||

928 
	`PAL_IsPœyîDyög
(
wPœyîRﬁe
))

930 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 1;

932 #i‚de‡
PAL_CLASSIC


933 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrA˘
 &&

934 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄Magic
 &&

935 !
g_B©ée
.
fE√myCÀ¨ed
)

940 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 5;

943 i‡(
g_B©ée
.
rgPœyî
[
i
].
fDe„ndög
 && !g_B©ée.
fE√myCÀ¨ed
)

945 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 3;

949 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 0;

957 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

959 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

964 
g_B©ée
.
rgE√my
[
i
].
pos
 = g_B©ée.rgE√my[i].
posOrigöÆ
;

965 
g_B©ée
.
rgE√my
[
i
].
iCﬁ‹Shi·
 = 0;

967 i‡(
g_B©ée
.
rgE√my
[
i
].
rgwSètus
[
kSètusSÀï
] > 0 ||

968 
g_B©ée
.
rgE√my
[
i
].
rgwSètus
[
kSètusP¨Æyzed
] > 0)

970 
g_B©ée
.
rgE√my
[
i
].
wCuºítFøme
 = 0;

974 i‡(--
g_B©ée
.
rgE√my
[
i
].
e
.
wIdÀAnimS≥ed
 == 0)

976 
g_B©ée
.
rgE√my
[
i
].
wCuºítFøme
++;

977 
g_B©ée
.
rgE√my
[
i
].
e
.
wIdÀAnimS≥ed
 =

978 
gpGlobÆs
->
g
.
ÕrgE√my
[gpGlobÆs->g.
rgObje˘
[
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
].
íemy
.
wE√myID
].
wIdÀAnimS≥ed
;

981 i‡(
g_B©ée
.
rgE√my
[
i
].
wCuºítFøme
 >g_B©ée.rgE√my[i].
e
.
wIdÀFømes
)

983 
g_B©ée
.
rgE√my
[
i
].
wCuºítFøme
 = 0;

986 
	}
}

988 
VOID


989 
	$PAL_B©éePœyîCheckRódy
(

990 
VOID


1007 
ÊMax
 = 0;

1008 
iMax
 = 0, 
i
;

1013 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1015 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrCom
 ||

1016 (
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrA˘
 && g_B©ée.rgPœyî[i].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄Co›Magic
))

1018 
ÊMax
 = 0;

1021 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrWaô
)

1023 i‡(
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 > 
ÊMax
)

1025 
iMax
 = 
i
;

1026 
ÊMax
 = 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
;

1031 i‡(
ÊMax
 >= 100.0f)

1033 
g_B©ée
.
rgPœyî
[
iMax
].
°©e
 = 
kFighãrCom
;

1034 
g_B©ée
.
rgPœyî
[
iMax
].
fDe„ndög
 = 
FALSE
;

1036 
	}
}

1038 
VOID


1039 
	$PAL_B©éeSèπFøme
(

1040 
VOID


1057 
i
, 
j
;

1058 
WORD
 
wPœyîRﬁe
;

1059 
WORD
 
wDexãrôy
;

1060 
BOOL
 
fO∆yPuµë
 = 
TRUE
;

1062 #i‚de‡
PAL_CLASSIC


1063 
FLOAT
 
ÊMax
;

1064 
BOOL
 
fMoved
 = 
FALSE
;

1065 
SHORT
 
sMax
, 
sMaxIndex
;

1068 i‡(!
g_B©ée
.
fE√myCÀ¨ed
)

1070 
	`PAL_B©éeUpd©eFighãrs
();

1076 
	`PAL_B©éeMakeS˚√
();

1077 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

1082 i‡(
g_B©ée
.
fE√myCÀ¨ed
)

1087 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…W⁄
;

1088 
	`SOUND_Pœy
(-1);

1093 
BOOL
 
fEnded
 = 
TRUE
;

1095 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1097 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1099 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] != 0)

1101 
fO∆yPuµë
 = 
FALSE
;

1102 
fEnded
 = 
FALSE
;

1105 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPuµë
] != 0)

1107 
fEnded
 = 
FALSE
;

1111 i‡(
fEnded
)

1116 
g_B©ée
.
B©éeResu…
 = 
kB©éeResu…Lo°
;

1121 #i‚de‡
PAL_CLASSIC


1125 i‡(
g_B©ée
.
iHidögTime
 > 0)

1127 i‡(
	`PAL_GëTimeCh¨gögS≥ed
(9999) > 0)

1129 
g_B©ée
.
iHidögTime
--;

1132 i‡(
g_B©ée
.
iHidögTime
 == 0)

1134 
	`PAL_B©éeBackupS˚√
();

1135 
	`PAL_B©éeMakeS˚√
();

1136 
	`PAL_B©éeFadeS˚√
();

1143 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1145 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

1150 i‡(
g_B©ée
.
rgE√my
[
i
].
fTu∫Sèπ
)

1152 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
 =

1153 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
, i);

1155 
g_B©ée
.
rgE√my
[
i
].
fTu∫Sèπ
 = 
FALSE
;

1156 
fMoved
 = 
TRUE
;

1160 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1162 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

1167 
g_B©ée
.
rgE√my
[
i
].
°©e
)

1169 
kFighãrWaô
:

1170 
ÊMax
 = 
	`PAL_GëTimeCh¨gögS≥ed
(
	`PAL_GëE√myDexãrôy
(
i
));

1171 
ÊMax
 /(
gpGlobÆs
->
fAutoB©ée
 ? 2 : 1);

1173 i‡(
ÊMax
 != 0)

1175 
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 +
ÊMax
;

1177 i‡(
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 > 100 && 
ÊMax
 > 0)

1179 i‡(
g_B©ée
.
iHidögTime
 == 0)

1181 
g_B©ée
.
rgE√my
[
i
].
°©e
 = 
kFighãrCom
;

1185 
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 = 0;

1191 
kFighãrCom
:

1192 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnRódy
 =

1193 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnRódy
, i);

1194 
g_B©ée
.
rgE√my
[
i
].
°©e
 = 
kFighãrA˘
;

1195 
fMoved
 = 
TRUE
;

1198 
kFighãrA˘
:

1199 i‡(!
fMoved
 && (
	`PAL_GëTimeCh¨gögS≥ed
(9999Ë> 0 || 
g_B©ée
.
rgE√my
[
i
].
fDuÆMove
Ë&& !
fO∆yPuµë
)

1201 
fMoved
 = 
TRUE
;

1203 
g_B©ée
.
fE√myMovög
 = 
TRUE
;

1205 
g_B©ée
.
rgE√my
[
i
].
fDuÆMove
 =

1206 (!
g_B©ée
.
rgE√my
[
i
].
fFú°MoveD⁄e
 &&

1207 (
g_B©ée
.
rgE√my
[
i
].
e
.
wDuÆMove
 >= 2 ||

1208 (
g_B©ée
.
rgE√my
[
i
].
e
.
wDuÆMove
 !0 && 
	`R™domL⁄g
(0, 1))));

1210 
	`PAL_B©éeE√myPîf‹mA˘i⁄
(
i
);

1212 
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 = 0;

1213 
g_B©ée
.
rgE√my
[
i
].
°©e
 = 
kFighãrWaô
;

1214 
g_B©ée
.
fE√myMovög
 = 
FALSE
;

1216 i‡(
g_B©ée
.
rgE√my
[
i
].
fDuÆMove
)

1218 
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 = 100;

1219 
g_B©ée
.
rgE√my
[
i
].
°©e
 = 
kFighãrCom
;

1220 
g_B©ée
.
rgE√my
[
i
].
fFú°MoveD⁄e
 = 
TRUE
;

1224 
g_B©ée
.
rgE√my
[
i
].
fFú°MoveD⁄e
 = 
FALSE
;

1225 
g_B©ée
.
rgE√my
[
i
].
fTu∫Sèπ
 = 
TRUE
;

1235 
	`PAL_B©éeUIUpd©e
();

1240 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1242 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1247 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0 &&

1248 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPuµë
] == 0)

1250 
g_B©ée
.
rgPœyî
[
i
].
°©e
 = 
kFighãrWaô
;

1251 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 = 0;

1252 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeS≥edModifõr
 = 1.0f;

1253 
g_B©ée
.
rgPœyî
[
i
].
sTu∫Ordî
 = -1;

1257 
g_B©ée
.
rgPœyî
[
i
].
°©e
)

1259 
kFighãrWaô
:

1260 
wDexãrôy
 = 
	`PAL_GëPœyîA˘uÆDexãrôy
(
wPœyîRﬁe
);

1261 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 +=

1262 
	`PAL_GëTimeCh¨gögS≥ed
(
wDexãrôy
Ë* 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeS≥edModifõr
;

1265 
kFighãrCom
:

1268 
kFighãrA˘
:

1269 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] > 0)

1271 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Pass
;

1272 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
ÊRemaöögTime
 = 0;

1274 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] > 0)

1276 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄AâackM©e
;

1277 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
ÊRemaöögTime
 = 0;

1279 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSûí˚
] > 0 &&

1280 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄Magic
)

1282 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
ÊRemaöögTime
 = 0;

1285 
wDexãrôy
 = 
	`PAL_GëPœyîA˘uÆDexãrôy
(
wPœyîRﬁe
);

1286 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
ÊRemaöögTime
 -
	`PAL_GëTimeCh¨gögS≥ed
(
wDexãrôy
);

1288 i‡(
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
ÊRemaöögTime
 <= 0 &&

1289 
g_B©ée
.
rgPœyî
[
i
].
sTu∫Ordî
 == -1)

1291 
sMax
 = -1;

1293 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

1295 i‡(
g_B©ée
.
rgPœyî
[
j
].
sTu∫Ordî
 > 
sMax
)

1297 
sMax
 = 
g_B©ée
.
rgPœyî
[
j
].
sTu∫Ordî
;

1301 
g_B©ée
.
rgPœyî
[
i
].
sTu∫Ordî
 = 
sMax
 + 1;

1311 i‡(!
fMoved
)

1313 
sMax
 = 9999;

1314 
sMaxIndex
 = -1;

1316 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1318 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1323 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0 &&

1324 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPuµë
] == 0)

1329 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrA˘
 &&

1330 
g_B©ée
.
rgPœyî
[
i
].
sTu∫Ordî
 != -1 &&

1331 
g_B©ée
.
rgPœyî
[
i
].
sTu∫Ordî
 < 
sMax
)

1333 
sMax
 = 
g_B©ée
.
rgPœyî
[
i
].
sTu∫Ordî
;

1334 
sMaxIndex
 = 
i
;

1338 i‡(
sMaxIndex
 != -1)

1343 
	`PAL_B©éePœyîPîf‹mA˘i⁄
(
sMaxIndex
);

1345 
g_B©ée
.
rgPœyî
[
sMaxIndex
].
ÊTimeMëî
 = 0;

1346 
g_B©ée
.
rgPœyî
[
sMaxIndex
].
ÊTimeS≥edModifõr
 = 1.0f;

1347 
g_B©ée
.
rgPœyî
[
sMaxIndex
].
sTu∫Ordî
 = -1;

1351 i‡(
g_B©ée
.
Pha£
 =
kB©éePha£Sñe˘A˘i⁄
)

1353 i‡(
g_B©ée
.
UI
.
°©e
 =
kB©éeUIWaô
)

1355 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1357 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1363 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0 ||

1364 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] ||

1365 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] ||

1366 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusP¨Æyzed
])

1375 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrWaô
)

1377 
g_B©ée
.
wMovögPœyîIndex
 = 
i
;

1378 
g_B©ée
.
rgPœyî
[
i
].
°©e
 = 
kFighãrCom
;

1379 
	`PAL_B©éeUIPœyîRódy
(
i
);

1382 i‡(
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄Co›Magic
)

1387 
i
 = 
gpGlobÆs
->
wMaxP¨tyMembîIndex
 + 1;

1392 i‡(
i
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1397 
g_B©ée
.
fRïót
 = 
FALSE
;

1398 
g_B©ée
.
fF‹˚
 = 
FALSE
;

1399 
g_B©ée
.
fFÀe
 = 
FALSE
;

1401 
g_B©ée
.
iCurA˘i⁄
 = 0;

1403 
i
 = 0; i < 
MAX_ACTIONQUEUE_ITEMS
; i++)

1405 
g_B©ée
.
A˘i⁄Queue
[
i
].
wIndex
 = 0xFFFF;

1406 
g_B©ée
.
A˘i⁄Queue
[
i
].
wDexãrôy
 = 0xFFFF;

1409 
j
 = 0;

1414 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1416 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

1421 
g_B©ée
.
A˘i⁄Queue
[
j
].
fIsE√my
 = 
TRUE
;

1422 
g_B©ée
.
A˘i⁄Queue
[
j
].
wIndex
 = 
i
;

1423 
g_B©ée
.
A˘i⁄Queue
[
j
].
wDexãrôy
 = 
	`PAL_GëE√myDexãrôy
(
i
);

1424 
g_B©ée
.
A˘i⁄Queue
[
j
].
wDexãrôy
 *
	`R™domFlﬂt
(0.9, 1.1);

1426 
j
++;

1428 i‡(
g_B©ée
.
rgE√my
[
i
].
e
.
wDuÆMove
 * 50 + 
	`R™domL⁄g
(0, 100) > 100)

1430 
g_B©ée
.
A˘i⁄Queue
[
j
].
fIsE√my
 = 
TRUE
;

1431 
g_B©ée
.
A˘i⁄Queue
[
j
].
wIndex
 = 
i
;

1432 
g_B©ée
.
A˘i⁄Queue
[
j
].
wDexãrôy
 = 
	`PAL_GëE√myDexãrôy
(
i
);

1433 
g_B©ée
.
A˘i⁄Queue
[
j
].
wDexãrôy
 *
	`R™domFlﬂt
(0.9, 1.1);

1435 
j
++;

1442 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1444 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1446 
g_B©ée
.
A˘i⁄Queue
[
j
].
fIsE√my
 = 
FALSE
;

1447 
g_B©ée
.
A˘i⁄Queue
[
j
].
wIndex
 = 
i
;

1449 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0 ||

1450 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] > 0 ||

1451 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusP¨Æyzed
] > 0)

1457 
g_B©ée
.
A˘i⁄Queue
[
j
].
wDexãrôy
 = 0;

1458 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

1459 
g_B©ée
.
rgPœyî
[
i
].
°©e
 = 
kFighãrA˘
;

1463 
wDexãrôy
 = 
	`PAL_GëPœyîA˘uÆDexãrôy
(
wPœyîRﬁe
);

1465 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] > 0)

1467 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

1468 
g_B©ée
.
rgPœyî
[
i
].
°©e
 = 
kFighãrA˘
;

1471 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
)

1473 
kB©éeA˘i⁄Co›Magic
:

1474 
wDexãrôy
 *= 10;

1477 
kB©éeA˘i⁄De„nd
:

1478 
wDexãrôy
 *= 5;

1481 
kB©éeA˘i⁄Magic
:

1482 i‡((
gpGlobÆs
->
g
.
rgObje˘
[
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
wA˘i⁄ID
].
magic
.
wFœgs
 & 
kMagicFœgUßbÀToE√my
) == 0)

1484 
wDexãrôy
 *= 3;

1488 
kB©éeA˘i⁄FÀe
:

1489 
wDexãrôy
 /= 2;

1492 
kB©éeA˘i⁄U£Iãm
:

1493 
wDexãrôy
 *= 3;

1500 i‡(
	`PAL_IsPœyîDyög
(
wPœyîRﬁe
))

1502 
wDexãrôy
 /= 2;

1505 
wDexãrôy
 *
	`R™domFlﬂt
(0.9, 1.1);

1507 
g_B©ée
.
A˘i⁄Queue
[
j
].
wDexãrôy
 = wDexterity;

1510 
j
++;

1516 
i
 = 0; i < 
MAX_ACTIONQUEUE_ITEMS
; i++)

1518 
j
 = 
i
; j < 
MAX_ACTIONQUEUE_ITEMS
; j++)

1520 i‡((
SHORT
)
g_B©ée
.
A˘i⁄Queue
[
i
].
wDexãrôy
 < (SHORT)g_B©ée.A˘i⁄Queue[
j
].wDexterity)

1522 
ACTIONQUEUE
 
t
 = 
g_B©ée
.
A˘i⁄Queue
[
i
];

1523 
g_B©ée
.
A˘i⁄Queue
[
i
] = g_B©ée.A˘i⁄Queue[
j
];

1524 
g_B©ée
.
A˘i⁄Queue
[
j
] = 
t
;

1532 
g_B©ée
.
Pha£
 = 
kB©éePha£Pîf‹mA˘i⁄
;

1541 i‡(
g_B©ée
.
iCurA˘i⁄
 >
MAX_ACTIONQUEUE_ITEMS
 ||

1542 
g_B©ée
.
A˘i⁄Queue
[g_B©ée.
iCurA˘i⁄
].
wDexãrôy
 == 0xFFFF)

1544 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1546 
g_B©ée
.
rgPœyî
[
i
].
fDe„ndög
 = 
FALSE
;

1552 
	`PAL_B©éeBackupSèt
();

1554 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1556 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1558 
j
 = 0; j < 
MAX_POISONS
; j++)

1560 i‡(
gpGlobÆs
->
rgPois⁄Sètus
[
j
][
i
].
wPois⁄ID
 != 0)

1562 
gpGlobÆs
->
rgPois⁄Sètus
[
j
][
i
].
wPois⁄S¸ùt
 =

1563 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
rgPois⁄Sètus
[
j
][
i
].
wPois⁄S¸ùt
, 
wPœyîRﬁe
);

1570 
j
 = 0; j < 
kSètusAŒ
; j++)

1572 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
j
] > 0)

1574 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
j
]--;

1579 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1581 
j
 = 0; j < 
MAX_POISONS
; j++)

1583 i‡(
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄ID
 != 0)

1585 
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄S¸ùt
 =

1586 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄S¸ùt
, (
WORD
)i);

1593 
j
 = 0; j < 
kSètusAŒ
; j++)

1595 i‡(
g_B©ée
.
rgE√my
[
i
].
rgwSètus
[
j
] > 0)

1597 
g_B©ée
.
rgE√my
[
i
].
rgwSètus
[
j
]--;

1602 
	`PAL_B©éePo°A˘i⁄Check
(
FALSE
);

1603 i‡(
	`PAL_B©éeDi•œySètCh™ge
())

1605 
	`PAL_B©éeDñay
(8, 0, 
TRUE
);

1608 i‡(
g_B©ée
.
iHidögTime
 > 0)

1610 i‡(--
g_B©ée
.
iHidögTime
 == 0)

1612 
	`PAL_B©éeBackupS˚√
();

1613 
	`PAL_B©éeMakeS˚√
();

1614 
	`PAL_B©éeFadeS˚√
();

1618 i‡(
g_B©ée
.
iHidögTime
 == 0)

1620 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1622 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

1627 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
 =

1628 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
, i);

1635 
i
 = 0; i < 
MAX_INVENTORY
; i++)

1637 
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡InU£
 = 0;

1643 
g_B©ée
.
Pha£
 = 
kB©éePha£Sñe˘A˘i⁄
;

1647 
i
 = 
g_B©ée
.
A˘i⁄Queue
[g_B©ée.
iCurA˘i⁄
].
wIndex
;

1649 i‡(
g_B©ée
.
A˘i⁄Queue
[g_B©ée.
iCurA˘i⁄
].
fIsE√my
)

1651 i‡(
g_B©ée
.
iHidögTime
 =0 && !
fO∆yPuµë
 &&

1652 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0)

1654 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnRódy
 =

1655 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnRódy
, i);

1657 
g_B©ée
.
fE√myMovög
 = 
TRUE
;

1658 
	`PAL_B©éeE√myPîf‹mA˘i⁄
(
i
);

1659 
g_B©ée
.
fE√myMovög
 = 
FALSE
;

1662 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrA˘
)

1664 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

1666 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0)

1668 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPuµë
] == 0)

1670 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Pass
;

1673 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] > 0 ||

1674 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusP¨Æyzed
] > 0)

1676 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Pass
;

1678 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] > 0)

1680 
g_B©ée
.
rgPœyî
[
i
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄AâackM©e
;

1686 
g_B©ée
.
wMovögPœyîIndex
 = 
i
;

1687 
	`PAL_B©éePœyîPîf‹mA˘i⁄
(
i
);

1690 
g_B©ée
.
iCurA˘i⁄
++;

1697 i‡(
g_B©ée
.
UI
.
MíuSèã
 =
kB©éeMíuMaö
 &&

1698 
g_B©ée
.
UI
.
°©e
 =
kB©éeUISñe˘Move
)

1700 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyRïót
)

1702 
g_B©ée
.
fRïót
 = 
TRUE
;

1704 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyF‹˚
)

1706 
g_B©ée
.
fF‹˚
 = 
TRUE
;

1710 i‡(
g_B©ée
.
fRïót
)

1712 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyRïót
;

1714 i‡(
g_B©ée
.
fF‹˚
)

1716 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyF‹˚
;

1718 i‡(
g_B©ée
.
fFÀe
)

1720 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyFÀe
;

1726 
	`PAL_B©éeUIUpd©e
();

1729 
	}
}

1731 
VOID


1732 
	$PAL_B©éeCommôA˘i⁄
(

1733 
BOOL
 
fRïót


1750 
WORD
 
w
;

1752 i‡(!
fRïót
)

1754 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 =

1755 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
;

1756 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
sT¨gë
 =

1757 (
SHORT
)
g_B©ée
.
UI
.
wSñe˘edIndex
;

1758 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
 =

1759 
g_B©ée
.
UI
.
wObje˘ID
;

1761 i‡(
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄Pass
)

1763 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

1764 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
sT¨gë
 = -1;

1770 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
)

1772 
kB©éeA˘i⁄Magic
:

1773 
w
 = 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
;

1774 
w
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[gpGlobÆs->g.
rgObje˘
[w].
magic
.
wMagicNumbî
].
wCo°MP
;

1776 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[gpGlobÆs->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
] < 
w
)

1778 
w
 = 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
;

1779 
w
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[gpGlobÆs->g.
rgObje˘
[w].
magic
.
wMagicNumbî
].
wTy≥
;

1780 i‡(
w
 =
kMagicTy≥AµlyToPœyî
 || w =
kMagicTy≥AµlyToP¨ty
 ||

1781 
w
 =
kMagicTy≥Tøn˚
)

1783 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄De„nd
;

1787 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

1788 i‡(
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
sT¨gë
 == -1)

1790 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
sT¨gë
 = 0;

1796 #ifde‡
PAL_CLASSIC


1797 
kB©éeA˘i⁄U£Iãm
:

1798 i‡((
gpGlobÆs
->
g
.
rgObje˘
[
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
].
ôem
.
wFœgs
 & 
kIãmFœgC⁄sumög
) == 0)

1803 
kB©éeA˘i⁄ThrowIãm
:

1804 
w
 = 0; w < 
MAX_INVENTORY
; w++)

1806 i‡(
gpGlobÆs
->
rgInvít‹y
[
w
].
wIãm
 =
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
)

1808 
gpGlobÆs
->
rgInvít‹y
[
w
].
nAmou¡InU£
++;

1819 #i‚de‡
PAL_CLASSIC


1823 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
)

1825 
kB©éeA˘i⁄Magic
:

1827 
LPMAGIC
 
p
;

1828 
WORD
 
wCo°MP
;

1833 
w
 = 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
;

1834 
p
 = &(
gpGlobÆs
->
g
.
ÕrgMagic
[gpGlobÆs->g.
rgObje˘
[
w
].
magic
.
wMagicNumbî
]);

1835 
wCo°MP
 = 
p
->wCostMP;

1837 i‡(
wCo°MP
 == 1)

1839 i‡(
p
->
wTy≥
 =
kMagicTy≥Summ⁄
)

1844 
wCo°MP
 = 175;

1847 i‡(
p
->
wTy≥
 =
kMagicTy≥AµlyToPœyî
 ||Ö->wTy≥ =
kMagicTy≥AµlyToP¨ty
 ||

1848 
p
->
wTy≥
 =
kMagicTy≥Tøn˚
)

1853 
wCo°MP
 /= 3;

1856 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
ÊRemaöögTime
 = 
wCo°MP
 + 5;

1860 
kB©éeA˘i⁄Aâack
:

1861 
kB©éeA˘i⁄FÀe
:

1862 
kB©éeA˘i⁄U£Iãm
:

1863 
kB©éeA˘i⁄ThrowIãm
:

1868 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
ÊRemaöögTime
 = 0;

1872 i‡(
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 =
kB©éeA˘i⁄FÀe
)

1874 
g_B©ée
.
fFÀe
 = 
TRUE
;

1878 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
°©e
 = 
kFighãrA˘
;

1879 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUIWaô
;

1881 #i‚de‡
PAL_CLASSIC


1882 i‡(
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
ÊRemaöögTime
 <= 0)

1884 
SHORT
 
sMax
 = -1;

1886 
w
 = 0; w <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; w++)

1888 i‡(
g_B©ée
.
rgPœyî
[
w
].
sTu∫Ordî
 > 
sMax
)

1890 
sMax
 = 
g_B©ée
.
rgPœyî
[
w
].
sTu∫Ordî
;

1894 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
sTu∫Ordî
 = 
sMax
 + 1;

1898 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
sTu∫Ordî
 = -1;

1901 
	}
}

1903 
VOID


1904 
	$PAL_B©éeShowPœyîAâackAnim
(

1905 
WORD
 
wPœyîIndex
,

1906 
BOOL
 
fCrôiˇl


1925 
WORD
 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
wPœyîIndex
].wPlayerRole;

1926 
SHORT
 
sT¨gë
 = 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.sTarget;

1928 
ödex
, 
i
, 
j
;

1929 
íemy_x
 = 0, 
íemy_y
 = 0, 
íemy_h
 = 0, 
x
, 
y
, 
di°
 = 0;

1931 
DWORD
 
dwTime
;

1933 i‡(
sT¨gë
 != -1)

1935 
íemy_x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
sT¨gë
].
pos
);

1936 
íemy_y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
sT¨gë
].
pos
);

1938 
íemy_h
 = 
	`PAL_RLEGëHeight
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
sT¨gë
].
ÕS¥ôe
, g_B©ée.rgE√my[sT¨gë].
wCuºítFøme
));

1940 i‡(
sT¨gë
 >= 3)

1942 
di°
 = (
sT¨gë
 - 
wPœyîIndex
) * 8;

1947 
íemy_x
 = 150;

1948 
íemy_y
 = 100;

1951 
ödex
 = 
gpGlobÆs
->
g
.
rgwB©éeEf„˘Index
[
	`PAL_GëPœyîB©éeS¥ôe
(
wPœyîRﬁe
)][1];

1952 
ödex
 *= 3;

1957 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] > 0)

1959 i‡(!
fCrôiˇl
)

1961 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwAâackSound
[
wPœyîRﬁe
]);

1965 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwCrôiˇlSound
[
wPœyîRﬁe
]);

1972 
x
 = 
íemy_x
 - 
di°
 + 64;

1973 
y
 = 
íemy_y
 + 
di°
 + 20;

1975 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 8;

1976 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

1978 
	`PAL_B©éeDñay
(2, 0, 
TRUE
);

1980 
x
 -= 10;

1981 
y
 -= 2;

1982 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

1984 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

1986 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 9;

1987 
x
 -= 16;

1988 
y
 -= 4;

1990 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwWóp⁄Sound
[
wPœyîRﬁe
]);

1992 
x
 = 
íemy_x
;

1993 
y
 = 
íemy_y
 - 
íemy_h
 / 3 + 10;

1995 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
BATTLE_FRAME_TIME
;

1997 
i
 = 0; i < 3; i++)

1999 
LPCBITMAPRLE
 
b
 = 
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
ÕEf„˘S¥ôe
, 
ödex
++);

2004 
	`PAL_Pro˚ssEvít
();

2005 
	`SDL_GëTicks
(Ë<
dwTime
)

2007 
	`PAL_Pro˚ssEvít
();

2008 
	`SDL_Dñay
(1);

2014 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
BATTLE_FRAME_TIME
;

2019 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

2021 i‡(
g_B©ée
.
rgE√my
[
j
].
wObje˘ID
 == 0 ||

2022 
g_B©ée
.
rgE√my
[
j
].
rgwSètus
[
kSètusSÀï
] > 0 ||

2023 
g_B©ée
.
rgE√my
[
j
].
rgwSètus
[
kSètusP¨Æyzed
] > 0)

2028 i‡(--
g_B©ée
.
rgE√my
[
j
].
e
.
wIdÀAnimS≥ed
 == 0)

2030 
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
++;

2031 
g_B©ée
.
rgE√my
[
j
].
e
.
wIdÀAnimS≥ed
 =

2032 
gpGlobÆs
->
g
.
ÕrgE√my
[gpGlobÆs->g.
rgObje˘
[
g_B©ée
.
rgE√my
[
j
].
wObje˘ID
].
íemy
.
wE√myID
].
wIdÀAnimS≥ed
;

2035 i‡(
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
 >g_B©ée.rgE√my[j].
e
.
wIdÀFømes
)

2037 
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
 = 0;

2041 
	`PAL_B©éeMakeS˚√
();

2042 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

2044 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2045 
x
 -= 16;

2046 
y
 += 16;

2048 
	`PAL_B©éeUIUpd©e
();

2050 i‡(
i
 == 0)

2052 i‡(
sT¨gë
 == -1)

2054 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

2056 
g_B©ée
.
rgE√my
[
j
].
iCﬁ‹Shi·
 = 6;

2061 
g_B©ée
.
rgE√my
[
sT¨gë
].
iCﬁ‹Shi·
 = 6;

2064 
	`PAL_B©éeDi•œySètCh™ge
();

2065 
	`PAL_B©éeBackupSèt
();

2068 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2070 i‡(
i
 == 1)

2072 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 =

2073 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
) + 2,

2074 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
) + 1);

2078 
di°
 = 8;

2080 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2082 
g_B©ée
.
rgE√my
[
i
].
iCﬁ‹Shi·
 = 0;

2085 i‡(
sT¨gë
 == -1)

2087 
i
 = 0; i < 3; i++)

2089 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

2091 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
j
].
pos
);

2092 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
j
].
pos
);

2094 
x
 -
di°
;

2095 
y
 -
di°
 / 2;

2096 
g_B©ée
.
rgE√my
[
j
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

2099 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2100 
di°
 /= -2;

2105 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
sT¨gë
].
pos
);

2106 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
sT¨gë
].
pos
);

2108 
i
 = 0; i < 3; i++)

2110 
x
 -
di°
;

2111 
di°
 /= -2;

2112 
y
 +
di°
;

2113 
g_B©ée
.
rgE√my
[
sT¨gë
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

2115 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2118 
	}
}

2120 
VOID


2121 
	$PAL_B©éeShowPœyîU£IãmAnim
(

2122 
WORD
 
wPœyîIndex
,

2123 
WORD
 
wObje˘ID
,

2124 
SHORT
 
sT¨gë


2145 
i
, 
j
;

2147 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

2149 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 =

2150 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
) - 15,

2151 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
) - 7);

2153 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 5;

2155 
	`SOUND_Pœy
(28);

2157 
i
 = 0; i <= 6; i++)

2159 i‡(
sT¨gë
 == -1)

2161 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2163 
g_B©ée
.
rgPœyî
[
j
].
iCﬁ‹Shi·
 = 
i
;

2168 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 
i
;

2171 
	`PAL_B©éeDñay
(1, 
wObje˘ID
, 
TRUE
);

2174 
i
 = 5; i >= 0; i--)

2176 i‡(
sT¨gë
 == -1)

2178 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2180 
g_B©ée
.
rgPœyî
[
j
].
iCﬁ‹Shi·
 = 
i
;

2185 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 
i
;

2188 
	`PAL_B©éeDñay
(1, 
wObje˘ID
, 
TRUE
);

2190 
	}
}

2192 #ifde‡
PAL_WIN95


2193 
VOID


2194 
	$PAL_B©éeShowPœyîPªMagicAnim
(

2195 
WORD
 
wPœyîIndex
,

2196 
WORD
 
wObje˘ID


2199 
VOID


2200 
	$PAL_B©éeShowPœyîPªMagicAnim
(

2201 
WORD
 
wPœyîIndex
,

2202 
BOOL
 
fSumm⁄


2222 
i
, 
j
;

2223 
DWORD
 
dwTime
 = 
	`SDL_GëTicks
();

2224 
WORD
 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
wPœyîIndex
].wPlayerRole;

2225 #ifde‡
PAL_WIN95


2226 
BOOL
 
fSumm⁄
 = 
FALSE
;

2227 
iMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wMagicNumbî
;

2229 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥Summ⁄
)

2230 
fSumm⁄
 = 
TRUE
;

2233 
i
 = 0; i < 4; i++)

2235 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 =

2236 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
Ë- (4 - 
i
),

2237 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
Ë- (4 - 
i
) / 2);

2239 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2242 
	`PAL_B©éeDñay
(2, 0, 
TRUE
);

2244 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 5;

2245 #i‚de‡
PAL_WIN95


2246 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagicSound
[
wPœyîRﬁe
]);

2249 i‡(!
fSumm⁄
)

2251 
x
, 
y
, 
ödex
;

2253 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
);

2254 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
);

2256 
ödex
 = 
gpGlobÆs
->
g
.
rgwB©éeEf„˘Index
[
	`PAL_GëPœyîB©éeS¥ôe
(
wPœyîRﬁe
)][0];

2257 
ödex
 *= 10;

2258 
ödex
 += 15;

2259 #ifde‡
PAL_WIN95


2260 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagicSound
[
wPœyîRﬁe
]);

2262 
i
 = 0; i < 10; i++)

2264 
LPCBITMAPRLE
 
b
 = 
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
ÕEf„˘S¥ôe
, 
ödex
++);

2269 
	`PAL_Pro˚ssEvít
();

2270 
	`SDL_GëTicks
(Ë<
dwTime
)

2272 
	`PAL_Pro˚ssEvít
();

2273 
	`SDL_Dñay
(1);

2279 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
BATTLE_FRAME_TIME
;

2284 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

2286 i‡(
g_B©ée
.
rgE√my
[
j
].
wObje˘ID
 == 0 ||

2287 
g_B©ée
.
rgE√my
[
j
].
rgwSètus
[
kSètusSÀï
] != 0 ||

2288 
g_B©ée
.
rgE√my
[
j
].
rgwSètus
[
kSètusP¨Æyzed
] != 0)

2293 i‡(--
g_B©ée
.
rgE√my
[
j
].
e
.
wIdÀAnimS≥ed
 == 0)

2295 
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
++;

2296 
g_B©ée
.
rgE√my
[
j
].
e
.
wIdÀAnimS≥ed
 =

2297 
gpGlobÆs
->
g
.
ÕrgE√my
[gpGlobÆs->g.
rgObje˘
[
g_B©ée
.
rgE√my
[
j
].
wObje˘ID
].
íemy
.
wE√myID
].
wIdÀAnimS≥ed
;

2300 i‡(
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
 >g_B©ée.rgE√my[j].
e
.
wIdÀFømes
)

2302 
g_B©ée
.
rgE√my
[
j
].
wCuºítFøme
 = 0;

2306 
	`PAL_B©éeMakeS˚√
();

2307 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

2309 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2311 
	`PAL_B©éeUIUpd©e
();

2313 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2317 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2318 
	}
}

2320 
VOID


2321 
	$PAL_B©éeShowPœyîDefMagicAnim
(

2322 
WORD
 
wPœyîIndex
,

2323 
WORD
 
wObje˘ID
,

2324 
SHORT
 
sT¨gë


2345 
LPSPRITE
 
ÕS¥ôeEf„˘
;

2346 
l
, 
iMagicNum
, 
iEf„˘Num
, 
n
, 
i
, 
j
, 
x
, 
y
;

2347 
DWORD
 
dwTime
 = 
	`SDL_GëTicks
();

2349 
iMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wMagicNumbî
;

2350 
iEf„˘Num
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wEf„˘
;

2352 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(
iEf„˘Num
, 
gpGlobÆs
->
f
.
ÂFIRE
);

2353 i‡(
l
 <= 0)

2358 
ÕS¥ôeEf„˘
 = (
LPSPRITE
)
	`UTIL_mÆloc
(
l
);

2360 
	`PAL_MKFDecom¥essChunk
((
LPBYTE
)
ÕS¥ôeEf„˘
, 
l
, 
iEf„˘Num
, 
gpGlobÆs
->
f
.
ÂFIRE
);

2362 
n
 = 
	`PAL_S¥ôeGëNumFømes
(
ÕS¥ôeEf„˘
);

2364 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 6;

2365 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2367 
i
 = 0; i < 
n
; i++)

2369 
LPCBITMAPRLE
 
b
 = 
	`PAL_S¥ôeGëFøme
(
ÕS¥ôeEf„˘
, 
i
);

2371 i‡(
i
 =
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
)

2373 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSound
);

2379 
	`PAL_Pro˚ssEvít
();

2380 
	`SDL_GëTicks
(Ë<
dwTime
)

2382 
	`PAL_Pro˚ssEvít
();

2383 
	`SDL_Dñay
(1);

2389 
dwTime
 = 
	`SDL_GëTicks
() +

2390 ((
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wS≥ed
) + 5) * 10;

2392 
	`PAL_B©éeMakeS˚√
();

2393 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

2395 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AµlyToP¨ty
)

2397 
	`as£π
(
sT¨gë
 == -1);

2399 
l
 = 0;Ü <
gpGlobÆs
->
wMaxP¨tyMembîIndex
;Ü++)

2401 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
l
].
pos
);

2402 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
l
].
pos
);

2404 
x
 +(
SHORT
Ë
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2405 
y
 +(
SHORT
Ë
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2407 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
,

2408 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2411 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AµlyToPœyî
)

2413 
	`as£π
(
sT¨gë
 != -1);

2415 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
);

2416 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
);

2418 
x
 +(
SHORT
Ë
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2419 
y
 +(
SHORT
Ë
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2421 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
,

2422 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2427 i‡(
sT¨gë
 > 0 && 
g_B©ée
.
iHidögTime
 == 0)

2429 i‡(
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
sT¨gë
 - 1].
wPœyîRﬁe
][
kSètusC⁄fu£d
] == 0)

2431 
LPCBITMAPRLE
 
p
 = 
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgPœyî
[
sT¨gë
 - 1].
ÕS¥ôe
, g_B©ée.rgPœyî[sT¨gë - 1].
wCuºítFøme
);

2433 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
 - 1].
pos
);

2434 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
 - 1].
pos
);

2436 
x
 -
	`PAL_RLEGëWidth
(
p
) / 2;

2437 
y
 -
	`PAL_RLEGëHeight
(
p
);

2439 
	`PAL_RLEBlôToSurÁ˚
(
p
, 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
));

2445 
	`as£π
(
FALSE
);

2448 
	`PAL_B©éeUIUpd©e
();

2450 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2453 
	`‰ì
(
ÕS¥ôeEf„˘
);

2455 
i
 = 0; i < 6; i++)

2457 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AµlyToP¨ty
)

2459 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2461 
g_B©ée
.
rgPœyî
[
j
].
iCﬁ‹Shi·
 = 
i
;

2466 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 
i
;

2469 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2472 
i
 = 6; i >= 0; i--)

2474 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AµlyToP¨ty
)

2476 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2478 
g_B©ée
.
rgPœyî
[
j
].
iCﬁ‹Shi·
 = 
i
;

2483 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 
i
;

2486 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2488 
	}
}

2490 #i‚de‡
PAL_WIN95


2491 
VOID


2492 
	$PAL_B©éeShowPœyîOffMagicAnim
(

2493 
WORD
 
wPœyîIndex
,

2494 
WORD
 
wObje˘ID
,

2495 
SHORT
 
sT¨gë


2498 
VOID


2499 
	$PAL_B©éeShowPœyîOffMagicAnim
(

2500 
WORD
 
wPœyîIndex
,

2501 
WORD
 
wObje˘ID
,

2502 
SHORT
 
sT¨gë
,

2503 
BOOL
 
fSumm⁄


2525 
LPSPRITE
 
ÕS¥ôeEf„˘
;

2526 
l
, 
iMagicNum
, 
iEf„˘Num
, 
n
, 
i
, 
k
, 
x
, 
y
, 
wave
, 
blow
;

2527 
DWORD
 
dwTime
 = 
	`SDL_GëTicks
();

2529 
iMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wMagicNumbî
;

2530 
iEf„˘Num
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wEf„˘
;

2532 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(
iEf„˘Num
, 
gpGlobÆs
->
f
.
ÂFIRE
);

2533 i‡(
l
 <= 0)

2538 
ÕS¥ôeEf„˘
 = (
LPSPRITE
)
	`UTIL_mÆloc
(
l
);

2540 
	`PAL_MKFDecom¥essChunk
((
LPBYTE
)
ÕS¥ôeEf„˘
, 
l
, 
iEf„˘Num
, 
gpGlobÆs
->
f
.
ÂFIRE
);

2542 
n
 = 
	`PAL_S¥ôeGëNumFømes
(
ÕS¥ôeEf„˘
);

2544 #ifde‡
PAL_WIN95


2545 i‡(
wPœyîIndex
 !(
WORD
)-1)

2547 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 6;

2551 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2553 
l
 = 
n
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2554 
l
 *(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wEf„˘Times
;

2555 
l
 +
n
;

2556 
l
 +
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wShake
;

2558 
wave
 = 
gpGlobÆs
->
wS¸ìnWave
;

2559 
gpGlobÆs
->
wS¸ìnWave
 +gpGlobÆs->
g
.
ÕrgMagic
[
iMagicNum
].
wWave
;

2561 #ifde‡
PAL_WIN95


2562 i‡(!
fSumm⁄
 && 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSound
 != 0)

2564 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSound
);

2568 
i
 = 0; i < 
l
; i++)

2570 
LPCBITMAPRLE
 
b
;

2571 #i‚de‡
PAL_WIN95


2572 i‡(
i
 =
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
 && 
wPœyîIndex
 !(
WORD
)-1)

2574 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 6;

2577 
blow
 = ((
g_B©ée
.
iBlow
 > 0Ë? 
	`R™domL⁄g
(0, g_Battle.iBlow) : RandomLong(g_Battle.iBlow, 0));

2579 
k
 = 0; k <
g_B©ée
.
wMaxE√myIndex
; k++)

2581 i‡(
g_B©ée
.
rgE√my
[
k
].
wObje˘ID
 == 0)

2586 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
k
].
pos
Ë+ 
blow
;

2587 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
k
].
pos
Ë+ 
blow
 / 2;

2589 
g_B©ée
.
rgE√my
[
k
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

2592 i‡(
l
 - 
i
 > 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wShake
)

2594 i‡(
i
 < 
n
)

2596 
k
 = 
i
;

2600 
k
 = 
i
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2601 
k
 %
n
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2602 
k
 +
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2605 
b
 = 
	`PAL_S¥ôeGëFøme
(
ÕS¥ôeEf„˘
, 
k
);

2607 #i‚de‡
PAL_WIN95


2608 i‡((
i
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
Ë% 
n
 == 0)

2610 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSound
);

2616 
	`VIDEO_ShakeS¸ìn
(
i
, 3);

2617 
b
 = 
	`PAL_S¥ôeGëFøme
(
ÕS¥ôeEf„˘
, (
l
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wShake
 - 1Ë% 
n
);

2623 
	`PAL_Pro˚ssEvít
();

2624 
	`SDL_GëTicks
(Ë<
dwTime
)

2626 
	`PAL_Pro˚ssEvít
();

2627 
	`SDL_Dñay
(1);

2633 
dwTime
 = 
	`SDL_GëTicks
() +

2634 ((
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wS≥ed
) + 5) * 10;

2636 
	`PAL_B©éeMakeS˚√
();

2637 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

2639 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥N‹mÆ
)

2641 
	`as£π
(
sT¨gë
 != -1);

2643 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
sT¨gë
].
pos
);

2644 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
sT¨gë
].
pos
);

2646 
x
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2647 
y
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2649 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2651 i‡(
i
 =
l
 - 1 && 
gpGlobÆs
->
wS¸ìnWave
 < 9 &&

2652 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wKìpEf„˘
 == 0xFFFF)

2654 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
g_B©ée
.
ÕBackground
,

2655 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2658 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackAŒ
)

2660 c⁄° 
ef„˘pos
[3][2] = {{70, 140}, {100, 110}, {160, 100}};

2662 
	`as£π
(
sT¨gë
 == -1);

2664 
k
 = 0; k < 3; k++)

2666 
x
 = 
ef„˘pos
[
k
][0];

2667 
y
 = 
ef„˘pos
[
k
][1];

2669 
x
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2670 
y
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2672 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2674 i‡(
i
 =
l
 - 1 && 
gpGlobÆs
->
wS¸ìnWave
 < 9 &&

2675 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wKìpEf„˘
 == 0xFFFF)

2677 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
g_B©ée
.
ÕBackground
,

2678 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2682 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackWhﬁe
 ||

2683 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackFõld
)

2685 
	`as£π
(
sT¨gë
 == -1);

2687 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackWhﬁe
)

2689 
x
 = 120;

2690 
y
 = 100;

2694 
x
 = 160;

2695 
y
 = 200;

2698 
x
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2699 
y
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2701 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2703 i‡(
i
 =
l
 - 1 && 
gpGlobÆs
->
wS¸ìnWave
 < 9 &&

2704 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wKìpEf„˘
 == 0xFFFF)

2706 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
g_B©ée
.
ÕBackground
,

2707 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2712 
	`as£π
(
FALSE
);

2715 
	`PAL_B©éeUIUpd©e
();

2717 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2720 
gpGlobÆs
->
wS¸ìnWave
 = 
wave
;

2721 
	`VIDEO_ShakeS¸ìn
(0, 0);

2723 
	`‰ì
(
ÕS¥ôeEf„˘
);

2725 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2727 
g_B©ée
.
rgE√my
[
i
].
pos
 = g_B©ée.rgE√my[i].
posOrigöÆ
;

2729 
	}
}

2731 
VOID


2732 
	$PAL_B©éeShowE√myMagicAnim
(

2733 
WORD
 
wObje˘ID
,

2734 
SHORT
 
sT¨gë


2753 
LPSPRITE
 
ÕS¥ôeEf„˘
;

2754 
l
, 
iMagicNum
, 
iEf„˘Num
, 
n
, 
i
, 
k
, 
x
, 
y
, 
wave
, 
blow
;

2755 
DWORD
 
dwTime
 = 
	`SDL_GëTicks
();

2757 
iMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wMagicNumbî
;

2758 
iEf„˘Num
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wEf„˘
;

2760 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(
iEf„˘Num
, 
gpGlobÆs
->
f
.
ÂFIRE
);

2761 i‡(
l
 <= 0)

2766 
ÕS¥ôeEf„˘
 = (
LPSPRITE
)
	`UTIL_mÆloc
(
l
);

2768 
	`PAL_MKFDecom¥essChunk
((
LPBYTE
)
ÕS¥ôeEf„˘
, 
l
, 
iEf„˘Num
, 
gpGlobÆs
->
f
.
ÂFIRE
);

2770 
n
 = 
	`PAL_S¥ôeGëNumFømes
(
ÕS¥ôeEf„˘
);

2772 
l
 = 
n
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2773 
l
 *(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wEf„˘Times
;

2774 
l
 +
n
;

2775 
l
 +
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wShake
;

2777 
wave
 = 
gpGlobÆs
->
wS¸ìnWave
;

2778 
gpGlobÆs
->
wS¸ìnWave
 +gpGlobÆs->
g
.
ÕrgMagic
[
iMagicNum
].
wWave
;

2780 
i
 = 0; i < 
l
; i++)

2782 
LPCBITMAPRLE
 
b
;

2784 
blow
 = ((
g_B©ée
.
iBlow
 > 0Ë? 
	`R™domL⁄g
(0, g_Battle.iBlow) : RandomLong(g_Battle.iBlow, 0));

2786 
k
 = 0; k <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; k++)

2788 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
k
].
pos
Ë+ 
blow
;

2789 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
k
].
pos
Ë+ 
blow
 / 2;

2791 
g_B©ée
.
rgPœyî
[
k
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

2794 i‡(
l
 - 
i
 > 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wShake
)

2796 i‡(
i
 < 
n
)

2798 
k
 = 
i
;

2802 
k
 = 
i
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2803 
k
 %
n
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2804 
k
 +
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
;

2807 
b
 = 
	`PAL_S¥ôeGëFøme
(
ÕS¥ôeEf„˘
, 
k
);

2809 i‡(
i
 =
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSoundDñay
)

2811 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wSound
);

2816 
	`VIDEO_ShakeS¸ìn
(
i
, 3);

2817 
b
 = 
	`PAL_S¥ôeGëFøme
(
ÕS¥ôeEf„˘
, (
l
 - 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wShake
 - 1Ë% 
n
);

2823 
	`PAL_Pro˚ssEvít
();

2824 
	`SDL_GëTicks
(Ë<
dwTime
)

2826 
	`PAL_Pro˚ssEvít
();

2827 
	`SDL_Dñay
(1);

2833 
dwTime
 = 
	`SDL_GëTicks
() +

2834 ((
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wS≥ed
) + 5) * 10;

2836 
	`PAL_B©éeMakeS˚√
();

2837 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

2839 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥N‹mÆ
)

2841 
	`as£π
(
sT¨gë
 != -1);

2843 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
);

2844 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
);

2846 
x
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2847 
y
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2849 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2851 i‡(
i
 =
l
 - 1 && 
gpGlobÆs
->
wS¸ìnWave
 < 9 &&

2852 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wKìpEf„˘
 == 0xFFFF)

2854 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
g_B©ée
.
ÕBackground
,

2855 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2858 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackAŒ
)

2860 c⁄° 
ef„˘pos
[3][2] = {{180, 180}, {234, 170}, {270, 146}};

2862 
	`as£π
(
sT¨gë
 == -1);

2864 
k
 = 0; k < 3; k++)

2866 
x
 = 
ef„˘pos
[
k
][0];

2867 
y
 = 
ef„˘pos
[
k
][1];

2869 
x
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2870 
y
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2872 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2874 i‡(
i
 =
l
 - 1 && 
gpGlobÆs
->
wS¸ìnWave
 < 9 &&

2875 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wKìpEf„˘
 == 0xFFFF)

2877 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
g_B©ée
.
ÕBackground
,

2878 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2882 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackWhﬁe
 ||

2883 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackFõld
)

2885 
	`as£π
(
sT¨gë
 == -1);

2887 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wTy≥
 =
kMagicTy≥AâackWhﬁe
)

2889 
x
 = 240;

2890 
y
 = 150;

2894 
x
 = 160;

2895 
y
 = 200;

2898 
x
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wXOff£t
;

2899 
y
 +(
SHORT
)
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wYOff£t
;

2901 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
gpS¸ìn
, 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(bË/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2903 i‡(
i
 =
l
 - 1 && 
gpGlobÆs
->
wS¸ìnWave
 < 9 &&

2904 
gpGlobÆs
->
g
.
ÕrgMagic
[
iMagicNum
].
wKìpEf„˘
 == 0xFFFF)

2906 
	`PAL_RLEBlôToSurÁ˚
(
b
, 
g_B©ée
.
ÕBackground
,

2907 
	`PAL_XY
(
x
 - 
	`PAL_RLEGëWidth
(
b
Ë/ 2, 
y
 - 
	`PAL_RLEGëHeight
(b)));

2912 
	`as£π
(
FALSE
);

2915 
	`PAL_B©éeUIUpd©e
();

2917 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2920 
gpGlobÆs
->
wS¸ìnWave
 = 
wave
;

2921 
	`VIDEO_ShakeS¸ìn
(0, 0);

2923 
	`‰ì
(
ÕS¥ôeEf„˘
);

2925 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

2927 
g_B©ée
.
rgPœyî
[
i
].
pos
 = g_B©ée.rgPœyî[i].
posOrigöÆ
;

2929 
	}
}

2931 
VOID


2932 
	$PAL_B©éeShowPœyîSumm⁄MagicAnim
(

2933 
WORD
 
wPœyîIndex
,

2934 
WORD
 
wObje˘ID


2953 
i
, 
j
;

2954 
WORD
 
wMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wMagicNumbî
;

2955 
WORD
 
wEf„˘MagicID
 = 0;

2956 
DWORD
 
dwTime
 = 
	`SDL_GëTicks
();

2958 
wEf„˘MagicID
 = 0; wEf„˘MagicID < 
MAX_OBJECTS
; wEffectMagicID++)

2960 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wEf„˘MagicID
].
magic
.
wMagicNumbî
 ==

2961 
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wEf„˘
)

2967 
	`as£π
(
wEf„˘MagicID
 < 
MAX_OBJECTS
);

2972 
i
 = 1; i <= 10; i++)

2974 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2976 
g_B©ée
.
rgPœyî
[
j
].
iCﬁ‹Shi·
 = 
i
;

2979 
	`PAL_B©éeDñay
(1, 
wObje˘ID
, 
TRUE
);

2982 
	`PAL_B©éeBackupS˚√
();

2984 #ifde‡
PAL_WIN95


2985 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wSound
);

2991 
j
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wSumm⁄Ef„˘
 + 10;

2992 
i
 = 
	`PAL_MKFGëDecom¥es£dSize
(
j
, 
gpGlobÆs
->
f
.
ÂF
);

2994 
g_B©ée
.
ÕSumm⁄S¥ôe
 = 
	`UTIL_mÆloc
(
i
);

2996 
	`PAL_MKFDecom¥essChunk
(
g_B©ée
.
ÕSumm⁄S¥ôe
, 
i
, 
j
, 
gpGlobÆs
->
f
.
ÂF
);

2998 
g_B©ée
.
iSumm⁄Føme
 = 0;

2999 
g_B©ée
.
posSumm⁄
 = 
	`PAL_XY
(230 + (
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wXOff£t
),

3000 155 + (
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wYOff£t
));

3001 
g_B©ée
.
sBackgroundCﬁ‹Shi·
 = (
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wEf„˘Times
);

3006 
	`PAL_B©éeMakeS˚√
();

3007 
	`PAL_B©éeFadeS˚√
();

3013 
g_B©ée
.
iSumm⁄Føme
 < 
	`PAL_S¥ôeGëNumFømes
(g_B©ée.
ÕSumm⁄S¥ôe
) - 1)

3018 
	`PAL_Pro˚ssEvít
();

3019 
	`SDL_GëTicks
(Ë<
dwTime
)

3021 
	`PAL_Pro˚ssEvít
();

3022 
	`SDL_Dñay
(1);

3028 
dwTime
 = 
	`SDL_GëTicks
() +

3029 ((
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wS≥ed
) + 5) * 10;

3031 
	`PAL_B©éeMakeS˚√
();

3032 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

3034 
	`PAL_B©éeUIUpd©e
();

3036 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

3038 
g_B©ée
.
iSumm⁄Føme
++;

3044 #ifde‡
PAL_WIN95


3045 
	`PAL_B©éeShowPœyîOffMagicAnim
((
WORD
)-1, 
wEf„˘MagicID
, -1, 
TRUE
);

3047 
	`PAL_B©éeShowPœyîOffMagicAnim
((
WORD
)-1, 
wEf„˘MagicID
, -1);

3049 
	}
}

3051 
VOID


3052 
	$PAL_B©éeShowPo°MagicAnim
(

3053 
VOID


3070 
i
, 
j
, 
x
, 
y
, 
di°
 = 8;

3071 
PAL_POS
 
rgE√myPosBak
[
MAX_ENEMIES_IN_TEAM
];

3073 
i
 = 0; i < 
MAX_ENEMIES_IN_TEAM
; i++)

3075 
rgE√myPosBak
[
i
] = 
g_B©ée
.
rgE√my
[i].
pos
;

3078 
i
 = 0; i < 3; i++)

3080 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

3082 i‡(
g_B©ée
.
rgE√my
[
j
].
e
.
wHó…h
 =g_B©ée.rgE√my[j].
wPªvHP
)

3087 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
j
].
pos
);

3088 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
j
].
pos
);

3090 
x
 -
di°
;

3091 
y
 -
di°
 / 2;

3093 
g_B©ée
.
rgE√my
[
j
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

3095 
g_B©ée
.
rgE√my
[
j
].
iCﬁ‹Shi·
 = ((
i
 == 1) ? 6 : 0);

3098 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3099 
di°
 /= -2;

3102 
i
 = 0; i < 
MAX_ENEMIES_IN_TEAM
; i++)

3104 
g_B©ée
.
rgE√my
[
i
].
pos
 = 
rgE√myPosBak
[i];

3107 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3108 
	}
}

3110 
VOID


3111 
	$PAL_B©éePœyîVÆid©eA˘i⁄
(

3112 
WORD
 
wPœyîIndex


3129 c⁄° 
WORD
 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
wPœyîIndex
].wPlayerRole;

3130 c⁄° 
WORD
 
wObje˘ID
 = 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
;

3131 c⁄° 
SHORT
 
sT¨gë
 = 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.sTarget;

3132 
BOOL
 
fVÆid
 = 
TRUE
, 
fToE√my
 = 
FALSE
;

3133 
WORD
 
w
;

3134 
i
;

3136 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
)

3138 
kB©éeA˘i⁄Aâack
:

3139 
fToE√my
 = 
TRUE
;

3142 
kB©éeA˘i⁄Pass
:

3145 
kB©éeA˘i⁄De„nd
:

3148 
kB©éeA˘i⁄Magic
:

3152 
i
 = 0; i < 
MAX_PLAYER_MAGICS
; i++)

3154 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
] =
wObje˘ID
)

3160 i‡(
i
 >
MAX_PLAYER_MAGICS
)

3162 
fVÆid
 = 
FALSE
;

3165 
w
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wMagicNumbî
;

3167 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSûí˚
] > 0)

3172 
fVÆid
 = 
FALSE
;

3175 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] <

3176 
gpGlobÆs
->
g
.
ÕrgMagic
[
w
].
wCo°MP
)

3181 
fVÆid
 = 
FALSE
;

3188 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wFœgs
 & 
kMagicFœgUßbÀToE√my
)

3190 i‡(!
fVÆid
)

3192 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

3194 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

3196 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = -1;

3198 i‡(
sT¨gë
 == -1)

3200 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

3203 
fToE√my
 = 
TRUE
;

3207 i‡(!
fVÆid
)

3209 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄De„nd
;

3211 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

3213 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = -1;

3215 i‡(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 == -1)

3217 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = wPlayerIndex;

3222 
kB©éeA˘i⁄Co›Magic
:

3223 
fToE√my
 = 
TRUE
;

3225 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

3227 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

3229 #ifde‡
PAL_CLASSIC


3230 i‡(
	`PAL_IsPœyîDyög
(
w
) ||

3231 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSûí˚
] > 0 ||

3232 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] > 0 ||

3233 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusP¨Æyzed
] > 0 ||

3234 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] > 0)

3236 i‡(
	`PAL_IsPœyîDyög
(
w
) ||

3237 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSûí˚
] > 0 ||

3238 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] > 0 ||

3239 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] > 0 ||

3240 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 < 100 ||

3241 (
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrA˘
 && i !
wPœyîIndex
))

3244 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

3249 i‡(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄Co›Magic
)

3251 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

3253 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = -1;

3255 i‡(
sT¨gë
 == -1)

3257 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

3262 
kB©éeA˘i⁄FÀe
:

3265 
kB©éeA˘i⁄ThrowIãm
:

3266 
fToE√my
 = 
TRUE
;

3268 i‡(
	`PAL_GëIãmAmou¡
(
wObje˘ID
) == 0)

3270 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

3272 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
ôem
.
wFœgs
 & 
kIãmFœgAµlyToAŒ
)

3274 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = -1;

3276 i‡(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 == -1)

3278 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

3282 
kB©éeA˘i⁄U£Iãm
:

3283 i‡(
	`PAL_GëIãmAmou¡
(
wObje˘ID
) == 0)

3285 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄De„nd
;

3287 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘ID
].
ôem
.
wFœgs
 & 
kIãmFœgAµlyToAŒ
)

3289 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = -1;

3291 i‡(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 == -1)

3293 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = wPlayerIndex;

3297 
kB©éeA˘i⁄AâackM©e
:

3298 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] == 0)

3303 
fToE√my
 = 
TRUE
;

3304 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

3308 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

3310 i‡(
i
 !
wPœyîIndex
 &&

3311 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] != 0)

3317 i‡(
i
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

3322 
fToE√my
 = 
TRUE
;

3323 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

3332 i‡(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄Aâack
)

3334 i‡(
sT¨gë
 == -1)

3336 i‡(!
	`PAL_PœyîC™AâackAŒ
(
wPœyîRﬁe
))

3338 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

3341 i‡(
	`PAL_PœyîC™AâackAŒ
(
wPœyîRﬁe
))

3343 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = -1;

3347 i‡(
fToE√my
 && 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 >= 0)

3349 i‡(
g_B©ée
.
rgE√my
[g_B©ée.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
].
wObje˘ID
 == 0)

3351 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

3352 
	`as£π
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 >= 0);

3355 
	}
}

3357 
VOID


3358 
	$PAL_B©éePœyîPîf‹mA˘i⁄
(

3359 
WORD
 
wPœyîIndex


3376 
SHORT
 
sDamage
;

3377 
WORD
 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
wPœyîIndex
].wPlayerRole;

3378 
SHORT
 
sT¨gë
;

3379 
x
, 
y
;

3380 
i
, 
j
, 
t
;

3381 
WORD
 
°r
, 
def
, 
ªs
, 
wObje˘
, 
wMagicNum
;

3382 
BOOL
 
fCrôiˇl
;

3383 
WORD
 
rgwCo›Pos
[3][2] = {{208, 157}, {234, 170}, {260, 183}};

3384 #i‚de‡
PAL_CLASSIC


3385 
BOOL
 
fPois⁄ed
, 
fCheckPois⁄
;

3388 
g_B©ée
.
wMovögPœyîIndex
 = 
wPœyîIndex
;

3389 
g_B©ée
.
iBlow
 = 0;

3391 
	`PAL_B©éePœyîVÆid©eA˘i⁄
(
wPœyîIndex
);

3392 
	`PAL_B©éeBackupSèt
();

3394 
sT¨gë
 = 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.sTarget;

3396 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
)

3398 
kB©éeA˘i⁄Aâack
:

3399 i‡(
sT¨gë
 != -1)

3404 
t
 = 0;Å < (
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusDuÆAâack
] ? 2 : 1);Å++)

3406 
°r
 = 
	`PAL_GëPœyîAâackSåígth
(
wPœyîRﬁe
);

3407 
def
 = 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wDe„n£
;

3408 
def
 +(
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wLevñ
 + 6) * 4;

3409 
ªs
 = 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wPhysiˇlResi°™˚
;

3410 
fCrôiˇl
 = 
FALSE
;

3412 
sDamage
 = 
	`PAL_CÆcPhysiˇlAâackDamage
(
°r
, 
def
, 
ªs
);

3413 
sDamage
 +
	`R™domL⁄g
(1, 2);

3415 i‡(
	`R™domL⁄g
(0, 5) == 0 ||

3416 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusBøvîy
] > 0)

3421 
sDamage
 *= 3;

3422 
fCrôiˇl
 = 
TRUE
;

3425 i‡(
wPœyîRﬁe
 =0 && 
	`R™domL⁄g
(0, 11) == 0)

3430 
sDamage
 *= 2;

3431 
fCrôiˇl
 = 
TRUE
;

3434 
sDamage
 = (
SHORT
)(sDamagê* 
	`R™domFlﬂt
(1, 1.125));

3436 i‡(
sDamage
 <= 0)

3438 
sDamage
 = 1;

3441 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wHó…h
 -
sDamage
;

3443 i‡(
t
 == 0)

3445 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 7;

3446 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

3449 
	`PAL_B©éeShowPœyîAâackAnim
(
wPœyîIndex
, 
fCrôiˇl
);

3457 
t
 = 0;Å < (
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusDuÆAâack
] ? 2 : 1);Å++)

3459 
divisi⁄
 = 1;

3460 c⁄° 
ödex
[
MAX_ENEMIES_IN_TEAM
] = {2, 1, 0, 4, 3};

3462 
fCrôiˇl
 =

3463 (
	`R™domL⁄g
(0, 5Ë=0 || 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusBøvîy
] > 0);

3465 i‡(
t
 == 0)

3467 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 7;

3468 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

3471 
i
 = 0; i < 
MAX_ENEMIES_IN_TEAM
; i++)

3473 i‡(
g_B©ée
.
rgE√my
[
ödex
[
i
]].
wObje˘ID
 == 0 ||

3474 
ödex
[
i
] > 
g_B©ée
.
wMaxE√myIndex
)

3479 
°r
 = 
	`PAL_GëPœyîAâackSåígth
(
wPœyîRﬁe
);

3480 
def
 = 
g_B©ée
.
rgE√my
[
ödex
[
i
]].
e
.
wDe„n£
;

3481 
def
 +(
g_B©ée
.
rgE√my
[
ödex
[
i
]].
e
.
wLevñ
 + 6) * 4;

3482 
ªs
 = 
g_B©ée
.
rgE√my
[
ödex
[
i
]].
e
.
wPhysiˇlResi°™˚
;

3484 
sDamage
 = 
	`PAL_CÆcPhysiˇlAâackDamage
(
°r
, 
def
, 
ªs
);

3485 
sDamage
 +
	`R™domL⁄g
(1, 2);

3487 i‡(
fCrôiˇl
)

3492 
sDamage
 *= 3;

3495 
sDamage
 /
divisi⁄
;

3497 
sDamage
 = (
SHORT
)(sDamagê* 
	`R™domFlﬂt
(1, 1.125));

3499 i‡(
sDamage
 <= 0)

3501 
sDamage
 = 1;

3504 
g_B©ée
.
rgE√my
[
ödex
[
i
]].
e
.
wHó…h
 -
sDamage
;

3506 
divisi⁄
++;

3507 i‡(
divisi⁄
 > 3)

3509 
divisi⁄
 = 3;

3513 
	`PAL_B©éeShowPœyîAâackAnim
(
wPœyîIndex
, 
fCrôiˇl
);

3517 
	`PAL_B©éeUpd©eFighãrs
();

3518 
	`PAL_B©éeMakeS˚√
();

3519 
	`PAL_B©éeDñay
(3, 0, 
TRUE
);

3521 
gpGlobÆs
->
Exp
.
rgAâackExp
[
wPœyîRﬁe
].
wCou¡
++;

3522 
gpGlobÆs
->
Exp
.
rgHó…hExp
[
wPœyîRﬁe
].
wCou¡
 +
	`R™domL⁄g
(2, 3);

3525 
kB©éeA˘i⁄AâackM©e
:

3529 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

3531 i‡(
i
 =
wPœyîIndex
)

3536 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] > 0)

3542 i‡(
i
 <
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

3549 
sT¨gë
 = 
	`R™domL⁄g
(0, 
gpGlobÆs
->
wMaxP¨tyMembîIndex
);

3550 } 
sT¨gë
 =
wPœyîIndex
 || 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[sT¨gë].
wPœyîRﬁe
] == 0);

3552 
j
 = 0; j < 2; j++)

3554 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 8;

3555 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3557 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 0;

3558 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3561 
	`PAL_B©éeDñay
(2, 0, 
TRUE
);

3563 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) + 30;

3564 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) + 12;

3566 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

3567 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 8;

3568 
	`PAL_B©éeDñay
(5, 0, 
TRUE
);

3570 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 9;

3571 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwWóp⁄Sound
[
wPœyîRﬁe
]);

3573 
°r
 = 
	`PAL_GëPœyîAâackSåígth
(
wPœyîRﬁe
);

3574 
def
 = 
	`PAL_GëPœyîDe„n£
(
gpGlobÆs
->
rgP¨ty
[
sT¨gë
].
wPœyîRﬁe
);

3575 i‡(
g_B©ée
.
rgPœyî
[
sT¨gë
].
fDe„ndög
)

3577 
def
 *= 2;

3580 
sDamage
 = 
	`PAL_CÆcPhysiˇlAâackDamage
(
°r
, 
def
, 2);

3581 i‡(
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
sT¨gë
].
wPœyîRﬁe
][
kSètusPrŸe˘
] > 0)

3583 
sDamage
 /= 2;

3586 i‡(
sDamage
 <= 0)

3588 
sDamage
 = 1;

3591 i‡(
sDamage
 > (
SHORT
)
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
sT¨gë
].
wPœyîRﬁe
])

3593 
sDamage
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
sT¨gë
].
wPœyîRﬁe
];

3596 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
sT¨gë
].
wPœyîRﬁe
] -
sDamage
;

3598 
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
 =

3599 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) - 12,

3600 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) - 6);

3601 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3603 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 6;

3604 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3606 
	`PAL_B©éeDi•œySètCh™ge
();

3608 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 0;

3609 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

3611 
	`PAL_B©éeUpd©eFighãrs
();

3612 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

3617 
kB©éeA˘i⁄Co›Magic
:

3618 
wObje˘
 = 
	`PAL_GëPœyîCo›î©iveMagic
(
gpGlobÆs
->
rgP¨ty
[
wPœyîIndex
].
wPœyîRﬁe
);

3619 
wMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wMagicNumbî
;

3621 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥Summ⁄
)

3623 #ifde‡
PAL_WIN95


3624 
	`PAL_B©éeShowPœyîPªMagicAnim
(
wPœyîIndex
, 
wObje˘
);

3626 
	`PAL_B©éeShowPœyîPªMagicAnim
(
wPœyîIndex
, 
TRUE
);

3628 
	`PAL_B©éeShowPœyîSumm⁄MagicAnim
((
WORD
)-1, 
wObje˘
);

3632 
i
 = 1; i <= 6; i++)

3637 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
posOrigöÆ
Ë* (6 - 
i
);

3638 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
posOrigöÆ
Ë* (6 - 
i
);

3640 
x
 +
rgwCo›Pos
[0][0] * 
i
;

3641 
y
 +
rgwCo›Pos
[0][1] * 
i
;

3643 
x
 /= 6;

3644 
y
 /= 6;

3646 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

3651 
t
 = 0;

3653 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

3655 i‡((
WORD
)
j
 =
wPœyîIndex
)

3660 
t
++;

3662 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
j
].
posOrigöÆ
Ë* (6 - 
i
);

3663 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
j
].
posOrigöÆ
Ë* (6 - 
i
);

3665 
x
 +
rgwCo›Pos
[
t
][0] * 
i
;

3666 
y
 +
rgwCo›Pos
[
t
][1] * 
i
;

3668 
x
 /= 6;

3669 
y
 /= 6;

3671 
g_B©ée
.
rgPœyî
[
j
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

3674 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3677 
i
 = 
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i >= 0; i--)

3679 i‡((
WORD
)
i
 =
wPœyîIndex
)

3684 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 5;

3686 
	`PAL_B©éeDñay
(3, 0, 
TRUE
);

3689 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
iCﬁ‹Shi·
 = 6;

3690 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 5;

3691 
	`SOUND_Pœy
(29);

3692 
	`PAL_B©éeDñay
(5, 0, 
TRUE
);

3694 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 6;

3695 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
iCﬁ‹Shi·
 = 0;

3696 
	`PAL_B©éeDñay
(3, 0, 
TRUE
);

3698 #ifde‡
PAL_WIN95


3699 
	`PAL_B©éeShowPœyîOffMagicAnim
((
WORD
)-1, 
wObje˘
, 
sT¨gë
, 
FALSE
);

3701 
	`PAL_B©éeShowPœyîOffMagicAnim
((
WORD
)-1, 
wObje˘
, 
sT¨gë
);

3705 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

3707 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] -=

3708 
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wCo°MP
;

3710 i‡((
SHORT
)(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
]) <= 0)

3712 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] = 1;

3718 #ifde‡
PAL_CLASSIC


3719 
g_B©ée
.
rgPœyî
[
i
].
°©e
 = 
kFighãrWaô
;

3721 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 = 0;

3722 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeS≥edModifõr
 = 2;

3726 
	`PAL_B©éeBackupSèt
();

3728 
°r
 = 0;

3730 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

3732 
°r
 +
	`PAL_GëPœyîAâackSåígth
(
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
);

3733 
°r
 +
	`PAL_GëPœyîMagicSåígth
(
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
);

3736 
°r
 /= 4;

3741 i‡(
sT¨gë
 == -1)

3746 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

3748 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

3753 
def
 = 
g_B©ée
.
rgE√my
[
i
].
e
.
wDe„n£
;

3754 
def
 +(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 + 6) * 4;

3756 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
°r
, 
def
,

3757 
g_B©ée
.
rgE√my
[
i
].
e
.
wEÀmResi°™˚
, g_B©ée.rgE√my[i].e.
wPois⁄Resi°™˚
, 
wObje˘
);

3759 i‡(
sDamage
 <= 0)

3761 
sDamage
 = 1;

3764 
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 -
sDamage
;

3772 
def
 = 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wDe„n£
;

3773 
def
 +(
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wLevñ
 + 6) * 4;

3775 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
°r
, 
def
,

3776 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wEÀmResi°™˚
, g_B©ée.rgE√my[sT¨gë].e.
wPois⁄Resi°™˚
, 
wObje˘
);

3778 i‡(
sDamage
 <= 0)

3780 
sDamage
 = 1;

3783 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wHó…h
 -
sDamage
;

3786 
	`PAL_B©éeDi•œySètCh™ge
();

3787 
	`PAL_B©éeShowPo°MagicAnim
();

3788 
	`PAL_B©éeDñay
(5, 0, 
TRUE
);

3790 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 !
kMagicTy≥Summ⁄
)

3792 
	`PAL_B©éePo°A˘i⁄Check
(
FALSE
);

3797 
i
 = 1; i <= 6; i++)

3802 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
posOrigöÆ
Ë* 
i
;

3803 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
posOrigöÆ
Ë* 
i
;

3805 
x
 +
rgwCo›Pos
[0][0] * (6 - 
i
);

3806 
y
 +
rgwCo›Pos
[0][1] * (6 - 
i
);

3808 
x
 /= 6;

3809 
y
 /= 6;

3811 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

3816 
t
 = 0;

3818 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

3820 
g_B©ée
.
rgPœyî
[
j
].
wCuºítFøme
 = 0;

3822 i‡((
WORD
)
j
 =
wPœyîIndex
)

3827 
t
++;

3829 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
j
].
posOrigöÆ
Ë* 
i
;

3830 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
j
].
posOrigöÆ
Ë* 
i
;

3832 
x
 +
rgwCo›Pos
[
t
][0] * (6 - 
i
);

3833 
y
 +
rgwCo›Pos
[
t
][1] * (6 - 
i
);

3835 
x
 /= 6;

3836 
y
 /= 6;

3838 
g_B©ée
.
rgPœyî
[
j
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

3841 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3846 
kB©éeA˘i⁄De„nd
:

3847 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
fDe„ndög
 = 
TRUE
;

3848 
gpGlobÆs
->
Exp
.
rgDe„n£Exp
[
wPœyîRﬁe
].
wCou¡
 += 2;

3851 
kB©éeA˘i⁄FÀe
:

3852 
°r
 = 
	`PAL_GëPœyîFÀeR©e
(
wPœyîRﬁe
);

3853 
def
 = 0;

3855 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

3857 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

3862 
def
 +(
SHORT
)(
g_B©ée
.
rgE√my
[
i
].
e
.
wFÀeR©e
);

3863 
def
 +(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 + 6) * 2;

3866 i‡((
SHORT
)
def
 < 0)

3868 
def
 = 0;

3871 i‡(
	`R™domL⁄g
(0, 
°r
Ë>R™domL⁄g(0, 
def
Ë&& !
g_B©ée
.
fIsBoss
)

3876 
	`PAL_B©éePœyîEsˇ≥
();

3883 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 0;

3885 
i
 = 0; i < 3; i++)

3887 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
) + 4;

3888 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
) + 2;

3890 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

3892 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3895 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 1;

3896 
	`PAL_B©éeDñay
(8, 
BATTLE_LABEL_ESCAPEFAIL
, 
TRUE
);

3898 
gpGlobÆs
->
Exp
.
rgFÀeExp
[
wPœyîRﬁe
].
wCou¡
 += 2;

3902 
kB©éeA˘i⁄Magic
:

3903 
wObje˘
 = 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
;

3904 
wMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wMagicNumbî
;

3906 #ifde‡
PAL_WIN95


3907 
	`PAL_B©éeShowPœyîPªMagicAnim
(
wPœyîIndex
, 
wObje˘
);

3909 
	`PAL_B©éeShowPœyîPªMagicAnim
(
wPœyîIndex
,

3910 (
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥Summ⁄
));

3913 i‡(!
gpGlobÆs
->
fAutoB©ée
)

3915 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] -gpGlobÆs->g.
ÕrgMagic
[
wMagicNum
].
wCo°MP
;

3916 i‡((
SHORT
)(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
]) < 0)

3918 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] = 0;

3922 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥AµlyToPœyî
 ||

3923 
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥AµlyToP¨ty
 ||

3924 
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥Tøn˚
)

3929 
WORD
 
w
 = 0;

3931 i‡(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
 != -1)

3933 
w
 = 
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
sT¨gë
].
wPœyîRﬁe
;

3935 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥Tøn˚
)

3937 
w
 = 
wPœyîRﬁe
;

3940 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnU£
 =

3941 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnU£
, 
wPœyîRﬁe
);

3943 i‡(
g_fS¸ùtSuc˚ss
)

3945 
	`PAL_B©éeShowPœyîDefMagicAnim
(
wPœyîIndex
, 
wObje˘
, 
sT¨gë
);

3947 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnSuc˚ss
 =

3948 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnSuc˚ss
, 
w
);

3950 i‡(
g_fS¸ùtSuc˚ss
)

3952 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥Tøn˚
)

3954 
i
 = 0; i < 6; i++)

3956 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
iCﬁ‹Shi·
 = 
i
 * 2;

3957 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

3960 
	`PAL_B©éeBackupS˚√
();

3961 
	`PAL_LﬂdB©éeS¥ôes
();

3963 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
iCﬁ‹Shi·
 = 0;

3965 
	`PAL_B©éeMakeS˚√
();

3966 
	`PAL_B©éeFadeS˚√
();

3976 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnU£
 =

3977 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnU£
, 
wPœyîRﬁe
);

3979 i‡(
g_fS¸ùtSuc˚ss
)

3981 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 =
kMagicTy≥Summ⁄
)

3983 
	`PAL_B©éeShowPœyîSumm⁄MagicAnim
(
wPœyîIndex
, 
wObje˘
);

3987 #ifde‡
PAL_WIN95


3988 
	`PAL_B©éeShowPœyîOffMagicAnim
(
wPœyîIndex
, 
wObje˘
, 
sT¨gë
, 
FALSE
);

3990 
	`PAL_B©éeShowPœyîOffMagicAnim
(
wPœyîIndex
, 
wObje˘
, 
sT¨gë
);

3994 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnSuc˚ss
 =

3995 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
magic
.
wS¸ùtOnSuc˚ss
, (
WORD
)
sT¨gë
);

4000 i‡((
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wBa£Damage
) > 0)

4002 i‡(
sT¨gë
 == -1)

4007 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

4009 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

4014 
°r
 = 
	`PAL_GëPœyîMagicSåígth
(
wPœyîRﬁe
);

4015 
def
 = 
g_B©ée
.
rgE√my
[
i
].
e
.
wDe„n£
;

4016 
def
 +(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 + 6) * 4;

4018 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
°r
, 
def
,

4019 
g_B©ée
.
rgE√my
[
i
].
e
.
wEÀmResi°™˚
, g_B©ée.rgE√my[i].e.
wPois⁄Resi°™˚
, 
wObje˘
);

4021 i‡(
sDamage
 <= 0)

4023 
sDamage
 = 1;

4026 
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 -
sDamage
;

4034 
°r
 = 
	`PAL_GëPœyîMagicSåígth
(
wPœyîRﬁe
);

4035 
def
 = 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wDe„n£
;

4036 
def
 +(
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wLevñ
 + 6) * 4;

4038 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
°r
, 
def
,

4039 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wEÀmResi°™˚
, g_B©ée.rgE√my[sT¨gë].e.
wPois⁄Resi°™˚
, 
wObje˘
);

4041 i‡(
sDamage
 <= 0)

4043 
sDamage
 = 1;

4046 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wHó…h
 -
sDamage
;

4052 
	`PAL_B©éeDi•œySètCh™ge
();

4053 
	`PAL_B©éeShowPo°MagicAnim
();

4054 
	`PAL_B©éeDñay
(5, 0, 
TRUE
);

4056 
gpGlobÆs
->
Exp
.
rgMagicExp
[
wPœyîRﬁe
].
wCou¡
 +
	`R™domL⁄g
(2, 3);

4057 
gpGlobÆs
->
Exp
.
rgMagicPowîExp
[
wPœyîRﬁe
].
wCou¡
++;

4060 
kB©éeA˘i⁄ThrowIãm
:

4061 
wObje˘
 = 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
;

4063 
i
 = 0; i < 4; i++)

4065 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
 =

4066 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
Ë- (4 - 
i
),

4067 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
pos
Ë- (4 - 
i
) / 2);

4069 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

4072 
	`PAL_B©éeDñay
(2, 
wObje˘
, 
TRUE
);

4074 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 5;

4075 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagicSound
[
wPœyîRﬁe
]);

4077 
	`PAL_B©éeDñay
(8, 
wObje˘
, 
TRUE
);

4079 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
wCuºítFøme
 = 6;

4080 
	`PAL_B©éeDñay
(2, 
wObje˘
, 
TRUE
);

4085 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnThrow
 =

4086 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnThrow
, (
WORD
)
sT¨gë
);

4091 
	`PAL_AddIãmToInvít‹y
(
wObje˘
, -1);

4093 
	`PAL_B©éeDi•œySètCh™ge
();

4094 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

4095 
	`PAL_B©éeUpd©eFighãrs
();

4096 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

4100 
kB©éeA˘i⁄U£Iãm
:

4101 
wObje˘
 = 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
;

4103 
	`PAL_B©éeShowPœyîU£IãmAnim
(
wPœyîIndex
, 
wObje˘
, 
sT¨gë
);

4108 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnU£
 =

4109 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnU£
,

4110 (
sT¨gë
 =-1Ë? 0xFFFF : 
gpGlobÆs
->
rgP¨ty
[sT¨gë].
wPœyîRﬁe
);

4115 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wFœgs
 & 
kIãmFœgC⁄sumög
)

4117 
	`PAL_AddIãmToInvít‹y
(
wObje˘
, -1);

4120 i‡(
g_B©ée
.
iHidögTime
 < 0)

4122 #ifde‡
PAL_CLASSIC


4123 
g_B©ée
.
iHidögTime
 = -g_Battle.iHidingTime;

4125 
g_B©ée
.
iHidögTime
 = -g_Battle.iHidingTime * 20;

4127 i‡(
gpGlobÆs
->
bB©éeS≥ed
 > 1)

4129 
g_B©ée
.
iHidögTime
 *1 + (
gpGlobÆs
->
bB©éeS≥ed
 - 1) * 0.5;

4133 
g_B©ée
.
iHidögTime
 *= 1.2;

4136 
	`PAL_B©éeBackupS˚√
();

4137 
	`PAL_B©éeMakeS˚√
();

4138 
	`PAL_B©éeFadeS˚√
();

4141 
	`PAL_B©éeUpd©eFighãrs
();

4142 
	`PAL_B©éeDi•œySètCh™ge
();

4143 
	`PAL_B©éeDñay
(8, 0, 
TRUE
);

4146 
kB©éeA˘i⁄Pass
:

4153 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
°©e
 = 
kFighãrWaô
;

4154 
g_B©ée
.
rgPœyî
[
wPœyîIndex
].
ÊTimeMëî
 = 0;

4156 
	`PAL_B©éePo°A˘i⁄Check
(
FALSE
);

4158 #i‚de‡
PAL_CLASSIC


4162 
fCheckPois⁄
 = 
FALSE
;

4164 i‡(
g_B©ée
.
B©éeResu…
 =
kB©éeResu…OnGoög
)

4166 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

4168 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0)

4170 
fCheckPois⁄
 = 
TRUE
;

4179 i‡(
fCheckPois⁄
)

4181 
fPois⁄ed
 = 
FALSE
;

4182 
	`PAL_B©éeBackupSèt
();

4184 
i
 = 0; i < 
MAX_POISONS
; i++)

4186 
wObje˘
 = 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
wPœyîIndex
].
wPois⁄ID
;

4188 i‡(
wObje˘
 != 0)

4190 
fPois⁄ed
 = 
TRUE
;

4191 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
wPœyîIndex
].
wPois⁄S¸ùt
 =

4192 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
wPœyîIndex
].
wPois⁄S¸ùt
, 
wPœyîRﬁe
);

4196 i‡(
fPois⁄ed
)

4198 
	`PAL_B©éeDñay
(3, 0, 
TRUE
);

4199 
	`PAL_B©éeUpd©eFighãrs
();

4200 i‡(
	`PAL_B©éeDi•œySètCh™ge
())

4202 
	`PAL_B©éeDñay
(6, 0, 
TRUE
);

4210 
i
 = 0; i < 
kSètusAŒ
; i++)

4212 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
i
] > 0)

4214 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
i
]--;

4218 
	}
}

4220 
INT


4221 
	$PAL_B©éeE√mySñe˘T¨gëIndex
(

4222 
VOID


4239 
i
;

4241 
i
 = 
	`R™domL⁄g
(0, 
gpGlobÆs
->
wMaxP¨tyMembîIndex
);

4243 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] == 0)

4245 
i
 = 
	`R™domL⁄g
(0, 
gpGlobÆs
->
wMaxP¨tyMembîIndex
);

4248  
i
;

4249 
	}
}

4251 
VOID


4252 
	$PAL_B©éeE√myPîf‹mA˘i⁄
(

4253 
WORD
 
wE√myIndex


4270 
°r
, 
def
, 
iCovîIndex
, 
i
, 
x
, 
y
, 
ex
, 
ey
, 
iSound
;

4271 
WORD
 
rgwEÀmíèlResi°™˚
[
NUM_MAGIC_ELEMENTAL
];

4272 
WORD
 
wPœyîRﬁe
, 
w
, 
wMagic
, 
wMagicNum
;

4273 
SHORT
 
sT¨gë
, 
sDamage
;

4274 
BOOL
 
fAutoDe„nd
 = 
FALSE
, 
rgfMagAutoDe„nd
[
MAX_PLAYERS_IN_PARTY
];

4276 
	`PAL_B©éeBackupSèt
();

4277 
g_B©ée
.
iBlow
 = 0;

4279 
sT¨gë
 = 
	`PAL_B©éeE√mySñe˘T¨gëIndex
();

4280 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
sT¨gë
].wPlayerRole;

4281 
wMagic
 = 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.wMagic;

4283 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
kSètusSÀï
] > 0 ||

4284 
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
kSètusP¨Æyzed
] > 0 ||

4285 
g_B©ée
.
iHidögTime
 > 0)

4290 
íd
;

4292 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
kSètusC⁄fu£d
] > 0)

4296 i‡(
wMagic
 != 0 &&

4297 
	`R™domL⁄g
(0, 9Ë< 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicR©e
 &&

4298 
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
kSètusSûí˚
] == 0)

4303 i‡(
wMagic
 == 0xFFFF)

4308 
íd
;

4311 
wMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wMagicNumbî
;

4313 
°r
 = (
SHORT
)
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicSåígth
;

4314 
°r
 +(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wLevñ
 + 6) * 6;

4315 i‡(
°r
 < 0)

4317 
°r
 = 0;

4320 
ex
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
);

4321 
ey
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
);

4323 
ex
 += 12;

4324 
ey
 += 6;

4326 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 = 
	`PAL_XY
(
ex
, 
ey
);

4327 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4329 
ex
 += 4;

4330 
ey
 += 2;

4332 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 = 
	`PAL_XY
(
ex
, 
ey
);

4333 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4335 
	`SOUND_Pœy
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicSound
);

4337 
i
 = 0; i < 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicFømes
; i++)

4339 
g_B©ée
.
rgE√my
[
wE√myIndex
].
wCuºítFøme
 =

4340 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wIdÀFømes
 + 
i
;

4341 
	`PAL_B©éeDñay
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wA˘WaôFømes
, 0, 
FALSE
);

4344 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicFømes
 == 0)

4346 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4349 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wSoundDñay
 == 0)

4351 
i
 = 0; i <
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wAâackFømes
; i++)

4353 
g_B©ée
.
rgE√my
[
wE√myIndex
].
wCuºítFøme
 =

4354 
i
 - 1 + 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wIdÀFømes
 + g_B©ée.rgE√my[wE√myIndex].e.
wMagicFømes
;

4355 
	`PAL_B©éeDñay
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wA˘WaôFømes
, 0, 
FALSE
);

4359 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wTy≥
 !
kMagicTy≥N‹mÆ
)

4361 
sT¨gë
 = -1;

4363 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

4365 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

4367 i‡(
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] == 0 &&

4368 #ifde‡
PAL_CLASSIC


4369 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusP¨Æyzed
] == 0 &&

4371 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSlow
] == 0 &&

4373 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] == 0 &&

4374 
	`R™domL⁄g
(0, 2) == 0 &&

4375 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] != 0)

4377 
rgfMagAutoDe„nd
[
i
] = 
TRUE
;

4378 
g_B©ée
.
rgPœyî
[
i
].
wCuºítFøme
 = 3;

4382 
rgfMagAutoDe„nd
[
i
] = 
FALSE
;

4386 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] == 0 &&

4387 #ifde‡
PAL_CLASSIC


4388 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusP¨Æyzed
] == 0 &&

4390 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSlow
] == 0 &&

4392 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] == 0 &&

4393 
	`R™domL⁄g
(0, 2) == 0)

4395 
fAutoDe„nd
 = 
TRUE
;

4396 
g_B©ée
.
rgPœyî
[
sT¨gë
].
wCuºítFøme
 = 3;

4401 
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnU£
 =

4402 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnU£
, 
wPœyîRﬁe
);

4404 i‡(
g_fS¸ùtSuc˚ss
)

4406 
	`PAL_B©éeShowE√myMagicAnim
(
wMagic
, 
sT¨gë
);

4408 
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnSuc˚ss
 =

4409 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnSuc˚ss
, 
wPœyîRﬁe
);

4412 i‡((
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wBa£Damage
) > 0)

4414 i‡(
sT¨gë
 == -1)

4419 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

4421 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

4422 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] == 0)

4430 
def
 = 
	`PAL_GëPœyîDe„n£
(
w
);

4432 
x
 = 0; x < 
NUM_MAGIC_ELEMENTAL
; x++)

4434 
rgwEÀmíèlResi°™˚
[
x
] =

4435 5 + 
	`PAL_GëPœyîEÀmíèlResi°™˚
(
w
, 
x
) / 20;

4438 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
°r
, 
def
, 
rgwEÀmíèlResi°™˚
,

4439 5 + 
	`PAL_GëPœyîPois⁄Resi°™˚
(
w
Ë/ 20, 
wMagic
);

4441 
sDamage
 /((
g_B©ée
.
rgPœyî
[
i
].
fDe„ndög
 ? 2 : 1) *

4442 ((
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusPrŸe˘
] > 0) ? 2 : 1)) +

4443 (
rgfMagAutoDe„nd
[
i
] ? 1 : 0);

4445 i‡(
sDamage
 > 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
])

4447 
sDamage
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
];

4450 #i‚de‡
INVINCIBLE


4451 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] -
sDamage
;

4454 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] == 0)

4456 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDóthSound
[
w
]);

4465 
def
 = 
	`PAL_GëPœyîDe„n£
(
wPœyîRﬁe
);

4467 
x
 = 0; x < 
NUM_MAGIC_ELEMENTAL
; x++)

4469 
rgwEÀmíèlResi°™˚
[
x
] =

4470 5 + 
	`PAL_GëPœyîEÀmíèlResi°™˚
(
wPœyîRﬁe
, 
x
) / 20;

4473 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
°r
, 
def
, 
rgwEÀmíèlResi°™˚
,

4474 5 + 
	`PAL_GëPœyîPois⁄Resi°™˚
(
wPœyîRﬁe
Ë/ 20, 
wMagic
);

4476 
sDamage
 /((
g_B©ée
.
rgPœyî
[
sT¨gë
].
fDe„ndög
 ? 2 : 1) *

4477 ((
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPrŸe˘
] > 0) ? 2 : 1)) +

4478 (
fAutoDe„nd
 ? 1 : 0);

4480 i‡(
sDamage
 > 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
])

4482 
sDamage
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
];

4485 #i‚de‡
INVINCIBLE


4486 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] -
sDamage
;

4489 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0)

4491 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDóthSound
[
wPœyîRﬁe
]);

4496 i‡(!
gpGlobÆs
->
fAutoB©ée
)

4498 
	`PAL_B©éeDi•œySètCh™ge
();

4501 
i
 = 0; i < 5; i++)

4503 i‡(
sT¨gë
 == -1)

4505 
x
 = 0; x <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; x++)

4507 i‡(
g_B©ée
.
rgPœyî
[
x
].
wPªvHP
 ==

4508 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
x
].
wPœyîRﬁe
])

4516 
g_B©ée
.
rgPœyî
[
x
].
wCuºítFøme
 = 4;

4517 i‡(
i
 > 0)

4519 
g_B©ée
.
rgPœyî
[
x
].
pos
 =

4520 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
x
].
pos
Ë+ (8 >> 
i
),

4521 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
x
].
pos
Ë+ (4 >> 
i
));

4523 
g_B©ée
.
rgPœyî
[
x
].
iCﬁ‹Shi·
 = ((
i
 < 3) ? 6 : 0);

4528 
g_B©ée
.
rgPœyî
[
sT¨gë
].
wCuºítFøme
 = 4;

4529 i‡(
i
 > 0)

4531 
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
 =

4532 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
Ë+ (8 >> 
i
),

4533 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
Ë+ (4 >> 
i
));

4535 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = ((
i
 < 3) ? 6 : 0);

4538 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4541 
g_B©ée
.
rgE√my
[
wE√myIndex
].
wCuºítFøme
 = 0;

4542 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 = g_B©ée.rgE√my[wE√myIndex].
posOrigöÆ
;

4544 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4545 
	`PAL_B©éeUpd©eFighãrs
();

4547 
	`PAL_B©éePo°A˘i⁄Check
(
TRUE
);

4548 
	`PAL_B©éeDñay
(8, 0, 
TRUE
);

4555 
WORD
 
wFømeBak
 = 
g_B©ée
.
rgPœyî
[
sT¨gë
].
wCuºítFøme
;

4557 
°r
 = (
SHORT
)
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wAâackSåígth
;

4558 
°r
 +(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wLevñ
 + 6) * 6;

4559 i‡(
°r
 < 0)

4561 
°r
 = 0;

4564 
def
 = 
	`PAL_GëPœyîDe„n£
(
wPœyîRﬁe
);

4566 i‡(
g_B©ée
.
rgPœyî
[
sT¨gë
].
fDe„ndög
)

4568 
def
 *= 2;

4571 
	`SOUND_Pœy
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wAâackSound
);

4573 
iCovîIndex
 = -1;

4575 
fAutoDe„nd
 = (
	`R™domL⁄g
(0, 16) >= 10);

4580 i‡((
	`PAL_IsPœyîDyög
(
wPœyîRﬁe
) ||

4581 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] > 0 ||

4582 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] > 0 ||

4583 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusP¨Æyzed
] > 0Ë&& 
fAutoDe„nd
)

4585 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwCovîedBy
[
wPœyîRﬁe
];

4587 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

4589 i‡(
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
 =
w
)

4591 
iCovîIndex
 = 
i
;

4596 i‡(
iCovîIndex
 != -1)

4598 i‡(
	`PAL_IsPœyîDyög
(
gpGlobÆs
->
rgP¨ty
[
iCovîIndex
].
wPœyîRﬁe
) ||

4599 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
iCovîIndex
].
wPœyîRﬁe
][
kSètusC⁄fu£d
] > 0 ||

4600 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
iCovîIndex
].
wPœyîRﬁe
][
kSètusSÀï
] > 0 ||

4601 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
iCovîIndex
].
wPœyîRﬁe
][
kSètusP¨Æyzed
] > 0)

4603 
iCovîIndex
 = -1;

4612 i‡(
iCovîIndex
 == -1 &&

4613 (
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] > 0 ||

4614 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] > 0 ||

4615 #ifde‡
PAL_CLASSIC


4616 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusP¨Æyzed
] > 0))

4618 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSlow
] > 0))

4621 
fAutoDe„nd
 = 
FALSE
;

4624 
i
 = 0; i < 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicFømes
; i++)

4626 
g_B©ée
.
rgE√my
[
wE√myIndex
].
wCuºítFøme
 =

4627 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wIdÀFømes
 + 
i
;

4628 
	`PAL_B©éeDñay
(2, 0, 
FALSE
);

4631 
i
 = 0; i < 3 - 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicFømes
; i++)

4633 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
) - 2;

4634 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
) - 1;

4635 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

4636 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4638 #ifde‡
PAL_WIN95


4639 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wA˘i⁄Sound
 != 0)

4642 
	`SOUND_Pœy
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wA˘i⁄Sound
);

4644 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4646 
ex
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) - 44;

4647 
ey
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) - 16;

4649 
iSound
 = 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wCÆlSound
;

4651 i‡(
iCovîIndex
 != -1)

4653 
iSound
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwCovîSound
[gpGlobÆs->
rgP¨ty
[
iCovîIndex
].
wPœyîRﬁe
];

4655 
g_B©ée
.
rgPœyî
[
iCovîIndex
].
wCuºítFøme
 = 3;

4657 
x
 = 
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) - 24;

4658 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) - 12;

4660 
g_B©ée
.
rgPœyî
[
iCovîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

4662 i‡(
fAutoDe„nd
)

4664 
g_B©ée
.
rgPœyî
[
sT¨gë
].
wCuºítFøme
 = 3;

4665 
iSound
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwCovîSound
[
wPœyîRﬁe
];

4668 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wAâackFømes
 == 0)

4670 
g_B©ée
.
rgE√my
[
wE√myIndex
].
wCuºítFøme
 =

4671 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wIdÀFømes
 - 1;

4673 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 = 
	`PAL_XY
(
ex
, 
ey
);

4675 
	`PAL_B©éeDñay
(2, 0, 
FALSE
);

4679 
i
 = 0; i <
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wAâackFømes
; i++)

4681 
g_B©ée
.
rgE√my
[
wE√myIndex
].
wCuºítFøme
 =

4682 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wIdÀFømes
 +

4683 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wMagicFømes
 + 
i
 - 1;

4685 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 = 
	`PAL_XY
(
ex
, 
ey
);

4687 
	`PAL_B©éeDñay
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wA˘WaôFømes
, 0, 
FALSE
);

4691 i‡(!
fAutoDe„nd
)

4693 
g_B©ée
.
rgPœyî
[
sT¨gë
].
wCuºítFøme
 = 4;

4695 
sDamage
 = 
	`PAL_CÆcPhysiˇlAâackDamage
(
°r
 + 
	`R™domL⁄g
(0, 2), 
def
, 2);

4696 
sDamage
 +
	`R™domL⁄g
(0, 1);

4698 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPrŸe˘
])

4700 
sDamage
 /= 2;

4703 i‡((
SHORT
)
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] < 
sDamage
)

4705 
sDamage
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
];

4708 i‡(
sDamage
 <= 0)

4710 
sDamage
 = 1;

4713 #i‚de‡
INVINCIBLE


4714 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] -
sDamage
;

4717 
	`PAL_B©éeDi•œySètCh™ge
();

4719 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 6;

4721 #ifde‡
PAL_WIN95


4722 i‡(
iSound
 != 0)

4725 
	`SOUND_Pœy
(
iSound
);

4727 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4729 
g_B©ée
.
rgPœyî
[
sT¨gë
].
iCﬁ‹Shi·
 = 0;

4731 i‡(
iCovîIndex
 != -1)

4733 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 =

4734 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
) - 10,

4735 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
) - 8);

4736 
g_B©ée
.
rgPœyî
[
iCovîIndex
].
pos
 =

4737 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
iCovîIndex
].
pos
) + 4,

4738 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
iCovîIndex
].
pos
) + 2);

4742 
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
 =

4743 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) + 8,

4744 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) + 4);

4747 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4749 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0)

4751 
	`SOUND_Pœy
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDóthSound
[
wPœyîRﬁe
]);

4752 
wFømeBak
 = 2;

4754 i‡(
	`PAL_IsPœyîDyög
(
wPœyîRﬁe
))

4756 
wFømeBak
 = 1;

4759 i‡(
iCovîIndex
 == -1)

4761 
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
 =

4762 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) + 2,

4763 
	`PAL_Y
(
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
) + 1);

4766 
	`PAL_B©éeDñay
(3, 0, 
FALSE
);

4768 
g_B©ée
.
rgE√my
[
wE√myIndex
].
pos
 = g_B©ée.rgE√my[wE√myIndex].
posOrigöÆ
;

4769 
g_B©ée
.
rgE√my
[
wE√myIndex
].
wCuºítFøme
 = 0;

4771 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

4773 
g_B©ée
.
rgPœyî
[
sT¨gë
].
wCuºítFøme
 = 
wFømeBak
;

4774 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

4776 
g_B©ée
.
rgPœyî
[
sT¨gë
].
pos
 = g_B©ée.rgPœyî[sT¨gë].
posOrigöÆ
;

4777 
	`PAL_B©éeDñay
(4, 0, 
TRUE
);

4779 
	`PAL_B©éeUpd©eFighãrs
();

4781 i‡(
iCovîIndex
 =-1 && !
fAutoDe„nd
 &&

4782 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wAâackEquivIãmR©e
 >
	`R™domL⁄g
(1, 10))

4784 
i
 = 
g_B©ée
.
rgE√my
[
wE√myIndex
].
e
.
wAâackEquivIãm
;

4785 
gpGlobÆs
->
g
.
rgObje˘
[
i
].
ôem
.
wS¸ùtOnU£
 =

4786 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
i
].
ôem
.
wS¸ùtOnU£
, 
wPœyîRﬁe
);

4789 
	`PAL_B©éePo°A˘i⁄Check
(
TRUE
);

4792 
íd
:

4793 #i‚de‡
PAL_CLASSIC


4797 i‡(!
g_B©ée
.
rgE√my
[
wE√myIndex
].
fDuÆMove
)

4799 
	`PAL_B©éeBackupSèt
();

4801 
i
 = 0; i < 
MAX_POISONS
; i++)

4803 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgPois⁄s
[
i
].
wPois⁄ID
 != 0)

4805 
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgPois⁄s
[
i
].
wPois⁄S¸ùt
 =

4806 
	`PAL_RunTriggîS¸ùt
(
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgPois⁄s
[
i
].
wPois⁄S¸ùt
, wEnemyIndex);

4810 i‡(
	`PAL_B©éeDi•œySètCh™ge
())

4812 
	`PAL_B©éeDñay
(6, 0, 
FALSE
);

4816 
	`PAL_B©éePo°A˘i⁄Check
(
FALSE
);

4821 
i
 = 0; i < 
kSètusAŒ
; i++)

4823 i‡(
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
i
] > 0)

4825 
g_B©ée
.
rgE√my
[
wE√myIndex
].
rgwSètus
[
i
]--;

4829 
i
 = 0;

4831 
	}
}

4833 
VOID


4834 
	$PAL_B©éeSãÆFromE√my
(

4835 
WORD
 
wT¨gë
,

4836 
WORD
 
wSãÆR©e


4855 
iPœyîIndex
 = 
g_B©ée
.
wMovögPœyîIndex
;

4856 
off£t
, 
x
, 
y
, 
i
;

4857 
s
[256] = "";

4859 
g_B©ée
.
rgPœyî
[
iPœyîIndex
].
wCuºítFøme
 = 10;

4860 
off£t
 = ((
INT
)
wT¨gë
 - 
iPœyîIndex
) * 8;

4862 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
wT¨gë
].
pos
Ë+ 64 - 
off£t
;

4863 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
wT¨gë
].
pos
Ë+ 20 - 
off£t
 / 2;

4865 
g_B©ée
.
rgPœyî
[
iPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

4867 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

4869 
i
 = 0; i < 5; i++)

4871 
x
 -
i
 + 8;

4872 
y
 -= 4;

4874 
g_B©ée
.
rgPœyî
[
iPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

4876 i‡(
i
 == 4)

4878 
g_B©ée
.
rgE√my
[
wT¨gë
].
iCﬁ‹Shi·
 = 6;

4881 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

4884 
g_B©ée
.
rgE√my
[
wT¨gë
].
iCﬁ‹Shi·
 = 0;

4885 
x
--;

4886 
g_B©ée
.
rgPœyî
[
iPœyîIndex
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

4887 
	`PAL_B©éeDñay
(3, 0, 
TRUE
);

4889 
g_B©ée
.
rgPœyî
[
iPœyîIndex
].
°©e
 = 
kFighãrWaô
;

4890 
g_B©ée
.
rgPœyî
[
iPœyîIndex
].
ÊTimeMëî
 = 0;

4891 
	`PAL_B©éeUpd©eFighãrs
();

4892 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

4894 i‡(
g_B©ée
.
rgE√my
[
wT¨gë
].
e
.
nSãÆIãm
 > 0 &&

4895 (
	`R™domL⁄g
(0, 10Ë<
wSãÆR©e
 || wStealRate == 0))

4897 i‡(
g_B©ée
.
rgE√my
[
wT¨gë
].
e
.
wSãÆIãm
 == 0)

4902 
c
 = 
g_B©ée
.
rgE√my
[
wT¨gë
].
e
.
nSãÆIãm
 / 
	`R™domL⁄g
(2, 3);

4903 
g_B©ée
.
rgE√my
[
wT¨gë
].
e
.
nSãÆIãm
 -
c
;

4904 
gpGlobÆs
->
dwCash
 +
c
;

4906 i‡(
c
 > 0)

4908 
	`°r˝y
(
s
, 
	`PAL_GëW‹d
(34));

4909 
	`°rˇt
(
s
, " ");

4910 
	`°rˇt
(
s
, 
	`va
("%d", 
c
));

4911 
	`°rˇt
(
s
, " ");

4912 
	`°rˇt
(
s
, 
	`PAL_GëW‹d
(10));

4920 
g_B©ée
.
rgE√my
[
wT¨gë
].
e
.
nSãÆIãm
--;

4921 
	`PAL_AddIãmToInvít‹y
(
g_B©ée
.
rgE√my
[
wT¨gë
].
e
.
wSãÆIãm
, 1);

4923 
	`°r˝y
(
s
, 
	`PAL_GëW‹d
(34));

4924 
	`°rˇt
(
s
, 
	`PAL_GëW‹d
(
g_B©ée
.
rgE√my
[
wT¨gë
].
e
.
wSãÆIãm
));

4927 i‡(
s
[0] != '\0')

4929 #ifde‡
PAL_CLASSIC


4930 
	`PAL_SèπDülog
(
kDülogCíãrWödow
, 0, 0, 
FALSE
);

4931 
	`PAL_ShowDülogText
(
s
);

4933 
	`PAL_B©éeUIShowText
(
s
, 800);

4937 
	}
}

4939 
VOID


4940 
	$PAL_B©éeSimuœãMagic
(

4941 
SHORT
 
sT¨gë
,

4942 
WORD
 
wMagicObje˘ID
,

4943 
WORD
 
wBa£Damage


4964 
SHORT
 
sDamage
;

4965 
i
, 
def
;

4967 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wMagicObje˘ID
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

4969 
sT¨gë
 = -1;

4971 i‡(
sT¨gë
 == -1)

4973 
sT¨gë
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

4979 #ifde‡
PAL_WIN95


4980 
	`PAL_B©éeShowPœyîOffMagicAnim
(0xFFFF, 
wMagicObje˘ID
, 
sT¨gë
, 
FALSE
);

4982 
	`PAL_B©éeShowPœyîOffMagicAnim
(0xFFFF, 
wMagicObje˘ID
, 
sT¨gë
);

4985 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[gpGlobÆs->g.
rgObje˘
[
wMagicObje˘ID
].
magic
.
wMagicNumbî
].
wBa£Damage
 > 0 ||

4986 
wBa£Damage
 > 0)

4988 i‡(
sT¨gë
 == -1)

4993 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

4995 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

5000 
def
 = (
SHORT
)
g_B©ée
.
rgE√my
[
i
].
e
.
wDe„n£
;

5001 
def
 +(
g_B©ée
.
rgE√my
[
i
].
e
.
wLevñ
 + 6) * 4;

5003 i‡(
def
 < 0)

5005 
def
 = 0;

5008 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
wBa£Damage
, (
WORD
)
def
, 
g_B©ée
.
rgE√my
[
i
].
e
.
wEÀmResi°™˚
,

5009 
g_B©ée
.
rgE√my
[
i
].
e
.
wPois⁄Resi°™˚
, 
wMagicObje˘ID
);

5011 i‡(
sDamage
 < 0)

5013 
sDamage
 = 0;

5016 
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 -
sDamage
;

5024 
def
 = (
SHORT
)
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wDe„n£
;

5025 
def
 +(
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wLevñ
 + 6) * 4;

5027 i‡(
def
 < 0)

5029 
def
 = 0;

5032 
sDamage
 = 
	`PAL_CÆcMagicDamage
(
wBa£Damage
, (
WORD
)
def
, 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wEÀmResi°™˚
,

5033 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wPois⁄Resi°™˚
, 
wMagicObje˘ID
);

5035 i‡(
sDamage
 < 0)

5037 
sDamage
 = 0;

5040 
g_B©ée
.
rgE√my
[
sT¨gë
].
e
.
wHó…h
 -
sDamage
;

5043 
	}
}

	@fight.h

22 #i‚de‡
FIGHT_H


23 
	#FIGHT_H


	)

25 #ifde‡
__˝lu•lus


30 
INT


31 
PAL_B©éeSñe˘AutoT¨gë
(

32 
VOID


35 #i‚de‡
PAL_CLASSIC


37 
VOID


38 
PAL_Upd©eTimeCh¨gögUnô
(

39 
VOID


42 
FLOAT


43 
PAL_GëTimeCh¨gögS≥ed
(

44 
WORD
 
wDexãrôy


49 
VOID


50 
PAL_B©éeUpd©eFighãrs
(

51 
VOID


54 
VOID


55 
PAL_B©éePœyîCheckRódy
(

56 
VOID


59 
VOID


60 
PAL_B©éeSèπFøme
(

61 
VOID


64 
VOID


65 
PAL_B©éeCommôA˘i⁄
(

66 
BOOL
 
fRïót


69 
VOID


70 
PAL_B©éePœyîPîf‹mA˘i⁄
(

71 
WORD
 
wPœyîIndex


74 
VOID


75 
PAL_B©éeE√myPîf‹mA˘i⁄
(

76 
WORD
 
wE√myIndex


79 #ifde‡
PAL_WIN95


81 
VOID


82 
PAL_B©éeShowPœyîPªMagicAnim
(

83 
WORD
 
wPœyîIndex
,

84 
WORD
 
wObje˘ID


89 
VOID


90 
PAL_B©éeShowPœyîPªMagicAnim
(

91 
WORD
 
wPœyîIndex
,

92 
BOOL
 
fSumm⁄


97 
VOID


98 
PAL_B©éeDñay
(

99 
WORD
 
wDuøti⁄
,

100 
WORD
 
wObje˘ID
,

101 
BOOL
 
fUpd©eGe°uª


104 
VOID


105 
PAL_B©éeSãÆFromE√my
(

106 
WORD
 
wT¨gë
,

107 
WORD
 
wSãÆR©e


110 
VOID


111 
PAL_B©éeSimuœãMagic
(

112 
SHORT
 
sT¨gë
,

113 
WORD
 
wMagicObje˘ID
,

114 
WORD
 
wBa£Damage


117 #ifde‡
__˝lu•lus


	@font.c

22 
	~"f⁄t.h
"

23 
	~"ascii.h
"

24 
	~"utû.h
"

26 #ifde‡
PAL_WIN95


89 
	~"gbf⁄t.h
"

90 
	~"big5f⁄t.h
"

92 
BOOL
 
	gfIsBig5
 = 
FALSE
;

94 
INT


95 
	$PAL_InôF⁄t
(

96 
VOID


113 
FILE
 *
Â
;

115 
Â
 = 
	`f›í
(
	`va
("%s%s",
PAL_PREFIX
,"word.dat"), "rb");

116 i‡(!
Â
)

121 
	`f£ek
(
Â
, 0x1E, 
SEEK_SET
);

122 i‡(
	`fgëc
(
Â
) == 0xAA)

124 
fIsBig5
 = 
TRUE
;

127 
	`f˛o£
(
Â
);

129 
	}
}

131 
VOID


132 
	$PAL_FªeF⁄t
(

133 
VOID


150 
	}
}

152 
BOOL
 
	$is_gb
(
b1
, 
b2
)

154 i‡(
b1
 < 0xa1 || b1 > 0xfe)

155  
FALSE
;

156 i‡(
b2
 < 0xa1 || b2 > 0xfe)

157  
FALSE
;

158  
TRUE
;

159 
	}
}

161 
VOID


162 
	$PAL_DøwCh¨OnSurÁ˚
(

163 
WORD
 
wCh¨
,

164 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

165 
PAL_POS
 
pos
,

166 
BYTE
 
bCﬁ‹


189 
i
, 
j
, 
dx
;

190 
x
 = 
	`PAL_X
(
pos
), 
y
 = 
	`PAL_Y
(pos);

191 
LPBYTE
 
pCh¨
;

192 
BYTE
 
ch1
, 
ch2
;

197 i‡(
ÕSurÁ˚
 =
NULL
)

205 
ch1
 = 
wCh¨
 & 0xff;

206 
ch2
 = 
wCh¨
 >> 8;

208 i‡(
fIsBig5
)

210 i‡(
ch2
 < 0xa1)

211 
pCh¨
 = &
big5f⁄t
[((
ch1
 - 0xA1Ë* 157 + 
ch2
 - 0x40) << 5] + 8;

213 
pCh¨
 = &
big5f⁄t
[((
ch1
 - 0xA1Ë* 157 + 63 + 
ch2
 - 0xA1) << 5] + 8;

217 i‡(!
	`is_gb
(
ch1
, 
ch2
))

221 
pCh¨
 = &
gbf⁄t
[((
ch1
 - 0xa1Ë* 94 + (
ch2
 - 0xa1)) * 32];

224 i‡(
pCh¨
 =
NULL
) ;

229 i‡(
y
 >
ÕSurÁ˚
->
h
) ;

231 
y
 *
ÕSurÁ˚
->
pôch
;

232 
i
 = 0; i < 32; i++)

234 
dx
 = 
x
 + ((
i
 & 1) << 3);

235 
j
 = 0; j < 8; j++)

237 i‡(
pCh¨
[
i
] & (1 << (7 - 
j
)))

239 i‡(
dx
 < 
ÕSurÁ˚
->
w
)

241 ((
LPBYTE
)(
ÕSurÁ˚
->
pixñs
))[
y
 + 
dx
] = 
bCﬁ‹
;

248 
dx
++;

250 
y
 +(
i
 & 1Ë* 
ÕSurÁ˚
->
pôch
;

251 i‡(
y
 / 
ÕSurÁ˚
->
pôch
 >ÕSurÁ˚->
h
)

256 
	}
}

258 
VOID


259 
	$PAL_DøwASCIICh¨OnSurÁ˚
(

260 
BYTE
 
bCh¨
,

261 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

262 
PAL_POS
 
pos
,

263 
BYTE
 
bCﬁ‹


286 
i
, 
j
, 
dx
;

287 
x
 = 
	`PAL_X
(
pos
), 
y
 = 
	`PAL_Y
(pos);

288 
LPBYTE
 
pCh¨
;

290 
pCh¨
 = &
iso_f⁄t
[()(
bCh¨
 & ~128) * 15];

295 i‡(
ÕSurÁ˚
 =
NULL
)

303 i‡(
y
 >
ÕSurÁ˚
->
h
) ;

305 
y
 *
ÕSurÁ˚
->
pôch
;

306 
i
 = 0; i < 15; i++)

308 
dx
 = 
x
;

309 
j
 = 0; j < 8; j++)

311 i‡(
pCh¨
[
i
] & (1 << 
j
))

313 i‡(
dx
 < 
ÕSurÁ˚
->
w
)

315 ((
LPBYTE
)(
ÕSurÁ˚
->
pixñs
))[
y
 + 
dx
] = 
bCﬁ‹
;

322 
dx
++;

324 
y
 +
ÕSurÁ˚
->
pôch
;

325 i‡(
y
 / 
ÕSurÁ˚
->
pôch
 >ÕSurÁ˚->
h
)

330 
	}
}

334 
	sègF⁄t


336 
LPWORD
 
	mÕBufCh¨
;

337 
LPBYTE
 
	mÕBufGlyph
;

338 
INT
 
	mnCh¨
;

339 } 
	tFONT
, *
	tLPFONT
;

341 
LPFONT
 
	ggpF⁄t
 = 
NULL
;

343 
INT


344 
	$PAL_InôF⁄t
(

345 
VOID


362 
FILE
 *
Â
;

364 i‡(
gpF⁄t
 !
NULL
)

372 
gpF⁄t
 = (
LPFONT
)
	`ˇŒoc
(1, (
FONT
));

373 i‡(
gpF⁄t
 =
NULL
)

381 
Â
 = 
	`UTIL_O≥nRequúedFûe
("wor16.asc");

386 
	`f£ek
(
Â
, 0, 
SEEK_END
);

387 
gpF⁄t
->
nCh¨
 = 
	`·ñl
(
Â
);

388 
gpF⁄t
->
nCh¨
 /= 2;

393 
gpF⁄t
->
ÕBufCh¨
 = (
LPWORD
)
	`ˇŒoc
(gpF⁄t->
nCh¨
, (
WORD
));

394 i‡(
gpF⁄t
->
ÕBufCh¨
 =
NULL
)

396 
	`‰ì
(
gpF⁄t
);

397 
gpF⁄t
 = 
NULL
;

401 
	`f£ek
(
Â
, 0, 
SEEK_SET
);

402 
	`‰ód
(
gpF⁄t
->
ÕBufCh¨
, (
WORD
), gpF⁄t->
nCh¨
, 
Â
);

407 
	`f˛o£
(
Â
);

412 
Â
 = 
	`UTIL_O≥nRequúedFûe
("wor16.fon");

414 
gpF⁄t
->
ÕBufGlyph
 = (
LPBYTE
)
	`ˇŒoc
(gpF⁄t->
nCh¨
, 30);

415 i‡(
gpF⁄t
->
ÕBufGlyph
 =
NULL
)

417 
	`‰ì
(
gpF⁄t
->
ÕBufCh¨
);

418 
	`‰ì
(
gpF⁄t
);

419 
gpF⁄t
 = 
NULL
;

426 
	`f£ek
(
Â
, 0x682, 
SEEK_SET
);

427 
	`‰ód
(
gpF⁄t
->
ÕBufGlyph
, 30, gpF⁄t->
nCh¨
, 
Â
);

428 
	`f˛o£
(
Â
);

431 
	}
}

433 
VOID


434 
	$PAL_FªeF⁄t
(

435 
VOID


452 i‡(
gpF⁄t
 !
NULL
)

454 
	`‰ì
(
gpF⁄t
->
ÕBufCh¨
);

455 
	`‰ì
(
gpF⁄t
->
ÕBufGlyph
);

456 
	`‰ì
(
gpF⁄t
);

459 
gpF⁄t
 = 
NULL
;

460 
	}
}

462 
VOID


463 
	$PAL_DøwCh¨OnSurÁ˚
(

464 
WORD
 
wCh¨
,

465 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

466 
PAL_POS
 
pos
,

467 
BYTE
 
bCﬁ‹


490 
i
, 
j
, 
dx
;

491 
x
 = 
	`PAL_X
(
pos
), 
y
 = 
	`PAL_Y
(pos);

492 
LPBYTE
 
pCh¨
;

497 i‡(
ÕSurÁ˚
 =
NULL
 || 
gpF⁄t
 == NULL)

505 
i
 = 0; i < 
gpF⁄t
->
nCh¨
; i++)

507 i‡(
gpF⁄t
->
ÕBufCh¨
[
i
] =
wCh¨
)

513 i‡(
i
 >
gpF⁄t
->
nCh¨
)

521 
pCh¨
 = 
gpF⁄t
->
ÕBufGlyph
 + 
i
 * 30;

526 
y
 *
ÕSurÁ˚
->
pôch
;

527 
i
 = 0; i < 30; i++)

529 
dx
 = 
x
 + ((
i
 & 1) << 3);

530 
j
 = 0; j < 8; j++)

532 i‡(
pCh¨
[
i
] & (1 << (7 - 
j
)))

534 ((
LPBYTE
)(
ÕSurÁ˚
->
pixñs
))[
y
 + 
dx
] = 
bCﬁ‹
;

536 
dx
++;

538 
y
 +(
i
 & 1Ë* 
ÕSurÁ˚
->
pôch
;

540 
	}
}

542 
VOID


543 
	$PAL_DøwASCIICh¨OnSurÁ˚
(

544 
BYTE
 
bCh¨
,

545 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

546 
PAL_POS
 
pos
,

547 
BYTE
 
bCﬁ‹


570 
i
, 
j
, 
dx
;

571 
x
 = 
	`PAL_X
(
pos
), 
y
 = 
	`PAL_Y
(pos);

572 
LPBYTE
 
pCh¨
 = &
iso_f⁄t
[()(
bCh¨
 & ~128) * 15];

577 i‡(
ÕSurÁ˚
 =
NULL
)

585 
y
 *
ÕSurÁ˚
->
pôch
;

586 
i
 = 0; i < 15; i++)

588 
dx
 = 
x
;

589 
j
 = 0; j < 8; j++)

591 i‡(
pCh¨
[
i
] & (1 << 
j
))

593 ((
LPBYTE
)(
ÕSurÁ˚
->
pixñs
))[
y
 + 
dx
] = 
bCﬁ‹
;

595 
dx
++;

597 
y
 +
ÕSurÁ˚
->
pôch
;

599 
	}
}

	@font.h

22 #i‚de‡
FONT_H


23 
	#FONT_H


	)

25 
	~"comm⁄.h
"

26 
	~"∑lcomm⁄.h
"

28 #ifde‡
__˝lu•lus


33 
INT


34 
PAL_InôF⁄t
(

35 
VOID


38 
VOID


39 
PAL_FªeF⁄t
(

40 
VOID


43 
VOID


44 
PAL_DøwCh¨OnSurÁ˚
(

45 
WORD
 
wCh¨
,

46 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

47 
PAL_POS
 
pos
,

48 
BYTE
 
bCﬁ‹


51 
VOID


52 
PAL_DøwASCIICh¨OnSurÁ˚
(

53 
BYTE
 
bCh¨
,

54 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

55 
PAL_POS
 
pos
,

56 
BYTE
 
bCﬁ‹


59 #ifde‡
__˝lu•lus


	@game.c

22 
	~"maö.h
"

24 
VOID


25 
	$PAL_GameSèπ
(

26 
VOID


43 
	`PAL_SëLﬂdFœgs
(
kLﬂdS˚√
 | 
kLﬂdPœyîS¥ôe
);

45 i‡(!
gpGlobÆs
->
fE¡îögS˚√
)

50 
	`PAL_PœyMUS
(
gpGlobÆs
->
wNumMusic
, 
TRUE
, 1);

53 
gpGlobÆs
->
fNìdToFadeIn
 = 
TRUE
;

54 
gpGlobÆs
->
dwFømeNum
 = 0;

55 
	}
}

57 
VOID


58 
	$PAL_GameMaö
(

59 
VOID


76 
DWORD
 
dwTime
;

81 
gpGlobÆs
->
bCuºítSaveSlŸ
 = (
BYTE
)
	`PAL_O≥nögMíu
();

86 
	`PAL_InôGameD©a
(
gpGlobÆs
->
bCuºítSaveSlŸ
);

91 
dwTime
 = 
	`SDL_GëTicks
();

92 
TRUE
)

97 i‡(
gpGlobÆs
->
fGameSèπ
)

99 
	`PAL_GameSèπ
();

100 
gpGlobÆs
->
fGameSèπ
 = 
FALSE
;

106 
	`PAL_LﬂdResour˚s
();

111 
	`PAL_CÀ¨KeySèã
();

116 
	`PAL_Pro˚ssEvít
();

117 
	`SDL_GëTicks
(Ë<
dwTime
)

119 
	`PAL_Pro˚ssEvít
();

120 
	`SDL_Dñay
(1);

126 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

131 
	`PAL_SèπFøme
();

133 
	}
}

	@game.h

22 #i‚de‡
GAME_H


23 
	#GAME_H


	)

25 
	~"comm⁄.h
"

27 
	#FPS
 10

	)

28 
	#FRAME_TIME
 (1000 / 
FPS
)

	)

30 
VOID


31 
PAL_GameMaö
(

32 
VOID


	@gbfont.h

27 
	ggbf⁄t
[] = {

	@getopt.c

32 
	~<°dio.h
>

33 
	~<°dlib.h
>

34 
	~<°rög.h
>

35 
	~"gë›t.h
"

37 
	g›ãº
 = 1;

38 
	g›töd
 = 1;

39 
	g›t›t
;

40 
	g›åe£t
;

41 *
	g›èrg
;

43 
	#BADCH
 ()'?'

	)

44 
	#BADARG
 ()':'

	)

45 
	#EMSG
 ""

	)

52 
	$gë›t
(

53 
«rgc
,

54 * c⁄° *
«rgv
,

55 c⁄° *
o°r


58 *
∂a˚
 = 
EMSG
;

59 *
ﬁi
;

61 i‡(
›åe£t
 || !*
∂a˚
)

64 
›åe£t
 = 0;

65 i‡(
›töd
 >
«rgc
 || *(
∂a˚
 = 
«rgv
[optind]) != '-')

67 
∂a˚
 = 
EMSG
;

70 i‡(
∂a˚
[1] && *++place == '-')

73 ++
›töd
;

74 
∂a˚
 = 
EMSG
;

80 i‡((
›t›t
 = ()*
∂a˚
++) == ()':' ||

81 !(
ﬁi
 = 
	`°rchr
(
o°r
, 
›t›t
)))

87 i‡(
›t›t
 == ()'-')

89 i‡(!*
∂a˚
)

90 ++
›töd
;

91 i‡(
›ãº
 && *
o°r
 != ':')

92 
	`Ârötf
(
°dîr
, "%s: iŒegÆ o±i⁄ -- %c\n", 
«rgv
[0], 
›t›t
);

93  
BADCH
;

96 i‡(*++
ﬁi
 != ':')

99 
›èrg
 = 
NULL
;

100 i‡(!*
∂a˚
)

101 ++
›töd
;

106 i‡(*
∂a˚
)

107 
›èrg
 = 
∂a˚
;

108 i‡(
«rgc
 <++
›töd
)

111 
∂a˚
 = 
EMSG
;

112 i‡(*
o°r
 == ':')

113  
BADARG
;

114 i‡(
›ãº
)

116 
	`Ârötf
(
°dîr
, "%s: optionÑequiresánárgument -- %c\n",

117 
«rgv
[0], 
›t›t
);

119  
BADCH
;

122 
›èrg
 = 
«rgv
[
›töd
];

123 
∂a˚
 = 
EMSG
;

124 ++
›töd
;

127  
›t›t
;

128 
	}
}

	@getopt.h

32 #i‚de‡
GETOPT_H


33 
	#GETOPT_H


	)

35 #ifde‡
__˝lu•lus


40 
	#›ãº
 
PAL_›ãº


	)

41 
	#›töd
 
PAL_›töd


	)

42 
	#›t›t
 
PAL_›t›t


	)

43 
	#›åe£t
 
PAL_›åe£t


	)

44 
	#›èrg
 
PAL_›èrg


	)

45 
	#gë›t
 
PAL_gë›t


	)

47 
›ãº
;

48 
›töd
;

49 
›t›t
;

50 
›åe£t
;

51 *
›èrg
;

54 
gë›t
(

55 
«rgc
,

56 * c⁄° *
«rgv
,

57 c⁄° *
o°r


60 #ifde‡
__˝lu•lus


	@global.c

22 
	~"maö.h
"

24 
LPGLOBALVARS
 
	ggpGlobÆs
 = 
NULL
;

26 
	#DO_BYTESWAP
(
buf
, 
size
) \

27 
i
 = 0; i < (
size
) / 2; i++) \

29 ((
LPWORD
)(
buf
))[
i
] = 
	`SWAP16
(((LPWORD)(buf))[i]); \

30 }

	)

32 
	#LOAD_DATA
(
buf
, 
size
, 
chunknum
, 
Â
) \

34 
	`PAL_MKFRódChunk
((
LPBYTE
)(
buf
), (
size
), (
chunknum
), (
Â
)); \

35 
	`DO_BYTESWAP
(
buf
, 
size
); \

36 }

	)

38 
INT


39 
	$PAL_InôGlobÆs
(

40 
VOID


57 i‡(
gpGlobÆs
 =
NULL
)

59 
gpGlobÆs
 = (
LPGLOBALVARS
)
	`ˇŒoc
(1, (
GLOBALVARS
));

60 i‡(
gpGlobÆs
 =
NULL
)

69 
gpGlobÆs
->
f
.
ÂFBP
 = 
	`UTIL_O≥nRequúedFûe
("fbp.mkf");

70 
gpGlobÆs
->
f
.
ÂMGO
 = 
	`UTIL_O≥nRequúedFûe
("mgo.mkf");

71 
gpGlobÆs
->
f
.
ÂBALL
 = 
	`UTIL_O≥nRequúedFûe
("ball.mkf");

72 
gpGlobÆs
->
f
.
ÂDATA
 = 
	`UTIL_O≥nRequúedFûe
("data.mkf");

73 
gpGlobÆs
->
f
.
ÂF
 = 
	`UTIL_O≥nRequúedFûe
("f.mkf");

74 
gpGlobÆs
->
f
.
ÂFIRE
 = 
	`UTIL_O≥nRequúedFûe
("fire.mkf");

75 
gpGlobÆs
->
f
.
ÂRGM
 = 
	`UTIL_O≥nRequúedFûe
("rgm.mkf");

76 
gpGlobÆs
->
f
.
ÂSSS
 = 
	`UTIL_O≥nRequúedFûe
("sss.mkf");

77 #i‚de‡
PAL_WIN95


78 
gpGlobÆs
->
ÕObje˘Desc
 = 
	`PAL_LﬂdObje˘Desc
(
	`va
("%s%s", 
PAL_PREFIX
, "desc.dat"));

80 
gpGlobÆs
->
bCuºítSaveSlŸ
 = 1;

83 
	}
}

85 
VOID


86 
	$PAL_FªeGlobÆs
(

87 
VOID


104 i‡(
gpGlobÆs
 !
NULL
)

109 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂFBP
);

110 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂMGO
);

111 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂBALL
);

112 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂDATA
);

113 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂF
);

114 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂFIRE
);

115 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂRGM
);

116 
	`UTIL_Clo£Fûe
(
gpGlobÆs
->
f
.
ÂSSS
);

121 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
);

122 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
);

123 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgSt‹e
);

124 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgE√my
);

125 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgE√myTóm
);

126 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgMagic
);

127 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgB©éeFõld
);

128 
	`‰ì
(
gpGlobÆs
->
g
.
ÕrgLevñUpMagic
);

133 #i‚de‡
PAL_WIN95


134 
	`PAL_FªeObje˘Desc
(
gpGlobÆs
->
ÕObje˘Desc
);

139 
	`‰ì
(
gpGlobÆs
);

142 
gpGlobÆs
 = 
NULL
;

143 
	}
}

146 
VOID


147 
	$PAL_RódGlobÆGameD©a
(

148 
VOID


165 c⁄° 
GAMEDATA
 *
p
 = &
gpGlobÆs
->
g
;

166 
i
;

168 
	`LOAD_DATA
(
p
->
ÕrgS¸ùtE¡ry
,Ö->
nS¸ùtE¡ry
 * (
SCRIPTENTRY
),

169 4, 
gpGlobÆs
->
f
.
ÂSSS
);

171 
	`LOAD_DATA
(
p
->
ÕrgSt‹e
,Ö->
nSt‹e
 * (
STORE
), 0, 
gpGlobÆs
->
f
.
ÂDATA
);

172 
	`LOAD_DATA
(
p
->
ÕrgE√my
,Ö->
nE√my
 * (
ENEMY
), 1, 
gpGlobÆs
->
f
.
ÂDATA
);

173 
	`LOAD_DATA
(
p
->
ÕrgE√myTóm
,Ö->
nE√myTóm
 * (
ENEMYTEAM
),

174 2, 
gpGlobÆs
->
f
.
ÂDATA
);

175 
	`LOAD_DATA
(
p
->
ÕrgMagic
,Ö->
nMagic
 * (
MAGIC
), 4, 
gpGlobÆs
->
f
.
ÂDATA
);

176 
	`LOAD_DATA
(
p
->
ÕrgB©éeFõld
,Ö->
nB©éeFõld
 * (
BATTLEFIELD
),

177 5, 
gpGlobÆs
->
f
.
ÂDATA
);

178 
	`LOAD_DATA
(
p
->
ÕrgLevñUpMagic
,Ö->
nLevñUpMagic
 * (
LEVELUPMAGIC_ALL
),

179 6, 
gpGlobÆs
->
f
.
ÂDATA
);

180 
	`LOAD_DATA
(
p
->
rgwB©éeEf„˘Index
, (p->rgwBattleEffectIndex),

181 11, 
gpGlobÆs
->
f
.
ÂDATA
);

182 
	`PAL_MKFRódChunk
((
LPBYTE
)&(
p
->
E√myPos
), (p->EnemyPos),

183 13, 
gpGlobÆs
->
f
.
ÂDATA
);

184 
	`DO_BYTESWAP
(&(
p
->
E√myPos
), (p->EnemyPos));

185 
	`PAL_MKFRódChunk
((
LPBYTE
)(
p
->
rgLevñUpExp
), (p->rgLevelUpExp),

186 14, 
gpGlobÆs
->
f
.
ÂDATA
);

187 
	`DO_BYTESWAP
(
p
->
rgLevñUpExp
, (p->rgLevelUpExp));

188 
	}
}

190 
VOID


191 
	$PAL_InôGlobÆGameD©a
(

192 
VOID


209 
Àn
;

211 
	#PAL_DOALLOCATE
(
Â
, 
num
, 
ty≥
, 
Õty≥
, 
±r
, 
n
) \

213 
Àn
 = 
	`PAL_MKFGëChunkSize
(
num
, 
Â
); \

214 
±r
 = (
Õty≥
)
	`mÆloc
(
Àn
); \

215 
n
 = 
Àn
 / (
ty≥
); \

216 i‡(
±r
 =
NULL
) \

218 
	`Tîmö©eOnEº‹
("PAL_InitGlobalGameData(): MemoryállocationÉrror!"); \

220 }

	)

225 i‡(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
 =
NULL
)

227 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂSSS
, 0, 
EVENTOBJECT
, 
LPEVENTOBJECT
,

228 
gpGlobÆs
->
g
.
ÕrgEvítObje˘
, gpGlobÆs->g.
nEvítObje˘
);

230 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂSSS
, 4, 
SCRIPTENTRY
, 
LPSCRIPTENTRY
,

231 
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
, gpGlobÆs->g.
nS¸ùtE¡ry
);

233 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂDATA
, 0, 
STORE
, 
LPSTORE
,

234 
gpGlobÆs
->
g
.
ÕrgSt‹e
, gpGlobÆs->g.
nSt‹e
);

236 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂDATA
, 1, 
ENEMY
, 
LPENEMY
,

237 
gpGlobÆs
->
g
.
ÕrgE√my
, gpGlobÆs->g.
nE√my
);

239 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂDATA
, 2, 
ENEMYTEAM
, 
LPENEMYTEAM
,

240 
gpGlobÆs
->
g
.
ÕrgE√myTóm
, gpGlobÆs->g.
nE√myTóm
);

242 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂDATA
, 4, 
MAGIC
, 
LPMAGIC
,

243 
gpGlobÆs
->
g
.
ÕrgMagic
, gpGlobÆs->g.
nMagic
);

245 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂDATA
, 5, 
BATTLEFIELD
, 
LPBATTLEFIELD
,

246 
gpGlobÆs
->
g
.
ÕrgB©éeFõld
, gpGlobÆs->g.
nB©éeFõld
);

248 
	`PAL_DOALLOCATE
(
gpGlobÆs
->
f
.
ÂDATA
, 6, 
LEVELUPMAGIC_ALL
, 
LPLEVELUPMAGIC_ALL
,

249 
gpGlobÆs
->
g
.
ÕrgLevñUpMagic
, gpGlobÆs->g.
nLevñUpMagic
);

251 
	`PAL_RódGlobÆGameD©a
();

253 #unde‡
PAL_DOALLOCATE


254 
	}
}

256 
VOID


257 
	$PAL_LﬂdDeÁu…Game
(

258 
VOID


275 c⁄° 
GAMEDATA
 *
p
 = &
gpGlobÆs
->
g
;

276 
UINT32
 
i
;

281 
	`LOAD_DATA
(
p
->
ÕrgEvítObje˘
,Ö->
nEvítObje˘
 * (
EVENTOBJECT
),

282 0, 
gpGlobÆs
->
f
.
ÂSSS
);

283 
	`PAL_MKFRódChunk
((
LPBYTE
)(
p
->
rgS˚√
), ’->rgS˚√), 1, 
gpGlobÆs
->
f
.
ÂSSS
);

284 
	`DO_BYTESWAP
(
p
->
rgS˚√
, (p->rgScene));

285 
	`PAL_MKFRódChunk
((
LPBYTE
)(
p
->
rgObje˘
), ’->rgObje˘), 2, 
gpGlobÆs
->
f
.
ÂSSS
);

286 
	`DO_BYTESWAP
(
p
->
rgObje˘
, (p->rgObject));

288 
	`PAL_MKFRódChunk
((
LPBYTE
)(&(
p
->
PœyîRﬁes
)), (
PLAYERROLES
),

289 3, 
gpGlobÆs
->
f
.
ÂDATA
);

290 
	`DO_BYTESWAP
(&(
p
->
PœyîRﬁes
), (
PLAYERROLES
));

295 
gpGlobÆs
->
dwCash
 = 0;

296 
gpGlobÆs
->
wNumMusic
 = 0;

297 
gpGlobÆs
->
wNumPÆëã
 = 0;

298 
gpGlobÆs
->
wNumS˚√
 = 1;

299 
gpGlobÆs
->
wCﬁÀ˘VÆue
 = 0;

300 
gpGlobÆs
->
fNightPÆëã
 = 
FALSE
;

301 
gpGlobÆs
->
wMaxP¨tyMembîIndex
 = 0;

302 
gpGlobÆs
->
võwp‹t
 = 
	`PAL_XY
(0, 0);

303 
gpGlobÆs
->
wLayî
 = 0;

304 
gpGlobÆs
->
wCha£R™ge
 = 1;

305 #i‚de‡
PAL_CLASSIC


306 
gpGlobÆs
->
bB©éeS≥ed
 = 2;

309 
	`mem£t
(
gpGlobÆs
->
rgInvít‹y
, 0, (gpGlobals->rgInventory));

310 
	`mem£t
(
gpGlobÆs
->
rgPois⁄Sètus
, 0, (gpGlobals->rgPoisonStatus));

311 
	`mem£t
(
gpGlobÆs
->
rgP¨ty
, 0, (gpGlobals->rgParty));

312 
	`mem£t
(
gpGlobÆs
->
rgTøû
, 0, (gpGlobals->rgTrail));

313 
	`mem£t
(&(
gpGlobÆs
->
Exp
), 0, (gpGlobals->Exp));

315 
i
 = 0; i < 
MAX_PLAYER_ROLES
; i++)

317 
gpGlobÆs
->
Exp
.
rgPrim¨yExp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

318 
gpGlobÆs
->
Exp
.
rgHó…hExp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

319 
gpGlobÆs
->
Exp
.
rgMagicExp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

320 
gpGlobÆs
->
Exp
.
rgAâackExp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

321 
gpGlobÆs
->
Exp
.
rgMagicPowîExp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

322 
gpGlobÆs
->
Exp
.
rgDe„n£Exp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

323 
gpGlobÆs
->
Exp
.
rgDexãrôyExp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

324 
gpGlobÆs
->
Exp
.
rgFÀeExp
[
i
].
wLevñ
 = 
p
->
PœyîRﬁes
.
rgwLevñ
[i];

327 
gpGlobÆs
->
fE¡îögS˚√
 = 
TRUE
;

328 
	}
}

330 
INT


331 
	$PAL_LﬂdGame
(

332 
LPCSTR
 
szFûeName


349 
FILE
 *
Â
;

350 
PAL_LARGE
 
SAVEDGAME
 
s
;

351 
UINT32
 
i
;

356 
Â
 = 
	`f›í
(
szFûeName
, "rb");

357 i‡(
Â
 =
NULL
)

365 
	`‰ód
(&
s
, (
SAVEDGAME
), 1, 
Â
);

366 
	`f˛o£
(
Â
);

371 
	`DO_BYTESWAP
(&
s
, (
SAVEDGAME
));

376 #i‡
SDL_BYTEORDER
 =
SDL_BIG_ENDIAN


377 
s
.
dwCash
 = ((s.dwCash >> 16) | (s.dwCash << 16));

383 
gpGlobÆs
->
võwp‹t
 = 
	`PAL_XY
(
s
.
wVõwp‹tX
, s.
wVõwp‹tY
);

384 
gpGlobÆs
->
wMaxP¨tyMembîIndex
 = 
s
.
nP¨tyMembî
;

385 
gpGlobÆs
->
wNumS˚√
 = 
s
.wNumScene;

386 
gpGlobÆs
->
fNightPÆëã
 = (
s
.
wPÆëãOff£t
 != 0);

387 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 = 
s
.wPartyDirection;

388 
gpGlobÆs
->
wNumMusic
 = 
s
.wNumMusic;

389 
gpGlobÆs
->
wNumB©éeMusic
 = 
s
.wNumBattleMusic;

390 
gpGlobÆs
->
wNumB©éeFõld
 = 
s
.wNumBattleField;

391 
gpGlobÆs
->
wS¸ìnWave
 = 
s
.wScreenWave;

392 
gpGlobÆs
->
sWaveProgªssi⁄
 = 0;

393 
gpGlobÆs
->
wCﬁÀ˘VÆue
 = 
s
.wCollectValue;

394 
gpGlobÆs
->
wLayî
 = 
s
.wLayer;

395 
gpGlobÆs
->
wCha£R™ge
 = 
s
.wChaseRange;

396 
gpGlobÆs
->
wCha£•ìdCh™geCy˛es
 = 
s
.wChasespeedChangeCycles;

397 
gpGlobÆs
->
nFﬁlowî
 = 
s
.nFollower;

398 
gpGlobÆs
->
dwCash
 = 
s
.dwCash;

399 #i‚de‡
PAL_CLASSIC


400 
gpGlobÆs
->
bB©éeS≥ed
 = 
s
.
wB©éeS≥ed
;

401 i‡(
gpGlobÆs
->
bB©éeS≥ed
 > 5 || gpGlobals->bBattleSpeed == 0)

403 
gpGlobÆs
->
bB©éeS≥ed
 = 2;

407 
	`mem˝y
(
gpGlobÆs
->
rgP¨ty
, 
s
.rgParty, (gpGlobals->rgParty));

408 
	`mem˝y
(
gpGlobÆs
->
rgTøû
, 
s
.rgTrail, (gpGlobals->rgTrail));

409 
gpGlobÆs
->
Exp
 = 
s
.Exp;

410 
gpGlobÆs
->
g
.
PœyîRﬁes
 = 
s
.PlayerRoles;

411 
	`mem£t
(
gpGlobÆs
->
rgPois⁄Sètus
, 0, (gpGlobals->rgPoisonStatus));

412 
	`mem˝y
(
gpGlobÆs
->
rgInvít‹y
, 
s
.rgInventory, (gpGlobals->rgInventory));

413 
	`mem˝y
(
gpGlobÆs
->
g
.
rgS˚√
, 
s
.rgScene, (gpGlobals->g.rgScene));

414 
	`mem˝y
(
gpGlobÆs
->
g
.
rgObje˘
, 
s
.rgObject, (gpGlobals->g.rgObject));

415 
	`mem˝y
(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
, 
s
.
rgEvítObje˘
,

416 (
EVENTOBJECT
Ë* 
gpGlobÆs
->
g
.
nEvítObje˘
);

418 
gpGlobÆs
->
fE¡îögS˚√
 = 
FALSE
;

420 
	`PAL_Com¥essInvít‹y
();

426 
	}
}

428 
VOID


429 
	$PAL_SaveGame
(

430 
LPCSTR
 
szFûeName
,

431 
WORD
 
wSavedTimes


448 
FILE
 *
Â
;

449 
PAL_LARGE
 
SAVEDGAME
 
s
;

450 
UINT32
 
i
;

455 
s
.
wVõwp‹tX
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
);

456 
s
.
wVõwp‹tY
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
);

457 
s
.
nP¨tyMembî
 = 
gpGlobÆs
->
wMaxP¨tyMembîIndex
;

458 
s
.
wNumS˚√
 = 
gpGlobÆs
->wNumScene;

459 
s
.
wPÆëãOff£t
 = (
gpGlobÆs
->
fNightPÆëã
 ? 0x180 : 0);

460 
s
.
wP¨tyDúe˘i⁄
 = 
gpGlobÆs
->wPartyDirection;

461 
s
.
wNumMusic
 = 
gpGlobÆs
->wNumMusic;

462 
s
.
wNumB©éeMusic
 = 
gpGlobÆs
->wNumBattleMusic;

463 
s
.
wNumB©éeFõld
 = 
gpGlobÆs
->wNumBattleField;

464 
s
.
wS¸ìnWave
 = 
gpGlobÆs
->wScreenWave;

465 
s
.
wCﬁÀ˘VÆue
 = 
gpGlobÆs
->wCollectValue;

466 
s
.
wLayî
 = 
gpGlobÆs
->wLayer;

467 
s
.
wCha£R™ge
 = 
gpGlobÆs
->wChaseRange;

468 
s
.
wCha£•ìdCh™geCy˛es
 = 
gpGlobÆs
->wChasespeedChangeCycles;

469 
s
.
nFﬁlowî
 = 
gpGlobÆs
->nFollower;

470 
s
.
dwCash
 = 
gpGlobÆs
->dwCash;

471 #i‚de‡
PAL_CLASSIC


472 
s
.
wB©éeS≥ed
 = 
gpGlobÆs
->
bB©éeS≥ed
;

474 
s
.
wB©éeS≥ed
 = 2;

477 
	`mem˝y
(
s
.
rgP¨ty
, 
gpGlobÆs
->rgParty, (gpGlobals->rgParty));

478 
	`mem˝y
(
s
.
rgTøû
, 
gpGlobÆs
->rgTrail, (gpGlobals->rgTrail));

479 
s
.
Exp
 = 
gpGlobÆs
->Exp;

480 
s
.
PœyîRﬁes
 = 
gpGlobÆs
->
g
.PlayerRoles;

481 
	`mem˝y
(
s
.
rgPois⁄Sètus
, 
gpGlobÆs
->rgPoisonStatus, (gpGlobals->rgPoisonStatus));

482 
	`mem˝y
(
s
.
rgInvít‹y
, 
gpGlobÆs
->rgInventory, (gpGlobals->rgInventory));

483 
	`mem˝y
(
s
.
rgS˚√
, 
gpGlobÆs
->
g
.rgScene, (gpGlobals->g.rgScene));

484 
	`mem˝y
(
s
.
rgObje˘
, 
gpGlobÆs
->
g
.rgObject, (gpGlobals->g.rgObject));

485 
	`mem˝y
(
s
.
rgEvítObje˘
, 
gpGlobÆs
->
g
.
ÕrgEvítObje˘
,

486 (
EVENTOBJECT
Ë* 
gpGlobÆs
->
g
.
nEvítObje˘
);

488 
s
.
wSavedTimes
 = wSavedTimes;

493 
	`DO_BYTESWAP
(&
s
, (
SAVEDGAME
));

498 #i‡
SDL_BYTEORDER
 =
SDL_BIG_ENDIAN


499 
s
.
dwCash
 = ((s.dwCash >> 16) | (s.dwCash << 16));

505 
Â
 = 
	`f›í
(
szFûeName
, "wb");

506 i‡(
Â
 =
NULL
)

511 
i
 = 
	`PAL_MKFGëChunkSize
(0, 
gpGlobÆs
->
f
.
ÂSSS
);

512 
i
 +(
SAVEDGAME
Ë- (
EVENTOBJECT
Ë* 
MAX_EVENT_OBJECTS
;

514 
	`fwrôe
(&
s
, 
i
, 1, 
Â
);

515 
	`f˛o£
(
Â
);

516 
	}
}

518 
VOID


519 
	$PAL_InôGameD©a
(

520 
INT
 
iSaveSlŸ


537 
	`PAL_InôGlobÆGameD©a
();

539 
gpGlobÆs
->
bCuºítSaveSlŸ
 = (
BYTE
)
iSaveSlŸ
;

544 i‡(
iSaveSlŸ
 =0 || 
	`PAL_LﬂdGame
(
	`va
("%s%d%s", 
PAL_SAVE_PREFIX
, iSaveSlot, ".rpg")) != 0)

549 
	`PAL_LﬂdDeÁu…Game
();

552 
gpGlobÆs
->
fGameSèπ
 = 
TRUE
;

553 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

554 
gpGlobÆs
->
iCurInvMíuIãm
 = 0;

555 
gpGlobÆs
->
fInB©ée
 = 
FALSE
;

557 
	`mem£t
(
gpGlobÆs
->
rgPœyîSètus
, 0, (gpGlobals->rgPlayerStatus));

559 
	`PAL_Upd©eEquùmíts
();

560 
	}
}

562 
BOOL


563 
	$PAL_AddIãmToInvít‹y
(

564 
WORD
 
wObje˘ID
,

565 
INT
 
iNum


584 
ödex
;

585 
BOOL
 
fFound
;

587 i‡(
wObje˘ID
 == 0)

589  
FALSE
;

592 i‡(
iNum
 == 0)

594 
iNum
 = 1;

597 
ödex
 = 0;

598 
fFound
 = 
FALSE
;

603 
ödex
 < 
MAX_INVENTORY
)

605 i‡(
gpGlobÆs
->
rgInvít‹y
[
ödex
].
wIãm
 =
wObje˘ID
)

607 
fFound
 = 
TRUE
;

610 i‡(
gpGlobÆs
->
rgInvít‹y
[
ödex
].
wIãm
 == 0)

614 
ödex
++;

617 i‡(
iNum
 > 0)

622 i‡(
ödex
 >
MAX_INVENTORY
)

627  
FALSE
;

630 i‡(
fFound
)

632 
gpGlobÆs
->
rgInvít‹y
[
ödex
].
nAmou¡
 +
iNum
;

633 i‡(
gpGlobÆs
->
rgInvít‹y
[
ödex
].
nAmou¡
 > 99)

638 
gpGlobÆs
->
rgInvít‹y
[
ödex
].
nAmou¡
 = 99;

643 
gpGlobÆs
->
rgInvít‹y
[
ödex
].
wIãm
 = 
wObje˘ID
;

644 i‡(
iNum
 > 99)

646 
iNum
 = 99;

648 
gpGlobÆs
->
rgInvít‹y
[
ödex
].
nAmou¡
 = 
iNum
;

651  
TRUE
;

658 i‡(
fFound
)

660 
iNum
 *= -1;

661 i‡(
gpGlobÆs
->
rgInvít‹y
[
ödex
].
nAmou¡
 < 
iNum
)

666 
gpGlobÆs
->
rgInvít‹y
[
ödex
].
nAmou¡
 = 0;

667  
FALSE
;

670 
gpGlobÆs
->
rgInvít‹y
[
ödex
].
nAmou¡
 -
iNum
;

671  
TRUE
;

674  
FALSE
;

676 
	}
}

678 
INT


679 
	$PAL_GëIãmAmou¡
(

680 
WORD
 
wIãm


697 
i
;

699 
i
 = 0; i < 
MAX_INVENTORY
; i++)

701 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
 == 0)

706 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
 == wItem)

708  
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
;

713 
	}
}

715 
VOID


716 
	$PAL_Com¥essInvít‹y
(

717 
VOID


734 
i
, 
j
;

736 
j
 = 0;

738 
i
 = 0; i < 
MAX_INVENTORY
; i++)

740 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
 == 0)

745 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
 > 0)

747 
gpGlobÆs
->
rgInvít‹y
[
j
] = gpGlobÆs->rgInvít‹y[
i
];

748 
j
++;

752 ; 
j
 < 
MAX_INVENTORY
; j++)

754 
gpGlobÆs
->
rgInvít‹y
[
j
].
nAmou¡
 = 0;

755 
gpGlobÆs
->
rgInvít‹y
[
j
].
nAmou¡InU£
 = 0;

756 
gpGlobÆs
->
rgInvít‹y
[
j
].
wIãm
 = 0;

758 
	}
}

760 
BOOL


761 
	$PAL_In¸ó£HPMP
(

762 
WORD
 
wPœyîRﬁe
,

763 
SHORT
 
sHP
,

764 
SHORT
 
sMP


787 
BOOL
 
fSuc˚ss
 = 
FALSE
;

792 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] > 0)

797 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] +
sHP
;

799 i‡((
SHORT
)(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
]) < 0)

801 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] = 0;

803 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] >

804 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
wPœyîRﬁe
])

806 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] =

807 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
wPœyîRﬁe
];

813 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] +
sMP
;

815 i‡((
SHORT
)(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
]) < 0)

817 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] = 0;

819 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] >

820 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
wPœyîRﬁe
])

822 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] =

823 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
wPœyîRﬁe
];

826 
fSuc˚ss
 = 
TRUE
;

829  
fSuc˚ss
;

830 
	}
}

832 
VOID


833 
	$PAL_Upd©eEquùmíts
(

834 
VOID


851 
i
, 
j
;

852 
WORD
 
w
;

854 
	`mem£t
(&(
gpGlobÆs
->
rgEquùmítEf„˘
), 0, (gpGlobals->rgEquipmentEffect));

856 
i
 = 0; i < 
MAX_PLAYER_ROLES
; i++)

858 
j
 = 0; j < 
MAX_PLAYER_EQUIPMENTS
; j++)

860 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
j
][
i
];

862 i‡(
w
 != 0)

864 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
ôem
.
wS¸ùtOnEquù
 =

865 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
ôem
.
wS¸ùtOnEquù
, (
WORD
)
i
);

869 
	}
}

871 
VOID


872 
	$PAL_RemoveEquùmítEf„˘
(

873 
WORD
 
wPœyîRﬁe
,

874 
WORD
 
wEquùP¨t


893 
WORD
 *
p
;

894 
i
, 
j
;

896 
p
 = (
WORD
 *)(&
gpGlobÆs
->
rgEquùmítEf„˘
[
wEquùP¨t
]);

898 
i
 = 0; i < (
PLAYERROLES
Ë/ (
PLAYERS
); i++)

900 
p
[
i
 * 
MAX_PLAYER_ROLES
 + 
wPœyîRﬁe
] = 0;

906 i‡(
wEquùP¨t
 =
kBodyP¨tH™d
)

911 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusDuÆAâack
] = 0;

913 i‡(
wEquùP¨t
 =
kBodyP¨tWór
)

918 
i
 = 0; i <()
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

920 i‡(
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
 == wPlayerRole)

922 
wPœyîRﬁe
 = 
i
;

927 i‡(
i
 <()
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

929 
j
 = 0;

931 
i
 = 0; i < 
MAX_POISONS
; i++)

933 
WORD
 
w
 = 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
wPœyîRﬁe
].
wPois⁄ID
;

935 i‡(
w
 == 0)

940 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wPois⁄Levñ
 < 99)

942 
gpGlobÆs
->
rgPois⁄Sètus
[
j
][
wPœyîRﬁe
] =

943 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
wPœyîRﬁe
];

944 
j
++;

948 
j
 < 
MAX_POISONS
)

950 
gpGlobÆs
->
rgPois⁄Sètus
[
j
][
wPœyîRﬁe
].
wPois⁄ID
 = 0;

951 
gpGlobÆs
->
rgPois⁄Sètus
[
j
][
wPœyîRﬁe
].
wPois⁄S¸ùt
 = 0;

952 
j
++;

956 
	}
}

958 
VOID


959 
	$PAL_AddPois⁄F‹Pœyî
(

960 
WORD
 
wPœyîRﬁe
,

961 
WORD
 
wPois⁄ID


980 
i
, 
ödex
;

981 
WORD
 
w
;

983 
ödex
 = 0; index <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; index++)

985 i‡(
gpGlobÆs
->
rgP¨ty
[
ödex
].
wPœyîRﬁe
 == wPlayerRole)

991 i‡(
ödex
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

996 
i
 = 0; i < 
MAX_POISONS
; i++)

998 
w
 = 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
;

1000 i‡(
w
 == 0)

1005 i‡(
w
 =
wPois⁄ID
)

1011 i‡(
i
 < 
MAX_POISONS
)

1013 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
 = wPoisonID;

1014 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄S¸ùt
 =

1015 
gpGlobÆs
->
g
.
rgObje˘
[
wPois⁄ID
].
pois⁄
.
wPœyîS¸ùt
;

1017 
	}
}

1019 
VOID


1020 
	$PAL_CuªPois⁄ByKöd
(

1021 
WORD
 
wPœyîRﬁe
,

1022 
WORD
 
wPois⁄ID


1041 
i
, 
ödex
;

1043 
ödex
 = 0; index <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; index++)

1045 i‡(
gpGlobÆs
->
rgP¨ty
[
ödex
].
wPœyîRﬁe
 == wPlayerRole)

1051 i‡(
ödex
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1056 
i
 = 0; i < 
MAX_POISONS
; i++)

1058 i‡(
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
 == wPoisonID)

1060 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
 = 0;

1061 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄S¸ùt
 = 0;

1064 
	}
}

1066 
VOID


1067 
	$PAL_CuªPois⁄ByLevñ
(

1068 
WORD
 
wPœyîRﬁe
,

1069 
WORD
 
wMaxLevñ


1088 
i
, 
ödex
;

1089 
WORD
 
w
;

1091 
ödex
 = 0; index <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; index++)

1093 i‡(
gpGlobÆs
->
rgP¨ty
[
ödex
].
wPœyîRﬁe
 == wPlayerRole)

1099 i‡(
ödex
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1104 
i
 = 0; i < 
MAX_POISONS
; i++)

1106 
w
 = 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
;

1108 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wPois⁄Levñ
 <
wMaxLevñ
)

1110 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
 = 0;

1111 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄S¸ùt
 = 0;

1114 
	}
}

1116 
BOOL


1117 
	$PAL_IsPœyîPois⁄edByLevñ
(

1118 
WORD
 
wPœyîRﬁe
,

1119 
WORD
 
wMöLevñ


1139 
i
, 
ödex
;

1140 
WORD
 
w
;

1142 
ödex
 = 0; index <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; index++)

1144 i‡(
gpGlobÆs
->
rgP¨ty
[
ödex
].
wPœyîRﬁe
 == wPlayerRole)

1150 i‡(
ödex
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1152  
FALSE
;

1155 
i
 = 0; i < 
MAX_POISONS
; i++)

1157 
w
 = 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
;

1158 
w
 = 
gpGlobÆs
->
g
.
rgObje˘
[w].
pois⁄
.
wPois⁄Levñ
;

1160 i‡(
w
 >= 99)

1168 i‡(
w
 >
wMöLevñ
)

1170  
TRUE
;

1174  
FALSE
;

1175 
	}
}

1177 
BOOL


1178 
	$PAL_IsPœyîPois⁄edByKöd
(

1179 
WORD
 
wPœyîRﬁe
,

1180 
WORD
 
wPois⁄ID


1200 
i
, 
ödex
;

1202 
ödex
 = 0; index <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; index++)

1204 i‡(
gpGlobÆs
->
rgP¨ty
[
ödex
].
wPœyîRﬁe
 == wPlayerRole)

1210 i‡(
ödex
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1212  
FALSE
;

1215 
i
 = 0; i < 
MAX_POISONS
; i++)

1217 i‡(
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
ödex
].
wPois⁄ID
 == wPoisonID)

1219  
TRUE
;

1223  
FALSE
;

1224 
	}
}

1226 
WORD


1227 
	$PAL_GëPœyîAâackSåígth
(

1228 
WORD
 
wPœyîRﬁe


1245 
WORD
 
w
;

1246 
i
;

1248 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwAâackSåígth
[
wPœyîRﬁe
];

1250 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1252 
w
 +
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwAâackSåígth
[
wPœyîRﬁe
];

1255  
w
;

1256 
	}
}

1258 
WORD


1259 
	$PAL_GëPœyîMagicSåígth
(

1260 
WORD
 
wPœyîRﬁe


1277 
WORD
 
w
;

1278 
i
;

1280 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagicSåígth
[
wPœyîRﬁe
];

1282 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1284 
w
 +
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwMagicSåígth
[
wPœyîRﬁe
];

1287  
w
;

1288 
	}
}

1290 
WORD


1291 
	$PAL_GëPœyîDe„n£
(

1292 
WORD
 
wPœyîRﬁe


1309 
WORD
 
w
;

1310 
i
;

1312 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDe„n£
[
wPœyîRﬁe
];

1314 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1316 
w
 +
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwDe„n£
[
wPœyîRﬁe
];

1319  
w
;

1320 
	}
}

1322 
WORD


1323 
	$PAL_GëPœyîDexãrôy
(

1324 
WORD
 
wPœyîRﬁe


1341 
WORD
 
w
;

1342 
i
;

1344 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDexãrôy
[
wPœyîRﬁe
];

1346 #ifde‡
PAL_CLASSIC


1347 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1349 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
 - 1; i++)

1352 
w
 +
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwDexãrôy
[
wPœyîRﬁe
];

1355  
w
;

1356 
	}
}

1358 
WORD


1359 
	$PAL_GëPœyîFÀeR©e
(

1360 
WORD
 
wPœyîRﬁe


1377 
WORD
 
w
;

1378 
i
;

1380 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwFÀeR©e
[
wPœyîRﬁe
];

1382 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1384 
w
 +
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwFÀeR©e
[
wPœyîRﬁe
];

1387  
w
;

1388 
	}
}

1390 
WORD


1391 
	$PAL_GëPœyîPois⁄Resi°™˚
(

1392 
WORD
 
wPœyîRﬁe


1409 
WORD
 
w
;

1410 
i
;

1412 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwPois⁄Resi°™˚
[
wPœyîRﬁe
];

1414 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1416 
w
 +
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwPois⁄Resi°™˚
[
wPœyîRﬁe
];

1419 i‡(
w
 > 100)

1421 
w
 = 100;

1424  
w
;

1425 
	}
}

1427 
WORD


1428 
	$PAL_GëPœyîEÀmíèlResi°™˚
(

1429 
WORD
 
wPœyîRﬁe
,

1430 
INT
 
iAârib


1450 
WORD
 
w
;

1451 
i
;

1453 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEÀmíèlResi°™˚
[
iAârib
][
wPœyîRﬁe
];

1455 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1457 
w
 +
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwEÀmíèlResi°™˚
[
iAârib
][
wPœyîRﬁe
];

1460 i‡(
w
 > 100)

1462 
w
 = 100;

1465  
w
;

1466 
	}
}

1468 
WORD


1469 
	$PAL_GëPœyîB©éeS¥ôe
(

1470 
WORD
 
wPœyîRﬁe


1487 
i
;

1488 
WORD
 
w
;

1490 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwS¥ôeNumInB©ée
[
wPœyîRﬁe
];

1492 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1494 i‡(
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwS¥ôeNumInB©ée
[
wPœyîRﬁe
] != 0)

1496 
w
 = 
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwS¥ôeNumInB©ée
[
wPœyîRﬁe
];

1500  
w
;

1501 
	}
}

1503 
WORD


1504 
	$PAL_GëPœyîCo›î©iveMagic
(

1505 
WORD
 
wPœyîRﬁe


1522 
i
;

1523 
WORD
 
w
;

1525 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwCo›î©iveMagic
[
wPœyîRﬁe
];

1527 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1529 i‡(
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwCo›î©iveMagic
[
wPœyîRﬁe
] != 0)

1531 
w
 = 
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwCo›î©iveMagic
[
wPœyîRﬁe
];

1535  
w
;

1536 
	}
}

1538 
BOOL


1539 
	$PAL_PœyîC™AâackAŒ
(

1540 
WORD
 
wPœyîRﬁe


1557 
i
;

1558 
BOOL
 
f
;

1560 
f
 = 
FALSE
;

1562 
i
 = 0; i <
MAX_PLAYER_EQUIPMENTS
; i++)

1564 i‡(
gpGlobÆs
->
rgEquùmítEf„˘
[
i
].
rgwAâackAŒ
[
wPœyîRﬁe
] != 0)

1566 
f
 = 
TRUE
;

1571  
f
;

1572 
	}
}

1574 
BOOL


1575 
	$PAL_AddMagic
(

1576 
WORD
 
wPœyîRﬁe
,

1577 
WORD
 
wMagic


1596 
i
;

1598 
i
 = 0; i < 
MAX_PLAYER_MAGICS
; i++)

1600 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
] =
wMagic
)

1605  
FALSE
;

1609 
i
 = 0; i < 
MAX_PLAYER_MAGICS
; i++)

1611 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
] == 0)

1617 i‡(
i
 >
MAX_PLAYER_MAGICS
)

1622  
FALSE
;

1625 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
] = 
wMagic
;

1626  
TRUE
;

1627 
	}
}

1629 
VOID


1630 
	$PAL_RemoveMagic
(

1631 
WORD
 
wPœyîRﬁe
,

1632 
WORD
 
wMagic


1651 
i
;

1653 
i
 = 0; i < 
MAX_PLAYER_MAGICS
; i++)

1655 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
] =
wMagic
)

1657 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
] = 0;

1661 
	}
}

1663 
VOID


1664 
	$PAL_SëPœyîSètus
(

1665 
WORD
 
wPœyîRﬁe
,

1666 
WORD
 
wSètusID
,

1667 
WORD
 
wNumRound


1688 #i‚de‡
PAL_CLASSIC


1689 i‡(
wSètusID
 =
kSètusSlow
 &&

1690 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusHa°e
] > 0)

1695 
	`PAL_RemovePœyîSètus
(
wPœyîRﬁe
, 
kSètusHa°e
);

1699 i‡(
wSètusID
 =
kSètusHa°e
 &&

1700 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSlow
] > 0)

1705 
	`PAL_RemovePœyîSètus
(
wPœyîRﬁe
, 
kSètusSlow
);

1710 
wSètusID
)

1712 
kSètusC⁄fu£d
:

1713 
kSètusSÀï
:

1714 
kSètusSûí˚
:

1715 #ifde‡
PAL_CLASSIC


1716 
kSètusP¨Æyzed
:

1718 
kSètusSlow
:

1723 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] != 0 &&

1724 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] == 0)

1726 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] = 
wNumRound
;

1730 
kSètusPuµë
:

1734 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0 &&

1735 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] < 
wNumRound
)

1737 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] = 
wNumRound
;

1741 
kSètusBøvîy
:

1742 
kSètusPrŸe˘
:

1743 
kSètusDuÆAâack
:

1744 
kSètusHa°e
:

1748 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] != 0 &&

1749 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] < 
wNumRound
)

1751 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] = 
wNumRound
;

1756 
	`as£π
(
FALSE
);

1759 
	}
}

1761 
VOID


1762 
	$PAL_RemovePœyîSètus
(

1763 
WORD
 
wPœyîRﬁe
,

1764 
WORD
 
wSètusID


1786 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] <= 999)

1788 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
wSètusID
] = 0;

1790 
	}
}

1792 
VOID


1793 
	$PAL_CÀ¨AŒPœyîSètus
(

1794 
VOID


1811 
i
, 
j
;

1813 
i
 = 0; i < 
MAX_PLAYER_ROLES
; i++)

1815 
j
 = 0; j < 
kSètusAŒ
; j++)

1820 i‡(
gpGlobÆs
->
rgPœyîSètus
[
i
][
j
] <= 999)

1822 
gpGlobÆs
->
rgPœyîSètus
[
i
][
j
] = 0;

1826 
	}
}

1828 
VOID


1829 
	$PAL_PœyîLevñUp
(

1830 
WORD
 
wPœyîRﬁe
,

1831 
WORD
 
wNumLevñ


1850 
WORD
 
i
;

1855 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
wPœyîRﬁe
] +
wNumLevñ
;

1856 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
wPœyîRﬁe
] > 
MAX_LEVELS
)

1858 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
wPœyîRﬁe
] = 
MAX_LEVELS
;

1861 
i
 = 0; i < 
wNumLevñ
; i++)

1866 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
wPœyîRﬁe
] +10 + 
	`R™domL⁄g
(0, 8);

1867 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
wPœyîRﬁe
] +8 + 
	`R™domL⁄g
(0, 6);

1868 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwAâackSåígth
[
wPœyîRﬁe
] +4 + 
	`R™domL⁄g
(0, 1);

1869 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagicSåígth
[
wPœyîRﬁe
] +4 + 
	`R™domL⁄g
(0, 1);

1870 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDe„n£
[
wPœyîRﬁe
] +2 + 
	`R™domL⁄g
(0, 1);

1871 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDexãrôy
[
wPœyîRﬁe
] +2 + 
	`R™domL⁄g
(0, 1);

1872 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwFÀeR©e
[
wPœyîRﬁe
] += 2;

1875 
	#STAT_LIMIT
(
t
Ë{ i‡(—Ë> 999Ë—Ë999; }

	)

1876 
	`STAT_LIMIT
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
wPœyîRﬁe
]);

1877 
	`STAT_LIMIT
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
wPœyîRﬁe
]);

1878 
	`STAT_LIMIT
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwAâackSåígth
[
wPœyîRﬁe
]);

1879 
	`STAT_LIMIT
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagicSåígth
[
wPœyîRﬁe
]);

1880 
	`STAT_LIMIT
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDe„n£
[
wPœyîRﬁe
]);

1881 
	`STAT_LIMIT
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwDexãrôy
[
wPœyîRﬁe
]);

1882 
	`STAT_LIMIT
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwFÀeR©e
[
wPœyîRﬁe
]);

1883 #unde‡
STAT_LIMIT


1888 
gpGlobÆs
->
Exp
.
rgPrim¨yExp
[
wPœyîRﬁe
].
wExp
 = 0;

1889 
gpGlobÆs
->
Exp
.
rgPrim¨yExp
[
wPœyîRﬁe
].
wLevñ
 =

1890 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
wPœyîRﬁe
];

1891 
	}
}

	@global.h

22 #i‚de‡
GLOBAL_H


23 
	#GLOBAL_H


	)

25 
	~"comm⁄.h
"

26 
	~"m≠.h
"

27 
	~"ui.h
"

29 #ifde‡
__˝lu•lus


44 
	#MAX_PLAYERS_IN_PARTY
 3

	)

47 
	#MAX_PLAYER_ROLES
 6

	)

50 
	#MAX_PLAYABLE_PLAYER_ROLES
 5

	)

53 
	#MAX_INVENTORY
 256

	)

56 
	#MAX_STORE_ITEM
 9

	)

59 
	#NUM_MAGIC_ELEMENTAL
 5

	)

62 
	#MAX_ENEMIES_IN_TEAM
 5

	)

65 
	#MAX_PLAYER_EQUIPMENTS
 6

	)

68 
	#MAX_PLAYER_MAGICS
 32

	)

71 
	#MAX_SCENES
 300

	)

74 
	#MAX_OBJECTS
 600

	)

78 
	#MAX_EVENT_OBJECTS
 5500

	)

81 
	#MAX_POISONS
 16

	)

84 
	#MAX_LEVELS
 99

	)

87 
	eègSTATUS


89 
kSètusC⁄fu£d
 = 0,

90 #ifde‡
PAL_CLASSIC


91 
kSètusP¨Æyzed
,

93 
kSètusSlow
,

95 
kSètusSÀï
,

96 
kSètusSûí˚
,

97 
kSètusPuµë
,

98 
kSètusBøvîy
,

99 
kSètusPrŸe˘
,

100 
kSètusHa°e
,

101 
kSètusDuÆAâack
,

102 
kSètusAŒ


103 } 
	tSTATUS
;

105 #i‚de‡
PAL_CLASSIC


106 
	#kSètusP¨Æyzed
 
kSètusSÀï


	)

110 
	eègBODYPART


112 
kBodyP¨tHód
 = 0,

113 
kBodyP¨tBody
,

114 
kBodyP¨tShouldî
,

115 
kBodyP¨tH™d
,

116 
kBodyP¨tFìt
,

117 
kBodyP¨tWór
,

118 
kBodyP¨tExåa
,

119 } 
	tBODYPART
;

122 
	eègOBJECTSTATE


124 
kObjSèãHiddí
 = 0,

125 
kObjSèãN‹mÆ
 = 1,

126 
kObjSèãBlockî
 = 2

127 } 
	tOBJECTSTATE
, *
	tLPOBJECTSTATE
;

129 
	eègTRIGGERMODE


131 
kTriggîN⁄e
 = 0,

132 
kTriggîSórchNór
 = 1,

133 
kTriggîSórchN‹mÆ
 = 2,

134 
kTriggîSórchF¨
 = 3,

135 
kTriggîTouchNór
 = 4,

136 
kTriggîTouchN‹mÆ
 = 5,

137 
kTriggîTouchF¨
 = 6,

138 
kTriggîTouchF¨thî
 = 7,

139 
kTriggîTouchF¨the°
 = 8

140 } 
	tTRIGGERMODE
;

142 
	sègEVENTOBJECT


144 
SHORT
 
sV™ishTime
;

145 
WORD
 
x
;

146 
WORD
 
y
;

147 
SHORT
 
sLayî
;

148 
WORD
 
wTriggîS¸ùt
;

149 
WORD
 
wAutoS¸ùt
;

150 
SHORT
 
sSèã
;

151 
WORD
 
wTriggîMode
;

152 
WORD
 
wS¥ôeNum
;

153 
USHORT
 
nS¥ôeFømes
;

154 
WORD
 
wDúe˘i⁄
;

155 
WORD
 
wCuºítFømeNum
;

156 
USHORT
 
nS¸ùtIdÀFøme
;

157 
WORD
 
wS¥ôePåOff£t
;

158 
USHORT
 
nS¥ôeFømesAuto
;

159 
WORD
 
wS¸ùtIdÀFømeCou¡Auto
;

160 } 
	tEVENTOBJECT
, *
	tLPEVENTOBJECT
;

162 
	sègSCENE


164 
WORD
 
wM≠Num
;

165 
WORD
 
wS¸ùtOnE¡î
;

166 
WORD
 
wS¸ùtOnTñï‹t
;

167 
WORD
 
wEvítObje˘Index
;

168 } 
	tSCENE
, *
	tLPSCENE
;

173 
	sègOBJECT_PLAYER


175 
WORD
 
wRe£rved
[2];

176 
WORD
 
wS¸ùtOnFrõndDóth
;

177 
WORD
 
wS¸ùtOnDyög
;

178 } 
	tOBJECT_PLAYER
;

180 
	eègITEMFLAG


182 
kIãmFœgUßbÀ
 = (1 << 0),

183 
kIãmFœgEquùabÀ
 = (1 << 1),

184 
kIãmFœgThrowabÀ
 = (1 << 2),

185 
kIãmFœgC⁄sumög
 = (1 << 3),

186 
kIãmFœgAµlyToAŒ
 = (1 << 4),

187 
kIãmFœgSñœbÀ
 = (1 << 5),

188 
kIãmFœgEquùabÀByPœyîRﬁe_Fú°
 = (1 << 6)

189 } 
	tITEMFLAG
;

192 
	sègOBJECT_ITEM


194 
WORD
 
wBôm≠
;

195 
WORD
 
wPri˚
;

196 
WORD
 
wS¸ùtOnU£
;

197 
WORD
 
wS¸ùtOnEquù
;

198 
WORD
 
wS¸ùtOnThrow
;

199 #ifde‡
PAL_WIN95


200 
WORD
 
wS¸ùtDesc
;

202 
WORD
 
wFœgs
;

203 } 
	tOBJECT_ITEM
;

205 
	eègMAGICFLAG


207 
kMagicFœgUßbÀOutsideB©ée
 = (1 << 0),

208 
kMagicFœgUßbÀInB©ée
 = (1 << 1),

209 
kMagicFœgUßbÀToE√my
 = (1 << 3),

210 
kMagicFœgAµlyToAŒ
 = (1 << 4),

211 } 
	tMAGICFLAG
;

214 
	sègOBJECT_MAGIC


216 
WORD
 
wMagicNumbî
;

217 
WORD
 
wRe£rved1
;

218 
WORD
 
wS¸ùtOnSuc˚ss
;

219 
WORD
 
wS¸ùtOnU£
;

220 #ifde‡
PAL_WIN95


221 
WORD
 
wS¸ùtDesc
;

223 
WORD
 
wRe£rved2
;

224 
WORD
 
wFœgs
;

225 } 
	tOBJECT_MAGIC
;

228 
	sègOBJECT_ENEMY


230 
WORD
 
wE√myID
;

232 
WORD
 
wResi°™˚ToS‹˚ry
;

233 
WORD
 
wS¸ùtOnTu∫Sèπ
;

234 
WORD
 
wS¸ùtOnB©éeEnd
;

235 
WORD
 
wS¸ùtOnRódy
;

236 } 
	tOBJECT_ENEMY
;

239 
	sègOBJECT_POISON


241 
WORD
 
wPois⁄Levñ
;

242 
WORD
 
wCﬁ‹
;

243 
WORD
 
wPœyîS¸ùt
;

244 
WORD
 
wRe£rved
;

245 
WORD
 
wE√myS¸ùt
;

246 } 
	tOBJECT_POISON
;

248 
	uègOBJECT


250 #ifde‡
PAL_WIN95


251 
WORD
 
rgwD©a
[7];

253 
WORD
 
rgwD©a
[6];

255 
OBJECT_PLAYER
 
∂ayî
;

256 
OBJECT_ITEM
 
ôem
;

257 
OBJECT_MAGIC
 
magic
;

258 
OBJECT_ENEMY
 
íemy
;

259 
OBJECT_POISON
 
pois⁄
;

260 } 
	tOBJECT
, *
	tLPOBJECT
;

262 
	sègSCRIPTENTRY


264 
WORD
 
wO≥øti⁄
;

265 
WORD
 
rgwO≥ønd
[3];

266 } 
	tSCRIPTENTRY
, *
	tLPSCRIPTENTRY
;

268 
	sègINVENTORY


270 
WORD
 
wIãm
;

271 
USHORT
 
nAmou¡
;

272 
USHORT
 
nAmou¡InU£
;

273 } 
	tINVENTORY
, *
	tLPINVENTORY
;

275 
	sègSTORE


277 
WORD
 
rgwIãms
[
MAX_STORE_ITEM
];

278 } 
	tSTORE
, *
	tLPSTORE
;

280 
	sègENEMY


282 
WORD
 
wIdÀFømes
;

283 
WORD
 
wMagicFømes
;

284 
WORD
 
wAâackFømes
;

285 
WORD
 
wIdÀAnimS≥ed
;

286 
WORD
 
wA˘WaôFømes
;

287 
WORD
 
wYPosOff£t
;

288 
WORD
 
wAâackSound
;

289 
WORD
 
wA˘i⁄Sound
;

290 
WORD
 
wMagicSound
;

291 
WORD
 
wDóthSound
;

292 
WORD
 
wCÆlSound
;

293 
WORD
 
wHó…h
;

294 
WORD
 
wExp
;

295 
WORD
 
wCash
;

296 
WORD
 
wLevñ
;

297 
WORD
 
wMagic
;

298 
WORD
 
wMagicR©e
;

299 
WORD
 
wAâackEquivIãm
;

300 
WORD
 
wAâackEquivIãmR©e
;

301 
WORD
 
wSãÆIãm
;

302 
USHORT
 
nSãÆIãm
;

303 
WORD
 
wAâackSåígth
;

304 
WORD
 
wMagicSåígth
;

305 
WORD
 
wDe„n£
;

306 
WORD
 
wDexãrôy
;

307 
WORD
 
wFÀeR©e
;

308 
WORD
 
wPois⁄Resi°™˚
;

309 
WORD
 
wEÀmResi°™˚
[
NUM_MAGIC_ELEMENTAL
];

310 
WORD
 
wPhysiˇlResi°™˚
;

311 
WORD
 
wDuÆMove
;

312 
WORD
 
wCﬁÀ˘VÆue
;

313 } 
	tENEMY
, *
	tLPENEMY
;

315 
	sègENEMYTEAM


317 
WORD
 
rgwE√my
[
MAX_ENEMIES_IN_TEAM
];

318 } 
	tENEMYTEAM
, *
	tLPENEMYTEAM
;

320 
WORD
 
	tPLAYERS
[
MAX_PLAYER_ROLES
];

322 
	sègPLAYERROLES


324 
PLAYERS
 
rgwAv©¨
;

325 
PLAYERS
 
rgwS¥ôeNumInB©ée
;

326 
PLAYERS
 
rgwS¥ôeNum
;

327 
PLAYERS
 
rgwName
;

328 
PLAYERS
 
rgwAâackAŒ
;

329 
PLAYERS
 
rgwUnknown1
;

330 
PLAYERS
 
rgwLevñ
;

331 
PLAYERS
 
rgwMaxHP
;

332 
PLAYERS
 
rgwMaxMP
;

333 
PLAYERS
 
rgwHP
;

334 
PLAYERS
 
rgwMP
;

335 
WORD
 
rgwEquùmít
[
MAX_PLAYER_EQUIPMENTS
][
MAX_PLAYER_ROLES
];

336 
PLAYERS
 
rgwAâackSåígth
;

337 
PLAYERS
 
rgwMagicSåígth
;

338 
PLAYERS
 
rgwDe„n£
;

339 
PLAYERS
 
rgwDexãrôy
;

340 
PLAYERS
 
rgwFÀeR©e
;

341 
PLAYERS
 
rgwPois⁄Resi°™˚
;

342 
WORD
 
rgwEÀmíèlResi°™˚
[
NUM_MAGIC_ELEMENTAL
][
MAX_PLAYER_ROLES
];

343 
PLAYERS
 
rgwUnknown2
;

344 
PLAYERS
 
rgwUnknown3
;

345 
PLAYERS
 
rgwUnknown4
;

346 
PLAYERS
 
rgwCovîedBy
;

347 
WORD
 
rgwMagic
[
MAX_PLAYER_MAGICS
][
MAX_PLAYER_ROLES
];

348 
PLAYERS
 
rgwWÆkFømes
;

349 
PLAYERS
 
rgwCo›î©iveMagic
;

350 
PLAYERS
 
rgwUnknown5
;

351 
PLAYERS
 
rgwUnknown6
;

352 
PLAYERS
 
rgwDóthSound
;

353 
PLAYERS
 
rgwAâackSound
;

354 
PLAYERS
 
rgwWóp⁄Sound
;

355 
PLAYERS
 
rgwCrôiˇlSound
;

356 
PLAYERS
 
rgwMagicSound
;

357 
PLAYERS
 
rgwCovîSound
;

358 
PLAYERS
 
rgwDyögSound
;

359 } 
	tPLAYERROLES
, *
	tLPPLAYERROLES
;

361 
	eègMAGIC_TYPE


363 
kMagicTy≥N‹mÆ
 = 0,

364 
kMagicTy≥AâackAŒ
 = 1,

365 
kMagicTy≥AâackWhﬁe
 = 2,

366 
kMagicTy≥AâackFõld
 = 3,

367 
kMagicTy≥AµlyToPœyî
 = 4,

368 
kMagicTy≥AµlyToP¨ty
 = 5,

369 
kMagicTy≥Tøn˚
 = 8,

370 
kMagicTy≥Summ⁄
 = 9,

371 } 
	tMAGIC_TYPE
;

373 
	sègMAGIC


375 
WORD
 
wEf„˘
;

376 
WORD
 
wTy≥
;

377 
WORD
 
wXOff£t
;

378 
WORD
 
wYOff£t
;

379 
WORD
 
wSumm⁄Ef„˘
;

380 
WORD
 
wS≥ed
;

381 
WORD
 
wKìpEf„˘
;

382 
WORD
 
wSoundDñay
;

383 
WORD
 
wEf„˘Times
;

384 
WORD
 
wShake
;

385 
WORD
 
wWave
;

386 
WORD
 
wUnknown
;

387 
WORD
 
wCo°MP
;

388 
WORD
 
wBa£Damage
;

389 
WORD
 
wEÀmíèl
;

390 
WORD
 
wSound
;

391 } 
	tMAGIC
, *
	tLPMAGIC
;

393 
	sègBATTLEFIELD


395 
WORD
 
wS¸ìnWave
;

396 
SHORT
 
rgsMagicEf„˘
[
NUM_MAGIC_ELEMENTAL
];

397 } 
	tBATTLEFIELD
, *
	tLPBATTLEFIELD
;

400 
	sègLEVELUPMAGIC


402 
WORD
 
wLevñ
;

403 
WORD
 
wMagic
;

404 } 
	tLEVELUPMAGIC
, *
	tLPLEVELUPMAGIC
;

406 
	sègLEVELUPMAGIC_ALL


408 
LEVELUPMAGIC
 
m
[
MAX_PLAYABLE_PLAYER_ROLES
];

409 } 
	tLEVELUPMAGIC_ALL
, *
	tLPLEVELUPMAGIC_ALL
;

411 
	sègENEMYPOS


414 
WORD
 
x
;

415 
WORD
 
y
;

416 } 
pos
[
MAX_ENEMIES_IN_TEAM
][MAX_ENEMIES_IN_TEAM];

417 } 
	tENEMYPOS
, *
	tLPENEMYPOS
;

420 
WORD
 
	tLEVELUPEXP
, *
	tLPLEVELUPEXP
;

423 
	sègGAMEDATA


425 
LPEVENTOBJECT
 
ÕrgEvítObje˘
;

426 
nEvítObje˘
;

428 
SCENE
 
rgS˚√
[
MAX_SCENES
];

429 
OBJECT
 
rgObje˘
[
MAX_OBJECTS
];

431 
LPSCRIPTENTRY
 
ÕrgS¸ùtE¡ry
;

432 
nS¸ùtE¡ry
;

434 
LPSTORE
 
ÕrgSt‹e
;

435 
nSt‹e
;

437 
LPENEMY
 
ÕrgE√my
;

438 
nE√my
;

440 
LPENEMYTEAM
 
ÕrgE√myTóm
;

441 
nE√myTóm
;

443 
PLAYERROLES
 
PœyîRﬁes
;

445 
LPMAGIC
 
ÕrgMagic
;

446 
nMagic
;

448 
LPBATTLEFIELD
 
ÕrgB©éeFõld
;

449 
nB©éeFõld
;

451 
LPLEVELUPMAGIC_ALL
 
ÕrgLevñUpMagic
;

452 
nLevñUpMagic
;

454 
ENEMYPOS
 
E√myPos
;

455 
LEVELUPEXP
 
rgLevñUpExp
[
MAX_LEVELS
 + 1];

457 
WORD
 
rgwB©éeEf„˘Index
[10][2];

458 } 
	tGAMEDATA
, *
	tLPGAMEDATA
;

460 
	sègFILES


462 
FILE
 *
ÂFBP
;

463 
FILE
 *
ÂMGO
;

464 
FILE
 *
ÂBALL
;

465 
FILE
 *
ÂDATA
;

466 
FILE
 *
ÂF
;

467 
FILE
 *
ÂFIRE
;

468 
FILE
 *
ÂRGM
;

469 
FILE
 *
ÂSSS
;

470 } 
	tFILES
, *
	tLPFILES
;

473 
	sègPARTY


475 
WORD
 
wPœyîRﬁe
;

476 
SHORT
 
x
, 
y
;

477 
WORD
 
wFøme
;

478 
WORD
 
wImageOff£t
;

479 } 
	tPARTY
, *
	tLPPARTY
;

482 
	sègTRAIL


484 
WORD
 
x
, 
y
;

485 
WORD
 
wDúe˘i⁄
;

486 } 
	tTRAIL
, *
	tLPTRAIL
;

488 
	sègEXPERIENCE


490 
WORD
 
wExp
;

491 
WORD
 
wRe£rved
;

492 
WORD
 
wLevñ
;

493 
WORD
 
wCou¡
;

494 } 
	tEXPERIENCE
, *
	tLPEXPERIENCE
;

496 
	sègALLEXPERIENCE


498 
EXPERIENCE
 
rgPrim¨yExp
[
MAX_PLAYER_ROLES
];

499 
EXPERIENCE
 
rgHó…hExp
[
MAX_PLAYER_ROLES
];

500 
EXPERIENCE
 
rgMagicExp
[
MAX_PLAYER_ROLES
];

501 
EXPERIENCE
 
rgAâackExp
[
MAX_PLAYER_ROLES
];

502 
EXPERIENCE
 
rgMagicPowîExp
[
MAX_PLAYER_ROLES
];

503 
EXPERIENCE
 
rgDe„n£Exp
[
MAX_PLAYER_ROLES
];

504 
EXPERIENCE
 
rgDexãrôyExp
[
MAX_PLAYER_ROLES
];

505 
EXPERIENCE
 
rgFÀeExp
[
MAX_PLAYER_ROLES
];

506 } 
	tALLEXPERIENCE
, *
	tLPALLEXPERIENCE
;

508 
	sègPOISONSTATUS


510 
WORD
 
wPois⁄ID
;

511 
WORD
 
wPois⁄S¸ùt
;

512 } 
	tPOISONSTATUS
, *
	tLPPOISONSTATUS
;

514 
	sègGLOBALVARS


516 
FILES
 
f
;

517 
GAMEDATA
 
g
;

519 
BYTE
 
bCuºítSaveSlŸ
;

520 
iCurMaöMíuIãm
;

521 
iCurSy°emMíuIãm
;

522 
iCurInvMíuIãm
;

523 
iCurPœyögRNG
;

524 
BOOL
 
fGameSèπ
;

525 
BOOL
 
fE¡îögS˚√
;

526 
BOOL
 
fNìdToFadeIn
;

527 
BOOL
 
fInB©ée
;

528 
BOOL
 
fAutoB©ée
;

529 #i‚de‡
PAL_CLASSIC


530 
BYTE
 
bB©éeS≥ed
;

532 
WORD
 
wLa°U√quù≥dIãm
;

534 
PLAYERROLES
 
rgEquùmítEf„˘
[
MAX_PLAYER_EQUIPMENTS
 + 1];

535 
WORD
 
rgPœyîSètus
[
MAX_PLAYER_ROLES
][
kSètusAŒ
];

537 
PAL_POS
 
võwp‹t
;

538 
PAL_POS
 
∑πyoff£t
;

539 
WORD
 
wLayî
;

540 
WORD
 
wMaxP¨tyMembîIndex
;

541 
PARTY
 
rgP¨ty
[
MAX_PLAYABLE_PLAYER_ROLES
];

542 
TRAIL
 
rgTøû
[
MAX_PLAYABLE_PLAYER_ROLES
];

543 
WORD
 
wP¨tyDúe˘i⁄
;

544 
WORD
 
wNumS˚√
;

545 
WORD
 
wNumPÆëã
;

546 
BOOL
 
fNightPÆëã
;

547 
WORD
 
wNumMusic
;

548 
WORD
 
wNumB©éeMusic
;

549 
WORD
 
wNumB©éeFõld
;

550 
WORD
 
wCﬁÀ˘VÆue
;

551 
WORD
 
wS¸ìnWave
;

552 
SHORT
 
sWaveProgªssi⁄
;

553 
WORD
 
wCha£R™ge
;

554 
WORD
 
wCha£•ìdCh™geCy˛es
;

555 
USHORT
 
nFﬁlowî
;

557 
DWORD
 
dwCash
;

559 
ALLEXPERIENCE
 
Exp
;

560 
POISONSTATUS
 
rgPois⁄Sètus
[
MAX_POISONS
][
MAX_PLAYABLE_PLAYER_ROLES
];

561 
INVENTORY
 
rgInvít‹y
[
MAX_INVENTORY
];

562 #i‚de‡
PAL_WIN95


563 
LPOBJECTDESC
 
ÕObje˘Desc
;

565 
DWORD
 
dwFømeNum
;

566 } 
	tGLOBALVARS
, *
	tLPGLOBALVARS
;

568 
	sègSAVEDGAME


570 
WORD
 
wSavedTimes
;

571 
WORD
 
wVõwp‹tX
, 
wVõwp‹tY
;

572 
WORD
 
nP¨tyMembî
;

573 
WORD
 
wNumS˚√
;

574 
WORD
 
wPÆëãOff£t
;

575 
WORD
 
wP¨tyDúe˘i⁄
;

576 
WORD
 
wNumMusic
;

577 
WORD
 
wNumB©éeMusic
;

578 
WORD
 
wNumB©éeFõld
;

579 
WORD
 
wS¸ìnWave
;

580 
WORD
 
wB©éeS≥ed
;

581 
WORD
 
wCﬁÀ˘VÆue
;

582 
WORD
 
wLayî
;

583 
WORD
 
wCha£R™ge
;

584 
WORD
 
wCha£•ìdCh™geCy˛es
;

585 
WORD
 
nFﬁlowî
;

586 
WORD
 
rgwRe£rved2
[3];

587 
DWORD
 
dwCash
;

588 
PARTY
 
rgP¨ty
[
MAX_PLAYABLE_PLAYER_ROLES
];

589 
TRAIL
 
rgTøû
[
MAX_PLAYABLE_PLAYER_ROLES
];

590 
ALLEXPERIENCE
 
Exp
;

591 
PLAYERROLES
 
PœyîRﬁes
;

592 
POISONSTATUS
 
rgPois⁄Sètus
[
MAX_POISONS
][
MAX_PLAYABLE_PLAYER_ROLES
];

593 
INVENTORY
 
rgInvít‹y
[
MAX_INVENTORY
];

594 
SCENE
 
rgS˚√
[
MAX_SCENES
];

595 
OBJECT
 
rgObje˘
[
MAX_OBJECTS
];

596 
EVENTOBJECT
 
rgEvítObje˘
[
MAX_EVENT_OBJECTS
];

597 } 
	tSAVEDGAME
, *
	tLPSAVEDGAME
;

599 
LPGLOBALVARS
 
gpGlobÆs
;

601 
INT


602 
PAL_InôGlobÆs
(

603 
VOID


606 
VOID


607 
PAL_FªeGlobÆs
(

608 
VOID


611 
VOID


612 
PAL_SaveGame
(

613 
LPCSTR
 
szFûeName
,

614 
WORD
 
wSavedTimes


617 
VOID


618 
PAL_InôGameD©a
(

619 
INT
 
iSaveSlŸ


622 
BOOL


623 
PAL_AddIãmToInvít‹y
(

624 
WORD
 
wObje˘ID
,

625 
INT
 
iNum


628 
BOOL


629 
PAL_In¸ó£HPMP
(

630 
WORD
 
wPœyîRﬁe
,

631 
SHORT
 
sHP
,

632 
SHORT
 
sMP


635 
INT


636 
PAL_GëIãmAmou¡
(

637 
WORD
 
wIãm


640 
VOID


641 
PAL_Upd©eEquùmíts
(

642 
VOID


645 
VOID


646 
PAL_Com¥essInvít‹y
(

647 
VOID


650 
VOID


651 
PAL_RemoveEquùmítEf„˘
(

652 
WORD
 
wPœyîRﬁe
,

653 
WORD
 
wEquùP¨t


656 
VOID


657 
PAL_AddPois⁄F‹Pœyî
(

658 
WORD
 
wPœyîRﬁe
,

659 
WORD
 
wPois⁄ID


662 
VOID


663 
PAL_CuªPois⁄ByKöd
(

664 
WORD
 
wPœyîRﬁe
,

665 
WORD
 
wPois⁄ID


668 
VOID


669 
PAL_CuªPois⁄ByLevñ
(

670 
WORD
 
wPœyîRﬁe
,

671 
WORD
 
wMaxLevñ


674 
BOOL


675 
PAL_IsPœyîPois⁄edByLevñ
(

676 
WORD
 
wPœyîRﬁe
,

677 
WORD
 
wMöLevñ


680 
BOOL


681 
PAL_IsPœyîPois⁄edByKöd
(

682 
WORD
 
wPœyîRﬁe
,

683 
WORD
 
wPois⁄ID


686 
WORD


687 
PAL_GëPœyîAâackSåígth
(

688 
WORD
 
wPœyîRﬁe


691 
WORD


692 
PAL_GëPœyîMagicSåígth
(

693 
WORD
 
wPœyîRﬁe


696 
WORD


697 
PAL_GëPœyîDe„n£
(

698 
WORD
 
wPœyîRﬁe


701 
WORD


702 
PAL_GëPœyîDexãrôy
(

703 
WORD
 
wPœyîRﬁe


706 
WORD


707 
PAL_GëPœyîFÀeR©e
(

708 
WORD
 
wPœyîRﬁe


711 
WORD


712 
PAL_GëPœyîPois⁄Resi°™˚
(

713 
WORD
 
wPœyîRﬁe


716 
WORD


717 
PAL_GëPœyîEÀmíèlResi°™˚
(

718 
WORD
 
wPœyîRﬁe
,

719 
INT
 
iAârib


722 
WORD


723 
PAL_GëPœyîB©éeS¥ôe
(

724 
WORD
 
wPœyîRﬁe


727 
WORD


728 
PAL_GëPœyîCo›î©iveMagic
(

729 
WORD
 
wPœyîRﬁe


732 
BOOL


733 
PAL_PœyîC™AâackAŒ
(

734 
WORD
 
wPœyîRﬁe


737 
BOOL


738 
PAL_AddMagic
(

739 
WORD
 
wPœyîRﬁe
,

740 
WORD
 
wMagic


743 
VOID


744 
PAL_RemoveMagic
(

745 
WORD
 
wPœyîRﬁe
,

746 
WORD
 
wMagic


749 
VOID


750 
PAL_SëPœyîSètus
(

751 
WORD
 
wPœyîRﬁe
,

752 
WORD
 
wSètusID
,

753 
WORD
 
wNumRound


756 
VOID


757 
PAL_RemovePœyîSètus
(

758 
WORD
 
wPœyîRﬁe
,

759 
WORD
 
wSètusID


762 
VOID


763 
PAL_CÀ¨AŒPœyîSètus
(

764 
VOID


767 
VOID


768 
PAL_PœyîLevñUp
(

769 
WORD
 
wPœyîRﬁe
,

770 
WORD
 
wNumLevñ


773 #ifde‡
__˝lu•lus


	@input.c

24 
	~"maö.h
"

25 
	~<m©h.h
>

27 #ifde‡
__N3DS__


28 
	~<3ds.h
>

31 vﬁ©ûê
PALINPUTSTATE
 
	gg_I≈utSèã
;

32 
SDL_Joy°ick
 *
	gg_pJoy
 = 
NULL
;

33 
BOOL
 
	gg_fU£Joy°ick
 = 
TRUE
;

35 #i‡
deföed
(
GPH
)

36 
	#MIN_DEADZONE
 -16384

	)

37 
	#MAX_DEADZONE
 16384

	)

40 #i‡
deföed
(
__WINPHONE__
)

41 
	gg_uiLa°BackKeyTime
 = 0;

44 
VOID


45 
	$PAL_KeybﬂrdEvítFûãr
(

46 c⁄° 
SDL_Evít
 *
ÕEvít


63 
ÕEvít
->
ty≥
)

65 
SDL_KEYDOWN
:

69 i‡(
ÕEvít
->
key
.
keysym
.
mod
 & 
KMOD_ALT
)

71 i‡(
ÕEvít
->
key
.
keysym
.
sym
 =
SDLK_RETURN
)

76 
	`VIDEO_ToggÀFuŒs¸ìn
();

79 i‡(
ÕEvít
->
key
.
keysym
.
sym
 =
SDLK_F4
)

84 
	`PAL_Shutdown
();

85 
	`exô
(0);

89 
ÕEvít
->
key
.
keysym
.
sym
)

91 #ifde‡
__SYMBIAN32__


95 
SDLK_0
:

96 
	`VIDEO_ToggÀSˇÀS¸ìn
();

98 
SDLK_1
:

99 
	`SOUND_Adju°Vﬁume
(0);

101 
SDLK_3
:

102 
	`SOUND_Adju°Vﬁume
(1);

106 #ifde‡
__WINPHONE__


107 
SDLK_AC_BACK
:

108 i‡(
g_uiLa°BackKeyTime
 !0 && 
	`SDL_GëTicks
() - g_uiLastBackKeyTime < 800)

110 
	`PAL_Shutdown
();

111 
	`exô
(0);

113 
g_uiLa°BackKeyTime
 = 
	`SDL_GëTicks
();

114 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

118 
SDLK_UP
:

119 
SDLK_KP8
:

120 i‡(
gpGlobÆs
->
fInB©ée
 || 
g_I≈utSèã
.
dú
 !
kDúN‹th
)

122 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

123 
g_I≈utSèã
.
dú
 = 
kDúN‹th
;

124 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyUp
;

128 
SDLK_DOWN
:

129 
SDLK_KP2
:

130 i‡(
gpGlobÆs
->
fInB©ée
 || 
g_I≈utSèã
.
dú
 !
kDúSouth
)

132 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

133 
g_I≈utSèã
.
dú
 = 
kDúSouth
;

134 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyDown
;

138 
SDLK_LEFT
:

139 
SDLK_KP4
:

140 i‡(
gpGlobÆs
->
fInB©ée
 || 
g_I≈utSèã
.
dú
 !
kDúWe°
)

142 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

143 
g_I≈utSèã
.
dú
 = 
kDúWe°
;

144 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyLe·
;

148 
SDLK_RIGHT
:

149 
SDLK_KP6
:

150 i‡(
gpGlobÆs
->
fInB©ée
 || 
g_I≈utSèã
.
dú
 !
kDúEa°
)

152 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

153 
g_I≈utSèã
.
dú
 = 
kDúEa°
;

154 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyRight
;

158 #i‡
	`deföed
(
DINGOO
)

159 
SDLK_SPACE
:

160 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyMíu
;

163 
SDLK_LCTRL
:

164 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeySórch
;

167 
SDLK_ESCAPE
:

168 
SDLK_INSERT
:

169 
SDLK_LALT
:

170 
SDLK_RALT
:

171 
SDLK_KP0
:

172 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyMíu
;

175 
SDLK_RETURN
:

176 
SDLK_SPACE
:

177 
SDLK_KP_ENTER
:

178 
SDLK_LCTRL
:

179 
g_I≈utSèã
.
dwKeyPªss
 |
kKeySórch
;

182 
SDLK_PAGEUP
:

183 
SDLK_KP9
:

184 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyPgUp
;

187 
SDLK_PAGEDOWN
:

188 
SDLK_KP3
:

189 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyPgDn
;

192 
SDLK_7
:

193 
SDLK_r
:

194 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyRïót
;

197 
SDLK_2
:

198 
SDLK_a
:

199 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyAuto
;

202 
SDLK_d
:

203 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyDe„nd
;

206 
SDLK_e
:

207 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyU£Iãm
;

210 
SDLK_w
:

211 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyThrowIãm
;

214 
SDLK_q
:

215 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyFÀe
;

218 
SDLK_s
:

219 
g_I≈utSèã
.
dwKeyPªss
 |
kKeySètus
;

222 
SDLK_f
:

223 
SDLK_5
:

224 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyF‹˚
;

227 
SDLK_HASH
:

228 
SDLK_p
:

229 
	`VIDEO_SaveS¸ìnshŸ
();

238 
SDL_KEYUP
:

242 
ÕEvít
->
key
.
keysym
.
sym
)

244 
SDLK_UP
:

245 
SDLK_KP8
:

246 i‡(
g_I≈utSèã
.
dú
 =
kDúN‹th
)

248 
g_I≈utSèã
.
dú
 = g_I≈utSèã.
¥evdú
;

250 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

253 
SDLK_DOWN
:

254 
SDLK_KP2
:

255 i‡(
g_I≈utSèã
.
dú
 =
kDúSouth
)

257 
g_I≈utSèã
.
dú
 = g_I≈utSèã.
¥evdú
;

259 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

262 
SDLK_LEFT
:

263 
SDLK_KP4
:

264 i‡(
g_I≈utSèã
.
dú
 =
kDúWe°
)

266 
g_I≈utSèã
.
dú
 = g_I≈utSèã.
¥evdú
;

268 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

271 
SDLK_RIGHT
:

272 
SDLK_KP6
:

273 i‡(
g_I≈utSèã
.
dú
 =
kDúEa°
)

275 
g_I≈utSèã
.
dú
 = g_I≈utSèã.
¥evdú
;

277 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

285 
	}
}

287 
VOID


288 
	$PAL_Mou£EvítFûãr
(

289 c⁄° 
SDL_Evít
 *
ÕEvít


306 #ifde‡
PAL_HAS_MOUSE


307 
hôTe°
 = 0;

308 c⁄° 
SDL_VideoInfo
 *
vi
;

310 
s¸ìnWidth
, 
gridWidth
;

311 
s¸ìnHeight
, 
gridHeight
;

312 
mx
, 
my
;

313 
thumbx
;

314 
thumby
;

315 
INT
 
gridIndex
;

316 
BOOL
 
isLe·Mou£DBClick
 = 
FALSE
;

317 
BOOL
 
isLe·Mou£Click
 = 
FALSE
;

318 
BOOL
 
isRightMou£Click
 = 
FALSE
;

319 
INT
 
œ°Rñó£Buâ⁄Time
, 
œ°PªssBuâ⁄Time
, 
bëwìnTime
;

320 
INT
 
œ°Pªssx
 = 0;

321 
INT
 
œ°Pªssy
 = 0;

322 
INT
 
œ°Rñó£x
 = 0;

323 
INT
 
œ°Rñó£y
 = 0;

325 i‡(
ÕEvít
->
ty≥
!
SDL_MOUSEBUTTONDOWN
 &&ÜpEvít->ty≥ !
SDL_MOUSEBUTTONUP
)

328 
vi
 = 
	`SDL_GëVideoInfo
();

329 
s¸ìnWidth
 = 
vi
->
cuºít_w
;

330 
s¸ìnHeight
 = 
vi
->
cuºít_h
;

331 
gridWidth
 = 
s¸ìnWidth
 / 3;

332 
gridHeight
 = 
s¸ìnHeight
 / 3;

333 
mx
 = 
ÕEvít
->
buâ⁄
.
x
;

334 
my
 = 
ÕEvít
->
buâ⁄
.
y
;

335 
thumbx
 = 
	`˚û
(
mx
 / 
gridWidth
);

336 
thumby
 = 
	`Êo‹
(
my
 / 
gridHeight
);

337 
gridIndex
 = 
thumbx
 + 
thumby
 * 3 - 1;

339 
ÕEvít
->
ty≥
)

341 
SDL_MOUSEBUTTONDOWN
:

342 
œ°PªssBuâ⁄Time
 = 
	`SDL_GëTicks
();

343 
œ°Pªssx
 = 
ÕEvít
->
buâ⁄
.
x
;

344 
œ°Pªssy
 = 
ÕEvít
->
buâ⁄
.
y
;

345 
gridIndex
)

348 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

349 
g_I≈utSèã
.
dú
 = 
kDúN‹th
;

352 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

353 
g_I≈utSèã
.
dú
 = 
kDúSouth
;

356 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

357 
g_I≈utSèã
.
dú
 = 
kDúWe°
;

360 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

361 
g_I≈utSèã
.
dú
 = 
kDúEa°
;

366 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyUp
;

371 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyDown
;

376 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyLe·
;

381 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyRight
;

385 
SDL_MOUSEBUTTONUP
:

386 
œ°Rñó£Buâ⁄Time
 = 
	`SDL_GëTicks
();

387 
œ°Rñó£x
 = 
ÕEvít
->
buâ⁄
.
x
;

388 
œ°Rñó£y
 = 
ÕEvít
->
buâ⁄
.
y
;

389 
hôTe°
 ++;

390 i‡(
	`abs
(
œ°Pªssx
 - 
œ°Rñó£x
) < 25 &&

391 
	`abs
(
œ°Pªssy
 - 
œ°Rñó£y
) < 25)

393 
bëwìnTime
 = 
œ°Rñó£Buâ⁄Time
 - 
œ°PªssBuâ⁄Time
;

394 i‡(
bëwìnTime
 >500)

396 
isRightMou£Click
 = 
TRUE
;

398 i‡(
bëwìnTime
 >=0)

400 if((
bëwìnTime
 < 100Ë&& (
hôTe°
 >= 2))

402 
isLe·Mou£Click
 = 
TRUE
;

403 
hôTe°
 = 0;

407 
isLe·Mou£Click
 = 
TRUE
;

408 if(
bëwìnTime
 > 100)

410 
hôTe°
 = 0;

416 
gridIndex
)

419 if–
isLe·Mou£DBClick
 )

421 
	`SOUND_Adju°Vﬁume
(1);

426 if–
isLe·Mou£DBClick
 )

428 
	`SOUND_Adju°Vﬁume
(0);

432 i‡(
isRightMou£Click
)

434 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyRïót
;

438 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

439 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

442 if–
isRightMou£Click
 )

444 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyF‹˚
;

448 if–
isRightMou£Click
 )

450 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyAuto
;

454 if–
isRightMou£Click
 )

456 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyDe„nd
;

460 i‡(
isRightMou£Click
)

462 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyMíu
;

464 i‡(
isLe·Mou£Click
)

466 
g_I≈utSèã
.
dwKeyPªss
 |
kKeySórch
;

474 
	}
}

476 
VOID


477 
	$PAL_Joy°ickEvítFûãr
(

478 c⁄° 
SDL_Evít
 *
ÕEvít


495 #ifde‡
PAL_HAS_JOYSTICKS


496 
ÕEvít
->
ty≥
)

498 #i‡
	`deföed
 (
GEKKO
)

499 
SDL_JOYHATMOTION
:

500 
ÕEvít
->
jh©
.
vÆue
)

502 
SDL_HAT_LEFT
:

503 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

504 
g_I≈utSèã
.
dú
 = 
kDúWe°
;

505 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyLe·
;

508 
SDL_HAT_RIGHT
:

509 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

510 
g_I≈utSèã
.
dú
 = 
kDúEa°
;

511 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyRight
;

514 
SDL_HAT_UP
:

515 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

516 
g_I≈utSèã
.
dú
 = 
kDúN‹th
;

517 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyUp
;

520 
SDL_HAT_DOWN
:

521 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

522 
g_I≈utSèã
.
dú
 = 
kDúSouth
;

523 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyDown
;

528 
SDL_JOYAXISMOTION
:

532 
ÕEvít
->
jaxis
.
axis
)

538 #i‡
	`deföed
(
GPH
)

539 i‡(
ÕEvít
->
jaxis
.
vÆue
 > 
MAX_DEADZONE
) {

540 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

541 
g_I≈utSèã
.
dú
 = 
kDúEa°
;

542 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyRight
;

543 } i‡(
ÕEvít
->
jaxis
.
vÆue
 < 
MIN_DEADZONE
) {

544 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

545 
g_I≈utSèã
.
dú
 = 
kDúWe°
;

546 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyLe·
;

548 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

551 i‡(
ÕEvít
->
jaxis
.
vÆue
 > 20000)

553 i‡(
g_I≈utSèã
.
dú
 !
kDúEa°
)

555 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyRight
;

557 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

558 
g_I≈utSèã
.
dú
 = 
kDúEa°
;

560 i‡(
ÕEvít
->
jaxis
.
vÆue
 < -20000)

562 i‡(
g_I≈utSèã
.
dú
 !
kDúWe°
)

564 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyLe·
;

566 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

567 
g_I≈utSèã
.
dú
 = 
kDúWe°
;

571 i‡(
g_I≈utSèã
.
¥evdú
 !
kDúEa°
 &&

572 
g_I≈utSèã
.
¥evdú
 !
kDúWe°
)

574 
g_I≈utSèã
.
dú
 = g_I≈utSèã.
¥evdú
;

576 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

585 #i‡
	`deföed
(
GPH
)

586 i‡(
ÕEvít
->
jaxis
.
vÆue
 > 
MAX_DEADZONE
) {

587 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

588 
g_I≈utSèã
.
dú
 = 
kDúSouth
;

589 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyDown
;

590 } i‡(
ÕEvít
->
jaxis
.
vÆue
 < 
MIN_DEADZONE
) {

591 
g_I≈utSèã
.
¥evdú
 = (
gpGlobÆs
->
fInB©ée
 ? 
kDúUnknown
 : g_I≈utSèã.
dú
);

592 
g_I≈utSèã
.
dú
 = 
kDúN‹th
;

593 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyUp
;

595 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

598 i‡(
ÕEvít
->
jaxis
.
vÆue
 > 20000)

600 i‡(
g_I≈utSèã
.
dú
 !
kDúSouth
)

602 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyDown
;

604 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

605 
g_I≈utSèã
.
dú
 = 
kDúSouth
;

607 i‡(
ÕEvít
->
jaxis
.
vÆue
 < -20000)

609 i‡(
g_I≈utSèã
.
dú
 !
kDúN‹th
)

611 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyUp
;

613 
g_I≈utSèã
.
¥evdú
 = g_I≈utSèã.
dú
;

614 
g_I≈utSèã
.
dú
 = 
kDúN‹th
;

618 i‡(
g_I≈utSèã
.
¥evdú
 !
kDúN‹th
 &&

619 
g_I≈utSèã
.
¥evdú
 !
kDúSouth
)

621 
g_I≈utSèã
.
dú
 = g_I≈utSèã.
¥evdú
;

623 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

631 
SDL_JOYBUTTONDOWN
:

635 #i‡
	`deföed
(
GPH
)

636 
ÕEvít
->
jbuâ⁄
.
buâ⁄
)

638 #i‡
	`deföed
(
GP2XWIZ
)

640 #ñi‡
	`deföed
(
CAANOO
)

643 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeyMíu
;

646 #i‡
	`deföed
(
GP2XWIZ
)

648 #ñi‡
	`deföed
(
CAANOO
)

651 
g_I≈utSèã
.
dwKeyPªss
 = 
kKeySórch
;

654 #i‡
	`deföed
(
GEKKO
)

655 
ÕEvít
->
jbuâ⁄
.
buâ⁄
)

658 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyMíu
;

662 
g_I≈utSèã
.
dwKeyPªss
 |
kKeySórch
;

665 
ÕEvít
->
jbuâ⁄
.
buâ⁄
 & 1)

668 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyMíu
;

672 
g_I≈utSèã
.
dwKeyPªss
 |
kKeySórch
;

680 
	}
}

682 #ifde‡
PAL_HAS_TOUCH


684 
	#TOUCH_NONE
 0

	)

685 
	#TOUCH_UP
 1

	)

686 
	#TOUCH_DOWN
 2

	)

687 
	#TOUCH_LEFT
 3

	)

688 
	#TOUCH_RIGHT
 4

	)

689 
	#TOUCH_BUTTON1
 5

	)

690 
	#TOUCH_BUTTON2
 6

	)

691 
	#TOUCH_BUTTON3
 7

	)

692 
	#TOUCH_BUTTON4
 8

	)

695 
	$PAL_GëTouchAªa
(

696 
X
,

697 
Y


700 i‡(
Y
 < 0.5)

705  
TOUCH_NONE
;

707 i‡(
X
 < 1.0 / 3)

709 i‡(
Y
 - 0.5 < (1.0 / 6 - 
	`Ábs
(
X
 - 1.0 / 3 / 2)) * (0.5 / (1.0 / 3)))

711  
TOUCH_UP
;

713 i‡(
Y
 - 0.75 > 
	`Ábs
(
X
 - 1.0 / 3 / 2) * (0.5 / (1.0 / 3)))

715  
TOUCH_DOWN
;

717 i‡(
X
 < 1.0 / 3 / 2 && 
	`Ábs
(
Y
 - 0.75) < 0.25 - X * (0.5 / (1.0 / 3)))

719  
TOUCH_LEFT
;

723  
TOUCH_RIGHT
;

726 i‡(
X
 > 1.0 - 1.0 / 3)

728 i‡(
X
 < 1.0 - (1.0 / 3 / 2))

730 i‡(
Y
 < 0.75)

732  
TOUCH_BUTTON1
;

736  
TOUCH_BUTTON3
;

741 i‡(
Y
 < 0.75)

743  
TOUCH_BUTTON2
;

747  
TOUCH_BUTTON4
;

752  
TOUCH_NONE
;

753 
	}
}

755 
VOID


756 
	$PAL_SëTouchA˘i⁄
(

757 
¨ó


760 
¨ó
)

762 
TOUCH_UP
:

763 
g_I≈utSèã
.
dú
 = 
kDúN‹th
;

764 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyUp
;

767 
TOUCH_DOWN
:

768 
g_I≈utSèã
.
dú
 = 
kDúSouth
;

769 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyDown
;

772 
TOUCH_LEFT
:

773 
g_I≈utSèã
.
dú
 = 
kDúWe°
;

774 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyLe·
;

777 
TOUCH_RIGHT
:

778 
g_I≈utSèã
.
dú
 = 
kDúEa°
;

779 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyRight
;

782 
TOUCH_BUTTON1
:

783 i‡(
gpGlobÆs
->
fInB©ée
)

785 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyRïót
;

789 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyF‹˚
;

793 
TOUCH_BUTTON2
:

794 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyMíu
;

797 
TOUCH_BUTTON3
:

798 
g_I≈utSèã
.
dwKeyPªss
 |
kKeyU£Iãm
;

801 
TOUCH_BUTTON4
:

802 
g_I≈utSèã
.
dwKeyPªss
 |
kKeySórch
;

805 
	}
}

807 
VOID


808 
	$PAL_Un£tTouchA˘i⁄
(

809 
¨ó


812 
¨ó
)

814 
TOUCH_UP
:

815 
TOUCH_DOWN
:

816 
TOUCH_LEFT
:

817 
TOUCH_RIGHT
:

818 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

821 
	}
}

824 
VOID


825 
	$PAL_TouchEvítFûãr
(

826 c⁄° 
SDL_Evít
 *
ÕEvít


843 #ifde‡
PAL_HAS_TOUCH


844 
SDL_TouchID
 
fögî1
 = -1, 
fögî2
 = -1;

845 
¥ev_touch1
 = 
TOUCH_NONE
;

846 
¥ev_touch2
 = 
TOUCH_NONE
;

848 
ÕEvít
->
ty≥
)

850 
SDL_FINGERDOWN
:

851 i‡(
fögî1
 == -1)

853 
¨ó
 = 
	`PAL_GëTouchAªa
(
ÕEvít
->
tfögî
.
x
,ÜpEvít->tfögî.
y
);

855 
fögî1
 = 
ÕEvít
->
tfögî
.
fögîId
;

856 
¥ev_touch1
 = 
¨ó
;

857 
	`PAL_SëTouchA˘i⁄
(
¨ó
);

859 i‡(
fögî2
 == -1)

861 
¨ó
 = 
	`PAL_GëTouchAªa
(
ÕEvít
->
tfögî
.
x
,ÜpEvít->tfögî.
y
);

863 
fögî2
 = 
ÕEvít
->
tfögî
.
fögîId
;

864 
¥ev_touch2
 = 
¨ó
;

865 
	`PAL_SëTouchA˘i⁄
(
¨ó
);

869 
SDL_FINGERUP
:

870 i‡(
ÕEvít
->
tfögî
.
fögîId
 =
fögî1
)

872 
	`PAL_Un£tTouchA˘i⁄
(
¥ev_touch1
);

873 
fögî1
 = -1;

874 
¥ev_touch1
 = 
TOUCH_NONE
;

876 i‡(
ÕEvít
->
tfögî
.
fögîId
 =
fögî2
)

878 
	`PAL_Un£tTouchA˘i⁄
(
¥ev_touch2
);

879 
fögî2
 = -1;

880 
¥ev_touch2
 = 
TOUCH_NONE
;

884 
SDL_FINGERMOTION
:

885 i‡(
ÕEvít
->
tfögî
.
fögîId
 =
fögî1
)

887 
¨ó
 = 
	`PAL_GëTouchAªa
(
ÕEvít
->
tfögî
.
x
,ÜpEvít->tfögî.
y
);

888 i‡(
¥ev_touch1
 !
¨ó
 &&áª®!
TOUCH_NONE
)

890 
	`PAL_Un£tTouchA˘i⁄
(
¥ev_touch1
);

891 
¥ev_touch1
 = 
¨ó
;

892 
	`PAL_SëTouchA˘i⁄
(
¨ó
);

895 i‡(
ÕEvít
->
tfögî
.
fögîId
 =
fögî2
)

897 
¨ó
 = 
	`PAL_GëTouchAªa
(
ÕEvít
->
tfögî
.
x
,ÜpEvít->tfögî.
y
);

898 i‡(
¥ev_touch2
 !
¨ó
 &&áª®!
TOUCH_NONE
)

900 
	`PAL_Un£tTouchA˘i⁄
(
¥ev_touch2
);

901 
¥ev_touch2
 = 
¨ó
;

902 
	`PAL_SëTouchA˘i⁄
(
¨ó
);

908 
	}
}

910 
SDLCALL


911 
	$PAL_EvítFûãr
(

912 c⁄° 
SDL_Evít
 *
ÕEvít


931 
ÕEvít
->
ty≥
)

933 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

934 
SDL_WINDOWEVENT
:

935 i‡(
ÕEvít
->
wödow
.
evít
 =
SDL_WINDOWEVENT_RESIZED
)

940 
	`VIDEO_Resize
(
ÕEvít
->
wödow
.
d©a1
,ÜpEvít->wödow.
d©a2
);

944 #ifde‡
__IOS__


945 
SDL_APP_WILLENTERBACKGROUND
:

946 
g_bRídîPau£d
 = 
TRUE
;

949 
SDL_APP_DIDENTERFOREGROUND
:

950 
g_bRídîPau£d
 = 
FALSE
;

951 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

957 
SDL_VIDEORESIZE
:

961 
	`VIDEO_Resize
(
ÕEvít
->
ªsize
.
w
,ÜpEvít->ªsize.
h
);

965 
SDL_QUIT
:

969 
	`PAL_Shutdown
();

970 
	`exô
(0);

973 
	`PAL_KeybﬂrdEvítFûãr
(
ÕEvít
);

974 
	`PAL_Mou£EvítFûãr
(
ÕEvít
);

975 
	`PAL_Joy°ickEvítFûãr
(
ÕEvít
);

976 
	`PAL_TouchEvítFûãr
(
ÕEvít
);

982 
	}
}

984 
VOID


985 
	$PAL_CÀ¨KeySèã
(

986 
VOID


1003 
g_I≈utSèã
.
dwKeyPªss
 = 0;

1004 
	}
}

1006 
VOID


1007 
	$PAL_InôI≈ut
(

1008 
VOID


1025 
	`mem£t
((*)&
g_I≈utSèã
, 0, (g_InputState));

1026 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

1027 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

1032 #ifde‡
PAL_HAS_JOYSTICKS


1033 i‡(
	`SDL_NumJoy°icks
(Ë> 0 && 
g_fU£Joy°ick
)

1035 
g_pJoy
 = 
	`SDL_Joy°ickO≥n
(0);

1040 i‡(
	`°rcmp
(
	`SDL_Joy°ickName
(
g_pJoy
), "applesmc") == 0 || strcmp(SDL_JoystickName(g_pJoy), "Android Accelerometer") == 0)

1042 
	`SDL_Joy°ickClo£
(
g_pJoy
);

1044 i‡(
	`SDL_NumJoy°icks
() > 1)

1046 
g_pJoy
 = 
	`SDL_Joy°ickO≥n
(1);

1050 
g_pJoy
 = 
NULL
;

1054 i‡(
g_pJoy
 !
NULL
)

1056 
	`SDL_Joy°ickEvítSèã
(
SDL_ENABLE
);

1061 #ifde‡
PAL_ALLOW_KEYREPEAT


1062 
	`SDL_E«bÀKeyRïót
(0, 0);

1065 #ifde‡
__N3DS__


1066 
	`SDL_N3DSKeyBöd
(
KEY_A
, 
SDLK_RETURN
);

1067 
	`SDL_N3DSKeyBöd
(
KEY_B
, 
SDLK_ESCAPE
);

1068 
	`SDL_N3DSKeyBöd
(
KEY_CPAD_UP
, 
SDLK_UP
);

1069 
	`SDL_N3DSKeyBöd
(
KEY_CPAD_DOWN
, 
SDLK_DOWN
);

1070 
	`SDL_N3DSKeyBöd
(
KEY_CPAD_LEFT
, 
SDLK_LEFT
);

1071 
	`SDL_N3DSKeyBöd
(
KEY_CPAD_RIGHT
, 
SDLK_RIGHT
);

1073 
	}
}

1075 
VOID


1076 
	$PAL_ShutdownI≈ut
(

1077 
VOID


1094 #ifde‡
PAL_HAS_JOYSTICKS


1095 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

1096 i‡(
g_pJoy
 !
NULL
)

1098 
	`SDL_Joy°ickClo£
(
g_pJoy
);

1099 
g_pJoy
 = 
NULL
;

1102 i‡(
	`SDL_Joy°ickO≥√d
(0))

1104 
	`as£π
(
g_pJoy
 !
NULL
);

1105 
	`SDL_Joy°ickClo£
(
g_pJoy
);

1106 
g_pJoy
 = 
NULL
;

1110 
	}
}

1112 
VOID


1113 
	$PAL_Pro˚ssEvít
(

1114 
VOID


1131 #ifde‡
PAL_HAS_NATIVEMIDI


1132 
	`MIDI_CheckLo›
();

1134 
	`PAL_PﬁlEvít
(
NULL
));

1135 
	}
}

1138 
	$PAL_PﬁlEvít
(

1139 
SDL_Evít
 *
evít


1156 
SDL_Evít
 
evt
;

1158 
ªt
 = 
	`SDL_PﬁlEvít
(&
evt
);

1159 i‡(
ªt
 != 0)

1161 
	`PAL_EvítFûãr
(&
evt
);

1164 i‡(
evít
 !
NULL
)

1166 *
evít
 = 
evt
;

1169  
ªt
;

1170 
	}
}

	@input.h

22 #i‚de‡
INPUT_H


23 
	#INPUT_H


	)

25 
	~"comm⁄.h
"

26 
	~"∑lcomm⁄.h
"

28 #ifde‡
__˝lu•lus


33 
	sègPALINPUTSTATE


35 
PALDIRECTION
 
dú
, 
¥evdú
;

36 
DWORD
 
dwKeyPªss
;

37 } 
	tPALINPUTSTATE
;

39 vﬁ©ûê
PALINPUTSTATE
 
g_I≈utSèã
;

41 
	ePALKEY


43 
	gkKeyMíu
 = (1 << 0),

44 
	gkKeySórch
 = (1 << 1),

45 
	gkKeyDown
 = (1 << 2),

46 
	gkKeyLe·
 = (1 << 3),

47 
	gkKeyUp
 = (1 << 4),

48 
	gkKeyRight
 = (1 << 5),

49 
	gkKeyPgUp
 = (1 << 6),

50 
	gkKeyPgDn
 = (1 << 7),

51 
	gkKeyRïót
 = (1 << 8),

52 
	gkKeyAuto
 = (1 << 9),

53 
	gkKeyDe„nd
 = (1 << 10),

54 
	gkKeyU£Iãm
 = (1 << 11),

55 
	gkKeyThrowIãm
 = (1 << 12),

56 
	gkKeyFÀe
 = (1 << 13),

57 
	gkKeySètus
 = (1 << 14),

58 
	gkKeyF‹˚
 = (1 << 15),

61 
VOID


62 
PAL_CÀ¨KeySèã
(

63 
VOID


66 
VOID


67 
PAL_InôI≈ut
(

68 
VOID


71 
VOID


72 
PAL_Pro˚ssEvít
(

73 
VOID


76 
VOID


77 
PAL_ShutdownI≈ut
(

78 
VOID


82 
PAL_PﬁlEvít
(

83 
SDL_Evít
 *
evít


87 
BOOL
 
g_fU£Joy°ick
;

89 #ifde‡
__˝lu•lus


	@itemmenu.c

22 
	~"maö.h
"

24 
	gg_iNumInvít‹y
 = 0;

25 
WORD
 
	gg_wIãmFœgs
 = 0;

26 
BOOL
 
	gg_fNoDesc
 = 
FALSE
;

28 
WORD


29 
	$PAL_IãmSñe˘MíuUpd©e
(

30 
VOID


47 #i‚de‡
PAL_WIN95


48 
i
, 
j
, 
k
;

49 
WORD
 
wObje˘
;

51 
i
, 
j
, 
k
, 
löe
;

52 
WORD
 
wObje˘
, 
wS¸ùt
;

54 
BYTE
 
bCﬁ‹
;

55 
BYTE
 
bufImage
[2048];

56 
WORD
 
wPªvImageIndex
 = 0xFFFF;

61 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyUp
)

63 
gpGlobÆs
->
iCurInvMíuIãm
 -= 3;

65 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyDown
)

67 
gpGlobÆs
->
iCurInvMíuIãm
 += 3;

69 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyLe·
)

71 
gpGlobÆs
->
iCurInvMíuIãm
--;

73 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyRight
)

75 
gpGlobÆs
->
iCurInvMíuIãm
++;

77 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyPgUp
)

79 
gpGlobÆs
->
iCurInvMíuIãm
 -= 3 * 7;

81 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyPgDn
)

83 
gpGlobÆs
->
iCurInvMíuIãm
 += 3 * 7;

85 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

93 i‡(
gpGlobÆs
->
iCurInvMíuIãm
 < 0)

95 
gpGlobÆs
->
iCurInvMíuIãm
 = 0;

97 i‡(
gpGlobÆs
->
iCurInvMíuIãm
 >
g_iNumInvít‹y
)

99 
gpGlobÆs
->
iCurInvMíuIãm
 = 
g_iNumInvít‹y
 - 1;

105 
	`PAL_Cª©eBox
(
	`PAL_XY
(2, 0), 6, 17, 1, 
FALSE
);

110 
i
 = 
gpGlobÆs
->
iCurInvMíuIãm
 / 3 * 3 - 3 * 4;

111 i‡(
i
 < 0)

113 
i
 = 0;

116 
j
 = 0; j < 7; j++)

118 
k
 = 0; k < 3; k++)

120 
wObje˘
 = 
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
;

121 
bCﬁ‹
 = 
MENUITEM_COLOR
;

123 i‡(
i
 >
MAX_INVENTORY
 || 
wObje˘
 == 0)

128 
j
 = 7;

132 i‡(
i
 =
gpGlobÆs
->
iCurInvMíuIãm
)

134 i‡(!(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wFœgs
 & 
g_wIãmFœgs
) ||

135 (
SHORT
)
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
 <(SHORT)gpGlobÆs->rgInvít‹y[i].
nAmou¡InU£
)

140 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_INACTIVE
;

147 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
 == 0)

149 
bCﬁ‹
 = 
MENUITEM_COLOR_EQUIPPEDITEM
;

153 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED
;

157 i‡(!(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wFœgs
 & 
g_wIãmFœgs
) ||

158 (
SHORT
)
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
 <(SHORT)gpGlobÆs->rgInvít‹y[i].
nAmou¡InU£
)

163 
bCﬁ‹
 = 
MENUITEM_COLOR_INACTIVE
;

165 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
 == 0)

167 
bCﬁ‹
 = 
MENUITEM_COLOR_EQUIPPEDITEM
;

173 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
wObje˘
), 
	`PAL_XY
(15 + 
k
 * 100, 12 + 
j
 * 18),

174 
bCﬁ‹
, 
TRUE
, 
FALSE
);

179 i‡(
i
 =
gpGlobÆs
->
iCurInvMíuIãm
)

181 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_CURSOR
),

182 
gpS¸ìn
, 
	`PAL_XY
(40 + 
k
 * 100, 22 + 
j
 * 18));

188 i‡((
SHORT
)
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
 - (SHORT)gpGlobÆs->rgInvít‹y[i].
nAmou¡InU£
 > 1)

190 
	`PAL_DøwNumbî
(
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
 - gpGlobÆs->rgInvít‹y[i].
nAmou¡InU£
,

191 2, 
	`PAL_XY
(96 + 
k
 * 100, 17 + 
j
 * 18), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

194 
i
++;

201 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_ITEMBOX
), 
gpS¸ìn
,

202 
	`PAL_XY
(5, 140));

204 
wObje˘
 = 
gpGlobÆs
->
rgInvít‹y
[gpGlobÆs->
iCurInvMíuIãm
].
wIãm
;

206 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wBôm≠
 !
wPªvImageIndex
)

208 i‡(
	`PAL_MKFRódChunk
(
bufImage
, 2048,

209 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wBôm≠
, gpGlobÆs->
f
.
ÂBALL
) > 0)

211 
wPªvImageIndex
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wBôm≠
;

215 
wPªvImageIndex
 = 0xFFFF;

219 i‡(
wPªvImageIndex
 != 0xFFFF)

221 
	`PAL_RLEBlôToSurÁ˚
(
bufImage
, 
gpS¸ìn
, 
	`PAL_XY
(12, 148));

227 #i‚de‡
PAL_WIN95


228 i‡(!
g_fNoDesc
 && 
gpGlobÆs
->
ÕObje˘Desc
 !
NULL
)

230 
szDesc
[512], *
√xt
;

231 c⁄° *
d
 = 
	`PAL_GëObje˘Desc
(
gpGlobÆs
->
ÕObje˘Desc
, 
wObje˘
);

233 i‡(
d
 !
NULL
)

235 
k
 = 150;

236 
	`°r˝y
(
szDesc
, 
d
);

237 
d
 = 
szDesc
;

239 
TRUE
)

241 
√xt
 = 
	`°rchr
(
d
, '*');

242 i‡(
√xt
 !
NULL
)

244 *
√xt
 = '\0';

245 
√xt
++;

248 
	`PAL_DøwText
(
d
, 
	`PAL_XY
(75, 
k
), 
DESCTEXT_COLOR
, 
TRUE
, 
FALSE
);

249 
k
 += 16;

251 i‡(
√xt
 =
NULL
)

256 
d
 = 
√xt
;

261 i‡(!
g_fNoDesc
)

263 
wS¸ùt
 = 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtDesc
;

264 
löe
 = 0;

265 
wS¸ùt
 && 
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
[wS¸ùt].
wO≥øti⁄
 != 0)

267 i‡(
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
[
wS¸ùt
].
wO≥øti⁄
 == 0xFFFF)

269 
wS¸ùt
 = 
	`PAL_RunAutoS¸ùt
(wS¸ùt, (1 << 15Ë| 
löe
);

270 
löe
++;

274 
wS¸ùt
 = 
	`PAL_RunAutoS¸ùt
(wScript, 0);

280 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

282 i‡((
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wFœgs
 & 
g_wIãmFœgs
) &&

283 (
SHORT
)
gpGlobÆs
->
rgInvít‹y
[gpGlobÆs->
iCurInvMíuIãm
].
nAmou¡
 >

284 (
SHORT
)
gpGlobÆs
->
rgInvít‹y
[gpGlobÆs->
iCurInvMíuIãm
].
nAmou¡InU£
)

286 i‡(
gpGlobÆs
->
rgInvít‹y
[gpGlobÆs->
iCurInvMíuIãm
].
nAmou¡
 > 0)

288 
j
 = (
gpGlobÆs
->
iCurInvMíuIãm
 < 3 * 4) ? (gpGlobals->iCurInvMenuItem / 3) : 4;

289 
k
 = 
gpGlobÆs
->
iCurInvMíuIãm
 % 3;

291 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
wObje˘
), 
	`PAL_XY
(15 + 
k
 * 100, 12 + 
j
 * 18),

292 
MENUITEM_COLOR_CONFIRMED
, 
FALSE
, FALSE);

295  
wObje˘
;

300 
	}
}

302 
VOID


303 
	$PAL_IãmSñe˘MíuInô
(

304 
WORD
 
wIãmFœgs


321 
i
, 
j
;

322 
WORD
 
w
;

324 
g_wIãmFœgs
 = 
wIãmFœgs
;

329 
	`PAL_Com¥essInvít‹y
();

334 
g_iNumInvít‹y
 = 0;

335 
g_iNumInvít‹y
 < 
MAX_INVENTORY
 &&

336 
gpGlobÆs
->
rgInvít‹y
[
g_iNumInvít‹y
].
wIãm
 != 0)

338 
g_iNumInvít‹y
++;

344 i‡((
wIãmFœgs
 & 
kIãmFœgUßbÀ
Ë&& !
gpGlobÆs
->
fInB©ée
)

346 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

348 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

350 
j
 = 0; j < 
MAX_PLAYER_EQUIPMENTS
; j++)

352 i‡(
gpGlobÆs
->
g
.
rgObje˘
[gpGlobÆs->g.
PœyîRﬁes
.
rgwEquùmít
[
j
][
w
]].
ôem
.
wFœgs
 & 
kIãmFœgUßbÀ
)

354 i‡(
g_iNumInvít‹y
 < 
MAX_INVENTORY
)

356 
gpGlobÆs
->
rgInvít‹y
[
g_iNumInvít‹y
].
wIãm
 = gpGlobÆs->
g
.
PœyîRﬁes
.
rgwEquùmít
[
j
][
w
];

357 
gpGlobÆs
->
rgInvít‹y
[
g_iNumInvít‹y
].
nAmou¡
 = 0;

358 
gpGlobÆs
->
rgInvít‹y
[
g_iNumInvít‹y
].
nAmou¡InU£
 = (
WORD
)-1;

360 
g_iNumInvít‹y
++;

366 
	}
}

368 
WORD


369 
	$PAL_IãmSñe˘Míu
(

370 
LPITEMCHANGED_CALLBACK
 
Õ‚MíuIãmCh™ged
,

371 
WORD
 
wIãmFœgs


391 
iPªvIndex
;

392 
WORD
 
w
;

393 
DWORD
 
dwTime
;

395 
	`PAL_IãmSñe˘MíuInô
(
wIãmFœgs
);

396 
iPªvIndex
 = 
gpGlobÆs
->
iCurInvMíuIãm
;

398 
	`PAL_CÀ¨KeySèã
();

400 i‡(
Õ‚MíuIãmCh™ged
 !
NULL
)

402 
g_fNoDesc
 = 
TRUE
;

403 (*
Õ‚MíuIãmCh™ged
)(
gpGlobÆs
->
rgInvít‹y
[gpGlobÆs->
iCurInvMíuIãm
].
wIãm
);

406 
dwTime
 = 
	`SDL_GëTicks
();

408 
TRUE
)

410 i‡(
Õ‚MíuIãmCh™ged
 =
NULL
)

412 
	`PAL_MakeS˚√
();

415 
w
 = 
	`PAL_IãmSñe˘MíuUpd©e
();

416 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

418 
	`PAL_CÀ¨KeySèã
();

420 
	`PAL_Pro˚ssEvít
();

421 
	`SDL_GëTicks
(Ë< 
dwTime
)

423 
	`PAL_Pro˚ssEvít
();

424 i‡(
g_I≈utSèã
.
dwKeyPªss
 != 0)

428 
	`SDL_Dñay
(5);

431 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

433 i‡(
w
 != 0xFFFF)

435 
g_fNoDesc
 = 
FALSE
;

436  
w
;

439 i‡(
iPªvIndex
 !
gpGlobÆs
->
iCurInvMíuIãm
)

441 i‡(
gpGlobÆs
->
iCurInvMíuIãm
 >0 && gpGlobÆs->iCurInvMíuIãm < 
MAX_INVENTORY
)

443 i‡(
Õ‚MíuIãmCh™ged
 !
NULL
)

445 (*
Õ‚MíuIãmCh™ged
)(
gpGlobÆs
->
rgInvít‹y
[gpGlobÆs->
iCurInvMíuIãm
].
wIãm
);

449 
iPªvIndex
 = 
gpGlobÆs
->
iCurInvMíuIãm
;

453 
	`as£π
(
FALSE
);

455 
	}
}

	@itemmenu.h

22 #i‚de‡
ITEMMENU_H


23 
	#ITEMMENU_H


	)

25 #ifde‡
__˝lu•lus


30 
WORD


31 
PAL_IãmSñe˘MíuUpd©e
(

32 
VOID


35 
VOID


36 
PAL_IãmSñe˘MíuInô
(

37 
WORD
 
wIãmFœgs


40 
WORD


41 
PAL_IãmSñe˘Míu
(

42 
LPITEMCHANGED_CALLBACK
 
Õ‚MíuIãmCh™ged
,

43 
WORD
 
wIãmFœgs


46 #ifde‡
__˝lu•lus


	@libmad/bit.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 #ifde‡
HAVE_LIMITS_H


27 
	~<limôs.h
>

29 
	#CHAR_BIT
 8

	)

32 
	~"bô.h
"

42 c⁄° 
	g¸c_èbÀ
[256] = {

80 
	#CRC_POLY
 0x8005

	)

86 
	$mad_bô_öô
(
mad_bô±r
 *
bô±r
, c⁄° *
byã
)

88 
bô±r
->
byã
 = byte;

89 
bô±r
->
ˇche
 = 0;

90 
bô±r
->
À·
 = 
CHAR_BIT
;

91 
	}
}

97 
	$mad_bô_Àngth
(
mad_bô±r
 c⁄° *
begö
,

98 
mad_bô±r
 c⁄° *
íd
)

100  
begö
->
À·
 +

101 
CHAR_BIT
 * (
íd
->
byã
 - (
begö
->byã + 1)Ë+ (CHAR_BIT -Énd->
À·
);

102 
	}
}

108 c⁄° *
	$mad_bô_√xtbyã
(
mad_bô±r
 c⁄° *
bô±r
)

110  
bô±r
->
À·
 =
CHAR_BIT
 ? bô±r->
byã
 : bitptr->byte + 1;

111 
	}
}

117 
	$mad_bô_skù
(
mad_bô±r
 *
bô±r
, 
Àn
)

119 
bô±r
->
byã
 +
Àn
 / 
CHAR_BIT
;

120 
bô±r
->
À·
 -
Àn
 % 
CHAR_BIT
;

122 i‡(
bô±r
->
À·
 > 
CHAR_BIT
) {

123 
bô±r
->
byã
++;

124 
bô±r
->
À·
 +
CHAR_BIT
;

127 i‡(
bô±r
->
À·
 < 
CHAR_BIT
)

128 
bô±r
->
ˇche
 = *bô±r->
byã
;

129 
	}
}

135 
	$mad_bô_ªad
(
mad_bô±r
 *
bô±r
, 
Àn
)

137 
vÆue
;

139 i‡(
bô±r
->
À·
 =
CHAR_BIT
)

140 
bô±r
->
ˇche
 = *bô±r->
byã
;

142 i‡(
Àn
 < 
bô±r
->
À·
) {

143 
vÆue
 = (
bô±r
->
ˇche
 & ((1 << bô±r->
À·
) - 1)) >>

144 (
bô±r
->
À·
 - 
Àn
);

145 
bô±r
->
À·
 -
Àn
;

147  
vÆue
;

152 
vÆue
 = 
bô±r
->
ˇche
 & ((1 << bô±r->
À·
) - 1);

153 
Àn
 -
bô±r
->
À·
;

155 
bô±r
->
byã
++;

156 
bô±r
->
À·
 = 
CHAR_BIT
;

160 
Àn
 >
CHAR_BIT
) {

161 
vÆue
 = (vÆuê<< 
CHAR_BIT
Ë| *
bô±r
->
byã
++;

162 
Àn
 -
CHAR_BIT
;

165 i‡(
Àn
 > 0) {

166 
bô±r
->
ˇche
 = *bô±r->
byã
;

168 
vÆue
 = (vÆuê<< 
Àn
Ë| (
bô±r
->
ˇche
 >> (
CHAR_BIT
 -Üen));

169 
bô±r
->
À·
 -
Àn
;

172  
vÆue
;

173 
	}
}

180 
	$mad_bô_wrôe
(
mad_bô±r
 *
bô±r
, 
Àn
,

181 
vÆue
)

183 *
±r
;

185 
±r
 = (*Ë
bô±r
->
byã
;

188 
	}
}

195 
	$mad_bô_¸c
(
mad_bô±r
 
bô±r
, 
Àn
,

196 
öô
)

198 
¸c
;

200 
¸c
 = 
öô
; 
Àn
 >= 32;Üen -= 32) {

201 
d©a
;

203 
d©a
 = 
	`mad_bô_ªad
(&
bô±r
, 32);

205 
¸c
 = (¸¯<< 8Ë^ 
¸c_èbÀ
[((¸¯>> 8Ë^ (
d©a
 >> 24)) & 0xff];

206 
¸c
 = (¸¯<< 8Ë^ 
¸c_èbÀ
[((¸¯>> 8Ë^ (
d©a
 >> 16)) & 0xff];

207 
¸c
 = (¸¯<< 8Ë^ 
¸c_èbÀ
[((¸¯>> 8Ë^ (
d©a
 >> 8)) & 0xff];

208 
¸c
 = (¸¯<< 8Ë^ 
¸c_èbÀ
[((¸¯>> 8Ë^ (
d©a
 >> 0)) & 0xff];

211 
Àn
 / 8) {

212 3: 
¸c
 = (crc << 8) ^

213 
¸c_èbÀ
[((
¸c
 >> 8Ë^ 
	`mad_bô_ªad
(&
bô±r
, 8)) & 0xff];

214 2: 
¸c
 = (crc << 8) ^

215 
¸c_èbÀ
[((
¸c
 >> 8Ë^ 
	`mad_bô_ªad
(&
bô±r
, 8)) & 0xff];

216 1: 
¸c
 = (crc << 8) ^

217 
¸c_èbÀ
[((
¸c
 >> 8Ë^ 
	`mad_bô_ªad
(&
bô±r
, 8)) & 0xff];

219 
Àn
 %= 8;

224 
Àn
--) {

225 
msb
;

227 
msb
 = 
	`mad_bô_ªad
(&
bô±r
, 1Ë^ (
¸c
 >> 15);

229 
¸c
 <<= 1;

230 i‡(
msb
 & 1)

231 
¸c
 ^
CRC_POLY
;

234  
¸c
 & 0xffff;

235 
	}
}

	@libmad/bit.h

22 #i‚de‡
LIBMAD_BIT_H


23 
	#LIBMAD_BIT_H


	)

25 
	smad_bô±r
 {

26 c⁄° *
	mbyã
;

27 
	mˇche
;

28 
	mÀ·
;

31 
mad_bô_öô
(
mad_bô±r
 *, const *);

33 
	#mad_bô_föish
(
bô±r
Ë

	)

35 
mad_bô_Àngth
(
mad_bô±r
 const *,

36 
mad_bô±r
 const *);

38 
	#mad_bô_bô¶e·
(
bô±r
Ë((bô±r)->
À·
)

	)

39 c⁄° *
mad_bô_√xtbyã
(
mad_bô±r
 const *);

41 
mad_bô_skù
(
mad_bô±r
 *, );

42 
mad_bô_ªad
(
mad_bô±r
 *, );

43 
mad_bô_wrôe
(
mad_bô±r
 *, , );

45 
mad_bô_¸c
(
mad_bô±r
, , );

	@libmad/decoder.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 #ifde‡
HAVE_SYS_TYPES_H


27 
	~<sys/ty≥s.h
>

30 #ifde‡
HAVE_SYS_WAIT_H


31 
	~<sys/waô.h
>

34 #ifde‡
HAVE_UNISTD_H


35 
	~<uni°d.h
>

38 #ifde‡
HAVE_FCNTL_H


39 
	~<f˙é.h
>

42 
	~<°dlib.h
>

44 #ifde‡
HAVE_ERRNO_H


45 
	~<î∫o.h
>

48 
	~"°ªam.h
"

49 
	~"‰ame.h
"

50 
	~"sy¡h.h
"

51 
	~"decodî.h
"

57 
	$mad_decodî_öô
(
mad_decodî
 *
decodî
, *
d©a
,

58 
	$mad_Êow
 (*
öput_func
)(*,

59 
mad_°ªam
 *),

60 
	$mad_Êow
 (*
hódî_func
)(*,

61 
mad_hódî
 const *),

62 
	$mad_Êow
 (*
fûãr_func
)(*,

63 
mad_°ªam
 const *,

64 
mad_‰ame
 *),

65 
	$mad_Êow
 (*
ouçut_func
)(*,

66 
mad_hódî
 const *,

67 
mad_pcm
 *),

68 
	$mad_Êow
 (*
îr‹_func
)(*,

69 
mad_°ªam
 *,

70 
mad_‰ame
 *),

71 
	$mad_Êow
 (*
mesßge_func
)(*,

74 
decodî
->
mode
 = -1;

76 
decodî
->
›ti⁄s
 = 0;

78 
decodî
->
async
.
pid
 = 0;

79 
decodî
->
async
.
ö
 = -1;

80 
decodî
->
async
.
out
 = -1;

82 
decodî
->
sync
 = 0;

84 
decodî
->
cb_d©a
 = 
d©a
;

86 
decodî
->
öput_func
 = input_func;

87 
decodî
->
hódî_func
 = header_func;

88 
decodî
->
fûãr_func
 = filter_func;

89 
decodî
->
ouçut_func
 = output_func;

90 
decodî
->
îr‹_func
 =Érror_func;

91 
decodî
->
mesßge_func
 = message_func;

92 
	}
}

94 
	$mad_decodî_föish
(
mad_decodî
 *
decodî
)

96 #i‡
	`deföed
(
USE_ASYNC
)

97 i‡(
decodî
->
mode
 =
MAD_DECODER_MODE_ASYNC
 && decodî->
async
.
pid
) {

98 
pid_t
 
pid
;

99 
°©us
;

101 
	`˛o£
(
decodî
->
async
.
ö
);

104 
pid
 = 
	`waôpid
(
decodî
->
async
.pid, &
°©us
, 0);

105 
pid
 =-1 && 
î∫o
 =
EINTR
);

107 
decodî
->
mode
 = -1;

109 
	`˛o£
(
decodî
->
async
.
out
);

111 
decodî
->
async
.
pid
 = 0;

112 
decodî
->
async
.
ö
 = -1;

113 
decodî
->
async
.
out
 = -1;

115 i‡(
pid
 == -1)

118  (!
	`WIFEXITED
(
°©us
Ë|| 
	`WEXITSTATUS
(status)) ? -1 : 0;

123 
	}
}

125 #i‡
deföed
(
USE_ASYNC
)

127 
mad_Êow
 
	$£nd_io
(
fd
, c⁄° *
d©a
, 
size_t
 
Àn
)

129 c⁄° *
±r
 = 
d©a
;

130 
ssize_t
 
cou¡
;

132 
Àn
) {

134 
cou¡
 = 
	`wrôe
(
fd
, 
±r
, 
Àn
);

135 
cou¡
 =-1 && 
î∫o
 =
EINTR
);

137 i‡(
cou¡
 == -1)

138  
MAD_FLOW_BREAK
;

140 
Àn
 -
cou¡
;

141 
±r
 +
cou¡
;

144  
MAD_FLOW_CONTINUE
;

145 
	}
}

148 
mad_Êow
 
	$ª˚ive_io
(
fd
, *
buf„r
, 
size_t
 
Àn
)

150 *
±r
 = 
buf„r
;

151 
ssize_t
 
cou¡
;

153 
Àn
) {

155 
cou¡
 = 
	`ªad
(
fd
, 
±r
, 
Àn
);

156 
cou¡
 =-1 && 
î∫o
 =
EINTR
);

158 i‡(
cou¡
 == -1)

159  (
î∫o
 =
EAGAIN
Ë? 
MAD_FLOW_IGNORE
 : 
MAD_FLOW_BREAK
;

160 i‡(
cou¡
 == 0)

161  
MAD_FLOW_STOP
;

163 
Àn
 -
cou¡
;

164 
±r
 +
cou¡
;

167  
MAD_FLOW_CONTINUE
;

168 
	}
}

171 
mad_Êow
 
	$ª˚ive_io_blockög
(
fd
, *
buf„r
, 
size_t
 
Àn
)

173 
Êags
, 
blockög
;

174 
mad_Êow
 
ªsu…
;

176 
Êags
 = 
	`f˙é
(
fd
, 
F_GETFL
);

177 i‡(
Êags
 == -1)

178  
MAD_FLOW_BREAK
;

180 
blockög
 = 
Êags
 & ~
O_NONBLOCK
;

182 i‡(
blockög
 !
Êags
 &&

183 
	`f˙é
(
fd
, 
F_SETFL
, 
blockög
) == -1)

184  
MAD_FLOW_BREAK
;

186 
ªsu…
 = 
	`ª˚ive_io
(
fd
, 
buf„r
, 
Àn
);

188 i‡(
Êags
 !
blockög
 &&

189 
	`f˙é
(
fd
, 
F_SETFL
, 
Êags
) == -1)

190  
MAD_FLOW_BREAK
;

192  
ªsu…
;

193 
	}
}

196 
mad_Êow
 
	$£nd
(
fd
, c⁄° *
mesßge
, 
size
)

198 
mad_Êow
 
ªsu…
;

202 
ªsu…
 = 
	`£nd_io
(
fd
, &
size
, (size));

206 i‡(
ªsu…
 =
MAD_FLOW_CONTINUE
)

207 
ªsu…
 = 
	`£nd_io
(
fd
, 
mesßge
, 
size
);

209  
ªsu…
;

210 
	}
}

213 
mad_Êow
 
	$ª˚ive
(
fd
, **
mesßge
, *
size
)

215 
mad_Êow
 
ªsu…
;

216 
a˘uÆ
;

218 i‡(*
mesßge
 == 0)

219 *
size
 = 0;

223 
ªsu…
 = 
	`ª˚ive_io
(
fd
, &
a˘uÆ
, (actual));

227 i‡(
ªsu…
 =
MAD_FLOW_CONTINUE
) {

228 i‡(
a˘uÆ
 > *
size
)

229 
a˘uÆ
 -*
size
;

231 *
size
 = 
a˘uÆ
;

232 
a˘uÆ
 = 0;

235 i‡(*
size
 > 0) {

236 i‡(*
mesßge
 == 0) {

237 *
mesßge
 = 
	`mÆloc
(*
size
);

238 i‡(*
mesßge
 == 0)

239  
MAD_FLOW_BREAK
;

242 
ªsu…
 = 
	`ª˚ive_io_blockög
(
fd
, *
mesßge
, *
size
);

247 
a˘uÆ
 && 
ªsu…
 =
MAD_FLOW_CONTINUE
) {

248 
sök
[256];

249 
Àn
;

251 
Àn
 = 
a˘uÆ
 > (
sök
) ? (sink) :áctual;

253 
ªsu…
 = 
	`ª˚ive_io_blockög
(
fd
, 
sök
, 
Àn
);

255 
a˘uÆ
 -
Àn
;

259  
ªsu…
;

260 
	}
}

263 
mad_Êow
 
	$check_mesßge
(
mad_decodî
 *
decodî
)

265 
mad_Êow
 
ªsu…
;

266 *
mesßge
 = 0;

267 
size
;

269 
ªsu…
 = 
	`ª˚ive
(
decodî
->
async
.
ö
, &
mesßge
, &
size
);

271 i‡(
ªsu…
 =
MAD_FLOW_CONTINUE
) {

272 i‡(
decodî
->
mesßge_func
 == 0)

273 
size
 = 0;

275 
ªsu…
 = 
decodî
->
	`mesßge_func
(decodî->
cb_d©a
, 
mesßge
, &
size
);

277 i‡(
ªsu…
 =
MAD_FLOW_IGNORE
 ||

278 
ªsu…
 =
MAD_FLOW_BREAK
)

279 
size
 = 0;

282 i‡(
	`£nd
(
decodî
->
async
.
out
, 
mesßge
, 
size
Ë!
MAD_FLOW_CONTINUE
)

283 
ªsu…
 = 
MAD_FLOW_BREAK
;

286 i‡(
mesßge
)

287 
	`‰ì
(
mesßge
);

289  
ªsu…
;

290 
	}
}

294 
mad_Êow
 
	$îr‹_deÁu…
(*
d©a
, 
mad_°ªam
 *
°ªam
,

295 
mad_‰ame
 *
‰ame
)

297 *
bad_œ°_‰ame
 = 
d©a
;

299 
°ªam
->
îr‹
) {

300 
MAD_ERROR_BADCRC
:

301 i‡(*
bad_œ°_‰ame
)

302 
	`mad_‰ame_muã
(
‰ame
);

304 *
bad_œ°_‰ame
 = 1;

306  
MAD_FLOW_IGNORE
;

309  
MAD_FLOW_CONTINUE
;

311 
	}
}

314 
	$run_sync
(
mad_decodî
 *
decodî
)

316 
	`mad_Êow
 (*
îr‹_func
)(*, 
mad_°ªam
 *, 
mad_‰ame
 *);

317 *
îr‹_d©a
;

318 
bad_œ°_‰ame
 = 0;

319 
mad_°ªam
 *
°ªam
;

320 
mad_‰ame
 *
‰ame
;

321 
mad_sy¡h
 *
sy¡h
;

322 
ªsu…
 = 0;

324 i‡(
decodî
->
öput_func
 == 0)

327 i‡(
decodî
->
îr‹_func
) {

328 
îr‹_func
 = 
decodî
->error_func;

329 
îr‹_d©a
 = 
decodî
->
cb_d©a
;

332 
îr‹_func
 = 
îr‹_deÁu…
;

333 
îr‹_d©a
 = &
bad_œ°_‰ame
;

336 
°ªam
 = &
decodî
->
sync
->stream;

337 
‰ame
 = &
decodî
->
sync
->frame;

338 
sy¡h
 = &
decodî
->
sync
->synth;

340 
	`mad_°ªam_öô
(
°ªam
);

341 
	`mad_‰ame_öô
(
‰ame
);

342 
	`mad_sy¡h_öô
(
sy¡h
);

344 
	`mad_°ªam_›ti⁄s
(
°ªam
, 
decodî
->
›ti⁄s
);

347 
decodî
->
	`öput_func
(decodî->
cb_d©a
, 
°ªam
)) {

348 
MAD_FLOW_STOP
:

349 
d⁄e
;

350 
MAD_FLOW_BREAK
:

351 
Áû
;

352 
MAD_FLOW_IGNORE
:

354 
MAD_FLOW_CONTINUE
:

359 #i‡
	`deföed
(
USE_ASYNC
)

360 i‡(
decodî
->
mode
 =
MAD_DECODER_MODE_ASYNC
) {

361 
	`check_mesßge
(
decodî
)) {

362 
MAD_FLOW_IGNORE
:

363 
MAD_FLOW_CONTINUE
:

365 
MAD_FLOW_BREAK
:

366 
Áû
;

367 
MAD_FLOW_STOP
:

368 
d⁄e
;

373 i‡(
decodî
->
hódî_func
) {

374 i‡(
	`mad_hódî_decode
(&
‰ame
->
hódî
, 
°ªam
) == -1) {

375 i‡(!
	`MAD_RECOVERABLE
(
°ªam
->
îr‹
))

378 
	`îr‹_func
(
îr‹_d©a
, 
°ªam
, 
‰ame
)) {

379 
MAD_FLOW_STOP
:

380 
d⁄e
;

381 
MAD_FLOW_BREAK
:

382 
Áû
;

383 
MAD_FLOW_IGNORE
:

384 
MAD_FLOW_CONTINUE
:

390 
decodî
->
	`hódî_func
(decodî->
cb_d©a
, &
‰ame
->
hódî
)) {

391 
MAD_FLOW_STOP
:

392 
d⁄e
;

393 
MAD_FLOW_BREAK
:

394 
Áû
;

395 
MAD_FLOW_IGNORE
:

397 
MAD_FLOW_CONTINUE
:

402 i‡(
	`mad_‰ame_decode
(
‰ame
, 
°ªam
) == -1) {

403 i‡(!
	`MAD_RECOVERABLE
(
°ªam
->
îr‹
))

406 
	`îr‹_func
(
îr‹_d©a
, 
°ªam
, 
‰ame
)) {

407 
MAD_FLOW_STOP
:

408 
d⁄e
;

409 
MAD_FLOW_BREAK
:

410 
Áû
;

411 
MAD_FLOW_IGNORE
:

413 
MAD_FLOW_CONTINUE
:

419 
bad_œ°_‰ame
 = 0;

421 i‡(
decodî
->
fûãr_func
) {

422 
decodî
->
	`fûãr_func
(decodî->
cb_d©a
, 
°ªam
, 
‰ame
)) {

423 
MAD_FLOW_STOP
:

424 
d⁄e
;

425 
MAD_FLOW_BREAK
:

426 
Áû
;

427 
MAD_FLOW_IGNORE
:

429 
MAD_FLOW_CONTINUE
:

434 
	`mad_sy¡h_‰ame
(
sy¡h
, 
‰ame
);

436 i‡(
decodî
->
ouçut_func
) {

437 
decodî
->
	`ouçut_func
(decodî->
cb_d©a
,

438 &
‰ame
->
hódî
, &
sy¡h
->
pcm
)) {

439 
MAD_FLOW_STOP
:

440 
d⁄e
;

441 
MAD_FLOW_BREAK
:

442 
Áû
;

443 
MAD_FLOW_IGNORE
:

444 
MAD_FLOW_CONTINUE
:

450 
°ªam
->
îr‹
 =
MAD_ERROR_BUFLEN
);

452 
Áû
:

453 
ªsu…
 = -1;

455 
d⁄e
:

456 
	`mad_sy¡h_föish
(
sy¡h
);

457 
	`mad_‰ame_föish
(
‰ame
);

458 
	`mad_°ªam_föish
(
°ªam
);

460  
ªsu…
;

461 
	}
}

463 #i‡
deföed
(
USE_ASYNC
)

465 
	$run_async
(
mad_decodî
 *
decodî
)

467 
pid_t
 
pid
;

468 
±oc
[2], 
˘›
[2], 
Êags
;

470 i‡(
	`pùe
(
±oc
) == -1)

473 i‡(
	`pùe
(
˘›
) == -1) {

474 
	`˛o£
(
±oc
[0]);

475 
	`˛o£
(
±oc
[1]);

479 
Êags
 = 
	`f˙é
(
±oc
[0], 
F_GETFL
);

480 i‡(
Êags
 == -1 ||

481 
	`f˙é
(
±oc
[0], 
F_SETFL
, 
Êags
 | 
O_NONBLOCK
) == -1) {

482 
	`˛o£
(
˘›
[0]);

483 
	`˛o£
(
˘›
[1]);

484 
	`˛o£
(
±oc
[0]);

485 
	`˛o£
(
±oc
[1]);

489 
pid
 = 
	`f‹k
();

490 i‡(
pid
 == -1) {

491 
	`˛o£
(
˘›
[0]);

492 
	`˛o£
(
˘›
[1]);

493 
	`˛o£
(
±oc
[0]);

494 
	`˛o£
(
±oc
[1]);

498 
decodî
->
async
.
pid
 =Öid;

500 i‡(
pid
) {

503 
	`˛o£
(
±oc
[0]);

504 
	`˛o£
(
˘›
[1]);

506 
decodî
->
async
.
ö
 = 
˘›
[0];

507 
decodî
->
async
.
out
 = 
±oc
[1];

514 
	`˛o£
(
±oc
[1]);

515 
	`˛o£
(
˘›
[0]);

517 
decodî
->
async
.
ö
 = 
±oc
[0];

518 
decodî
->
async
.
out
 = 
˘›
[1];

520 
	`_exô
(
	`run_sync
(
decodî
));

524 
	}
}

531 
	$mad_decodî_run
(
mad_decodî
 *
decodî
, 
mad_decodî_mode
 
mode
)

533 
ªsu…
;

534 (*
run
)(
mad_decodî
 *) = 0;

536 
decodî
->
mode
 = mode) {

537 
MAD_DECODER_MODE_SYNC
:

538 
run
 = 
run_sync
;

541 
MAD_DECODER_MODE_ASYNC
:

542 #i‡
	`deföed
(
USE_ASYNC
)

543 
run
 = 
run_async
;

548 i‡(
run
 == 0)

551 
decodî
->
sync
 = 
	`mÆloc
((*decoder->sync));

552 i‡(
decodî
->
sync
 == 0)

555 
ªsu…
 = 
	`run
(
decodî
);

557 
	`‰ì
(
decodî
->
sync
);

558 
decodî
->
sync
 = 0;

560  
ªsu…
;

561 
	}
}

567 
	$mad_decodî_mesßge
(
mad_decodî
 *
decodî
,

568 *
mesßge
, *
Àn
)

570 #i‡
	`deföed
(
USE_ASYNC
)

571 i‡(
decodî
->
mode
 !
MAD_DECODER_MODE_ASYNC
 ||

572 
	`£nd
(
decodî
->
async
.
out
, 
mesßge
, *
Àn
Ë!
MAD_FLOW_CONTINUE
 ||

573 
	`ª˚ive
(
decodî
->
async
.
ö
, &
mesßge
, 
Àn
Ë!
MAD_FLOW_CONTINUE
)

580 
	}
}

	@libmad/decoder.h

22 #i‚de‡
LIBMAD_DECODER_H


23 
	#LIBMAD_DECODER_H


	)

25 
	~"°ªam.h
"

26 
	~"‰ame.h
"

27 
	~"sy¡h.h
"

29 
	emad_decodî_mode
 {

30 
	mMAD_DECODER_MODE_SYNC
 = 0,

31 
	mMAD_DECODER_MODE_ASYNC


34 
	emad_Êow
 {

35 
	mMAD_FLOW_CONTINUE
 = 0x0000,

36 
	mMAD_FLOW_STOP
 = 0x0010,

37 
	mMAD_FLOW_BREAK
 = 0x0011,

38 
	mMAD_FLOW_IGNORE
 = 0x0020

41 
	smad_decodî
 {

42 
mad_decodî_mode
 
	mmode
;

44 
	m›ti⁄s
;

47 
	mpid
;

48 
	mö
;

49 
	mout
;

50 } 
	masync
;

53 
mad_°ªam
 
	m°ªam
;

54 
mad_‰ame
 
	m‰ame
;

55 
mad_sy¡h
 
	msy¡h
;

56 } *
	msync
;

58 *
	mcb_d©a
;

60 
mad_Êow
 (*
öput_func
)(*, 
	mmad_°ªam
 *);

61 
mad_Êow
 (*
hódî_func
)(*, 
mad_hódî
 const *);

62 
mad_Êow
 (*
fûãr_func
)(*,

63 
mad_°ªam
 c⁄° *, 
	mmad_‰ame
 *);

64 
mad_Êow
 (*
ouçut_func
)(*,

65 
mad_hódî
 c⁄° *, 
	mmad_pcm
 *);

66 
mad_Êow
 (*
îr‹_func
)(*, 
	mmad_°ªam
 *, 
	mmad_‰ame
 *);

67 
mad_Êow
 (*
mesßge_func
)(*, *, *);

70 
mad_decodî_öô
(
mad_decodî
 *, *,

71 
	$mad_Êow
 (*)(*, 
mad_°ªam
 *),

72 
	$mad_Êow
 (*)(*, 
mad_hódî
 const *),

73 
	$mad_Êow
 (*)(*,

74 
mad_°ªam
 const *,

75 
mad_‰ame
 *),

76 
	$mad_Êow
 (*)(*,

77 
mad_hódî
 const *,

78 
mad_pcm
 *),

79 
	$mad_Êow
 (*)(*,

80 
mad_°ªam
 *,

81 
mad_‰ame
 *),

82 
	$mad_Êow
 (*)(*, *, *));

83 
	`mad_decodî_föish
(
mad_decodî
 *);

85 
	#mad_decodî_›ti⁄s
(
decodî
, 
›ts
) \

86 ((Ë((
decodî
)->
›ti⁄s
 = (
›ts
)))

	)

88 
	`mad_decodî_run
(
mad_decodî
 *, 
mad_decodî_mode
);

89 
	`mad_decodî_mesßge
(
mad_decodî
 *, *, *);

	@libmad/fixed.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 
	~"fixed.h
"

32 
mad_fixed_t
 
	$mad_f_abs
(
mad_fixed_t
 
x
)

34  
x
 < 0 ? -x : x;

35 
	}
}

41 
mad_fixed_t
 
	$mad_f_div
(
mad_fixed_t
 
x
, mad_fixed_à
y
)

43 
mad_fixed_t
 
q
, 
r
;

44 
bôs
;

46 
q
 = 
	`mad_f_abs
(
x
 / 
y
);

48 i‡(
x
 < 0) {

49 
x
 = -x;

50 
y
 = -y;

53 
r
 = 
x
 % 
y
;

55 i‡(
y
 < 0) {

56 
x
 = -x;

57 
y
 = -y;

60 i‡(
q
 > 
	`mad_f_öç¨t
(
MAD_F_MAX
) &&

61 !(
q
 =-
	`mad_f_öç¨t
(
MAD_F_MIN
Ë&& 
r
 =0 && (
x
 < 0Ë!(
y
 < 0)))

64 
bôs
 = 
MAD_F_FRACBITS
; bô†&& 
r
; --bits) {

65 
q
 <<1, 
r
 <<= 1;

66 i‡(
r
 >
y
)

67 
r
 -
y
, ++
q
;

71 i‡(2 * 
r
 >
y
)

72 ++
q
;

75 i‡((
x
 < 0Ë!(
y
 < 0))

76 
q
 = -q;

78  
q
 << 
bôs
;

79 
	}
}

	@libmad/fixed.h

22 #i‚de‡
LIBMAD_FIXED_H


23 
	#LIBMAD_FIXED_H


	)

25 #i‡
SIZEOF_INT
 >= 4

26 sig√d 
	tmad_fixed_t
;

28 sig√d 
	tmad_fixed64hi_t
;

29 
	tmad_fixed64lo_t
;

31 sig√d 
	tmad_fixed_t
;

33 sig√d 
	tmad_fixed64hi_t
;

34 
	tmad_fixed64lo_t
;

37 #i‡
deföed
(
_MSC_VER
)

38 
	#mad_fixed64_t
 sig√d 
__öt64


	)

39 #ñi‡1 || 
deföed
(
__GNUC__
)

40 
	#mad_fixed64_t
 sig√d 

	)

43 #i‡
deföed
(
FPM_FLOAT
)

44 
	tmad_ßm∂e_t
;

46 
mad_fixed_t
 
	tmad_ßm∂e_t
;

72 
	#MAD_F_FRACBITS
 28

	)

74 #i‡
MAD_F_FRACBITS
 == 28

75 
	#MAD_F
(
x
Ë((
mad_fixed_t
Ë(x##
L
))

	)

77 #i‡
MAD_F_FRACBITS
 < 28

79 
	#MAD_F
(
x
Ë((
mad_fixed_t
) \

80 (((
x
##
L
) + \

81 (1L << (28 - 
MAD_F_FRACBITS
 - 1))) >> \

82 (28 - 
MAD_F_FRACBITS
)))

	)

83 #ñi‡
MAD_F_FRACBITS
 > 28

85 
	#MAD_F
(
x
Ë((
mad_fixed_t
) \

86 ((
x
##
L
Ë<< (
MAD_F_FRACBITS
 - 28)))

	)

90 
	#MAD_F_MIN
 ((
mad_fixed_t
Ë-0x80000000L)

	)

91 
	#MAD_F_MAX
 ((
mad_fixed_t
Ë+0x7fffffffL)

	)

93 
	#MAD_F_ONE
 
	`MAD_F
(0x10000000)

	)

95 
	#mad_f_tofixed
(
x
Ë((
mad_fixed_t
) \

96 ((
x
Ë* (Ë(1L << 
MAD_F_FRACBITS
Ë+ 0.5))

	)

97 
	#mad_f_todoubÀ
(
x
) (() \

98 ((
x
Ë/ (Ë(1L << 
MAD_F_FRACBITS
)))

	)

100 
	#mad_f_öç¨t
(
x
Ë((xË>> 
MAD_F_FRACBITS
)

	)

101 
	#mad_f_‰a˝¨t
(
x
Ë((xË& ((1L << 
MAD_F_FRACBITS
Ë- 1))

	)

104 
	#mad_f_‰omöt
(
x
Ë((xË<< 
MAD_F_FRACBITS
)

	)

106 
	#mad_f_add
(
x
, 
y
Ë((xË+ (y))

	)

107 
	#mad_f_sub
(
x
, 
y
Ë((xË- (y))

	)

109 #i‡
deföed
(
FPM_FLOAT
)

112 #unde‡
MAD_F


113 
	#MAD_F
(
x
Ë
	`mad_f_todoubÀ
(x)

	)

115 
	#mad_f_mul
(
x
, 
y
Ë((xË* (y))

	)

116 
	#mad_f_sˇÀ64


	)

118 #unde‡
ASO_ZEROCHECK


120 #ñi‡
deföed
(
FPM_64BIT
)

126 #i‡
deföed
(
OPT_ACCURACY
)

127 
	#mad_f_mul
(
x
, 
y
) \

128 ((
mad_fixed_t
) \

129 ((((
mad_fixed64_t
Ë(
x
Ë* (
y
)) + \

130 (1L << (
MAD_F_SCALEBITS
 - 1))Ë>> MAD_F_SCALEBITS))

	)

132 
	#mad_f_mul
(
x
, 
y
) \

133 ((
mad_fixed_t
Ë(((
mad_fixed64_t
Ë(
x
Ë* (
y
)Ë>> 
MAD_F_SCALEBITS
))

	)

136 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

140 #ñi‡
deföed
(
FPM_INTEL
)

142 #i‡
deföed
(
_MSC_VER
)

143 #¥agm®
w¨nög
(
push
)

144 #¥agm®
w¨nög
(
dißbÀ
: 4035)

145 
__f‹˚ölöe


146 
mad_fixed_t
 
	$mad_f_mul_ölöe
(
mad_fixed_t
 
x
, mad_fixed_à
y
)

149 
‰acbôs
 = 
MAD_F_FRACBITS


152 
__asm
 {

153 
mov
 
óx
, 
x


154 
imul
 
y


155 
shrd
 
óx
, 
edx
, 
‰acbôs


159 
	}
}

160 #¥agm®
w¨nög
(
p›
)

162 
	#mad_f_mul
 
mad_f_mul_ölöe


	)

163 
	#mad_f_sˇÀ64


	)

169 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

170 
	`asm
 ("imull %3" \

171 : "˜" (
lo
), "=d" (
hi
) \

172 : "%a" (
x
), "rm" (
y
) \

173 : "cc")

	)

175 #i‡
deföed
(
OPT_ACCURACY
)

179 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

180 ({ 
mad_fixed64hi_t
 
__hi
; \

181 
mad_fixed64lo_t
 
__lo
; \

182 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

183 
	`asm
 ("addl %2,%0\n\t" \

185 : "Ùm" (
lo
), "Ùm" (
hi
) \

186 : "r" (
__lo
), "r" (
__hi
), "0" (
lo
), "1" (
hi
) \

188 })

	)

191 #i‡
deföed
(
OPT_ACCURACY
)

195 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

196 ({ 
mad_fixed64hi_t
 
__hi_
; \

197 
mad_fixed64lo_t
 
__lo_
; \

198 
mad_fixed_t
 
__ªsu…
; \

199 
	`asm
 ("addl %4,%2\n\t" \

201 : "Ùm" (
__lo_
), "Ùm" (
__hi_
) \

202 : "0" (
lo
), "1" (
hi
), \

203 "ú" (1L << (
MAD_F_SCALEBITS
 - 1)), "ir" (0) \

205 
	`asm
 ("shrdl %3,%2,%1" \

206 : "Ùm" (
__ªsu…
) \

207 : "0" (
__lo_
), "r" (
__hi_
), "I" (
MAD_F_SCALEBITS
) \

209 
__ªsu…
; \

210 })

	)

211 #ñi‡
deföed
(
OPT_INTEL
)

215 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

216 ({ 
mad_fixed_t
 
__ªsu…
; \

217 
	`asm
 ("shrl %3,%1\n\t" \

220 : "Ùm" (
__ªsu…
) \

221 : "0" (
lo
), "r" (
hi
), \

222 "I" (
MAD_F_SCALEBITS
), "I" (32 - MAD_F_SCALEBITS) \

224 
__ªsu…
; \

225 })

	)

227 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

228 ({ 
mad_fixed_t
 
__ªsu…
; \

229 
	`asm
 ("shrdl %3,%2,%1" \

230 : "Ùm" (
__ªsu…
) \

231 : "0" (
lo
), "r" (
hi
), "I" (
MAD_F_SCALEBITS
) \

233 
__ªsu…
; \

234 })

	)

237 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

242 #ñi‡
deföed
(
FPM_ARM
)

253 
	#mad_f_mul
(
x
, 
y
) \

254 ({ 
mad_fixed64hi_t
 
__hi
; \

255 
mad_fixed64lo_t
 
__lo
; \

256 
mad_fixed_t
 
__ªsu…
; \

257 
	`asm
 ("smull %0, %1, %3, %4\n\t" \

260 : "=&r" (
__lo
), "=&r" (
__hi
), "Ù" (
__ªsu…
) \

261 : "%r" (
x
), "r" (
y
), \

262 "M" (
MAD_F_SCALEBITS
), "M" (32 - MAD_F_SCALEBITS) \

264 
__ªsu…
; \

265 })

	)

268 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

269 
	`asm
 ("smull %0, %1, %2, %3" \

270 : "=&r" (
lo
), "=&r" (
hi
) \

271 : "%r" (
x
), "r" (
y
))

	)

273 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

274 
	`asm
 ("smlal %0, %1, %2, %3" \

275 : "+r" (
lo
), "+r" (
hi
) \

276 : "%r" (
x
), "r" (
y
))

	)

278 
	#MAD_F_MLN
(
hi
, 
lo
) \

279 
	`asm
 ("rsbs %0, %2, #0\n\t" \

281 : "Ù" (
lo
), "Ù" (
hi
) \

282 : "0" (
lo
), "1" (
hi
) \

283 : "cc")

	)

285 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

286 ({ 
mad_fixed_t
 
__ªsu…
; \

287 
	`asm
 ("movs %0, %1,Üsr %3\n\t" \

289 : "=&r" (
__ªsu…
) \

290 : "r" (
lo
), "r" (
hi
), \

291 "M" (
MAD_F_SCALEBITS
), "M" (32 - MAD_F_SCALEBITS) \

293 
__ªsu…
; \

294 })

	)

296 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

300 #ñi‡
deföed
(
FPM_MIPS
)

306 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

307 
	`asm
 ("mult %2,%3" \

308 : "ˆ" (
lo
), "=h" (
hi
) \

309 : "%r" (
x
), "r" (
y
))

	)

311 #i‡
deföed
(
HAVE_MADD_ASM
)

312 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

313 
	`asm
 ("madd %2,%3" \

314 : "+l" (
lo
), "+h" (
hi
) \

315 : "%r" (
x
), "r" (
y
))

	)

316 #ñi‡
deföed
(
HAVE_MADD16_ASM
)

321 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
) \

322 
	`asm
 ("mult %2,%3" \

323 : "ˆ" (
lo
), "=h" (
hi
) \

324 : "%r" ((
x
Ë>> 12), "r" ((
y
Ë>> 16))

	)

325 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

326 
	`asm
 ("madd16 %2,%3" \

327 : "+l" (
lo
), "+h" (
hi
) \

328 : "%r" ((
x
Ë>> 12), "r" ((
y
Ë>> 16))

	)

329 
	#MAD_F_MLZ
(
hi
, 
lo
Ë((
mad_fixed_t
Ë÷o))

	)

332 #i‡
deföed
(
OPT_SPEED
)

333 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

334 ((
mad_fixed_t
Ë((
hi
Ë<< (32 - 
MAD_F_SCALEBITS
)))

	)

335 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

340 #ñi‡
deföed
(
FPM_SPARC
)

346 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

347 
	`asm
 ("smul %2, %3, %0\n\t" \

349 : "Ù" (
lo
), "Ù" (
hi
) \

350 : "%r" (
x
), "rI" (
y
))

	)

354 #ñi‡
deföed
(
FPM_PPC
)

360 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

362 
	`asm
 ("mullw %0,%1,%2" \

363 : "Ù" (
lo
) \

364 : "%r" (
x
), "r" (
y
)); \

365 
	`asm
 ("mulhw %0,%1,%2" \

366 : "Ù" (
hi
) \

367 : "%r" (
x
), "r" (
y
)); \

369 0)

	)

371 #i‡
deföed
(
OPT_ACCURACY
)

375 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

376 ({ 
mad_fixed64hi_t
 
__hi
; \

377 
mad_fixed64lo_t
 
__lo
; \

378 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

379 
	`asm
 ("addc %0,%2,%3\n\t" \

381 : "Ù" (
lo
), "Ù" (
hi
) \

382 : "%r" (
lo
), "r" (
__lo
), \

383 "%r" (
hi
), "r" (
__hi
) \

385 })

	)

388 #i‡
deföed
(
OPT_ACCURACY
)

392 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

393 ({ 
mad_fixed_t
 
__ªsu…
, 
__round
; \

394 
	`asm
 ("rotrwi %0,%1,%2" \

395 : "Ù" (
__ªsu…
) \

396 : "r" (
lo
), "i" (
MAD_F_SCALEBITS
)); \

397 
	`asm
 ("extrwi %0,%1,1,0" \

398 : "Ù" (
__round
) \

399 : "r" (
__ªsu…
)); \

400 
	`asm
 ("insrwi %0,%1,%2,0" \

401 : "+r" (
__ªsu…
) \

402 : "r" (
hi
), "i" (
MAD_F_SCALEBITS
)); \

403 
	`asm
 ("add %0,%1,%2" \

404 : "Ù" (
__ªsu…
) \

405 : "%r" (
__ªsu…
), "r" (
__round
)); \

406 
__ªsu…
; \

407 })

	)

409 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

410 ({ 
mad_fixed_t
 
__ªsu…
; \

411 
	`asm
 ("rotrwi %0,%1,%2" \

412 : "Ù" (
__ªsu…
) \

413 : "r" (
lo
), "i" (
MAD_F_SCALEBITS
)); \

414 
	`asm
 ("insrwi %0,%1,%2,0" \

415 : "+r" (
__ªsu…
) \

416 : "r" (
hi
), "i" (
MAD_F_SCALEBITS
)); \

417 
__ªsu…
; \

418 })

	)

421 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

425 #ñi‡
deföed
(
FPM_DEFAULT
)

436 #i‡
deföed
(
OPT_SPEED
)

437 
	#mad_f_mul
(
x
, 
y
Ë(((xË>> 12Ë* ((yË>> 16))

	)

439 
	#mad_f_mul
(
x
, 
y
) ((((x) + (1L << 11)) >> 12) * \

440 (((
y
Ë+ (1L << 15)Ë>> 16))

	)

451 #i‡!
deföed
(
mad_f_mul
)

452 
	#mad_f_mul
(
x
, 
y
) \

453 ({ 
mad_fixed64hi_t
 
__hi
; \

454 
mad_fixed64lo_t
 
__lo
; \

455 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

456 
	`mad_f_sˇÀ64
(
__hi
, 
__lo
); \

457 })

	)

460 #i‡!
deföed
(
MAD_F_MLA
)

461 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË
	`mad_f_mul
((x), (y)))

	)

462 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË+
	`mad_f_mul
((x), (y)))

	)

463 
	#MAD_F_MLN
(
hi
, 
lo
Ë(÷oË-÷o))

	)

464 
	#MAD_F_MLZ
(
hi
, 
lo
Ë((Ë(hi), (
mad_fixed_t
Ë÷o))

	)

467 #i‡!
deföed
(
MAD_F_ML0
)

468 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
Ë
	`MAD_F_MLX
((hi), (lo), (x), (y))

	)

471 #i‡!
deföed
(
MAD_F_MLN
)

472 
	#MAD_F_MLN
(
hi
, 
lo
Ë((hiË(÷oË-÷o)Ë? ~(hiË: -(hi))

	)

475 #i‡!
deföed
(
MAD_F_MLZ
)

476 
	#MAD_F_MLZ
(
hi
, 
lo
Ë
	`mad_f_sˇÀ64
((hi), (lo))

	)

479 #i‡!
deföed
(
mad_f_sˇÀ64
)

480 #i‡
deföed
(
OPT_ACCURACY
)

481 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

482 ((((
mad_fixed_t
) \

483 (((
hi
Ë<< (32 - (
MAD_F_SCALEBITS
 - 1))) | \

484 ((
lo
Ë>> (
MAD_F_SCALEBITS
 - 1)))Ë+ 1Ë>> 1)

	)

486 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

487 ((
mad_fixed_t
) \

488 (((
hi
Ë<< (32 - 
MAD_F_SCALEBITS
)) | \

489 ((
lo
Ë>> 
MAD_F_SCALEBITS
)))

	)

491 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

496 
mad_fixed_t
 
mad_f_abs
(mad_fixed_t);

497 
mad_fixed_t
 
mad_f_div
(mad_fixed_t, mad_fixed_t);

	@libmad/frame.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 
	~<°dlib.h
>

28 
	~"bô.h
"

29 
	~"°ªam.h
"

30 
	~"‰ame.h
"

31 
	~"timî.h
"

32 
	~"œyî12.h
"

33 
	~"œyî3.h
"

36 c⁄° 
	gbôøã_èbÀ
[5][15] = {

53 c⁄° 
	gßm∂î©e_èbÀ
[3] = { 44100, 48000, 32000 };

56 (*c⁄° 
decodî_èbÀ
[3])(
mad_°ªam
 *, 
mad_‰ame
 *) = {

57 
mad_œyî_I
,

58 
mad_œyî_II
,

59 
mad_œyî_III


60 
	}
};

66 
	$mad_hódî_öô
(
mad_hódî
 *
hódî
)

68 
hódî
->
œyî
 = 0;

69 
hódî
->
mode
 = 0;

70 
hódî
->
mode_exãnsi⁄
 = 0;

71 
hódî
->
emphasis
 = 0;

73 
hódî
->
bôøã
 = 0;

74 
hódî
->
ßm∂î©e
 = 0;

76 
hódî
->
¸c_check
 = 0;

77 
hódî
->
¸c_èrgë
 = 0;

79 
hódî
->
Êags
 = 0;

80 
hódî
->
¥iv©e_bôs
 = 0;

82 
hódî
->
duøti⁄
 = 
mad_timî_zîo
;

83 
	}
}

89 
	$mad_‰ame_öô
(
mad_‰ame
 *
‰ame
)

91 
	`mad_hódî_öô
(&
‰ame
->
hódî
);

93 
‰ame
->
›ti⁄s
 = 0;

95 
‰ame
->
ovîœp
 = 0;

96 
	`mad_‰ame_muã
(
‰ame
);

97 
	}
}

103 
	$mad_‰ame_föish
(
mad_‰ame
 *
‰ame
)

105 
	`mad_hódî_föish
(&
‰ame
->
hódî
);

107 i‡(
‰ame
->
ovîœp
) {

108 
	`‰ì
(
‰ame
->
ovîœp
);

109 
‰ame
->
ovîœp
 = 0;

111 
	}
}

118 
	$decode_hódî
(
mad_hódî
 *
hódî
, 
mad_°ªam
 *
°ªam
)

120 
ödex
;

122 
hódî
->
Êags
 = 0;

123 
hódî
->
¥iv©e_bôs
 = 0;

128 
	`mad_bô_skù
(&
°ªam
->
±r
, 11);

131 i‡(
	`mad_bô_ªad
(&
°ªam
->
±r
, 1) == 0)

132 
hódî
->
Êags
 |
MAD_FLAG_MPEG_2_5_EXT
;

135 i‡(
	`mad_bô_ªad
(&
°ªam
->
±r
, 1) == 0)

136 
hódî
->
Êags
 |
MAD_FLAG_LSF_EXT
;

137 i‡(
hódî
->
Êags
 & 
MAD_FLAG_MPEG_2_5_EXT
) {

138 
°ªam
->
îr‹
 = 
MAD_ERROR_LOSTSYNC
;

143 
hódî
->
œyî
 = 4 - 
	`mad_bô_ªad
(&
°ªam
->
±r
, 2);

145 i‡(
hódî
->
œyî
 == 4) {

146 
°ªam
->
îr‹
 = 
MAD_ERROR_BADLAYER
;

151 i‡(
	`mad_bô_ªad
(&
°ªam
->
±r
, 1) == 0) {

152 
hódî
->
Êags
 |
MAD_FLAG_PROTECTION
;

153 
hódî
->
¸c_check
 = 
	`mad_bô_¸c
(
°ªam
->
±r
, 16, 0xffff);

157 
ödex
 = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 4);

159 i‡(
ödex
 == 15) {

160 
°ªam
->
îr‹
 = 
MAD_ERROR_BADBITRATE
;

164 i‡(
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
)

165 
hódî
->
bôøã
 = 
bôøã_èbÀ
[3 + (hódî->
œyî
 >> 1)][
ödex
];

167 
hódî
->
bôøã
 = 
bôøã_èbÀ
[hódî->
œyî
 - 1][
ödex
];

170 
ödex
 = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 2);

172 i‡(
ödex
 == 3) {

173 
°ªam
->
îr‹
 = 
MAD_ERROR_BADSAMPLERATE
;

177 
hódî
->
ßm∂î©e
 = 
ßm∂î©e_èbÀ
[
ödex
];

179 i‡(
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
) {

180 
hódî
->
ßm∂î©e
 /= 2;

182 i‡(
hódî
->
Êags
 & 
MAD_FLAG_MPEG_2_5_EXT
)

183 
hódî
->
ßm∂î©e
 /= 2;

187 i‡(
	`mad_bô_ªad
(&
°ªam
->
±r
, 1))

188 
hódî
->
Êags
 |
MAD_FLAG_PADDING
;

191 i‡(
	`mad_bô_ªad
(&
°ªam
->
±r
, 1))

192 
hódî
->
¥iv©e_bôs
 |
MAD_PRIVATE_HEADER
;

195 
hódî
->
mode
 = 3 - 
	`mad_bô_ªad
(&
°ªam
->
±r
, 2);

198 
hódî
->
mode_exãnsi⁄
 = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 2);

201 i‡(
	`mad_bô_ªad
(&
°ªam
->
±r
, 1))

202 
hódî
->
Êags
 |
MAD_FLAG_COPYRIGHT
;

205 i‡(
	`mad_bô_ªad
(&
°ªam
->
±r
, 1))

206 
hódî
->
Êags
 |
MAD_FLAG_ORIGINAL
;

209 
hódî
->
emphasis
 = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 2);

211 #i‡
	`deföed
(
OPT_STRICT
)

217 i‡(
hódî
->
emphasis
 =
MAD_EMPHASIS_RESERVED
) {

218 
°ªam
->
îr‹
 = 
MAD_ERROR_BADEMPHASIS
;

226 i‡(
hódî
->
Êags
 & 
MAD_FLAG_PROTECTION
)

227 
hódî
->
¸c_èrgë
 = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 16);

230 
	}
}

237 
	$‰ì_bôøã
(
mad_°ªam
 *
°ªam
, 
mad_hódî
 c⁄° *
hódî
)

239 
mad_bô±r
 
kìp_±r
;

240 
øã
 = 0;

241 
∑d_¶Ÿ
, 
¶Ÿs_≥r_‰ame
;

242 c⁄° *
±r
 = 0;

244 
kìp_±r
 = 
°ªam
->
±r
;

246 
∑d_¶Ÿ
 = (
hódî
->
Êags
 & 
MAD_FLAG_PADDING
) ? 1 : 0;

247 
¶Ÿs_≥r_‰ame
 = (
hódî
->
œyî
 =
MAD_LAYER_III
 &&

248 (
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
)) ? 72 : 144;

250 
	`mad_°ªam_sync
(
°ªam
) == 0) {

251 
mad_°ªam
 
≥ek_°ªam
;

252 
mad_hódî
 
≥ek_hódî
;

254 
≥ek_°ªam
 = *
°ªam
;

255 
≥ek_hódî
 = *
hódî
;

257 i‡(
	`decode_hódî
(&
≥ek_hódî
, &
≥ek_°ªam
) == 0 &&

258 
≥ek_hódî
.
œyî
 =
hódî
->layer &&

259 
≥ek_hódî
.
ßm∂î©e
 =
hódî
->samplerate) {

260 
N
;

262 
±r
 = 
	`mad_bô_√xtbyã
(&
°ªam
->ptr);

264 
N
 = 
±r
 - 
°ªam
->
this_‰ame
;

266 i‡(
hódî
->
œyî
 =
MAD_LAYER_I
) {

267 
øã
 = (Ë
hódî
->
ßm∂î©e
 *

268 (
N
 - 4 * 
∑d_¶Ÿ
 + 4) / 48 / 1000;

271 
øã
 = (Ë
hódî
->
ßm∂î©e
 *

272 (
N
 - 
∑d_¶Ÿ
 + 1Ë/ 
¶Ÿs_≥r_‰ame
 / 1000;

275 i‡(
øã
 >= 8)

279 
	`mad_bô_skù
(&
°ªam
->
±r
, 8);

282 
°ªam
->
±r
 = 
kìp_±r
;

284 i‡(
øã
 < 8 || (
hódî
->
œyî
 =
MAD_LAYER_III
 &&Ñate > 640)) {

285 
°ªam
->
îr‹
 = 
MAD_ERROR_LOSTSYNC
;

289 
°ªam
->
‰ìøã
 = 
øã
 * 1000;

292 
	}
}

298 
	$mad_hódî_decode
(
mad_hódî
 *
hódî
, 
mad_°ªam
 *
°ªam
)

300 c⁄° *
±r
, *
íd
;

301 
∑d_¶Ÿ
, 
N
;

303 
±r
 = 
°ªam
->
√xt_‰ame
;

304 
íd
 = 
°ªam
->
bu„nd
;

306 i‡(
±r
 == 0) {

307 
°ªam
->
îr‹
 = 
MAD_ERROR_BUFPTR
;

308 
Áû
;

312 i‡(
°ªam
->
skùÀn
) {

313 i‡(!
°ªam
->
sync
)

314 
±r
 = 
°ªam
->
this_‰ame
;

316 i‡(
íd
 - 
±r
 < 
°ªam
->
skùÀn
) {

317 
°ªam
->
skùÀn
 -
íd
 - 
±r
;

318 
°ªam
->
√xt_‰ame
 = 
íd
;

320 
°ªam
->
îr‹
 = 
MAD_ERROR_BUFLEN
;

321 
Áû
;

324 
±r
 +
°ªam
->
skùÀn
;

325 
°ªam
->
skùÀn
 = 0;

327 
°ªam
->
sync
 = 1;

330 
sync
:

332 i‡(
°ªam
->
sync
) {

333 i‡(
íd
 - 
±r
 < 
MAD_BUFFER_GUARD
) {

334 
°ªam
->
√xt_‰ame
 = 
±r
;

336 
°ªam
->
îr‹
 = 
MAD_ERROR_BUFLEN
;

337 
Áû
;

339 i‡(!(
±r
[0] == 0xff && (ptr[1] & 0xe0) == 0xe0)) {

341 
°ªam
->
this_‰ame
 = 
±r
;

342 
°ªam
->
√xt_‰ame
 = 
±r
 + 1;

344 
°ªam
->
îr‹
 = 
MAD_ERROR_LOSTSYNC
;

345 
Áû
;

349 
	`mad_bô_öô
(&
°ªam
->
±r
,Ötr);

351 i‡(
	`mad_°ªam_sync
(
°ªam
) == -1) {

352 i‡(
íd
 - 
°ªam
->
√xt_‰ame
 >
MAD_BUFFER_GUARD
)

353 
°ªam
->
√xt_‰ame
 = 
íd
 - 
MAD_BUFFER_GUARD
;

355 
°ªam
->
îr‹
 = 
MAD_ERROR_BUFLEN
;

356 
Áû
;

359 
±r
 = 
	`mad_bô_√xtbyã
(&
°ªam
->ptr);

363 
°ªam
->
this_‰ame
 = 
±r
;

364 
°ªam
->
√xt_‰ame
 = 
±r
 + 1;

366 
	`mad_bô_öô
(&
°ªam
->
±r
, såóm->
this_‰ame
);

368 i‡(
	`decode_hódî
(
hódî
, 
°ªam
) == -1)

369 
Áû
;

372 
	`mad_timî_£t
(&
hódî
->
duøti⁄
, 0,

373 32 * 
	`MAD_NSBSAMPLES
(
hódî
), hódî->
ßm∂î©e
);

376 i‡(
hódî
->
bôøã
 == 0) {

377 i‡((
°ªam
->
‰ìøã
 =0 || !°ªam->
sync
 ||

378 (
hódî
->
œyî
 =
MAD_LAYER_III
 && 
°ªam
->
‰ìøã
 > 640000)) &&

379 
	`‰ì_bôøã
(
°ªam
, 
hódî
) == -1)

380 
Áû
;

382 
hódî
->
bôøã
 = 
°ªam
->
‰ìøã
;

383 
hódî
->
Êags
 |
MAD_FLAG_FREEFORMAT
;

387 
∑d_¶Ÿ
 = (
hódî
->
Êags
 & 
MAD_FLAG_PADDING
) ? 1 : 0;

389 i‡(
hódî
->
œyî
 =
MAD_LAYER_I
)

390 
N
 = ((12 * 
hódî
->
bôøã
 / hódî->
ßm∂î©e
Ë+ 
∑d_¶Ÿ
) * 4;

392 
¶Ÿs_≥r_‰ame
;

394 
¶Ÿs_≥r_‰ame
 = (
hódî
->
œyî
 =
MAD_LAYER_III
 &&

395 (
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
)) ? 72 : 144;

397 
N
 = (
¶Ÿs_≥r_‰ame
 * 
hódî
->
bôøã
 / hódî->
ßm∂î©e
Ë+ 
∑d_¶Ÿ
;

401 i‡(
N
 + 
MAD_BUFFER_GUARD
 > 
íd
 - 
°ªam
->
this_‰ame
) {

402 
°ªam
->
√xt_‰ame
 = såóm->
this_‰ame
;

404 
°ªam
->
îr‹
 = 
MAD_ERROR_BUFLEN
;

405 
Áû
;

408 
°ªam
->
√xt_‰ame
 = såóm->
this_‰ame
 + 
N
;

410 i‡(!
°ªam
->
sync
) {

413 
±r
 = 
°ªam
->
√xt_‰ame
;

414 i‡(!(
±r
[0] == 0xff && (ptr[1] & 0xe0) == 0xe0)) {

415 
±r
 = 
°ªam
->
√xt_‰ame
 = såóm->
this_‰ame
 + 1;

416 
sync
;

419 
°ªam
->
sync
 = 1;

422 
hódî
->
Êags
 |
MAD_FLAG_INCOMPLETE
;

426 
Áû
:

427 
°ªam
->
sync
 = 0;

430 
	}
}

436 
	$mad_‰ame_decode
(
mad_‰ame
 *
‰ame
, 
mad_°ªam
 *
°ªam
)

438 
‰ame
->
›ti⁄s
 = 
°ªam
->options;

443 i‡(!(
‰ame
->
hódî
.
Êags
 & 
MAD_FLAG_INCOMPLETE
) &&

444 
	`mad_hódî_decode
(&
‰ame
->
hódî
, 
°ªam
) == -1)

445 
Áû
;

449 
‰ame
->
hódî
.
Êags
 &~
MAD_FLAG_INCOMPLETE
;

451 i‡(
decodî_èbÀ
[
‰ame
->
hódî
.
œyî
 - 1](
°ªam
, frame) == -1) {

452 i‡(!
	`MAD_RECOVERABLE
(
°ªam
->
îr‹
))

453 
°ªam
->
√xt_‰ame
 = såóm->
this_‰ame
;

455 
Áû
;

460 i‡(
‰ame
->
hódî
.
œyî
 !
MAD_LAYER_III
) {

461 
mad_bô±r
 
√xt_‰ame
;

463 
	`mad_bô_öô
(&
√xt_‰ame
, 
°ªam
->next_frame);

465 
°ªam
->
™c_±r
 = såóm->
±r
;

466 
°ªam
->
™c_bôÀn
 = 
	`mad_bô_Àngth
(&°ªam->
±r
, &
√xt_‰ame
);

468 
	`mad_bô_föish
(&
√xt_‰ame
);

473 
Áû
:

474 
°ªam
->
™c_bôÀn
 = 0;

476 
	}
}

482 
	$mad_‰ame_muã
(
mad_‰ame
 *
‰ame
)

484 
s
, 
sb
;

486 
s
 = 0; s < 36; ++s) {

487 
sb
 = 0; sb < 32; ++sb) {

488 
‰ame
->
sbßm∂e
[0][
s
][
sb
] =

489 
‰ame
->
sbßm∂e
[1][
s
][
sb
] = 0;

493 i‡(
‰ame
->
ovîœp
) {

494 
s
 = 0; s < 18; ++s) {

495 
sb
 = 0; sb < 32; ++sb) {

496 (*
‰ame
->
ovîœp
)[0][
sb
][
s
] =

497 (*
‰ame
->
ovîœp
)[1][
sb
][
s
] = 0;

501 
	}
}

	@libmad/frame.h

22 #i‚de‡
LIBMAD_FRAME_H


23 
	#LIBMAD_FRAME_H


	)

25 
	~"fixed.h
"

26 
	~"timî.h
"

27 
	~"°ªam.h
"

29 
	emad_œyî
 {

30 
	mMAD_LAYER_I
 = 1,

31 
	mMAD_LAYER_II
 = 2,

32 
	mMAD_LAYER_III
 = 3

35 
	emad_mode
 {

36 
	mMAD_MODE_SINGLE_CHANNEL
 = 0,

37 
	mMAD_MODE_DUAL_CHANNEL
 = 1,

38 
	mMAD_MODE_JOINT_STEREO
 = 2,

39 
	mMAD_MODE_STEREO
 = 3

42 
	emad_emphasis
 {

43 
	mMAD_EMPHASIS_NONE
 = 0,

44 
	mMAD_EMPHASIS_50_15_US
 = 1,

45 
	mMAD_EMPHASIS_CCITT_J_17
 = 3,

46 
	mMAD_EMPHASIS_RESERVED
 = 2

49 
	smad_hódî
 {

50 
mad_œyî
 
	mœyî
;

51 
mad_mode
 
	mmode
;

52 
	mmode_exãnsi⁄
;

53 
mad_emphasis
 
	memphasis
;

55 
	mbôøã
;

56 
	mßm∂î©e
;

58 
	m¸c_check
;

59 
	m¸c_èrgë
;

61 
	mÊags
;

62 
	m¥iv©e_bôs
;

64 
mad_timî_t
 
	mduøti⁄
;

67 
	smad_‰ame
 {

68 
mad_hódî
 
	mhódî
;

70 
	m›ti⁄s
;

72 
mad_fixed_t
 
	msbßm∂e
[2][36][32];

73 
mad_fixed_t
 (*
ovîœp
)[2][32][18];

76 
	#MAD_NCHANNELS
(
hódî
Ë((hódî)->
mode
 ? 2 : 1)

	)

77 
	#MAD_NSBSAMPLES
(
hódî
) \

78 ((
hódî
)->
œyî
 =
MAD_LAYER_I
 ? 12 : \

79 (((
hódî
)->
œyî
 =
MAD_LAYER_III
 && \

80 ((
hódî
)->
Êags
 & 
MAD_FLAG_LSF_EXT
)Ë? 18 : 36))

	)

83 
	mMAD_FLAG_NPRIVATE_III
 = 0x0007,

84 
	mMAD_FLAG_INCOMPLETE
 = 0x0008,

86 
	mMAD_FLAG_PROTECTION
 = 0x0010,

87 
	mMAD_FLAG_COPYRIGHT
 = 0x0020,

88 
	mMAD_FLAG_ORIGINAL
 = 0x0040,

89 
	mMAD_FLAG_PADDING
 = 0x0080,

91 
	mMAD_FLAG_I_STEREO
 = 0x0100,

92 
	mMAD_FLAG_MS_STEREO
 = 0x0200,

93 
	mMAD_FLAG_FREEFORMAT
 = 0x0400,

95 
	mMAD_FLAG_LSF_EXT
 = 0x1000,

96 
	mMAD_FLAG_MC_EXT
 = 0x2000,

97 
	mMAD_FLAG_MPEG_2_5_EXT
 = 0x4000

101 
	mMAD_PRIVATE_HEADER
 = 0x0100,

102 
	mMAD_PRIVATE_III
 = 0x001f

105 
mad_hódî_öô
(
mad_hódî
 *);

107 
	#mad_hódî_föish
(
hódî
Ë

	)

109 
mad_hódî_decode
(
mad_hódî
 *, 
mad_°ªam
 *);

111 
mad_‰ame_öô
(
mad_‰ame
 *);

112 
mad_‰ame_föish
(
mad_‰ame
 *);

114 
mad_‰ame_decode
(
mad_‰ame
 *, 
mad_°ªam
 *);

116 
mad_‰ame_muã
(
mad_‰ame
 *);

	@libmad/huffman.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 
	~"huffm™.h
"

35 #i‡
deföed
(
__GNUC__
) || \

36 (
deföed
(
__STDC_VERSION__
Ë&& 
	g__STDC_VERSION__
 >= 199901)

37 
	#PTR
(
offs
, 
bôs
Ë{ .
±r
 = { 0, bôs, off†} }

	)

38 
	#V
(
v
, 
w
, 
x
, 
y
, 
hÀn
Ë{ .
vÆue
 = { 1, hÀn, v, w, x, y } }

	)

40 
	#PTR
(
offs
, 
bôs
Ë{ { 0, bôs, off†} }

	)

41 #i‡
deföed
(
WORDS_BIGENDIAN
)

42 
	#V
(
v
, 
w
, 
x
, 
y
, 
hÀn
) { { 1, hlen, (v << 11) | (w << 10) | \

43 (
x
 << 9Ë| (
y
 << 8Ë} }

	)

45 
	#V
(
v
, 
w
, 
x
, 
y
, 
hÀn
) { { 1, hlen, (v << 0) | (w << 1) | \

46 (
x
 << 2Ë| (
y
 << 3Ë} }

	)

51 
huffquad
 c⁄° 
	ghuf·abA
[] = {

52  
PTR
(16, 2),

53  
PTR
(20, 2),

54  
PTR
(24, 1),

55  
PTR
(26, 1),

56  
V
(0, 0, 1, 0, 4),

57  
V
(0, 0, 0, 1, 4),

58  
V
(0, 1, 0, 0, 4),

59  
V
(1, 0, 0, 0, 4),

60  
V
(0, 0, 0, 0, 1),

61  
V
(0, 0, 0, 0, 1),

62  
V
(0, 0, 0, 0, 1),

63  
V
(0, 0, 0, 0, 1),

64  
V
(0, 0, 0, 0, 1),

65  
V
(0, 0, 0, 0, 1),

66  
V
(0, 0, 0, 0, 1),

67  
V
(0, 0, 0, 0, 1),

70  
V
(1, 0, 1, 1, 2),

71  
V
(1, 1, 1, 1, 2),

72  
V
(1, 1, 0, 1, 2),

73  
V
(1, 1, 1, 0, 2),

76  
V
(0, 1, 1, 1, 2),

77  
V
(0, 1, 0, 1, 2),

78  
V
(1, 0, 0, 1, 1),

79  
V
(1, 0, 0, 1, 1),

82  
V
(0, 1, 1, 0, 1),

83  
V
(0, 0, 1, 1, 1),

86  
V
(1, 0, 1, 0, 1),

87  
V
(1, 1, 0, 0, 1)

91 
huffquad
 c⁄° 
	ghuf·abB
[] = {

92  
V
(1, 1, 1, 1, 4),

93  
V
(1, 1, 1, 0, 4),

94  
V
(1, 1, 0, 1, 4),

95  
V
(1, 1, 0, 0, 4),

96  
V
(1, 0, 1, 1, 4),

97  
V
(1, 0, 1, 0, 4),

98  
V
(1, 0, 0, 1, 4),

99  
V
(1, 0, 0, 0, 4),

100  
V
(0, 1, 1, 1, 4),

101  
V
(0, 1, 1, 0, 4),

102  
V
(0, 1, 0, 1, 4),

103  
V
(0, 1, 0, 0, 4),

104  
V
(0, 0, 1, 1, 4),

105  
V
(0, 0, 1, 0, 4),

106  
V
(0, 0, 0, 1, 4),

107  
V
(0, 0, 0, 0, 4)

110 #unde‡
V


111 #unde‡
PTR


113 #i‡
deföed
(
__GNUC__
) || \

114 (
deföed
(
__STDC_VERSION__
Ë&& 
	g__STDC_VERSION__
 >= 199901)

115 
	#PTR
(
offs
, 
bôs
Ë{ .
±r
 = { 0, bôs, off†} }

	)

116 
	#V
(
x
, 
y
, 
hÀn
Ë{ .
vÆue
 = { 1, hÀn, x, y } }

	)

118 
	#PTR
(
offs
, 
bôs
Ë{ { 0, bôs, off†} }

	)

119 #i‡
deföed
(
WORDS_BIGENDIAN
)

120 
	#V
(
x
, 
y
, 
hÀn
Ë{ { 1, hÀn, (x << 8Ë| (y << 4Ë} }

	)

122 
	#V
(
x
, 
y
, 
hÀn
Ë{ { 1, hÀn, (x << 0Ë| (y << 4Ë} }

	)

127 
hufÂaú
 c⁄° 
	ghuf·ab0
[] = {

128  
V
(0, 0, 0)

132 
hufÂaú
 c⁄° 
	ghuf·ab1
[] = {

133  
V
(1, 1, 3),

134  
V
(0, 1, 3),

135  
V
(1, 0, 2),

136  
V
(1, 0, 2),

137  
V
(0, 0, 1),

138  
V
(0, 0, 1),

139  
V
(0, 0, 1),

140  
V
(0, 0, 1)

144 
hufÂaú
 c⁄° 
	ghuf·ab2
[] = {

145  
PTR
(8, 3),

146  
V
(1, 1, 3),

147  
V
(0, 1, 3),

148  
V
(1, 0, 3),

149  
V
(0, 0, 1),

150  
V
(0, 0, 1),

151  
V
(0, 0, 1),

152  
V
(0, 0, 1),

155  
V
(2, 2, 3),

156  
V
(0, 2, 3),

157  
V
(1, 2, 2),

158  
V
(1, 2, 2),

159  
V
(2, 1, 2),

160  
V
(2, 1, 2),

161  
V
(2, 0, 2),

162  
V
(2, 0, 2)

166 
hufÂaú
 c⁄° 
	ghuf·ab3
[] = {

167  
PTR
(8, 3),

168  
V
(1, 0, 3),

169  
V
(1, 1, 2),

170  
V
(1, 1, 2),

171  
V
(0, 1, 2),

172  
V
(0, 1, 2),

173  
V
(0, 0, 2),

174  
V
(0, 0, 2),

177  
V
(2, 2, 3),

178  
V
(0, 2, 3),

179  
V
(1, 2, 2),

180  
V
(1, 2, 2),

181  
V
(2, 1, 2),

182  
V
(2, 1, 2),

183  
V
(2, 0, 2),

184  
V
(2, 0, 2)

188 
hufÂaú
 c⁄° 
	ghuf·ab5
[] = {

189  
PTR
(8, 4),

190  
V
(1, 1, 3),

191  
V
(0, 1, 3),

192  
V
(1, 0, 3),

193  
V
(0, 0, 1),

194  
V
(0, 0, 1),

195  
V
(0, 0, 1),

196  
V
(0, 0, 1),

199  
PTR
(24, 1),

200  
V
(3, 2, 4),

201  
V
(3, 1, 3),

202  
V
(3, 1, 3),

203  
V
(1, 3, 4),

204  
V
(0, 3, 4),

205  
V
(3, 0, 4),

206  
V
(2, 2, 4),

207  
V
(1, 2, 3),

208  
V
(1, 2, 3),

209  
V
(2, 1, 3),

210  
V
(2, 1, 3),

211  
V
(0, 2, 3),

212  
V
(0, 2, 3),

213  
V
(2, 0, 3),

214  
V
(2, 0, 3),

217  
V
(3, 3, 1),

218  
V
(2, 3, 1)

222 
hufÂaú
 c⁄° 
	ghuf·ab6
[] = {

223  
PTR
(16, 3),

224  
PTR
(24, 1),

225  
PTR
(26, 1),

226  
V
(1, 2, 4),

227  
V
(2, 1, 4),

228  
V
(2, 0, 4),

229  
V
(0, 1, 3),

230  
V
(0, 1, 3),

231  
V
(1, 1, 2),

232  
V
(1, 1, 2),

233  
V
(1, 1, 2),

234  
V
(1, 1, 2),

235  
V
(1, 0, 3),

236  
V
(1, 0, 3),

237  
V
(0, 0, 3),

238  
V
(0, 0, 3),

241  
V
(3, 3, 3),

242  
V
(0, 3, 3),

243  
V
(2, 3, 2),

244  
V
(2, 3, 2),

245  
V
(3, 2, 2),

246  
V
(3, 2, 2),

247  
V
(3, 0, 2),

248  
V
(3, 0, 2),

251  
V
(1, 3, 1),

252  
V
(3, 1, 1),

255  
V
(2, 2, 1),

256  
V
(0, 2, 1)

260 
hufÂaú
 c⁄° 
	ghuf·ab7
[] = {

261  
PTR
(16, 4),

262  
PTR
(32, 4),

263  
PTR
(48, 2),

264  
V
(1, 1, 4),

265  
V
(0, 1, 3),

266  
V
(0, 1, 3),

267  
V
(1, 0, 3),

268  
V
(1, 0, 3),

269  
V
(0, 0, 1),

270  
V
(0, 0, 1),

271  
V
(0, 0, 1),

272  
V
(0, 0, 1),

273  
V
(0, 0, 1),

274  
V
(0, 0, 1),

275  
V
(0, 0, 1),

276  
V
(0, 0, 1),

279  
PTR
(52, 2),

280  
PTR
(56, 1),

281  
PTR
(58, 1),

282  
V
(1, 5, 4),

283  
V
(5, 1, 4),

284  
PTR
(60, 1),

285  
V
(5, 0, 4),

286  
PTR
(62, 1),

287  
V
(2, 4, 4),

288  
V
(4, 2, 4),

289  
V
(1, 4, 3),

290  
V
(1, 4, 3),

291  
V
(4, 1, 3),

292  
V
(4, 1, 3),

293  
V
(4, 0, 3),

294  
V
(4, 0, 3),

297  
V
(0, 4, 4),

298  
V
(2, 3, 4),

299  
V
(3, 2, 4),

300  
V
(0, 3, 4),

301  
V
(1, 3, 3),

302  
V
(1, 3, 3),

303  
V
(3, 1, 3),

304  
V
(3, 1, 3),

305  
V
(3, 0, 3),

306  
V
(3, 0, 3),

307  
V
(2, 2, 3),

308  
V
(2, 2, 3),

309  
V
(1, 2, 2),

310  
V
(1, 2, 2),

311  
V
(1, 2, 2),

312  
V
(1, 2, 2),

315  
V
(2, 1, 1),

316  
V
(2, 1, 1),

317  
V
(0, 2, 2),

318  
V
(2, 0, 2),

321  
V
(5, 5, 2),

322  
V
(4, 5, 2),

323  
V
(5, 4, 2),

324  
V
(5, 3, 2),

327  
V
(3, 5, 1),

328  
V
(4, 4, 1),

331  
V
(2, 5, 1),

332  
V
(5, 2, 1),

335  
V
(0, 5, 1),

336  
V
(3, 4, 1),

339  
V
(4, 3, 1),

340  
V
(3, 3, 1)

347 
hufÂaú
 c⁄° 
	ghuf·ab8
[] = {

348  
PTR
(16, 4),

349  
PTR
(32, 2),

350  
V
(1, 2, 4),

351  
V
(2, 1, 4),

352  
V
(1, 1, 2),

353  
V
(1, 1, 2),

354  
V
(1, 1, 2),

355  
V
(1, 1, 2),

356  
V
(0, 1, 3),

357  
V
(0, 1, 3),

358  
V
(1, 0, 3),

359  
V
(1, 0, 3),

360  
V
(0, 0, 2),

361  
V
(0, 0, 2),

362  
V
(0, 0, 2),

363  
V
(0, 0, 2),

366  
PTR
(36, 3),

367  
PTR
(44, 2),

368  
PTR
(48, 1),

369  
V
(1, 5, 4),

370  
V
(5, 1, 4),

371  
PTR
(50, 1),

372  
PTR
(52, 1),

373  
V
(2, 4, 4),

374  
V
(4, 2, 4),

375  
V
(1, 4, 4),

376  
V
(4, 1, 3),

377  
V
(4, 1, 3),

378  
V
(0, 4, 4),

379  
V
(4, 0, 4),

380  
V
(2, 3, 4),

381  
V
(3, 2, 4),

384  
PTR
(54, 2),

385  
V
(2, 2, 2),

386  
V
(0, 2, 2),

387  
V
(2, 0, 2),

390  
V
(5, 5, 3),

391  
V
(5, 4, 3),

392  
V
(4, 5, 2),

393  
V
(4, 5, 2),

394  
V
(5, 3, 1),

395  
V
(5, 3, 1),

396  
V
(5, 3, 1),

397  
V
(5, 3, 1),

400  
V
(3, 5, 2),

401  
V
(4, 4, 2),

402  
V
(2, 5, 1),

403  
V
(2, 5, 1),

406  
V
(5, 2, 1),

407  
V
(0, 5, 1),

410  
V
(3, 4, 1),

411  
V
(4, 3, 1),

414  
V
(5, 0, 1),

415  
V
(3, 3, 1),

418  
V
(1, 3, 2),

419  
V
(3, 1, 2),

420  
V
(0, 3, 2),

421  
V
(3, 0, 2),

425 
hufÂaú
 c⁄° 
	ghuf·ab8
[] = {

426  
PTR
(16, 4),

427  
PTR
(32, 4),

428  
V
(1, 2, 4),

429  
V
(2, 1, 4),

430  
V
(1, 1, 2),

431  
V
(1, 1, 2),

432  
V
(1, 1, 2),

433  
V
(1, 1, 2),

434  
V
(0, 1, 3),

435  
V
(0, 1, 3),

436  
V
(1, 0, 3),

437  
V
(1, 0, 3),

438  
V
(0, 0, 2),

439  
V
(0, 0, 2),

440  
V
(0, 0, 2),

441  
V
(0, 0, 2),

444  
PTR
(48, 3),

445  
PTR
(56, 2),

446  
PTR
(60, 1),

447  
V
(1, 5, 4),

448  
V
(5, 1, 4),

449  
PTR
(62, 1),

450  
PTR
(64, 1),

451  
V
(2, 4, 4),

452  
V
(4, 2, 4),

453  
V
(1, 4, 4),

454  
V
(4, 1, 3),

455  
V
(4, 1, 3),

456  
V
(0, 4, 4),

457  
V
(4, 0, 4),

458  
V
(2, 3, 4),

459  
V
(3, 2, 4),

462  
V
(1, 3, 4),

463  
V
(3, 1, 4),

464  
V
(0, 3, 4),

465  
V
(3, 0, 4),

466  
V
(2, 2, 2),

467  
V
(2, 2, 2),

468  
V
(2, 2, 2),

469  
V
(2, 2, 2),

470  
V
(0, 2, 2),

471  
V
(0, 2, 2),

472  
V
(0, 2, 2),

473  
V
(0, 2, 2),

474  
V
(2, 0, 2),

475  
V
(2, 0, 2),

476  
V
(2, 0, 2),

477  
V
(2, 0, 2),

480  
V
(5, 5, 3),

481  
V
(5, 4, 3),

482  
V
(4, 5, 2),

483  
V
(4, 5, 2),

484  
V
(5, 3, 1),

485  
V
(5, 3, 1),

486  
V
(5, 3, 1),

487  
V
(5, 3, 1),

490  
V
(3, 5, 2),

491  
V
(4, 4, 2),

492  
V
(2, 5, 1),

493  
V
(2, 5, 1),

496  
V
(5, 2, 1),

497  
V
(0, 5, 1),

500  
V
(3, 4, 1),

501  
V
(4, 3, 1),

504  
V
(5, 0, 1),

505  
V
(3, 3, 1)

510 
hufÂaú
 c⁄° 
	ghuf·ab9
[] = {

511  
PTR
(16, 4),

512  
PTR
(32, 3),

513  
PTR
(40, 2),

514  
PTR
(44, 2),

515  
PTR
(48, 1),

516  
V
(1, 2, 4),

517  
V
(2, 1, 4),

518  
V
(2, 0, 4),

519  
V
(1, 1, 3),

520  
V
(1, 1, 3),

521  
V
(0, 1, 3),

522  
V
(0, 1, 3),

523  
V
(1, 0, 3),

524  
V
(1, 0, 3),

525  
V
(0, 0, 3),

526  
V
(0, 0, 3),

529  
PTR
(50, 1),

530  
V
(3, 5, 4),

531  
V
(5, 3, 4),

532  
PTR
(52, 1),

533  
V
(4, 4, 4),

534  
V
(2, 5, 4),

535  
V
(5, 2, 4),

536  
V
(1, 5, 4),

537  
V
(5, 1, 3),

538  
V
(5, 1, 3),

539  
V
(3, 4, 3),

540  
V
(3, 4, 3),

541  
V
(4, 3, 3),

542  
V
(4, 3, 3),

543  
V
(5, 0, 4),

544  
V
(0, 4, 4),

547  
V
(2, 4, 3),

548  
V
(4, 2, 3),

549  
V
(3, 3, 3),

550  
V
(4, 0, 3),

551  
V
(1, 4, 2),

552  
V
(1, 4, 2),

553  
V
(4, 1, 2),

554  
V
(4, 1, 2),

557  
V
(2, 3, 2),

558  
V
(3, 2, 2),

559  
V
(1, 3, 1),

560  
V
(1, 3, 1),

563  
V
(3, 1, 1),

564  
V
(3, 1, 1),

565  
V
(0, 3, 2),

566  
V
(3, 0, 2),

569  
V
(2, 2, 1),

570  
V
(0, 2, 1),

573  
V
(5, 5, 1),

574  
V
(4, 5, 1),

577  
V
(5, 4, 1),

578  
V
(0, 5, 1)

582 
hufÂaú
 c⁄° 
	ghuf·ab10
[] = {

583  
PTR
(16, 4),

584  
PTR
(32, 4),

585  
PTR
(48, 2),

586  
V
(1, 1, 4),

587  
V
(0, 1, 3),

588  
V
(0, 1, 3),

589  
V
(1, 0, 3),

590  
V
(1, 0, 3),

591  
V
(0, 0, 1),

592  
V
(0, 0, 1),

593  
V
(0, 0, 1),

594  
V
(0, 0, 1),

595  
V
(0, 0, 1),

596  
V
(0, 0, 1),

597  
V
(0, 0, 1),

598  
V
(0, 0, 1),

601  
PTR
(52, 3),

602  
PTR
(60, 2),

603  
PTR
(64, 3),

604  
PTR
(72, 1),

605  
PTR
(74, 2),

606  
PTR
(78, 2),

607  
PTR
(82, 2),

608  
V
(1, 7, 4),

609  
V
(7, 1, 4),

610  
PTR
(86, 1),

611  
PTR
(88, 2),

612  
PTR
(92, 2),

613  
V
(1, 6, 4),

614  
V
(6, 1, 4),

615  
V
(6, 0, 4),

616  
PTR
(96, 1),

619  
PTR
(98, 1),

620  
PTR
(100, 1),

621  
V
(1, 4, 4),

622  
V
(4, 1, 4),

623  
V
(4, 0, 4),

624  
V
(2, 3, 4),

625  
V
(3, 2, 4),

626  
V
(0, 3, 4),

627  
V
(1, 3, 3),

628  
V
(1, 3, 3),

629  
V
(3, 1, 3),

630  
V
(3, 1, 3),

631  
V
(3, 0, 3),

632  
V
(3, 0, 3),

633  
V
(2, 2, 3),

634  
V
(2, 2, 3),

637  
V
(1, 2, 2),

638  
V
(2, 1, 2),

639  
V
(0, 2, 2),

640  
V
(2, 0, 2),

643  
V
(7, 7, 3),

644  
V
(6, 7, 3),

645  
V
(7, 6, 3),

646  
V
(5, 7, 3),

647  
V
(7, 5, 3),

648  
V
(6, 6, 3),

649  
V
(4, 7, 2),

650  
V
(4, 7, 2),

653  
V
(7, 4, 2),

654  
V
(5, 6, 2),

655  
V
(6, 5, 2),

656  
V
(3, 7, 2),

659  
V
(7, 3, 2),

660  
V
(7, 3, 2),

661  
V
(4, 6, 2),

662  
V
(4, 6, 2),

663  
V
(5, 5, 3),

664  
V
(5, 4, 3),

665  
V
(6, 3, 2),

666  
V
(6, 3, 2),

669  
V
(2, 7, 1),

670  
V
(7, 2, 1),

673  
V
(6, 4, 2),

674  
V
(0, 7, 2),

675  
V
(7, 0, 1),

676  
V
(7, 0, 1),

679  
V
(6, 2, 1),

680  
V
(6, 2, 1),

681  
V
(4, 5, 2),

682  
V
(3, 5, 2),

685  
V
(0, 6, 1),

686  
V
(0, 6, 1),

687  
V
(5, 3, 2),

688  
V
(4, 4, 2),

691  
V
(3, 6, 1),

692  
V
(2, 6, 1),

695  
V
(2, 5, 2),

696  
V
(5, 2, 2),

697  
V
(1, 5, 1),

698  
V
(1, 5, 1),

701  
V
(5, 1, 1),

702  
V
(5, 1, 1),

703  
V
(3, 4, 2),

704  
V
(4, 3, 2),

707  
V
(0, 5, 1),

708  
V
(5, 0, 1),

711  
V
(2, 4, 1),

712  
V
(4, 2, 1),

715  
V
(3, 3, 1),

716  
V
(0, 4, 1)

720 
hufÂaú
 c⁄° 
	ghuf·ab11
[] = {

721  
PTR
(16, 4),

722  
PTR
(32, 4),

723  
PTR
(48, 4),

724  
PTR
(64, 3),

725  
V
(1, 2, 4),

726  
PTR
(72, 1),

727  
V
(1, 1, 3),

728  
V
(1, 1, 3),

729  
V
(0, 1, 3),

730  
V
(0, 1, 3),

731  
V
(1, 0, 3),

732  
V
(1, 0, 3),

733  
V
(0, 0, 2),

734  
V
(0, 0, 2),

735  
V
(0, 0, 2),

736  
V
(0, 0, 2),

739  
PTR
(74, 2),

740  
PTR
(78, 3),

741  
PTR
(86, 2),

742  
PTR
(90, 1),

743  
PTR
(92, 2),

744  
V
(2, 7, 4),

745  
V
(7, 2, 4),

746  
PTR
(96, 1),

747  
V
(7, 1, 3),

748  
V
(7, 1, 3),

749  
V
(1, 7, 4),

750  
V
(7, 0, 4),

751  
V
(3, 6, 4),

752  
V
(6, 3, 4),

753  
V
(6, 0, 4),

754  
PTR
(98, 1),

757  
PTR
(100, 1),

758  
V
(1, 5, 4),

759  
V
(6, 2, 3),

760  
V
(6, 2, 3),

761  
V
(2, 6, 4),

762  
V
(0, 6, 4),

763  
V
(1, 6, 3),

764  
V
(1, 6, 3),

765  
V
(6, 1, 3),

766  
V
(6, 1, 3),

767  
V
(5, 1, 4),

768  
V
(3, 4, 4),

769  
V
(5, 0, 4),

770  
PTR
(102, 1),

771  
V
(2, 4, 4),

772  
V
(4, 2, 4),

775  
V
(1, 4, 4),

776  
V
(4, 1, 4),

777  
V
(0, 4, 4),

778  
V
(4, 0, 4),

779  
V
(2, 3, 3),

780  
V
(2, 3, 3),

781  
V
(3, 2, 3),

782  
V
(3, 2, 3),

783  
V
(1, 3, 2),

784  
V
(1, 3, 2),

785  
V
(1, 3, 2),

786  
V
(1, 3, 2),

787  
V
(3, 1, 2),

788  
V
(3, 1, 2),

789  
V
(3, 1, 2),

790  
V
(3, 1, 2),

793  
V
(0, 3, 3),

794  
V
(3, 0, 3),

795  
V
(2, 2, 2),

796  
V
(2, 2, 2),

797  
V
(2, 1, 1),

798  
V
(2, 1, 1),

799  
V
(2, 1, 1),

800  
V
(2, 1, 1),

803  
V
(0, 2, 1),

804  
V
(2, 0, 1),

807  
V
(7, 7, 2),

808  
V
(6, 7, 2),

809  
V
(7, 6, 2),

810  
V
(7, 5, 2),

813  
V
(6, 6, 2),

814  
V
(6, 6, 2),

815  
V
(4, 7, 2),

816  
V
(4, 7, 2),

817  
V
(7, 4, 2),

818  
V
(7, 4, 2),

819  
V
(5, 7, 3),

820  
V
(5, 5, 3),

823  
V
(5, 6, 2),

824  
V
(6, 5, 2),

825  
V
(3, 7, 1),

826  
V
(3, 7, 1),

829  
V
(7, 3, 1),

830  
V
(4, 6, 1),

833  
V
(4, 5, 2),

834  
V
(5, 4, 2),

835  
V
(3, 5, 2),

836  
V
(5, 3, 2),

839  
V
(6, 4, 1),

840  
V
(0, 7, 1),

843  
V
(4, 4, 1),

844  
V
(2, 5, 1),

847  
V
(5, 2, 1),

848  
V
(0, 5, 1),

851  
V
(4, 3, 1),

852  
V
(3, 3, 1)

856 
hufÂaú
 c⁄° 
	ghuf·ab12
[] = {

857  
PTR
(16, 4),

858  
PTR
(32, 4),

859  
PTR
(48, 4),

860  
PTR
(64, 2),

861  
PTR
(68, 3),

862  
PTR
(76, 1),

863  
V
(1, 2, 4),

864  
V
(2, 1, 4),

865  
PTR
(78, 1),

866  
V
(0, 0, 4),

867  
V
(1, 1, 3),

868  
V
(1, 1, 3),

869  
V
(0, 1, 3),

870  
V
(0, 1, 3),

871  
V
(1, 0, 3),

872  
V
(1, 0, 3),

875  
PTR
(80, 2),

876  
PTR
(84, 1),

877  
PTR
(86, 1),

878  
PTR
(88, 1),

879  
V
(5, 6, 4),

880  
V
(3, 7, 4),

881  
PTR
(90, 1),

882  
V
(2, 7, 4),

883  
V
(7, 2, 4),

884  
V
(4, 6, 4),

885  
V
(6, 4, 4),

886  
V
(1, 7, 4),

887  
V
(7, 1, 4),

888  
PTR
(92, 1),

889  
V
(3, 6, 4),

890  
V
(6, 3, 4),

893  
V
(4, 5, 4),

894  
V
(5, 4, 4),

895  
V
(4, 4, 4),

896  
PTR
(94, 1),

897  
V
(2, 6, 3),

898  
V
(2, 6, 3),

899  
V
(6, 2, 3),

900  
V
(6, 2, 3),

901  
V
(6, 1, 3),

902  
V
(6, 1, 3),

903  
V
(1, 6, 4),

904  
V
(6, 0, 4),

905  
V
(3, 5, 4),

906  
V
(5, 3, 4),

907  
V
(2, 5, 4),

908  
V
(5, 2, 4),

911  
V
(1, 5, 3),

912  
V
(1, 5, 3),

913  
V
(5, 1, 3),

914  
V
(5, 1, 3),

915  
V
(3, 4, 3),

916  
V
(3, 4, 3),

917  
V
(4, 3, 3),

918  
V
(4, 3, 3),

919  
V
(5, 0, 4),

920  
V
(0, 4, 4),

921  
V
(2, 4, 3),

922  
V
(2, 4, 3),

923  
V
(4, 2, 3),

924  
V
(4, 2, 3),

925  
V
(1, 4, 3),

926  
V
(1, 4, 3),

929  
V
(3, 3, 2),

930  
V
(4, 1, 2),

931  
V
(2, 3, 2),

932  
V
(3, 2, 2),

935  
V
(4, 0, 3),

936  
V
(0, 3, 3),

937  
V
(3, 0, 2),

938  
V
(3, 0, 2),

939  
V
(1, 3, 1),

940  
V
(1, 3, 1),

941  
V
(1, 3, 1),

942  
V
(1, 3, 1),

945  
V
(3, 1, 1),

946  
V
(2, 2, 1),

949  
V
(0, 2, 1),

950  
V
(2, 0, 1),

953  
V
(7, 7, 2),

954  
V
(6, 7, 2),

955  
V
(7, 6, 1),

956  
V
(7, 6, 1),

959  
V
(5, 7, 1),

960  
V
(7, 5, 1),

963  
V
(6, 6, 1),

964  
V
(4, 7, 1),

967  
V
(7, 4, 1),

968  
V
(6, 5, 1),

971  
V
(7, 3, 1),

972  
V
(5, 5, 1),

975  
V
(0, 7, 1),

976  
V
(7, 0, 1),

979  
V
(0, 6, 1),

980  
V
(0, 5, 1)

984 
hufÂaú
 c⁄° 
	ghuf·ab13
[] = {

985  
PTR
(16, 4),

986  
PTR
(32, 4),

987  
PTR
(48, 4),

988  
PTR
(64, 2),

989  
V
(1, 1, 4),

990  
V
(0, 1, 4),

991  
V
(1, 0, 3),

992  
V
(1, 0, 3),

993  
V
(0, 0, 1),

994  
V
(0, 0, 1),

995  
V
(0, 0, 1),

996  
V
(0, 0, 1),

997  
V
(0, 0, 1),

998  
V
(0, 0, 1),

999  
V
(0, 0, 1),

1000  
V
(0, 0, 1),

1003  
PTR
(68, 4),

1004  
PTR
(84, 4),

1005  
PTR
(100, 4),

1006  
PTR
(116, 4),

1007  
PTR
(132, 4),

1008  
PTR
(148, 4),

1009  
PTR
(164, 3),

1010  
PTR
(172, 3),

1011  
PTR
(180, 3),

1012  
PTR
(188, 3),

1013  
PTR
(196, 3),

1014  
PTR
(204, 3),

1015  
PTR
(212, 1),

1016  
PTR
(214, 2),

1017  
PTR
(218, 3),

1018  
PTR
(226, 1),

1021  
PTR
(228, 2),

1022  
PTR
(232, 2),

1023  
PTR
(236, 2),

1024  
PTR
(240, 2),

1025  
V
(8, 1, 4),

1026  
PTR
(244, 1),

1027  
PTR
(246, 1),

1028  
PTR
(248, 1),

1029  
PTR
(250, 2),

1030  
PTR
(254, 1),

1031  
V
(1, 5, 4),

1032  
V
(5, 1, 4),

1033  
PTR
(256, 1),

1034  
PTR
(258, 1),

1035  
PTR
(260, 1),

1036  
V
(1, 4, 4),

1039  
V
(4, 1, 3),

1040  
V
(4, 1, 3),

1041  
V
(0, 4, 4),

1042  
V
(4, 0, 4),

1043  
V
(2, 3, 4),

1044  
V
(3, 2, 4),

1045  
V
(1, 3, 3),

1046  
V
(1, 3, 3),

1047  
V
(3, 1, 3),

1048  
V
(3, 1, 3),

1049  
V
(0, 3, 3),

1050  
V
(0, 3, 3),

1051  
V
(3, 0, 3),

1052  
V
(3, 0, 3),

1053  
V
(2, 2, 3),

1054  
V
(2, 2, 3),

1057  
V
(1, 2, 2),

1058  
V
(2, 1, 2),

1059  
V
(0, 2, 2),

1060  
V
(2, 0, 2),

1063  
PTR
(262, 4),

1064  
PTR
(278, 4),

1065  
PTR
(294, 4),

1066  
PTR
(310, 3),

1067  
PTR
(318, 2),

1068  
PTR
(322, 2),

1069  
PTR
(326, 3),

1070  
PTR
(334, 2),

1071  
PTR
(338, 1),

1072  
PTR
(340, 2),

1073  
PTR
(344, 2),

1074  
PTR
(348, 2),

1075  
PTR
(352, 2),

1076  
PTR
(356, 2),

1077  
V
(1, 15, 4),

1078  
V
(15, 1, 4),

1081  
V
(15, 0, 4),

1082  
PTR
(360, 1),

1083  
PTR
(362, 1),

1084  
PTR
(364, 1),

1085  
V
(14, 2, 4),

1086  
PTR
(366, 1),

1087  
V
(1, 14, 4),

1088  
V
(14, 1, 4),

1089  
PTR
(368, 1),

1090  
PTR
(370, 1),

1091  
PTR
(372, 1),

1092  
PTR
(374, 1),

1093  
PTR
(376, 1),

1094  
PTR
(378, 1),

1095  
V
(12, 6, 4),

1096  
V
(3, 13, 4),

1099  
PTR
(380, 1),

1100  
V
(2, 13, 4),

1101  
V
(13, 2, 4),

1102  
V
(1, 13, 4),

1103  
V
(11, 7, 4),

1104  
PTR
(382, 1),

1105  
PTR
(384, 1),

1106  
V
(12, 3, 4),

1107  
PTR
(386, 1),

1108  
V
(4, 11, 4),

1109  
V
(13, 1, 3),

1110  
V
(13, 1, 3),

1111  
V
(0, 13, 4),

1112  
V
(13, 0, 4),

1113  
V
(8, 10, 4),

1114  
V
(10, 8, 4),

1117  
V
(4, 12, 4),

1118  
V
(12, 4, 4),

1119  
V
(6, 11, 4),

1120  
V
(11, 6, 4),

1121  
V
(3, 12, 3),

1122  
V
(3, 12, 3),

1123  
V
(2, 12, 3),

1124  
V
(2, 12, 3),

1125  
V
(12, 2, 3),

1126  
V
(12, 2, 3),

1127  
V
(5, 11, 3),

1128  
V
(5, 11, 3),

1129  
V
(11, 5, 4),

1130  
V
(8, 9, 4),

1131  
V
(1, 12, 3),

1132  
V
(1, 12, 3),

1135  
V
(12, 1, 3),

1136  
V
(12, 1, 3),

1137  
V
(9, 8, 4),

1138  
V
(0, 12, 4),

1139  
V
(12, 0, 3),

1140  
V
(12, 0, 3),

1141  
V
(11, 4, 4),

1142  
V
(6, 10, 4),

1143  
V
(10, 6, 4),

1144  
V
(7, 9, 4),

1145  
V
(3, 11, 3),

1146  
V
(3, 11, 3),

1147  
V
(11, 3, 3),

1148  
V
(11, 3, 3),

1149  
V
(8, 8, 4),

1150  
V
(5, 10, 4),

1153  
V
(2, 11, 3),

1154  
V
(2, 11, 3),

1155  
V
(10, 5, 4),

1156  
V
(6, 9, 4),

1157  
V
(10, 4, 3),

1158  
V
(10, 4, 3),

1159  
V
(7, 8, 4),

1160  
V
(8, 7, 4),

1161  
V
(9, 4, 3),

1162  
V
(9, 4, 3),

1163  
V
(7, 7, 4),

1164  
V
(7, 6, 4),

1165  
V
(11, 2, 2),

1166  
V
(11, 2, 2),

1167  
V
(11, 2, 2),

1168  
V
(11, 2, 2),

1171  
V
(1, 11, 2),

1172  
V
(1, 11, 2),

1173  
V
(11, 1, 2),

1174  
V
(11, 1, 2),

1175  
V
(0, 11, 3),

1176  
V
(11, 0, 3),

1177  
V
(9, 6, 3),

1178  
V
(4, 10, 3),

1181  
V
(3, 10, 3),

1182  
V
(10, 3, 3),

1183  
V
(5, 9, 3),

1184  
V
(9, 5, 3),

1185  
V
(2, 10, 2),

1186  
V
(2, 10, 2),

1187  
V
(10, 2, 2),

1188  
V
(10, 2, 2),

1191  
V
(1, 10, 2),

1192  
V
(1, 10, 2),

1193  
V
(10, 1, 2),

1194  
V
(10, 1, 2),

1195  
V
(0, 10, 3),

1196  
V
(6, 8, 3),

1197  
V
(10, 0, 2),

1198  
V
(10, 0, 2),

1201  
V
(8, 6, 3),

1202  
V
(4, 9, 3),

1203  
V
(9, 3, 2),

1204  
V
(9, 3, 2),

1205  
V
(3, 9, 3),

1206  
V
(5, 8, 3),

1207  
V
(8, 5, 3),

1208  
V
(6, 7, 3),

1211  
V
(2, 9, 2),

1212  
V
(2, 9, 2),

1213  
V
(9, 2, 2),

1214  
V
(9, 2, 2),

1215  
V
(5, 7, 3),

1216  
V
(7, 5, 3),

1217  
V
(3, 8, 2),

1218  
V
(3, 8, 2),

1221  
V
(8, 3, 2),

1222  
V
(8, 3, 2),

1223  
V
(6, 6, 3),

1224  
V
(4, 7, 3),

1225  
V
(7, 4, 3),

1226  
V
(5, 6, 3),

1227  
V
(6, 5, 3),

1228  
V
(7, 3, 3),

1231  
V
(1, 9, 1),

1232  
V
(9, 1, 1),

1235  
V
(0, 9, 2),

1236  
V
(9, 0, 2),

1237  
V
(4, 8, 2),

1238  
V
(8, 4, 2),

1241  
V
(7, 2, 2),

1242  
V
(7, 2, 2),

1243  
V
(4, 6, 3),

1244  
V
(6, 4, 3),

1245  
V
(2, 8, 1),

1246  
V
(2, 8, 1),

1247  
V
(2, 8, 1),

1248  
V
(2, 8, 1),

1251  
V
(8, 2, 1),

1252  
V
(1, 8, 1),

1255  
V
(3, 7, 2),

1256  
V
(2, 7, 2),

1257  
V
(1, 7, 1),

1258  
V
(1, 7, 1),

1261  
V
(7, 1, 1),

1262  
V
(7, 1, 1),

1263  
V
(5, 5, 2),

1264  
V
(0, 7, 2),

1267  
V
(7, 0, 2),

1268  
V
(3, 6, 2),

1269  
V
(6, 3, 2),

1270  
V
(4, 5, 2),

1273  
V
(5, 4, 2),

1274  
V
(2, 6, 2),

1275  
V
(6, 2, 2),

1276  
V
(3, 5, 2),

1279  
V
(0, 8, 1),

1280  
V
(8, 0, 1),

1283  
V
(1, 6, 1),

1284  
V
(6, 1, 1),

1287  
V
(0, 6, 1),

1288  
V
(6, 0, 1),

1291  
V
(5, 3, 2),

1292  
V
(4, 4, 2),

1293  
V
(2, 5, 1),

1294  
V
(2, 5, 1),

1297  
V
(5, 2, 1),

1298  
V
(0, 5, 1),

1301  
V
(3, 4, 1),

1302  
V
(4, 3, 1),

1305  
V
(5, 0, 1),

1306  
V
(2, 4, 1),

1309  
V
(4, 2, 1),

1310  
V
(3, 3, 1),

1313  
PTR
(388, 3),

1314  
V
(15, 15, 4),

1315  
V
(14, 15, 4),

1316  
V
(13, 15, 4),

1317  
V
(14, 14, 4),

1318  
V
(12, 15, 4),

1319  
V
(13, 14, 4),

1320  
V
(11, 15, 4),

1321  
V
(15, 11, 4),

1322  
V
(12, 14, 4),

1323  
V
(13, 12, 4),

1324  
PTR
(396, 1),

1325  
V
(14, 12, 3),

1326  
V
(14, 12, 3),

1327  
V
(13, 13, 3),

1328  
V
(13, 13, 3),

1331  
V
(15, 10, 4),

1332  
V
(12, 13, 4),

1333  
V
(11, 14, 3),

1334  
V
(11, 14, 3),

1335  
V
(14, 11, 3),

1336  
V
(14, 11, 3),

1337  
V
(9, 15, 3),

1338  
V
(9, 15, 3),

1339  
V
(15, 9, 3),

1340  
V
(15, 9, 3),

1341  
V
(14, 10, 3),

1342  
V
(14, 10, 3),

1343  
V
(11, 13, 3),

1344  
V
(11, 13, 3),

1345  
V
(13, 11, 3),

1346  
V
(13, 11, 3),

1349  
V
(8, 15, 3),

1350  
V
(8, 15, 3),

1351  
V
(15, 8, 3),

1352  
V
(15, 8, 3),

1353  
V
(12, 12, 3),

1354  
V
(12, 12, 3),

1355  
V
(10, 14, 4),

1356  
V
(9, 14, 4),

1357  
V
(8, 14, 3),

1358  
V
(8, 14, 3),

1359  
V
(7, 15, 4),

1360  
V
(7, 14, 4),

1361  
V
(15, 7, 2),

1362  
V
(15, 7, 2),

1363  
V
(15, 7, 2),

1364  
V
(15, 7, 2),

1367  
V
(13, 10, 2),

1368  
V
(13, 10, 2),

1369  
V
(10, 13, 3),

1370  
V
(11, 12, 3),

1371  
V
(12, 11, 3),

1372  
V
(15, 6, 3),

1373  
V
(6, 15, 2),

1374  
V
(6, 15, 2),

1377  
V
(14, 8, 2),

1378  
V
(5, 15, 2),

1379  
V
(9, 13, 2),

1380  
V
(13, 9, 2),

1383  
V
(15, 5, 2),

1384  
V
(14, 7, 2),

1385  
V
(10, 12, 2),

1386  
V
(11, 11, 2),

1389  
V
(4, 15, 2),

1390  
V
(4, 15, 2),

1391  
V
(15, 4, 2),

1392  
V
(15, 4, 2),

1393  
V
(12, 10, 3),

1394  
V
(14, 6, 3),

1395  
V
(15, 3, 2),

1396  
V
(15, 3, 2),

1399  
V
(3, 15, 1),

1400  
V
(3, 15, 1),

1401  
V
(8, 13, 2),

1402  
V
(13, 8, 2),

1405  
V
(2, 15, 1),

1406  
V
(15, 2, 1),

1409  
V
(6, 14, 2),

1410  
V
(9, 12, 2),

1411  
V
(0, 15, 1),

1412  
V
(0, 15, 1),

1415  
V
(12, 9, 2),

1416  
V
(5, 14, 2),

1417  
V
(10, 11, 1),

1418  
V
(10, 11, 1),

1421  
V
(7, 13, 2),

1422  
V
(13, 7, 2),

1423  
V
(4, 14, 1),

1424  
V
(4, 14, 1),

1427  
V
(12, 8, 2),

1428  
V
(13, 6, 2),

1429  
V
(3, 14, 1),

1430  
V
(3, 14, 1),

1433  
V
(11, 9, 1),

1434  
V
(11, 9, 1),

1435  
V
(9, 11, 2),

1436  
V
(10, 10, 2),

1439  
V
(11, 10, 1),

1440  
V
(14, 5, 1),

1443  
V
(14, 4, 1),

1444  
V
(8, 12, 1),

1447  
V
(6, 13, 1),

1448  
V
(14, 3, 1),

1451  
V
(2, 14, 1),

1452  
V
(0, 14, 1),

1455  
V
(14, 0, 1),

1456  
V
(5, 13, 1),

1459  
V
(13, 5, 1),

1460  
V
(7, 12, 1),

1463  
V
(12, 7, 1),

1464  
V
(4, 13, 1),

1467  
V
(8, 11, 1),

1468  
V
(11, 8, 1),

1471  
V
(13, 4, 1),

1472  
V
(9, 10, 1),

1475  
V
(10, 9, 1),

1476  
V
(6, 12, 1),

1479  
V
(13, 3, 1),

1480  
V
(7, 11, 1),

1483  
V
(5, 12, 1),

1484  
V
(12, 5, 1),

1487  
V
(9, 9, 1),

1488  
V
(7, 10, 1),

1491  
V
(10, 7, 1),

1492  
V
(9, 7, 1),

1495  
V
(15, 14, 3),

1496  
V
(15, 12, 3),

1497  
V
(15, 13, 2),

1498  
V
(15, 13, 2),

1499  
V
(14, 13, 1),

1500  
V
(14, 13, 1),

1501  
V
(14, 13, 1),

1502  
V
(14, 13, 1),

1505  
V
(10, 15, 1),

1506  
V
(14, 9, 1)

1510 
hufÂaú
 c⁄° 
	ghuf·ab15
[] = {

1511  
PTR
(16, 4),

1512  
PTR
(32, 4),

1513  
PTR
(48, 4),

1514  
PTR
(64, 4),

1515  
PTR
(80, 4),

1516  
PTR
(96, 3),

1517  
PTR
(104, 3),

1518  
PTR
(112, 2),

1519  
PTR
(116, 1),

1520  
PTR
(118, 1),

1521  
V
(1, 1, 3),

1522  
V
(1, 1, 3),

1523  
V
(0, 1, 4),

1524  
V
(1, 0, 4),

1525  
V
(0, 0, 3),

1526  
V
(0, 0, 3),

1529  
PTR
(120, 4),

1530  
PTR
(136, 4),

1531  
PTR
(152, 4),

1532  
PTR
(168, 4),

1533  
PTR
(184, 4),

1534  
PTR
(200, 3),

1535  
PTR
(208, 3),

1536  
PTR
(216, 4),

1537  
PTR
(232, 3),

1538  
PTR
(240, 3),

1539  
PTR
(248, 3),

1540  
PTR
(256, 3),

1541  
PTR
(264, 2),

1542  
PTR
(268, 3),

1543  
PTR
(276, 3),

1544  
PTR
(284, 2),

1547  
PTR
(288, 2),

1548  
PTR
(292, 2),

1549  
PTR
(296, 2),

1550  
PTR
(300, 2),

1551  
PTR
(304, 2),

1552  
PTR
(308, 2),

1553  
PTR
(312, 2),

1554  
PTR
(316, 2),

1555  
PTR
(320, 1),

1556  
PTR
(322, 1),

1557  
PTR
(324, 1),

1558  
PTR
(326, 2),

1559  
PTR
(330, 1),

1560  
PTR
(332, 1),

1561  
PTR
(334, 2),

1562  
PTR
(338, 1),

1565  
PTR
(340, 1),

1566  
PTR
(342, 1),

1567  
V
(9, 1, 4),

1568  
PTR
(344, 1),

1569  
PTR
(346, 1),

1570  
PTR
(348, 1),

1571  
PTR
(350, 1),

1572  
PTR
(352, 1),

1573  
V
(2, 8, 4),

1574  
V
(8, 2, 4),

1575  
V
(1, 8, 4),

1576  
V
(8, 1, 4),

1577  
PTR
(354, 1),

1578  
PTR
(356, 1),

1579  
PTR
(358, 1),

1580  
PTR
(360, 1),

1583  
V
(2, 7, 4),

1584  
V
(7, 2, 4),

1585  
V
(6, 4, 4),

1586  
V
(1, 7, 4),

1587  
V
(5, 5, 4),

1588  
V
(7, 1, 4),

1589  
PTR
(362, 1),

1590  
V
(3, 6, 4),

1591  
V
(6, 3, 4),

1592  
V
(4, 5, 4),

1593  
V
(5, 4, 4),

1594  
V
(2, 6, 4),

1595  
V
(6, 2, 4),

1596  
V
(1, 6, 4),

1597  
PTR
(364, 1),

1598  
V
(3, 5, 4),

1601  
V
(6, 1, 3),

1602  
V
(6, 1, 3),

1603  
V
(5, 3, 4),

1604  
V
(4, 4, 4),

1605  
V
(2, 5, 3),

1606  
V
(2, 5, 3),

1607  
V
(5, 2, 3),

1608  
V
(5, 2, 3),

1609  
V
(1, 5, 3),

1610  
V
(1, 5, 3),

1611  
V
(5, 1, 3),

1612  
V
(5, 1, 3),

1613  
V
(0, 5, 4),

1614  
V
(5, 0, 4),

1615  
V
(3, 4, 3),

1616  
V
(3, 4, 3),

1619  
V
(4, 3, 3),

1620  
V
(2, 4, 3),

1621  
V
(4, 2, 3),

1622  
V
(3, 3, 3),

1623  
V
(4, 1, 2),

1624  
V
(4, 1, 2),

1625  
V
(1, 4, 3),

1626  
V
(0, 4, 3),

1629  
V
(2, 3, 2),

1630  
V
(2, 3, 2),

1631  
V
(3, 2, 2),

1632  
V
(3, 2, 2),

1633  
V
(4, 0, 3),

1634  
V
(0, 3, 3),

1635  
V
(1, 3, 2),

1636  
V
(1, 3, 2),

1639  
V
(3, 1, 2),

1640  
V
(3, 0, 2),

1641  
V
(2, 2, 1),

1642  
V
(2, 2, 1),

1645  
V
(1, 2, 1),

1646  
V
(2, 1, 1),

1649  
V
(0, 2, 1),

1650  
V
(2, 0, 1),

1653  
PTR
(366, 1),

1654  
PTR
(368, 1),

1655  
V
(14, 14, 4),

1656  
PTR
(370, 1),

1657  
PTR
(372, 1),

1658  
PTR
(374, 1),

1659  
V
(15, 11, 4),

1660  
PTR
(376, 1),

1661  
V
(13, 13, 4),

1662  
V
(10, 15, 4),

1663  
V
(15, 10, 4),

1664  
V
(11, 14, 4),

1665  
V
(14, 11, 4),

1666  
V
(12, 13, 4),

1667  
V
(13, 12, 4),

1668  
V
(9, 15, 4),

1671  
V
(15, 9, 4),

1672  
V
(14, 10, 4),

1673  
V
(11, 13, 4),

1674  
V
(13, 11, 4),

1675  
V
(8, 15, 4),

1676  
V
(15, 8, 4),

1677  
V
(12, 12, 4),

1678  
V
(9, 14, 4),

1679  
V
(14, 9, 4),

1680  
V
(7, 15, 4),

1681  
V
(15, 7, 4),

1682  
V
(10, 13, 4),

1683  
V
(13, 10, 4),

1684  
V
(11, 12, 4),

1685  
V
(6, 15, 4),

1686  
PTR
(378, 1),

1689  
V
(12, 11, 3),

1690  
V
(12, 11, 3),

1691  
V
(15, 6, 3),

1692  
V
(15, 6, 3),

1693  
V
(8, 14, 4),

1694  
V
(14, 8, 4),

1695  
V
(5, 15, 4),

1696  
V
(9, 13, 4),

1697  
V
(15, 5, 3),

1698  
V
(15, 5, 3),

1699  
V
(7, 14, 3),

1700  
V
(7, 14, 3),

1701  
V
(14, 7, 3),

1702  
V
(14, 7, 3),

1703  
V
(10, 12, 3),

1704  
V
(10, 12, 3),

1707  
V
(12, 10, 3),

1708  
V
(12, 10, 3),

1709  
V
(11, 11, 3),

1710  
V
(11, 11, 3),

1711  
V
(13, 9, 4),

1712  
V
(8, 13, 4),

1713  
V
(4, 15, 3),

1714  
V
(4, 15, 3),

1715  
V
(15, 4, 3),

1716  
V
(15, 4, 3),

1717  
V
(3, 15, 3),

1718  
V
(3, 15, 3),

1719  
V
(15, 3, 3),

1720  
V
(15, 3, 3),

1721  
V
(13, 8, 3),

1722  
V
(13, 8, 3),

1725  
V
(14, 6, 3),

1726  
V
(14, 6, 3),

1727  
V
(2, 15, 3),

1728  
V
(2, 15, 3),

1729  
V
(15, 2, 3),

1730  
V
(15, 2, 3),

1731  
V
(6, 14, 4),

1732  
V
(15, 0, 4),

1733  
V
(1, 15, 3),

1734  
V
(1, 15, 3),

1735  
V
(15, 1, 3),

1736  
V
(15, 1, 3),

1737  
V
(9, 12, 3),

1738  
V
(9, 12, 3),

1739  
V
(12, 9, 3),

1740  
V
(12, 9, 3),

1743  
V
(5, 14, 3),

1744  
V
(10, 11, 3),

1745  
V
(11, 10, 3),

1746  
V
(14, 5, 3),

1747  
V
(7, 13, 3),

1748  
V
(13, 7, 3),

1749  
V
(4, 14, 3),

1750  
V
(14, 4, 3),

1753  
V
(8, 12, 3),

1754  
V
(12, 8, 3),

1755  
V
(3, 14, 3),

1756  
V
(6, 13, 3),

1757  
V
(13, 6, 3),

1758  
V
(14, 3, 3),

1759  
V
(9, 11, 3),

1760  
V
(11, 9, 3),

1763  
V
(2, 14, 3),

1764  
V
(2, 14, 3),

1765  
V
(10, 10, 3),

1766  
V
(10, 10, 3),

1767  
V
(14, 2, 3),

1768  
V
(14, 2, 3),

1769  
V
(1, 14, 3),

1770  
V
(1, 14, 3),

1771  
V
(14, 1, 3),

1772  
V
(14, 1, 3),

1773  
V
(0, 14, 4),

1774  
V
(14, 0, 4),

1775  
V
(5, 13, 3),

1776  
V
(5, 13, 3),

1777  
V
(13, 5, 3),

1778  
V
(13, 5, 3),

1781  
V
(7, 12, 3),

1782  
V
(12, 7, 3),

1783  
V
(4, 13, 3),

1784  
V
(8, 11, 3),

1785  
V
(13, 4, 2),

1786  
V
(13, 4, 2),

1787  
V
(11, 8, 3),

1788  
V
(9, 10, 3),

1791  
V
(10, 9, 3),

1792  
V
(6, 12, 3),

1793  
V
(12, 6, 3),

1794  
V
(3, 13, 3),

1795  
V
(13, 3, 2),

1796  
V
(13, 3, 2),

1797  
V
(13, 2, 2),

1798  
V
(13, 2, 2),

1801  
V
(2, 13, 3),

1802  
V
(0, 13, 3),

1803  
V
(1, 13, 2),

1804  
V
(1, 13, 2),

1805  
V
(7, 11, 2),

1806  
V
(7, 11, 2),

1807  
V
(11, 7, 2),

1808  
V
(11, 7, 2),

1811  
V
(13, 1, 2),

1812  
V
(13, 1, 2),

1813  
V
(5, 12, 3),

1814  
V
(13, 0, 3),

1815  
V
(12, 5, 2),

1816  
V
(12, 5, 2),

1817  
V
(8, 10, 2),

1818  
V
(8, 10, 2),

1821  
V
(10, 8, 2),

1822  
V
(4, 12, 2),

1823  
V
(12, 4, 2),

1824  
V
(6, 11, 2),

1827  
V
(11, 6, 2),

1828  
V
(11, 6, 2),

1829  
V
(9, 9, 3),

1830  
V
(0, 12, 3),

1831  
V
(3, 12, 2),

1832  
V
(3, 12, 2),

1833  
V
(12, 3, 2),

1834  
V
(12, 3, 2),

1837  
V
(7, 10, 2),

1838  
V
(7, 10, 2),

1839  
V
(10, 7, 2),

1840  
V
(10, 7, 2),

1841  
V
(10, 6, 2),

1842  
V
(10, 6, 2),

1843  
V
(12, 0, 3),

1844  
V
(0, 11, 3),

1847  
V
(12, 2, 1),

1848  
V
(12, 2, 1),

1849  
V
(2, 12, 2),

1850  
V
(5, 11, 2),

1853  
V
(11, 5, 2),

1854  
V
(1, 12, 2),

1855  
V
(8, 9, 2),

1856  
V
(9, 8, 2),

1859  
V
(12, 1, 2),

1860  
V
(4, 11, 2),

1861  
V
(11, 4, 2),

1862  
V
(6, 10, 2),

1865  
V
(3, 11, 2),

1866  
V
(7, 9, 2),

1867  
V
(11, 3, 1),

1868  
V
(11, 3, 1),

1871  
V
(9, 7, 2),

1872  
V
(8, 8, 2),

1873  
V
(2, 11, 2),

1874  
V
(5, 10, 2),

1877  
V
(11, 2, 1),

1878  
V
(11, 2, 1),

1879  
V
(10, 5, 2),

1880  
V
(1, 11, 2),

1883  
V
(11, 1, 1),

1884  
V
(11, 1, 1),

1885  
V
(11, 0, 2),

1886  
V
(6, 9, 2),

1889  
V
(9, 6, 2),

1890  
V
(4, 10, 2),

1891  
V
(10, 4, 2),

1892  
V
(7, 8, 2),

1895  
V
(8, 7, 2),

1896  
V
(3, 10, 2),

1897  
V
(10, 3, 1),

1898  
V
(10, 3, 1),

1901  
V
(5, 9, 1),

1902  
V
(9, 5, 1),

1905  
V
(2, 10, 1),

1906  
V
(10, 2, 1),

1909  
V
(1, 10, 1),

1910  
V
(10, 1, 1),

1913  
V
(0, 10, 2),

1914  
V
(10, 0, 2),

1915  
V
(6, 8, 1),

1916  
V
(6, 8, 1),

1919  
V
(8, 6, 1),

1920  
V
(4, 9, 1),

1923  
V
(9, 4, 1),

1924  
V
(3, 9, 1),

1927  
V
(9, 3, 1),

1928  
V
(9, 3, 1),

1929  
V
(7, 7, 2),

1930  
V
(0, 9, 2),

1933  
V
(5, 8, 1),

1934  
V
(8, 5, 1),

1937  
V
(2, 9, 1),

1938  
V
(6, 7, 1),

1941  
V
(7, 6, 1),

1942  
V
(9, 2, 1),

1945  
V
(1, 9, 1),

1946  
V
(9, 0, 1),

1949  
V
(4, 8, 1),

1950  
V
(8, 4, 1),

1953  
V
(5, 7, 1),

1954  
V
(7, 5, 1),

1957  
V
(3, 8, 1),

1958  
V
(8, 3, 1),

1961  
V
(6, 6, 1),

1962  
V
(4, 7, 1),

1965  
V
(7, 4, 1),

1966  
V
(0, 8, 1),

1969  
V
(8, 0, 1),

1970  
V
(5, 6, 1),

1973  
V
(6, 5, 1),

1974  
V
(3, 7, 1),

1977  
V
(7, 3, 1),

1978  
V
(4, 6, 1),

1981  
V
(0, 7, 1),

1982  
V
(7, 0, 1),

1985  
V
(0, 6, 1),

1986  
V
(6, 0, 1),

1989  
V
(15, 15, 1),

1990  
V
(14, 15, 1),

1993  
V
(15, 14, 1),

1994  
V
(13, 15, 1),

1997  
V
(15, 13, 1),

1998  
V
(12, 15, 1),

2001  
V
(15, 12, 1),

2002  
V
(13, 14, 1),

2005  
V
(14, 13, 1),

2006  
V
(11, 15, 1),

2009  
V
(12, 14, 1),

2010  
V
(14, 12, 1),

2013  
V
(10, 14, 1),

2014  
V
(0, 15, 1)

2018 
hufÂaú
 c⁄° 
	ghuf·ab16
[] = {

2019  
PTR
(16, 4),

2020  
PTR
(32, 4),

2021  
PTR
(48, 4),

2022  
PTR
(64, 2),

2023  
V
(1, 1, 4),

2024  
V
(0, 1, 4),

2025  
V
(1, 0, 3),

2026  
V
(1, 0, 3),

2027  
V
(0, 0, 1),

2028  
V
(0, 0, 1),

2029  
V
(0, 0, 1),

2030  
V
(0, 0, 1),

2031  
V
(0, 0, 1),

2032  
V
(0, 0, 1),

2033  
V
(0, 0, 1),

2034  
V
(0, 0, 1),

2037  
PTR
(68, 3),

2038  
PTR
(76, 3),

2039  
PTR
(84, 2),

2040  
V
(15, 15, 4),

2041  
PTR
(88, 2),

2042  
PTR
(92, 1),

2043  
PTR
(94, 4),

2044  
V
(15, 2, 4),

2045  
PTR
(110, 1),

2046  
V
(1, 15, 4),

2047  
V
(15, 1, 4),

2048  
PTR
(112, 4),

2049  
PTR
(128, 4),

2050  
PTR
(144, 4),

2051  
PTR
(160, 4),

2052  
PTR
(176, 4),

2055  
PTR
(192, 4),

2056  
PTR
(208, 3),

2057  
PTR
(216, 3),

2058  
PTR
(224, 3),

2059  
PTR
(232, 3),

2060  
PTR
(240, 3),

2061  
PTR
(248, 3),

2062  
PTR
(256, 3),

2063  
PTR
(264, 2),

2064  
PTR
(268, 2),

2065  
PTR
(272, 1),

2066  
PTR
(274, 2),

2067  
PTR
(278, 2),

2068  
PTR
(282, 1),

2069  
V
(5, 1, 4),

2070  
PTR
(284, 1),

2073  
PTR
(286, 1),

2074  
PTR
(288, 1),

2075  
PTR
(290, 1),

2076  
V
(1, 4, 4),

2077  
V
(4, 1, 4),

2078  
PTR
(292, 1),

2079  
V
(2, 3, 4),

2080  
V
(3, 2, 4),

2081  
V
(1, 3, 3),

2082  
V
(1, 3, 3),

2083  
V
(3, 1, 3),

2084  
V
(3, 1, 3),

2085  
V
(0, 3, 4),

2086  
V
(3, 0, 4),

2087  
V
(2, 2, 3),

2088  
V
(2, 2, 3),

2091  
V
(1, 2, 2),

2092  
V
(2, 1, 2),

2093  
V
(0, 2, 2),

2094  
V
(2, 0, 2),

2097  
V
(14, 15, 3),

2098  
V
(15, 14, 3),

2099  
V
(13, 15, 3),

2100  
V
(15, 13, 3),

2101  
V
(12, 15, 3),

2102  
V
(15, 12, 3),

2103  
V
(11, 15, 3),

2104  
V
(15, 11, 3),

2107  
V
(10, 15, 2),

2108  
V
(10, 15, 2),

2109  
V
(15, 10, 3),

2110  
V
(9, 15, 3),

2111  
V
(15, 9, 3),

2112  
V
(15, 8, 3),

2113  
V
(8, 15, 2),

2114  
V
(8, 15, 2),

2117  
V
(7, 15, 2),

2118  
V
(15, 7, 2),

2119  
V
(6, 15, 2),

2120  
V
(15, 6, 2),

2123  
V
(5, 15, 2),

2124  
V
(15, 5, 2),

2125  
V
(4, 15, 1),

2126  
V
(4, 15, 1),

2129  
V
(15, 4, 1),

2130  
V
(15, 3, 1),

2133  
V
(15, 0, 1),

2134  
V
(15, 0, 1),

2135  
V
(15, 0, 1),

2136  
V
(15, 0, 1),

2137  
V
(15, 0, 1),

2138  
V
(15, 0, 1),

2139  
V
(15, 0, 1),

2140  
V
(15, 0, 1),

2141  
V
(3, 15, 2),

2142  
V
(3, 15, 2),

2143  
V
(3, 15, 2),

2144  
V
(3, 15, 2),

2145  
PTR
(294, 4),

2146  
PTR
(310, 3),

2147  
PTR
(318, 3),

2148  
PTR
(326, 3),

2151  
V
(2, 15, 1),

2152  
V
(0, 15, 1),

2155  
PTR
(334, 2),

2156  
PTR
(338, 2),

2157  
PTR
(342, 2),

2158  
PTR
(346, 1),

2159  
PTR
(348, 2),

2160  
PTR
(352, 2),

2161  
PTR
(356, 1),

2162  
PTR
(358, 2),

2163  
PTR
(362, 2),

2164  
PTR
(366, 2),

2165  
PTR
(370, 2),

2166  
V
(14, 3, 4),

2167  
PTR
(374, 1),

2168  
PTR
(376, 1),

2169  
PTR
(378, 1),

2170  
PTR
(380, 1),

2173  
PTR
(382, 1),

2174  
PTR
(384, 1),

2175  
PTR
(386, 1),

2176  
V
(0, 13, 4),

2177  
PTR
(388, 1),

2178  
PTR
(390, 1),

2179  
PTR
(392, 1),

2180  
V
(3, 12, 4),

2181  
PTR
(394, 1),

2182  
V
(1, 12, 4),

2183  
V
(12, 0, 4),

2184  
PTR
(396, 1),

2185  
V
(14, 2, 3),

2186  
V
(14, 2, 3),

2187  
V
(2, 14, 4),

2188  
V
(1, 14, 4),

2191  
V
(13, 3, 4),

2192  
V
(2, 13, 4),

2193  
V
(13, 2, 4),

2194  
V
(13, 1, 4),

2195  
V
(3, 11, 4),

2196  
PTR
(398, 1),

2197  
V
(1, 13, 3),

2198  
V
(1, 13, 3),

2199  
V
(12, 4, 4),

2200  
V
(6, 11, 4),

2201  
V
(12, 3, 4),

2202  
V
(10, 7, 4),

2203  
V
(2, 12, 3),

2204  
V
(2, 12, 3),

2205  
V
(12, 2, 4),

2206  
V
(11, 5, 4),

2209  
V
(12, 1, 4),

2210  
V
(0, 12, 4),

2211  
V
(4, 11, 4),

2212  
V
(11, 4, 4),

2213  
V
(6, 10, 4),

2214  
V
(10, 6, 4),

2215  
V
(11, 3, 3),

2216  
V
(11, 3, 3),

2217  
V
(5, 10, 4),

2218  
V
(10, 5, 4),

2219  
V
(2, 11, 3),

2220  
V
(2, 11, 3),

2221  
V
(11, 2, 3),

2222  
V
(11, 2, 3),

2223  
V
(1, 11, 3),

2224  
V
(1, 11, 3),

2227  
V
(11, 1, 3),

2228  
V
(11, 1, 3),

2229  
V
(0, 11, 4),

2230  
V
(11, 0, 4),

2231  
V
(6, 9, 4),

2232  
V
(9, 6, 4),

2233  
V
(4, 10, 4),

2234  
V
(10, 4, 4),

2235  
V
(7, 8, 4),

2236  
V
(8, 7, 4),

2237  
V
(10, 3, 3),

2238  
V
(10, 3, 3),

2239  
V
(3, 10, 4),

2240  
V
(5, 9, 4),

2241  
V
(2, 10, 3),

2242  
V
(2, 10, 3),

2245  
V
(9, 5, 4),

2246  
V
(6, 8, 4),

2247  
V
(10, 1, 3),

2248  
V
(10, 1, 3),

2249  
V
(8, 6, 4),

2250  
V
(7, 7, 4),

2251  
V
(9, 4, 3),

2252  
V
(9, 4, 3),

2253  
V
(4, 9, 4),

2254  
V
(5, 7, 4),

2255  
V
(6, 7, 3),

2256  
V
(6, 7, 3),

2257  
V
(10, 2, 2),

2258  
V
(10, 2, 2),

2259  
V
(10, 2, 2),

2260  
V
(10, 2, 2),

2263  
V
(1, 10, 2),

2264  
V
(1, 10, 2),

2265  
V
(0, 10, 3),

2266  
V
(10, 0, 3),

2267  
V
(3, 9, 3),

2268  
V
(9, 3, 3),

2269  
V
(5, 8, 3),

2270  
V
(8, 5, 3),

2273  
V
(2, 9, 2),

2274  
V
(2, 9, 2),

2275  
V
(9, 2, 2),

2276  
V
(9, 2, 2),

2277  
V
(7, 6, 3),

2278  
V
(0, 9, 3),

2279  
V
(1, 9, 2),

2280  
V
(1, 9, 2),

2283  
V
(9, 1, 2),

2284  
V
(9, 1, 2),

2285  
V
(9, 0, 3),

2286  
V
(4, 8, 3),

2287  
V
(8, 4, 3),

2288  
V
(7, 5, 3),

2289  
V
(3, 8, 3),

2290  
V
(8, 3, 3),

2293  
V
(6, 6, 3),

2294  
V
(2, 8, 3),

2295  
V
(8, 2, 2),

2296  
V
(8, 2, 2),

2297  
V
(4, 7, 3),

2298  
V
(7, 4, 3),

2299  
V
(1, 8, 2),

2300  
V
(1, 8, 2),

2303  
V
(8, 1, 2),

2304  
V
(8, 1, 2),

2305  
V
(8, 0, 2),

2306  
V
(8, 0, 2),

2307  
V
(0, 8, 3),

2308  
V
(5, 6, 3),

2309  
V
(3, 7, 2),

2310  
V
(3, 7, 2),

2313  
V
(7, 3, 2),

2314  
V
(7, 3, 2),

2315  
V
(6, 5, 3),

2316  
V
(4, 6, 3),

2317  
V
(2, 7, 2),

2318  
V
(2, 7, 2),

2319  
V
(7, 2, 2),

2320  
V
(7, 2, 2),

2323  
V
(6, 4, 3),

2324  
V
(5, 5, 3),

2325  
V
(0, 7, 2),

2326  
V
(0, 7, 2),

2327  
V
(1, 7, 1),

2328  
V
(1, 7, 1),

2329  
V
(1, 7, 1),

2330  
V
(1, 7, 1),

2333  
V
(7, 1, 1),

2334  
V
(7, 1, 1),

2335  
V
(7, 0, 2),

2336  
V
(3, 6, 2),

2339  
V
(6, 3, 2),

2340  
V
(4, 5, 2),

2341  
V
(5, 4, 2),

2342  
V
(2, 6, 2),

2345  
V
(6, 2, 1),

2346  
V
(1, 6, 1),

2349  
V
(6, 1, 1),

2350  
V
(6, 1, 1),

2351  
V
(0, 6, 2),

2352  
V
(6, 0, 2),

2355  
V
(5, 3, 1),

2356  
V
(5, 3, 1),

2357  
V
(3, 5, 2),

2358  
V
(4, 4, 2),

2361  
V
(2, 5, 1),

2362  
V
(5, 2, 1),

2365  
V
(1, 5, 1),

2366  
V
(0, 5, 1),

2369  
V
(3, 4, 1),

2370  
V
(4, 3, 1),

2373  
V
(5, 0, 1),

2374  
V
(2, 4, 1),

2377  
V
(4, 2, 1),

2378  
V
(3, 3, 1),

2381  
V
(0, 4, 1),

2382  
V
(4, 0, 1),

2385  
V
(12, 14, 4),

2386  
PTR
(400, 1),

2387  
V
(13, 14, 3),

2388  
V
(13, 14, 3),

2389  
V
(14, 9, 3),

2390  
V
(14, 9, 3),

2391  
V
(14, 10, 4),

2392  
V
(13, 9, 4),

2393  
V
(14, 14, 2),

2394  
V
(14, 14, 2),

2395  
V
(14, 14, 2),

2396  
V
(14, 14, 2),

2397  
V
(14, 13, 3),

2398  
V
(14, 13, 3),

2399  
V
(14, 11, 3),

2400  
V
(14, 11, 3),

2403  
V
(11, 14, 2),

2404  
V
(11, 14, 2),

2405  
V
(12, 13, 2),

2406  
V
(12, 13, 2),

2407  
V
(13, 12, 3),

2408  
V
(13, 11, 3),

2409  
V
(10, 14, 2),

2410  
V
(10, 14, 2),

2413  
V
(12, 12, 2),

2414  
V
(12, 12, 2),

2415  
V
(10, 13, 3),

2416  
V
(13, 10, 3),

2417  
V
(7, 14, 3),

2418  
V
(10, 12, 3),

2419  
V
(12, 10, 2),

2420  
V
(12, 10, 2),

2423  
V
(12, 9, 3),

2424  
V
(7, 13, 3),

2425  
V
(5, 14, 2),

2426  
V
(5, 14, 2),

2427  
V
(11, 13, 1),

2428  
V
(11, 13, 1),

2429  
V
(11, 13, 1),

2430  
V
(11, 13, 1),

2433  
V
(9, 14, 1),

2434  
V
(9, 14, 1),

2435  
V
(11, 12, 2),

2436  
V
(12, 11, 2),

2439  
V
(8, 14, 2),

2440  
V
(14, 8, 2),

2441  
V
(9, 13, 2),

2442  
V
(14, 7, 2),

2445  
V
(11, 11, 2),

2446  
V
(8, 13, 2),

2447  
V
(13, 8, 2),

2448  
V
(6, 14, 2),

2451  
V
(14, 6, 1),

2452  
V
(9, 12, 1),

2455  
V
(10, 11, 2),

2456  
V
(11, 10, 2),

2457  
V
(14, 5, 2),

2458  
V
(13, 7, 2),

2461  
V
(4, 14, 1),

2462  
V
(4, 14, 1),

2463  
V
(14, 4, 2),

2464  
V
(8, 12, 2),

2467  
V
(12, 8, 1),

2468  
V
(3, 14, 1),

2471  
V
(6, 13, 1),

2472  
V
(6, 13, 1),

2473  
V
(13, 6, 2),

2474  
V
(9, 11, 2),

2477  
V
(11, 9, 2),

2478  
V
(10, 10, 2),

2479  
V
(14, 1, 1),

2480  
V
(14, 1, 1),

2483  
V
(13, 4, 1),

2484  
V
(13, 4, 1),

2485  
V
(11, 8, 2),

2486  
V
(10, 9, 2),

2489  
V
(7, 11, 1),

2490  
V
(7, 11, 1),

2491  
V
(11, 7, 2),

2492  
V
(13, 0, 2),

2495  
V
(0, 14, 1),

2496  
V
(14, 0, 1),

2499  
V
(5, 13, 1),

2500  
V
(13, 5, 1),

2503  
V
(7, 12, 1),

2504  
V
(12, 7, 1),

2507  
V
(4, 13, 1),

2508  
V
(8, 11, 1),

2511  
V
(9, 10, 1),

2512  
V
(6, 12, 1),

2515  
V
(12, 6, 1),

2516  
V
(3, 13, 1),

2519  
V
(5, 12, 1),

2520  
V
(12, 5, 1),

2523  
V
(8, 10, 1),

2524  
V
(10, 8, 1),

2527  
V
(9, 9, 1),

2528  
V
(4, 12, 1),

2531  
V
(11, 6, 1),

2532  
V
(7, 10, 1),

2535  
V
(5, 11, 1),

2536  
V
(8, 9, 1),

2539  
V
(9, 8, 1),

2540  
V
(7, 9, 1),

2543  
V
(9, 7, 1),

2544  
V
(8, 8, 1),

2547  
V
(14, 12, 1),

2548  
V
(13, 13, 1)

2552 
hufÂaú
 c⁄° 
	ghuf·ab24
[] = {

2553  
PTR
(16, 4),

2554  
PTR
(32, 4),

2555  
PTR
(48, 4),

2556  
V
(15, 15, 4),

2557  
PTR
(64, 4),

2558  
PTR
(80, 4),

2559  
PTR
(96, 4),

2560  
PTR
(112, 4),

2561  
PTR
(128, 4),

2562  
PTR
(144, 4),

2563  
PTR
(160, 3),

2564  
PTR
(168, 2),

2565  
V
(1, 1, 4),

2566  
V
(0, 1, 4),

2567  
V
(1, 0, 4),

2568  
V
(0, 0, 4),

2571  
V
(14, 15, 4),

2572  
V
(15, 14, 4),

2573  
V
(13, 15, 4),

2574  
V
(15, 13, 4),

2575  
V
(12, 15, 4),

2576  
V
(15, 12, 4),

2577  
V
(11, 15, 4),

2578  
V
(15, 11, 4),

2579  
V
(15, 10, 3),

2580  
V
(15, 10, 3),

2581  
V
(10, 15, 4),

2582  
V
(9, 15, 4),

2583  
V
(15, 9, 3),

2584  
V
(15, 9, 3),

2585  
V
(15, 8, 3),

2586  
V
(15, 8, 3),

2589  
V
(8, 15, 4),

2590  
V
(7, 15, 4),

2591  
V
(15, 7, 3),

2592  
V
(15, 7, 3),

2593  
V
(6, 15, 3),

2594  
V
(6, 15, 3),

2595  
V
(15, 6, 3),

2596  
V
(15, 6, 3),

2597  
V
(5, 15, 3),

2598  
V
(5, 15, 3),

2599  
V
(15, 5, 3),

2600  
V
(15, 5, 3),

2601  
V
(4, 15, 3),

2602  
V
(4, 15, 3),

2603  
V
(15, 4, 3),

2604  
V
(15, 4, 3),

2607  
V
(3, 15, 3),

2608  
V
(3, 15, 3),

2609  
V
(15, 3, 3),

2610  
V
(15, 3, 3),

2611  
V
(2, 15, 3),

2612  
V
(2, 15, 3),

2613  
V
(15, 2, 3),

2614  
V
(15, 2, 3),

2615  
V
(15, 1, 3),

2616  
V
(15, 1, 3),

2617  
V
(1, 15, 4),

2618  
V
(15, 0, 4),

2619  
PTR
(172, 3),

2620  
PTR
(180, 3),

2621  
PTR
(188, 3),

2622  
PTR
(196, 3),

2625  
PTR
(204, 4),

2626  
PTR
(220, 3),

2627  
PTR
(228, 3),

2628  
PTR
(236, 3),

2629  
PTR
(244, 2),

2630  
PTR
(248, 2),

2631  
PTR
(252, 2),

2632  
PTR
(256, 2),

2633  
PTR
(260, 2),

2634  
PTR
(264, 2),

2635  
PTR
(268, 2),

2636  
PTR
(272, 2),

2637  
PTR
(276, 2),

2638  
PTR
(280, 3),

2639  
PTR
(288, 2),

2640  
PTR
(292, 2),

2643  
PTR
(296, 2),

2644  
PTR
(300, 3),

2645  
PTR
(308, 2),

2646  
PTR
(312, 3),

2647  
PTR
(320, 1),

2648  
PTR
(322, 2),

2649  
PTR
(326, 2),

2650  
PTR
(330, 1),

2651  
PTR
(332, 2),

2652  
PTR
(336, 1),

2653  
PTR
(338, 1),

2654  
PTR
(340, 1),

2655  
PTR
(342, 1),

2656  
PTR
(344, 1),

2657  
PTR
(346, 1),

2658  
PTR
(348, 1),

2661  
PTR
(350, 1),

2662  
PTR
(352, 1),

2663  
PTR
(354, 1),

2664  
PTR
(356, 1),

2665  
PTR
(358, 1),

2666  
PTR
(360, 1),

2667  
PTR
(362, 1),

2668  
PTR
(364, 1),

2669  
PTR
(366, 1),

2670  
PTR
(368, 1),

2671  
PTR
(370, 2),

2672  
PTR
(374, 1),

2673  
PTR
(376, 2),

2674  
V
(7, 3, 4),

2675  
PTR
(380, 1),

2676  
V
(7, 2, 4),

2679  
V
(4, 6, 4),

2680  
V
(6, 4, 4),

2681  
V
(5, 5, 4),

2682  
V
(7, 1, 4),

2683  
V
(3, 6, 4),

2684  
V
(6, 3, 4),

2685  
V
(4, 5, 4),

2686  
V
(5, 4, 4),

2687  
V
(2, 6, 4),

2688  
V
(6, 2, 4),

2689  
V
(1, 6, 4),

2690  
V
(6, 1, 4),

2691  
PTR
(382, 1),

2692  
V
(3, 5, 4),

2693  
V
(5, 3, 4),

2694  
V
(4, 4, 4),

2697  
V
(2, 5, 4),

2698  
V
(5, 2, 4),

2699  
V
(1, 5, 4),

2700  
PTR
(384, 1),

2701  
V
(5, 1, 3),

2702  
V
(5, 1, 3),

2703  
V
(3, 4, 4),

2704  
V
(4, 3, 4),

2705  
V
(2, 4, 3),

2706  
V
(2, 4, 3),

2707  
V
(4, 2, 3),

2708  
V
(4, 2, 3),

2709  
V
(3, 3, 3),

2710  
V
(3, 3, 3),

2711  
V
(1, 4, 3),

2712  
V
(1, 4, 3),

2715  
V
(4, 1, 3),

2716  
V
(4, 1, 3),

2717  
V
(0, 4, 4),

2718  
V
(4, 0, 4),

2719  
V
(2, 3, 3),

2720  
V
(2, 3, 3),

2721  
V
(3, 2, 3),

2722  
V
(3, 2, 3),

2723  
V
(1, 3, 2),

2724  
V
(1, 3, 2),

2725  
V
(1, 3, 2),

2726  
V
(1, 3, 2),

2727  
V
(3, 1, 2),

2728  
V
(3, 1, 2),

2729  
V
(3, 1, 2),

2730  
V
(3, 1, 2),

2733  
V
(0, 3, 3),

2734  
V
(3, 0, 3),

2735  
V
(2, 2, 2),

2736  
V
(2, 2, 2),

2737  
V
(1, 2, 1),

2738  
V
(1, 2, 1),

2739  
V
(1, 2, 1),

2740  
V
(1, 2, 1),

2743  
V
(2, 1, 1),

2744  
V
(2, 1, 1),

2745  
V
(0, 2, 2),

2746  
V
(2, 0, 2),

2749  
V
(0, 15, 1),

2750  
V
(0, 15, 1),

2751  
V
(0, 15, 1),

2752  
V
(0, 15, 1),

2753  
V
(14, 14, 3),

2754  
V
(13, 14, 3),

2755  
V
(14, 13, 3),

2756  
V
(12, 14, 3),

2759  
V
(14, 12, 3),

2760  
V
(13, 13, 3),

2761  
V
(11, 14, 3),

2762  
V
(14, 11, 3),

2763  
V
(12, 13, 3),

2764  
V
(13, 12, 3),

2765  
V
(10, 14, 3),

2766  
V
(14, 10, 3),

2769  
V
(11, 13, 3),

2770  
V
(13, 11, 3),

2771  
V
(12, 12, 3),

2772  
V
(9, 14, 3),

2773  
V
(14, 9, 3),

2774  
V
(10, 13, 3),

2775  
V
(13, 10, 3),

2776  
V
(11, 12, 3),

2779  
V
(12, 11, 3),

2780  
V
(8, 14, 3),

2781  
V
(14, 8, 3),

2782  
V
(9, 13, 3),

2783  
V
(13, 9, 3),

2784  
V
(7, 14, 3),

2785  
V
(14, 7, 3),

2786  
V
(10, 12, 3),

2789  
V
(12, 10, 3),

2790  
V
(12, 10, 3),

2791  
V
(11, 11, 3),

2792  
V
(11, 11, 3),

2793  
V
(8, 13, 3),

2794  
V
(8, 13, 3),

2795  
V
(13, 8, 3),

2796  
V
(13, 8, 3),

2797  
V
(0, 14, 4),

2798  
V
(14, 0, 4),

2799  
V
(0, 13, 3),

2800  
V
(0, 13, 3),

2801  
V
(14, 6, 2),

2802  
V
(14, 6, 2),

2803  
V
(14, 6, 2),

2804  
V
(14, 6, 2),

2807  
V
(6, 14, 3),

2808  
V
(9, 12, 3),

2809  
V
(12, 9, 2),

2810  
V
(12, 9, 2),

2811  
V
(5, 14, 2),

2812  
V
(5, 14, 2),

2813  
V
(11, 10, 2),

2814  
V
(11, 10, 2),

2817  
V
(14, 5, 2),

2818  
V
(14, 5, 2),

2819  
V
(10, 11, 3),

2820  
V
(7, 13, 3),

2821  
V
(13, 7, 2),

2822  
V
(13, 7, 2),

2823  
V
(14, 4, 2),

2824  
V
(14, 4, 2),

2827  
V
(8, 12, 2),

2828  
V
(8, 12, 2),

2829  
V
(12, 8, 2),

2830  
V
(12, 8, 2),

2831  
V
(4, 14, 3),

2832  
V
(2, 14, 3),

2833  
V
(3, 14, 2),

2834  
V
(3, 14, 2),

2837  
V
(6, 13, 2),

2838  
V
(13, 6, 2),

2839  
V
(14, 3, 2),

2840  
V
(9, 11, 2),

2843  
V
(11, 9, 2),

2844  
V
(10, 10, 2),

2845  
V
(14, 2, 2),

2846  
V
(1, 14, 2),

2849  
V
(14, 1, 2),

2850  
V
(5, 13, 2),

2851  
V
(13, 5, 2),

2852  
V
(7, 12, 2),

2855  
V
(12, 7, 2),

2856  
V
(4, 13, 2),

2857  
V
(8, 11, 2),

2858  
V
(11, 8, 2),

2861  
V
(13, 4, 2),

2862  
V
(9, 10, 2),

2863  
V
(10, 9, 2),

2864  
V
(6, 12, 2),

2867  
V
(12, 6, 2),

2868  
V
(3, 13, 2),

2869  
V
(13, 3, 2),

2870  
V
(2, 13, 2),

2873  
V
(13, 2, 2),

2874  
V
(1, 13, 2),

2875  
V
(7, 11, 2),

2876  
V
(11, 7, 2),

2879  
V
(13, 1, 2),

2880  
V
(5, 12, 2),

2881  
V
(12, 5, 2),

2882  
V
(8, 10, 2),

2885  
V
(10, 8, 2),

2886  
V
(9, 9, 2),

2887  
V
(4, 12, 2),

2888  
V
(12, 4, 2),

2891  
V
(6, 11, 2),

2892  
V
(6, 11, 2),

2893  
V
(11, 6, 2),

2894  
V
(11, 6, 2),

2895  
V
(13, 0, 3),

2896  
V
(0, 12, 3),

2897  
V
(3, 12, 2),

2898  
V
(3, 12, 2),

2901  
V
(12, 3, 2),

2902  
V
(7, 10, 2),

2903  
V
(10, 7, 2),

2904  
V
(2, 12, 2),

2907  
V
(12, 2, 2),

2908  
V
(5, 11, 2),

2909  
V
(11, 5, 2),

2910  
V
(1, 12, 2),

2913  
V
(8, 9, 2),

2914  
V
(9, 8, 2),

2915  
V
(12, 1, 2),

2916  
V
(4, 11, 2),

2919  
V
(12, 0, 3),

2920  
V
(0, 11, 3),

2921  
V
(3, 11, 2),

2922  
V
(3, 11, 2),

2923  
V
(11, 0, 3),

2924  
V
(0, 10, 3),

2925  
V
(1, 10, 2),

2926  
V
(1, 10, 2),

2929  
V
(11, 4, 1),

2930  
V
(11, 4, 1),

2931  
V
(6, 10, 2),

2932  
V
(10, 6, 2),

2935  
V
(7, 9, 2),

2936  
V
(7, 9, 2),

2937  
V
(9, 7, 2),

2938  
V
(9, 7, 2),

2939  
V
(10, 0, 3),

2940  
V
(0, 9, 3),

2941  
V
(9, 0, 2),

2942  
V
(9, 0, 2),

2945  
V
(11, 3, 1),

2946  
V
(8, 8, 1),

2949  
V
(2, 11, 2),

2950  
V
(5, 10, 2),

2951  
V
(11, 2, 1),

2952  
V
(11, 2, 1),

2955  
V
(10, 5, 2),

2956  
V
(1, 11, 2),

2957  
V
(11, 1, 2),

2958  
V
(6, 9, 2),

2961  
V
(9, 6, 1),

2962  
V
(10, 4, 1),

2965  
V
(4, 10, 2),

2966  
V
(7, 8, 2),

2967  
V
(8, 7, 1),

2968  
V
(8, 7, 1),

2971  
V
(3, 10, 1),

2972  
V
(10, 3, 1),

2975  
V
(5, 9, 1),

2976  
V
(9, 5, 1),

2979  
V
(2, 10, 1),

2980  
V
(10, 2, 1),

2983  
V
(10, 1, 1),

2984  
V
(6, 8, 1),

2987  
V
(8, 6, 1),

2988  
V
(7, 7, 1),

2991  
V
(4, 9, 1),

2992  
V
(9, 4, 1),

2995  
V
(3, 9, 1),

2996  
V
(9, 3, 1),

2999  
V
(5, 8, 1),

3000  
V
(8, 5, 1),

3003  
V
(2, 9, 1),

3004  
V
(6, 7, 1),

3007  
V
(7, 6, 1),

3008  
V
(9, 2, 1),

3011  
V
(1, 9, 1),

3012  
V
(9, 1, 1),

3015  
V
(4, 8, 1),

3016  
V
(8, 4, 1),

3019  
V
(5, 7, 1),

3020  
V
(7, 5, 1),

3023  
V
(3, 8, 1),

3024  
V
(8, 3, 1),

3027  
V
(6, 6, 1),

3028  
V
(2, 8, 1),

3031  
V
(8, 2, 1),

3032  
V
(1, 8, 1),

3035  
V
(4, 7, 1),

3036  
V
(7, 4, 1),

3039  
V
(8, 1, 1),

3040  
V
(8, 1, 1),

3041  
V
(0, 8, 2),

3042  
V
(8, 0, 2),

3045  
V
(5, 6, 1),

3046  
V
(6, 5, 1),

3049  
V
(1, 7, 1),

3050  
V
(1, 7, 1),

3051  
V
(0, 7, 2),

3052  
V
(7, 0, 2),

3055  
V
(3, 7, 1),

3056  
V
(2, 7, 1),

3059  
V
(0, 6, 1),

3060  
V
(6, 0, 1),

3063  
V
(0, 5, 1),

3064  
V
(5, 0, 1)

3067 #unde‡
V


3068 #unde‡
PTR


3072 
huffquad
 c⁄° *c⁄° 
	gmad_huff_quad_èbÀ
[2] = { 
huf·abA
, 
huf·abB
 };

3074 
huf·abÀ
 c⁄° 
	gmad_huff_∑ú_èbÀ
[32] = {

3075  { 
huf·ab0
, 0, 0 },

3076  { 
huf·ab1
, 0, 3 },

3077  { 
huf·ab2
, 0, 3 },

3078  { 
huf·ab3
, 0, 3 },

3080  { 
huf·ab5
, 0, 3 },

3081  { 
huf·ab6
, 0, 4 },

3082  { 
huf·ab7
, 0, 4 },

3083  { 
huf·ab8
, 0, 4 },

3084  { 
huf·ab9
, 0, 4 },

3085  { 
huf·ab10
, 0, 4 },

3086  { 
huf·ab11
, 0, 4 },

3087  { 
huf·ab12
, 0, 4 },

3088  { 
huf·ab13
, 0, 4 },

3090  { 
huf·ab15
, 0, 4 },

3091  { 
huf·ab16
, 1, 4 },

3092  { 
huf·ab16
, 2, 4 },

3093  { 
huf·ab16
, 3, 4 },

3094  { 
huf·ab16
, 4, 4 },

3095  { 
huf·ab16
, 6, 4 },

3096  { 
huf·ab16
, 8, 4 },

3097  { 
huf·ab16
, 10, 4 },

3098  { 
huf·ab16
, 13, 4 },

3099  { 
huf·ab24
, 4, 4 },

3100  { 
huf·ab24
, 5, 4 },

3101  { 
huf·ab24
, 6, 4 },

3102  { 
huf·ab24
, 7, 4 },

3103  { 
huf·ab24
, 8, 4 },

3104  { 
huf·ab24
, 9, 4 },

3105  { 
huf·ab24
, 11, 4 },

3106  { 
huf·ab24
, 13, 4 }

	@libmad/huffman.h

22 #i‚de‡
LIBMAD_HUFFMAN_H


23 
	#LIBMAD_HUFFMAN_H


	)

25 
	uhuffquad
 {

27 
	mföÆ
 : 1;

28 
	mbôs
 : 3;

29 
	moff£t
 : 12;

30 } 
	m±r
;

32 
	mföÆ
 : 1;

33 
	mhÀn
 : 3;

34 
	mv
 : 1;

35 
	mw
 : 1;

36 
	mx
 : 1;

37 
	my
 : 1;

38 } 
	mvÆue
;

39 
	mföÆ
 : 1;

42 
	uhufÂaú
 {

44 
	mföÆ
 : 1;

45 
	mbôs
 : 3;

46 
	moff£t
 : 12;

47 } 
	m±r
;

49 
	mföÆ
 : 1;

50 
	mhÀn
 : 3;

51 
	mx
 : 4;

52 
	my
 : 4;

53 } 
	mvÆue
;

54 
	mföÆ
 : 1;

57 
	shuf·abÀ
 {

58 
hufÂaú
 c⁄° *
	mèbÀ
;

59 
	mlöbôs
;

60 
	m°¨tbôs
;

63 
huffquad
 c⁄° *c⁄° 
mad_huff_quad_èbÀ
[2];

64 
huf·abÀ
 c⁄° 
mad_huff_∑ú_èbÀ
[32];

	@libmad/layer12.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 #ifde‡
HAVE_LIMITS_H


27 
	~<limôs.h
>

29 
	#CHAR_BIT
 8

	)

32 
	~"fixed.h
"

33 
	~"bô.h
"

34 
	~"°ªam.h
"

35 
	~"‰ame.h
"

36 
	~"œyî12.h
"

43 
mad_fixed_t
 c⁄° 
	gsf_èbÀ
[64] = {

44 
	~"sf_èbÀ.d©
"

51 
mad_fixed_t
 c⁄° 
	glöór_èbÀ
[14] = {

52 
MAD_F
(0x15555555),

53 
MAD_F
(0x12492492),

54 
MAD_F
(0x11111111),

55 
MAD_F
(0x10842108),

56 
MAD_F
(0x10410410),

57 
MAD_F
(0x10204081),

58 
MAD_F
(0x10101010),

59 
MAD_F
(0x10080402),

60 
MAD_F
(0x10040100),

61 
MAD_F
(0x10020040),

62 
MAD_F
(0x10010010),

63 
MAD_F
(0x10008004),

64 
MAD_F
(0x10004001),

65 
MAD_F
(0x10002000)

73 
mad_fixed_t
 
	$I_ßm∂e
(
mad_bô±r
 *
±r
, 
nb
)

75 
mad_fixed_t
 
ßm∂e
;

77 
ßm∂e
 = 
	`mad_bô_ªad
(
±r
, 
nb
);

81 
ßm∂e
 ^1 << (
nb
 - 1);

82 
ßm∂e
 |-(ßm∂ê& (1 << (
nb
 - 1)));

84 
ßm∂e
 <<
MAD_F_FRACBITS
 - (
nb
 - 1);

90 
ßm∂e
 +
MAD_F_ONE
 >> (
nb
 - 1);

92  
	`mad_f_mul
(
ßm∂e
, 
löór_èbÀ
[
nb
 - 2]);

96 
	}
}

102 
	$mad_œyî_I
(
mad_°ªam
 *
°ªam
, 
mad_‰ame
 *
‰ame
)

104 
mad_hódî
 *
hódî
 = &
‰ame
->header;

105 
nch
, 
bound
, 
ch
, 
s
, 
sb
, 
nb
;

106 
Æloˇti⁄
[2][32], 
sˇÀÁ˘‹
[2][32];

108 
nch
 = 
	`MAD_NCHANNELS
(
hódî
);

110 
bound
 = 32;

111 i‡(
hódî
->
mode
 =
MAD_MODE_JOINT_STEREO
) {

112 
hódî
->
Êags
 |
MAD_FLAG_I_STEREO
;

113 
bound
 = 4 + 
hódî
->
mode_exãnsi⁄
 * 4;

118 i‡(
hódî
->
Êags
 & 
MAD_FLAG_PROTECTION
) {

119 
hódî
->
¸c_check
 =

120 
	`mad_bô_¸c
(
°ªam
->
±r
, 4 * (
bound
 * 
nch
 + (32 - bound)),

121 
hódî
->
¸c_check
);

123 i‡(
hódî
->
¸c_check
 !hódî->
¸c_èrgë
 &&

124 !(
‰ame
->
›ti⁄s
 & 
MAD_OPTION_IGNORECRC
)) {

125 
°ªam
->
îr‹
 = 
MAD_ERROR_BADCRC
;

132 
sb
 = 0; sb < 
bound
; ++sb) {

133 
ch
 = 0; ch < 
nch
; ++ch) {

134 
nb
 = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 4);

136 i‡(
nb
 == 15) {

137 
°ªam
->
îr‹
 = 
MAD_ERROR_BADBITALLOC
;

141 
Æloˇti⁄
[
ch
][
sb
] = 
nb
 ?Çb + 1 : 0;

145 
sb
 = 
bound
; sb < 32; ++sb) {

146 
nb
 = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 4);

148 i‡(
nb
 == 15) {

149 
°ªam
->
îr‹
 = 
MAD_ERROR_BADBITALLOC
;

153 
Æloˇti⁄
[0][
sb
] =

154 
Æloˇti⁄
[1][
sb
] = 
nb
 ?Çb + 1 : 0;

159 
sb
 = 0; sb < 32; ++sb) {

160 
ch
 = 0; ch < 
nch
; ++ch) {

161 i‡(
Æloˇti⁄
[
ch
][
sb
]) {

162 
sˇÀÁ˘‹
[
ch
][
sb
] = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 6);

164 #i‡
	`deföed
(
OPT_STRICT
)

170 i‡(
sˇÀÁ˘‹
[
ch
][
sb
] == 63) {

171 
°ªam
->
îr‹
 = 
MAD_ERROR_BADSCALEFACTOR
;

181 
s
 = 0; s < 12; ++s) {

182 
sb
 = 0; sb < 
bound
; ++sb) {

183 
ch
 = 0; ch < 
nch
; ++ch) {

184 
nb
 = 
Æloˇti⁄
[
ch
][
sb
];

185 
‰ame
->
sbßm∂e
[
ch
][
s
][
sb
] = 
nb
 ?

186 
	`mad_f_mul
(
	`I_ßm∂e
(&
°ªam
->
±r
, 
nb
),

187 
sf_èbÀ
[
sˇÀÁ˘‹
[
ch
][
sb
]]) : 0;

191 
sb
 = 
bound
; sb < 32; ++sb) {

192 i‡((
nb
 = 
Æloˇti⁄
[0][
sb
])) {

193 
mad_fixed_t
 
ßm∂e
;

195 
ßm∂e
 = 
	`I_ßm∂e
(&
°ªam
->
±r
, 
nb
);

197 
ch
 = 0; ch < 
nch
; ++ch) {

198 
‰ame
->
sbßm∂e
[
ch
][
s
][
sb
] =

199 
	`mad_f_mul
(
ßm∂e
, 
sf_èbÀ
[
sˇÀÁ˘‹
[
ch
][
sb
]]);

203 
ch
 = 0; ch < 
nch
; ++ch)

204 
‰ame
->
sbßm∂e
[
ch
][
s
][
sb
] = 0;

210 
	}
}

217 
	msblimô
;

218 c⁄° 
	moff£ts
[30];

219 } c⁄° 
	gsbqu™t_èbÀ
[5] = {

238 
	mnbÆ
;

239 
	moff£t
;

240 } c⁄° 
	gbôÆloc_èbÀ
[8] = {

253 c⁄° 
	goff£t_èbÀ
[6][15] = {

264 
	squ™t˛ass
 {

265 
	m∆evñs
;

266 
	mgroup
;

267 
	mbôs
;

268 
mad_fixed_t
 
	mC
;

269 
mad_fixed_t
 
	mD
;

270 } c⁄° 
	gqc_èbÀ
[17] = {

271 
	~"qc_èbÀ.d©
"

279 
	$II_ßm∂es
(
mad_bô±r
 *
±r
,

280 
qu™t˛ass
 const *quantclass,

281 
mad_fixed_t
 
ouçut
[3])

283 
nb
, 
s
, 
ßm∂e
[3];

285 i‡((
nb
 = 
qu™t˛ass
->
group
)) {

286 
c
, 
∆evñs
;

289 
c
 = 
	`mad_bô_ªad
(
±r
, 
qu™t˛ass
->
bôs
);

290 
∆evñs
 = 
qu™t˛ass
->nlevels;

292 
s
 = 0; s < 3; ++s) {

293 
ßm∂e
[
s
] = 
c
 % 
∆evñs
;

294 
c
 /
∆evñs
;

298 
nb
 = 
qu™t˛ass
->
bôs
;

300 
s
 = 0; s < 3; ++s)

301 
ßm∂e
[
s
] = 
	`mad_bô_ªad
(
±r
, 
nb
);

304 
s
 = 0; s < 3; ++s) {

305 
mad_fixed_t
 
ªqu™tized
;

309 
ªqu™tized
 = 
ßm∂e
[
s
] ^ (1 << (
nb
 - 1));

310 
ªqu™tized
 |-‘equ™tized & (1 << (
nb
 - 1)));

312 
ªqu™tized
 <<
MAD_F_FRACBITS
 - (
nb
 - 1);

318 
ouçut
[
s
] = 
	`mad_f_mul
(
ªqu™tized
 + 
qu™t˛ass
->
D
, qu™t˛ass->
C
);

323 
	}
}

329 
	$mad_œyî_II
(
mad_°ªam
 *
°ªam
, 
mad_‰ame
 *
‰ame
)

331 
mad_hódî
 *
hódî
 = &
‰ame
->header;

332 
mad_bô±r
 
°¨t
;

333 
ödex
, 
sblimô
, 
nbÆ
, 
nch
, 
bound
, 
gr
, 
ch
, 
s
, 
sb
;

334 c⁄° *
off£ts
;

335 
Æloˇti⁄
[2][32], 
scfsi
[2][32], 
sˇÀÁ˘‹
[2][32][3];

336 
mad_fixed_t
 
ßm∂es
[3];

338 
nch
 = 
	`MAD_NCHANNELS
(
hódî
);

340 i‡(
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
)

341 
ödex
 = 4;

342 i‡(
hódî
->
Êags
 & 
MAD_FLAG_FREEFORMAT
)

343 
‰ìf‹m©
;

345 
bôøã_≥r_ch™√l
;

347 
bôøã_≥r_ch™√l
 = 
hódî
->
bôøã
;

348 i‡(
nch
 == 2) {

349 
bôøã_≥r_ch™√l
 /= 2;

351 #i‡
	`deföed
(
OPT_STRICT
)

357 i‡(
bôøã_≥r_ch™√l
 <= 28000 || bitrate_per_channel == 40000) {

358 
°ªam
->
îr‹
 = 
MAD_ERROR_BADMODE
;

364 i‡(
bôøã_≥r_ch™√l
 > 192000) {

369 
°ªam
->
îr‹
 = 
MAD_ERROR_BADMODE
;

374 i‡(
bôøã_≥r_ch™√l
 <= 48000)

375 
ödex
 = (
hódî
->
ßm∂î©e
 == 32000) ? 3 : 2;

376 i‡(
bôøã_≥r_ch™√l
 <= 80000)

377 
ödex
 = 0;

379 
‰ìf‹m©
:

380 
ödex
 = (
hódî
->
ßm∂î©e
 == 48000) ? 0 : 1;

384 
sblimô
 = 
sbqu™t_èbÀ
[
ödex
].sblimit;

385 
off£ts
 = 
sbqu™t_èbÀ
[
ödex
].offsets;

387 
bound
 = 32;

388 i‡(
hódî
->
mode
 =
MAD_MODE_JOINT_STEREO
) {

389 
hódî
->
Êags
 |
MAD_FLAG_I_STEREO
;

390 
bound
 = 4 + 
hódî
->
mode_exãnsi⁄
 * 4;

393 i‡(
bound
 > 
sblimô
)

394 
bound
 = 
sblimô
;

396 
°¨t
 = 
°ªam
->
±r
;

400 
sb
 = 0; sb < 
bound
; ++sb) {

401 
nbÆ
 = 
bôÆloc_èbÀ
[
off£ts
[
sb
]].nbal;

403 
ch
 = 0; ch < 
nch
; ++ch)

404 
Æloˇti⁄
[
ch
][
sb
] = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 
nbÆ
);

407 
sb
 = 
bound
; sb < 
sblimô
; ++sb) {

408 
nbÆ
 = 
bôÆloc_èbÀ
[
off£ts
[
sb
]].nbal;

410 
Æloˇti⁄
[0][
sb
] =

411 
Æloˇti⁄
[1][
sb
] = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 
nbÆ
);

416 
sb
 = 0; sb < 
sblimô
; ++sb) {

417 
ch
 = 0; ch < 
nch
; ++ch) {

418 i‡(
Æloˇti⁄
[
ch
][
sb
])

419 
scfsi
[
ch
][
sb
] = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 2);

425 i‡(
hódî
->
Êags
 & 
MAD_FLAG_PROTECTION
) {

426 
hódî
->
¸c_check
 =

427 
	`mad_bô_¸c
(
°¨t
, 
	`mad_bô_Àngth
(&°¨t, &
°ªam
->
±r
),

428 
hódî
->
¸c_check
);

430 i‡(
hódî
->
¸c_check
 !hódî->
¸c_èrgë
 &&

431 !(
‰ame
->
›ti⁄s
 & 
MAD_OPTION_IGNORECRC
)) {

432 
°ªam
->
îr‹
 = 
MAD_ERROR_BADCRC
;

439 
sb
 = 0; sb < 
sblimô
; ++sb) {

440 
ch
 = 0; ch < 
nch
; ++ch) {

441 i‡(
Æloˇti⁄
[
ch
][
sb
]) {

442 
sˇÀÁ˘‹
[
ch
][
sb
][0] = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 6);

444 
scfsi
[
ch
][
sb
]) {

446 
sˇÀÁ˘‹
[
ch
][
sb
][2] =

447 
sˇÀÁ˘‹
[
ch
][
sb
][1] =

448 
sˇÀÁ˘‹
[
ch
][
sb
][0];

452 
sˇÀÁ˘‹
[
ch
][
sb
][1] = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 6);

457 
sˇÀÁ˘‹
[
ch
][
sb
][2] = 
	`mad_bô_ªad
(&
°ªam
->
±r
, 6);

460 i‡(
scfsi
[
ch
][
sb
] & 1)

461 
sˇÀÁ˘‹
[
ch
][
sb
][1] = sˇÀÁ˘‹[ch][sb][
scfsi
[ch][sb] - 1];

463 #i‡
	`deföed
(
OPT_STRICT
)

469 i‡(
sˇÀÁ˘‹
[
ch
][
sb
][0] == 63 ||

470 
sˇÀÁ˘‹
[
ch
][
sb
][1] == 63 ||

471 
sˇÀÁ˘‹
[
ch
][
sb
][2] == 63) {

472 
°ªam
->
îr‹
 = 
MAD_ERROR_BADSCALEFACTOR
;

482 
gr
 = 0; gr < 12; ++gr) {

483 
sb
 = 0; sb < 
bound
; ++sb) {

484 
ch
 = 0; ch < 
nch
; ++ch) {

485 i‡((
ödex
 = 
Æloˇti⁄
[
ch
][
sb
])) {

486 
ödex
 = 
off£t_èbÀ
[
bôÆloc_èbÀ
[
off£ts
[
sb
]].
off£t
][index - 1];

488 
	`II_ßm∂es
(&
°ªam
->
±r
, &
qc_èbÀ
[
ödex
], 
ßm∂es
);

490 
s
 = 0; s < 3; ++s) {

491 
‰ame
->
sbßm∂e
[
ch
][3 * 
gr
 + 
s
][
sb
] =

492 
	`mad_f_mul
(
ßm∂es
[
s
], 
sf_èbÀ
[
sˇÀÁ˘‹
[
ch
][
sb
][
gr
 / 4]]);

496 
s
 = 0; s < 3; ++s)

497 
‰ame
->
sbßm∂e
[
ch
][3 * 
gr
 + 
s
][
sb
] = 0;

502 
sb
 = 
bound
; sb < 
sblimô
; ++sb) {

503 i‡((
ödex
 = 
Æloˇti⁄
[0][
sb
])) {

504 
ödex
 = 
off£t_èbÀ
[
bôÆloc_èbÀ
[
off£ts
[
sb
]].
off£t
][index - 1];

506 
	`II_ßm∂es
(&
°ªam
->
±r
, &
qc_èbÀ
[
ödex
], 
ßm∂es
);

508 
ch
 = 0; ch < 
nch
; ++ch) {

509 
s
 = 0; s < 3; ++s) {

510 
‰ame
->
sbßm∂e
[
ch
][3 * 
gr
 + 
s
][
sb
] =

511 
	`mad_f_mul
(
ßm∂es
[
s
], 
sf_èbÀ
[
sˇÀÁ˘‹
[
ch
][
sb
][
gr
 / 4]]);

516 
ch
 = 0; ch < 
nch
; ++ch) {

517 
s
 = 0; s < 3; ++s)

518 
‰ame
->
sbßm∂e
[
ch
][3 * 
gr
 + 
s
][
sb
] = 0;

523 
ch
 = 0; ch < 
nch
; ++ch) {

524 
s
 = 0; s < 3; ++s) {

525 
sb
 = 
sblimô
; sb < 32; ++sb)

526 
‰ame
->
sbßm∂e
[
ch
][3 * 
gr
 + 
s
][
sb
] = 0;

532 
	}
}

	@libmad/layer12.h

22 #i‚de‡
LIBMAD_LAYER12_H


23 
	#LIBMAD_LAYER12_H


	)

25 
	~"°ªam.h
"

26 
	~"‰ame.h
"

28 
mad_œyî_I
(
mad_°ªam
 *, 
mad_‰ame
 *);

29 
mad_œyî_II
(
mad_°ªam
 *, 
mad_‰ame
 *);

	@libmad/layer3.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

29 #ifde‡
HAVE_ASSERT_H


30 
	~<as£π.h
>

33 #ifde‡
HAVE_LIMITS_H


34 
	~<limôs.h
>

36 
	#CHAR_BIT
 8

	)

39 
	~"fixed.h
"

40 
	~"bô.h
"

41 
	~"°ªam.h
"

42 
	~"‰ame.h
"

43 
	~"huffm™.h
"

44 
	~"œyî3.h
"

49 
	mcou¡1èbÀ_£À˘
 = 0x01,

50 
	msˇÀÁc_sˇÀ
 = 0x02,

51 
	m¥eÊag
 = 0x04,

52 
	mmixed_block_Êag
 = 0x08

56 
	mI_STEREO
 = 0x1,

57 
	mMS_STEREO
 = 0x2

60 
	ssideöfo
 {

61 
	mmaö_d©a_begö
;

62 
	m¥iv©e_bôs
;

64 
	mscfsi
[2];

66 
	sgønuÀ
 {

67 
	sch™√l
 {

69 
	m∑π2_3_Àngth
;

70 
	mbig_vÆues
;

71 
	mglobÆ_gaö
;

72 
	msˇÀÁc_com¥ess
;

74 
	mÊags
;

75 
	mblock_ty≥
;

76 
	mèbÀ_£À˘
[3];

77 
	msubblock_gaö
[3];

78 
	mªgi⁄0_cou¡
;

79 
	mªgi⁄1_cou¡
;

82 
	msˇÀÁc
[39];

83 } 
	mch
[2];

84 } 
	mgr
[2];

93 
	m¶í1
;

94 
	m¶í2
;

95 } c⁄° 
	gsÊí_èbÀ
[16] = {

107 c⁄° 
	gnsfb_èbÀ
[6][3][4] = {

138 c⁄° 
	gsfb_48000_l⁄g
[] = {

144 c⁄° 
	gsfb_44100_l⁄g
[] = {

150 c⁄° 
	gsfb_32000_l⁄g
[] = {

156 c⁄° 
	gsfb_48000_sh‹t
[] = {

163 c⁄° 
	gsfb_44100_sh‹t
[] = {

170 c⁄° 
	gsfb_32000_sh‹t
[] = {

177 c⁄° 
	gsfb_48000_mixed
[] = {

185 c⁄° 
	gsfb_44100_mixed
[] = {

193 c⁄° 
	gsfb_32000_mixed
[] = {

205 c⁄° 
	gsfb_24000_l⁄g
[] = {

211 c⁄° 
	gsfb_22050_l⁄g
[] = {

216 
	#sfb_16000_l⁄g
 
sfb_22050_l⁄g


	)

219 c⁄° 
	gsfb_24000_sh‹t
[] = {

226 c⁄° 
	gsfb_22050_sh‹t
[] = {

233 c⁄° 
	gsfb_16000_sh‹t
[] = {

240 c⁄° 
	gsfb_24000_mixed
[] = {

248 c⁄° 
	gsfb_22050_mixed
[] = {

256 c⁄° 
	gsfb_16000_mixed
[] = {

267 
	#sfb_12000_l⁄g
 
sfb_16000_l⁄g


	)

268 
	#sfb_11025_l⁄g
 
sfb_12000_l⁄g


	)

271 c⁄° 
	gsfb_8000_l⁄g
[] = {

276 
	#sfb_12000_sh‹t
 
sfb_16000_sh‹t


	)

277 
	#sfb_11025_sh‹t
 
sfb_12000_sh‹t


	)

280 c⁄° 
	gsfb_8000_sh‹t
[] = {

286 
	#sfb_12000_mixed
 
sfb_16000_mixed


	)

287 
	#sfb_11025_mixed
 
sfb_12000_mixed


	)

292 c⁄° 
	gsfb_8000_mixed
[] = {

301 c⁄° *
	ml
;

302 c⁄° *
	ms
;

303 c⁄° *
	mm
;

304 } c⁄° 
	gsfbwidth_èbÀ
[9] = {

305 { 
sfb_48000_l⁄g
, 
sfb_48000_sh‹t
, 
sfb_48000_mixed
 },

306 { 
sfb_44100_l⁄g
, 
sfb_44100_sh‹t
, 
sfb_44100_mixed
 },

307 { 
sfb_32000_l⁄g
, 
sfb_32000_sh‹t
, 
sfb_32000_mixed
 },

308 { 
sfb_24000_l⁄g
, 
sfb_24000_sh‹t
, 
sfb_24000_mixed
 },

309 { 
sfb_22050_l⁄g
, 
sfb_22050_sh‹t
, 
sfb_22050_mixed
 },

310 { 
sfb_16000_l⁄g
, 
sfb_16000_sh‹t
, 
sfb_16000_mixed
 },

311 { 
sfb_12000_l⁄g
, 
sfb_12000_sh‹t
, 
sfb_12000_mixed
 },

312 { 
sfb_11025_l⁄g
, 
sfb_11025_sh‹t
, 
sfb_11025_mixed
 },

313 { 
sfb_8000_l⁄g
, 
sfb_8000_sh‹t
, 
sfb_8000_mixed
 }

321 c⁄° 
	g¥ëab
[22] = {

331 
	sfixedÊﬂt
 {

332 
	mm™tisß
 : 27;

333 
	mexp⁄ít
 : 5;

334 } c⁄° 
	grq_èbÀ
[8207] = {

335 
	~"rq_èbÀ.d©
"

345 
mad_fixed_t
 c⁄° 
	groŸ_èbÀ
[7] = {

346 
MAD_F
(0x09837f05) ,

347 
MAD_F
(0x0b504f33) ,

348 
MAD_F
(0x0d744fcd) ,

349 
MAD_F
(0x10000000) ,

350 
MAD_F
(0x1306fe0a) ,

351 
MAD_F
(0x16a09e66) ,

352 
MAD_F
(0x1ae89f99)

364 
mad_fixed_t
 c⁄° 
	gcs
[8] = {

365 +
MAD_F
(0x0db84a81) , +MAD_F(0x0e1b9d7f) ,

366 +
MAD_F
(0x0f31adcf) , +MAD_F(0x0fbba815) ,

367 +
MAD_F
(0x0feda417) , +MAD_F(0x0ffc8fc8) ,

368 +
MAD_F
(0x0fff964c) , +MAD_F(0x0ffff8d3)

372 
mad_fixed_t
 c⁄° 
	gˇ
[8] = {

373 -
MAD_F
(0x083b5fe7) , -MAD_F(0x078c36d2) ,

374 -
MAD_F
(0x05039814) , -MAD_F(0x02e91dd1) ,

375 -
MAD_F
(0x0183603a) , -MAD_F(0x00a7cb87) ,

376 -
MAD_F
(0x003a2847) , -MAD_F(0x000f27b4)

387 
mad_fixed_t
 c⁄° 
	gimd˘_s
[6][6] = {

388 
	~"imd˘_s.d©
"

391 #i‡!
deföed
(
ASO_IMDCT
)

399 
mad_fixed_t
 c⁄° 
	gwödow_l
[36] = {

400 
MAD_F
(0x00b2aa3e) , MAD_F(0x0216a2a2) ,

401 
MAD_F
(0x03768962) , MAD_F(0x04cfb0e2) ,

402 
MAD_F
(0x061f78aa) , MAD_F(0x07635284) ,

403 
MAD_F
(0x0898c779) , MAD_F(0x09bd7ca0) ,

404 
MAD_F
(0x0acf37ad) , MAD_F(0x0bcbe352) ,

405 
MAD_F
(0x0cb19346) , MAD_F(0x0d7e8807) ,

407 
MAD_F
(0x0e313245) , MAD_F(0x0ec835e8) ,

408 
MAD_F
(0x0f426cb5) , MAD_F(0x0f9ee890) ,

409 
MAD_F
(0x0fdcf549) , MAD_F(0x0ffc19fd) ,

410 
MAD_F
(0x0ffc19fd) , MAD_F(0x0fdcf549) ,

411 
MAD_F
(0x0f9ee890) , MAD_F(0x0f426cb5) ,

412 
MAD_F
(0x0ec835e8) , MAD_F(0x0e313245) ,

414 
MAD_F
(0x0d7e8807) , MAD_F(0x0cb19346) ,

415 
MAD_F
(0x0bcbe352) , MAD_F(0x0acf37ad) ,

416 
MAD_F
(0x09bd7ca0) , MAD_F(0x0898c779) ,

417 
MAD_F
(0x07635284) , MAD_F(0x061f78aa) ,

418 
MAD_F
(0x04cfb0e2) , MAD_F(0x03768962) ,

419 
MAD_F
(0x0216a2a2) , MAD_F(0x00b2aa3e) ,

430 
mad_fixed_t
 c⁄° 
	gwödow_s
[12] = {

431 
MAD_F
(0x0216a2a2) , MAD_F(0x061f78aa) ,

432 
MAD_F
(0x09bd7ca0) , MAD_F(0x0cb19346) ,

433 
MAD_F
(0x0ec835e8) , MAD_F(0x0fdcf549) ,

434 
MAD_F
(0x0fdcf549) , MAD_F(0x0ec835e8) ,

435 
MAD_F
(0x0cb19346) , MAD_F(0x09bd7ca0) ,

436 
MAD_F
(0x061f78aa) , MAD_F(0x0216a2a2) ,

447 
mad_fixed_t
 c⁄° 
	gis_èbÀ
[7] = {

448 
MAD_F
(0x00000000) ,

449 
MAD_F
(0x0361962f) ,

450 
MAD_F
(0x05db3d74) ,

451 
MAD_F
(0x08000000) ,

452 
MAD_F
(0x0a24c28c) ,

453 
MAD_F
(0x0c9e69d1) ,

454 
MAD_F
(0x10000000)

465 
mad_fixed_t
 c⁄° 
	gis_lsf_èbÀ
[2][15] = {

467 
MAD_F
(0x0d744fcd) ,

468 
MAD_F
(0x0b504f33) ,

469 
MAD_F
(0x09837f05) ,

470 
MAD_F
(0x08000000) ,

471 
MAD_F
(0x06ba27e6) ,

472 
MAD_F
(0x05a8279a) ,

473 
MAD_F
(0x04c1bf83) ,

474 
MAD_F
(0x04000000) ,

475 
MAD_F
(0x035d13f3) ,

476 
MAD_F
(0x02d413cd) ,

477 
MAD_F
(0x0260dfc1) ,

478 
MAD_F
(0x02000000) ,

479 
MAD_F
(0x01ae89fa) ,

480 
MAD_F
(0x016a09e6) ,

481 
MAD_F
(0x01306fe1)

483 
MAD_F
(0x0b504f33) ,

484 
MAD_F
(0x08000000) ,

485 
MAD_F
(0x05a8279a) ,

486 
MAD_F
(0x04000000) ,

487 
MAD_F
(0x02d413cd) ,

488 
MAD_F
(0x02000000) ,

489 
MAD_F
(0x016a09e6) ,

490 
MAD_F
(0x01000000) ,

491 
MAD_F
(0x00b504f3) ,

492 
MAD_F
(0x00800000) ,

493 
MAD_F
(0x005a827a) ,

494 
MAD_F
(0x00400000) ,

495 
MAD_F
(0x002d413d) ,

496 
MAD_F
(0x00200000) ,

497 
MAD_F
(0x0016a09e)

506 
mad_îr‹
 
	$III_sideöfo
(
mad_bô±r
 *
±r
, 
nch
,

507 
lsf
, 
sideöfo
 *
si
,

508 *
d©a_bôÀn
,

509 *
¥iv_bôÀn
)

511 
ngr
, 
gr
, 
ch
, 
i
;

512 
mad_îr‹
 
ªsu…
 = 
MAD_ERROR_NONE
;

514 *
d©a_bôÀn
 = 0;

515 *
¥iv_bôÀn
 = 
lsf
 ? ((
nch
 == 1) ? 1 : 2) : ((nch == 1) ? 5 : 3);

517 
si
->
maö_d©a_begö
 = 
	`mad_bô_ªad
(
±r
, 
lsf
 ? 8 : 9);

518 
si
->
¥iv©e_bôs
 = 
	`mad_bô_ªad
(
±r
, *
¥iv_bôÀn
);

520 
ngr
 = 1;

521 i‡(!
lsf
) {

522 
ngr
 = 2;

524 
ch
 = 0; ch < 
nch
; ++ch)

525 
si
->
scfsi
[
ch
] = 
	`mad_bô_ªad
(
±r
, 4);

528 
gr
 = 0; g∏< 
ngr
; ++gr) {

529 
gønuÀ
 *gønuÀ = &
si
->
gr
[gr];

531 
ch
 = 0; ch < 
nch
; ++ch) {

532 
ch™√l
 *ch™√»&
gønuÀ
->
ch
[ch];

534 
ch™√l
->
∑π2_3_Àngth
 = 
	`mad_bô_ªad
(
±r
, 12);

535 
ch™√l
->
big_vÆues
 = 
	`mad_bô_ªad
(
±r
, 9);

536 
ch™√l
->
globÆ_gaö
 = 
	`mad_bô_ªad
(
±r
, 8);

537 
ch™√l
->
sˇÀÁc_com¥ess
 = 
	`mad_bô_ªad
(
±r
, 
lsf
 ? 9 : 4);

539 *
d©a_bôÀn
 +
ch™√l
->
∑π2_3_Àngth
;

541 i‡(
ch™√l
->
big_vÆues
 > 288 && 
ªsu…
 == 0)

542 
ªsu…
 = 
MAD_ERROR_BADBIGVALUES
;

544 
ch™√l
->
Êags
 = 0;

547 i‡(
	`mad_bô_ªad
(
±r
, 1)) {

548 
ch™√l
->
block_ty≥
 = 
	`mad_bô_ªad
(
±r
, 2);

550 i‡(
ch™√l
->
block_ty≥
 =0 && 
ªsu…
 == 0)

551 
ªsu…
 = 
MAD_ERROR_BADBLOCKTYPE
;

553 i‡(!
lsf
 && 
ch™√l
->
block_ty≥
 =2 && 
si
->
scfsi
[
ch
] && 
ªsu…
 == 0)

554 
ªsu…
 = 
MAD_ERROR_BADSCFSI
;

556 
ch™√l
->
ªgi⁄0_cou¡
 = 7;

557 
ch™√l
->
ªgi⁄1_cou¡
 = 36;

559 i‡(
	`mad_bô_ªad
(
±r
, 1))

560 
ch™√l
->
Êags
 |
mixed_block_Êag
;

561 i‡(
ch™√l
->
block_ty≥
 == 2)

562 
ch™√l
->
ªgi⁄0_cou¡
 = 8;

564 
i
 = 0; i < 2; ++i)

565 
ch™√l
->
èbÀ_£À˘
[
i
] = 
	`mad_bô_ªad
(
±r
, 5);

567 #i‡
	`deföed
(
DEBUG
)

568 
ch™√l
->
èbÀ_£À˘
[2] = 4;

571 
i
 = 0; i < 3; ++i)

572 
ch™√l
->
subblock_gaö
[
i
] = 
	`mad_bô_ªad
(
±r
, 3);

575 
ch™√l
->
block_ty≥
 = 0;

577 
i
 = 0; i < 3; ++i)

578 
ch™√l
->
èbÀ_£À˘
[
i
] = 
	`mad_bô_ªad
(
±r
, 5);

580 
ch™√l
->
ªgi⁄0_cou¡
 = 
	`mad_bô_ªad
(
±r
, 4);

581 
ch™√l
->
ªgi⁄1_cou¡
 = 
	`mad_bô_ªad
(
±r
, 3);

585 
ch™√l
->
Êags
 |
	`mad_bô_ªad
(
±r
, 
lsf
 ? 2 : 3);

589  
ªsu…
;

590 
	}
}

597 
	$III_sˇÀÁ˘‹s_lsf
(
mad_bô±r
 *
±r
,

598 
ch™√l
 *channel,

599 
ch™√l
 *
gr1ch
, 
mode_exãnsi⁄
)

601 
mad_bô±r
 
°¨t
;

602 
sˇÀÁc_com¥ess
, 
ödex
, 
¶í
[4], 
∑π
, 
n
, 
i
;

603 c⁄° *
nsfb
;

605 
°¨t
 = *
±r
;

607 
sˇÀÁc_com¥ess
 = 
ch™√l
->scalefac_compress;

608 
ödex
 = (
ch™√l
->
block_ty≥
 == 2) ?

609 ((
ch™√l
->
Êags
 & 
mixed_block_Êag
) ? 2 : 1) : 0;

611 i‡(!((
mode_exãnsi⁄
 & 
I_STEREO
Ë&& 
gr1ch
)) {

612 i‡(
sˇÀÁc_com¥ess
 < 400) {

613 
¶í
[0] = (
sˇÀÁc_com¥ess
 >> 4) / 5;

614 
¶í
[1] = (
sˇÀÁc_com¥ess
 >> 4) % 5;

615 
¶í
[2] = (
sˇÀÁc_com¥ess
 % 16) >> 2;

616 
¶í
[3] = 
sˇÀÁc_com¥ess
 % 4;

618 
nsfb
 = 
nsfb_èbÀ
[0][
ödex
];

620 i‡(
sˇÀÁc_com¥ess
 < 500) {

621 
sˇÀÁc_com¥ess
 -= 400;

623 
¶í
[0] = (
sˇÀÁc_com¥ess
 >> 2) / 5;

624 
¶í
[1] = (
sˇÀÁc_com¥ess
 >> 2) % 5;

625 
¶í
[2] = 
sˇÀÁc_com¥ess
 % 4;

626 
¶í
[3] = 0;

628 
nsfb
 = 
nsfb_èbÀ
[1][
ödex
];

631 
sˇÀÁc_com¥ess
 -= 500;

633 
¶í
[0] = 
sˇÀÁc_com¥ess
 / 3;

634 
¶í
[1] = 
sˇÀÁc_com¥ess
 % 3;

635 
¶í
[2] = 0;

636 
¶í
[3] = 0;

638 
ch™√l
->
Êags
 |
¥eÊag
;

640 
nsfb
 = 
nsfb_èbÀ
[2][
ödex
];

643 
n
 = 0;

644 
∑π
 = 0;Öart < 4; ++part) {

645 
i
 = 0; i < 
nsfb
[
∑π
]; ++i)

646 
ch™√l
->
sˇÀÁc
[
n
++] = 
	`mad_bô_ªad
(
±r
, 
¶í
[
∑π
]);

649 
n
 < 39)

650 
ch™√l
->
sˇÀÁc
[
n
++] = 0;

653 
sˇÀÁc_com¥ess
 >>= 1;

655 i‡(
sˇÀÁc_com¥ess
 < 180) {

656 
¶í
[0] = 
sˇÀÁc_com¥ess
 / 36;

657 
¶í
[1] = (
sˇÀÁc_com¥ess
 % 36) / 6;

658 
¶í
[2] = (
sˇÀÁc_com¥ess
 % 36) % 6;

659 
¶í
[3] = 0;

661 
nsfb
 = 
nsfb_èbÀ
[3][
ödex
];

663 i‡(
sˇÀÁc_com¥ess
 < 244) {

664 
sˇÀÁc_com¥ess
 -= 180;

666 
¶í
[0] = (
sˇÀÁc_com¥ess
 % 64) >> 4;

667 
¶í
[1] = (
sˇÀÁc_com¥ess
 % 16) >> 2;

668 
¶í
[2] = 
sˇÀÁc_com¥ess
 % 4;

669 
¶í
[3] = 0;

671 
nsfb
 = 
nsfb_èbÀ
[4][
ödex
];

674 
sˇÀÁc_com¥ess
 -= 244;

676 
¶í
[0] = 
sˇÀÁc_com¥ess
 / 3;

677 
¶í
[1] = 
sˇÀÁc_com¥ess
 % 3;

678 
¶í
[2] = 0;

679 
¶í
[3] = 0;

681 
nsfb
 = 
nsfb_èbÀ
[5][
ödex
];

684 
n
 = 0;

685 
∑π
 = 0;Öart < 4; ++part) {

686 
max
, 
is_pos
;

688 
max
 = (1 << 
¶í
[
∑π
]) - 1;

690 
i
 = 0; i < 
nsfb
[
∑π
]; ++i) {

691 
is_pos
 = 
	`mad_bô_ªad
(
±r
, 
¶í
[
∑π
]);

693 
ch™√l
->
sˇÀÁc
[
n
] = 
is_pos
;

694 
gr1ch
->
sˇÀÁc
[
n
++] = (
is_pos
 =
max
);

698 
n
 < 39) {

699 
ch™√l
->
sˇÀÁc
[
n
] = 0;

700 
gr1ch
->
sˇÀÁc
[
n
++] = 0;

704  
	`mad_bô_Àngth
(&
°¨t
, 
±r
);

705 
	}
}

712 
	$III_sˇÀÁ˘‹s
(
mad_bô±r
 *
±r
, 
ch™√l
 *channel,

713 
ch™√l
 c⁄° *
gr0ch
, 
scfsi
)

715 
mad_bô±r
 
°¨t
;

716 
¶í1
, 
¶í2
, 
sfbi
;

718 
°¨t
 = *
±r
;

720 
¶í1
 = 
sÊí_èbÀ
[
ch™√l
->
sˇÀÁc_com¥ess
].slen1;

721 
¶í2
 = 
sÊí_èbÀ
[
ch™√l
->
sˇÀÁc_com¥ess
].slen2;

723 i‡(
ch™√l
->
block_ty≥
 == 2) {

724 
nsfb
;

726 
sfbi
 = 0;

728 
nsfb
 = (
ch™√l
->
Êags
 & 
mixed_block_Êag
) ? 8 + 3 * 3 : 6 * 3;

729 
nsfb
--)

730 
ch™√l
->
sˇÀÁc
[
sfbi
++] = 
	`mad_bô_ªad
(
±r
, 
¶í1
);

732 
nsfb
 = 6 * 3;

733 
nsfb
--)

734 
ch™√l
->
sˇÀÁc
[
sfbi
++] = 
	`mad_bô_ªad
(
±r
, 
¶í2
);

736 
nsfb
 = 1 * 3;

737 
nsfb
--)

738 
ch™√l
->
sˇÀÁc
[
sfbi
++] = 0;

741 i‡(
scfsi
 & 0x8) {

742 
sfbi
 = 0; sfbi < 6; ++sfbi)

743 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
gr0ch
->scalefac[sfbi];

746 
sfbi
 = 0; sfbi < 6; ++sfbi)

747 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
	`mad_bô_ªad
(
±r
, 
¶í1
);

750 i‡(
scfsi
 & 0x4) {

751 
sfbi
 = 6; sfbi < 11; ++sfbi)

752 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
gr0ch
->scalefac[sfbi];

755 
sfbi
 = 6; sfbi < 11; ++sfbi)

756 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
	`mad_bô_ªad
(
±r
, 
¶í1
);

759 i‡(
scfsi
 & 0x2) {

760 
sfbi
 = 11; sfbi < 16; ++sfbi)

761 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
gr0ch
->scalefac[sfbi];

764 
sfbi
 = 11; sfbi < 16; ++sfbi)

765 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
	`mad_bô_ªad
(
±r
, 
¶í2
);

768 i‡(
scfsi
 & 0x1) {

769 
sfbi
 = 16; sfbi < 21; ++sfbi)

770 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
gr0ch
->scalefac[sfbi];

773 
sfbi
 = 16; sfbi < 21; ++sfbi)

774 
ch™√l
->
sˇÀÁc
[
sfbi
] = 
	`mad_bô_ªad
(
±r
, 
¶í2
);

777 
ch™√l
->
sˇÀÁc
[21] = 0;

780  
	`mad_bô_Àngth
(&
°¨t
, 
±r
);

781 
	}
}

810 
	$III_exp⁄íts
(
ch™√l
 const *channel,

811 c⁄° *
sfbwidth
, sig√d 
exp⁄íts
[39])

813 sig√d 
gaö
;

814 
sˇÀÁc_mu…ùlõr
, 
sfbi
;

816 
gaö
 = (sig√d Ë
ch™√l
->
globÆ_gaö
 - 210;

817 
sˇÀÁc_mu…ùlõr
 = (
ch™√l
->
Êags
 & 
sˇÀÁc_sˇÀ
) ? 2 : 1;

819 i‡(
ch™√l
->
block_ty≥
 == 2) {

820 
l
;

821 sig√d 
gaö0
, 
gaö1
, 
gaö2
;

823 
sfbi
 = 
l
 = 0;

825 i‡(
ch™√l
->
Êags
 & 
mixed_block_Êag
) {

826 
¥emask
;

828 
¥emask
 = (
ch™√l
->
Êags
 & 
¥eÊag
) ? ~0 : 0;

832 
l
 < 36) {

833 
exp⁄íts
[
sfbi
] = 
gaö
 -

834 (sig√d Ë((
ch™√l
->
sˇÀÁc
[
sfbi
] + (
¥ëab
[sfbi] & 
¥emask
)) <<

835 
sˇÀÁc_mu…ùlõr
);

837 
l
 +
sfbwidth
[
sfbi
++];

843 
gaö0
 = 
gaö
 - 8 * (sig√d Ë
ch™√l
->
subblock_gaö
[0];

844 
gaö1
 = 
gaö
 - 8 * (sig√d Ë
ch™√l
->
subblock_gaö
[1];

845 
gaö2
 = 
gaö
 - 8 * (sig√d Ë
ch™√l
->
subblock_gaö
[2];

847 
l
 < 576) {

848 
exp⁄íts
[
sfbi
 + 0] = 
gaö0
 -

849 (sig√d Ë(
ch™√l
->
sˇÀÁc
[
sfbi
 + 0] << 
sˇÀÁc_mu…ùlõr
);

850 
exp⁄íts
[
sfbi
 + 1] = 
gaö1
 -

851 (sig√d Ë(
ch™√l
->
sˇÀÁc
[
sfbi
 + 1] << 
sˇÀÁc_mu…ùlõr
);

852 
exp⁄íts
[
sfbi
 + 2] = 
gaö2
 -

853 (sig√d Ë(
ch™√l
->
sˇÀÁc
[
sfbi
 + 2] << 
sˇÀÁc_mu…ùlõr
);

855 
l
 +3 * 
sfbwidth
[
sfbi
];

856 
sfbi
 += 3;

860 i‡(
ch™√l
->
Êags
 & 
¥eÊag
) {

861 
sfbi
 = 0; sfbi < 22; ++sfbi) {

862 
exp⁄íts
[
sfbi
] = 
gaö
 -

863 (sig√d Ë((
ch™√l
->
sˇÀÁc
[
sfbi
] + 
¥ëab
[sfbi]) <<

864 
sˇÀÁc_mu…ùlõr
);

868 
sfbi
 = 0; sfbi < 22; ++sfbi) {

869 
exp⁄íts
[
sfbi
] = 
gaö
 -

870 (sig√d Ë(
ch™√l
->
sˇÀÁc
[
sfbi
] << 
sˇÀÁc_mu…ùlõr
);

874 
	}
}

881 
mad_fixed_t
 
	$III_ªqu™tize
(
vÆue
, sig√d 
exp
)

883 
mad_fixed_t
 
ªqu™tized
;

884 sig√d 
‰ac
;

885 
fixedÊﬂt
 c⁄° *
powî
;

887 
‰ac
 = 
exp
 % 4;

888 
exp
 /= 4;

890 
powî
 = &
rq_èbÀ
[
vÆue
];

891 
ªqu™tized
 = 
powî
->
m™tisß
;

892 
exp
 +
powî
->
exp⁄ít
;

894 i‡(
exp
 < 0) {

895 i‡(-
exp
 >(
mad_fixed_t
Ë* 
CHAR_BIT
) {

897 
ªqu™tized
 = 0;

900 
ªqu™tized
 +1L << (-
exp
 - 1);

901 
ªqu™tized
 >>-
exp
;

905 i‡(
exp
 >= 5) {

907 #i‡
	`deföed
(
DEBUG
)

908 
	`Ârötf
(
°dîr
, "requantize overflow (%f * 2^%d)\n",

909 
	`mad_f_todoubÀ
(
ªqu™tized
), 
exp
);

911 
ªqu™tized
 = 
MAD_F_MAX
;

914 
ªqu™tized
 <<
exp
;

917  
‰ac
 ? 
	`mad_f_mul
(
ªqu™tized
, 
roŸ_èbÀ
[3 + frac]) :Ñequantized;

918 
	}
}

921 
	#MASK
(
ˇche
, 
sz
, 
bôs
) \

922 (((
ˇche
Ë>> ((
sz
Ë- (
bôs
))Ë& ((1 << (bôs)Ë- 1))

	)

923 
	#MASK1BIT
(
ˇche
, 
sz
) \

924 ((
ˇche
Ë& (1 << ((
sz
Ë- 1)))

	)

931 
mad_îr‹
 
	$III_huffdecode
(
mad_bô±r
 *
±r
, 
mad_fixed_t
 
xr
[576],

932 
ch™√l
 *channel,

933 c⁄° *
sfbwidth
,

934 
∑π2_Àngth
)

936 sig√d 
exp⁄íts
[39], 
exp
;

937 sig√d c⁄° *
exµå
;

938 
mad_bô±r
 
≥ek
;

939 sig√d 
bôs_À·
, 
ˇchesz
;

940 
mad_fixed_t
 *
xΩå
;

941 
mad_fixed_t
 c⁄° *
sfbound
;

942 
bôˇche
;

944 
bôs_À·
 = (sig√dË
ch™√l
->
∑π2_3_Àngth
 - (sig√dË
∑π2_Àngth
;

945 i‡(
bôs_À·
 < 0)

946  
MAD_ERROR_BADPART3LEN
;

948 
	`III_exp⁄íts
(
ch™√l
, 
sfbwidth
, 
exp⁄íts
);

950 
≥ek
 = *
±r
;

951 
	`mad_bô_skù
(
±r
, 
bôs_À·
);

954 
ˇchesz
 = 
	`mad_bô_bô¶e·
(&
≥ek
);

955 
ˇchesz
 += ((32 - 1 - 24) + (24 - cachesz)) & ~7;

957 
bôˇche
 = 
	`mad_bô_ªad
(&
≥ek
, 
ˇchesz
);

958 
bôs_À·
 -
ˇchesz
;

960 
xΩå
 = &
xr
[0];

964 
ªgi⁄
, 
rcou¡
;

965 
huf·abÀ
 c⁄° *
íåy
;

966 
hufÂaú
 c⁄° *
èbÀ
;

967 
löbôs
, 
°¨tbôs
, 
big_vÆues
, 
ªqhôs
;

968 
mad_fixed_t
 
ªqˇche
[16];

970 
sfbound
 = 
xΩå
 + *
sfbwidth
++;

971 
rcou¡
 = 
ch™√l
->
ªgi⁄0_cou¡
 + 1;

973 
íåy
 = &
mad_huff_∑ú_èbÀ
[
ch™√l
->
èbÀ_£À˘
[
ªgi⁄
 = 0]];

974 
èbÀ
 = 
íåy
->table;

975 
löbôs
 = 
íåy
->linbits;

976 
°¨tbôs
 = 
íåy
->startbits;

978 i‡(
èbÀ
 == 0)

979  
MAD_ERROR_BADHUFFTABLE
;

981 
exµå
 = &
exp⁄íts
[0];

982 
exp
 = *
exµå
++;

983 
ªqhôs
 = 0;

985 
big_vÆues
 = 
ch™√l
->big_values;

987 
big_vÆues
-- && 
ˇchesz
 + 
bôs_À·
 > 0) {

988 
hufÂaú
 c⁄° *
∑ú
;

989 
˛umpsz
, 
vÆue
;

990 
mad_fixed_t
 
ªqu™tized
;

992 i‡(
xΩå
 =
sfbound
) {

993 
sfbound
 +*
sfbwidth
++;

997 i‡(--
rcou¡
 == 0) {

998 i‡(
ªgi⁄
 == 0)

999 
rcou¡
 = 
ch™√l
->
ªgi⁄1_cou¡
 + 1;

1001 
rcou¡
 = 0;

1003 
íåy
 = &
mad_huff_∑ú_èbÀ
[
ch™√l
->
èbÀ_£À˘
[++
ªgi⁄
]];

1004 
èbÀ
 = 
íåy
->table;

1005 
löbôs
 = 
íåy
->linbits;

1006 
°¨tbôs
 = 
íåy
->startbits;

1008 i‡(
èbÀ
 == 0)

1009  
MAD_ERROR_BADHUFFTABLE
;

1012 i‡(
exp
 !*
exµå
) {

1013 
exp
 = *
exµå
;

1014 
ªqhôs
 = 0;

1017 ++
exµå
;

1020 i‡(
ˇchesz
 < 21) {

1021 
bôs
;

1023 
bôs
 = ((32 - 1 - 21Ë+ (21 - 
ˇchesz
)) & ~7;

1024 
bôˇche
 = (bôˇchê<< 
bôs
Ë| 
	`mad_bô_ªad
(&
≥ek
, bits);

1025 
ˇchesz
 +
bôs
;

1026 
bôs_À·
 -
bôs
;

1031 
˛umpsz
 = 
°¨tbôs
;

1032 
∑ú
 = &
èbÀ
[
	`MASK
(
bôˇche
, 
ˇchesz
, 
˛umpsz
)];

1034 !
∑ú
->
föÆ
) {

1035 
ˇchesz
 -
˛umpsz
;

1037 
˛umpsz
 = 
∑ú
->
±r
.
bôs
;

1038 
∑ú
 = &
èbÀ
[∑ú->
±r
.
off£t
 + 
	`MASK
(
bôˇche
, 
ˇchesz
, 
˛umpsz
)];

1041 
ˇchesz
 -
∑ú
->
vÆue
.
hÀn
;

1043 i‡(
löbôs
) {

1046 
vÆue
 = 
∑ú
->vÆue.
x
;

1048 
vÆue
) {

1050 
xΩå
[0] = 0;

1054 i‡(
ˇchesz
 < 
löbôs
 + 2) {

1055 
bôˇche
 = (bôˇchê<< 16Ë| 
	`mad_bô_ªad
(&
≥ek
, 16);

1056 
ˇchesz
 += 16;

1057 
bôs_À·
 -= 16;

1060 
vÆue
 +
	`MASK
(
bôˇche
, 
ˇchesz
, 
löbôs
);

1061 
ˇchesz
 -
löbôs
;

1063 
ªqu™tized
 = 
	`III_ªqu™tize
(
vÆue
, 
exp
);

1064 
x_föÆ
;

1067 i‡(
ªqhôs
 & (1 << 
vÆue
))

1068 
ªqu™tized
 = 
ªqˇche
[
vÆue
];

1070 
ªqhôs
 |(1 << 
vÆue
);

1071 
ªqu™tized
 = 
ªqˇche
[
vÆue
] = 
	`III_ªqu™tize
(vÆue, 
exp
);

1074 
x_föÆ
:

1075 
xΩå
[0] = 
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--) ?

1076 -
ªqu™tized
 :Ñequantized;

1081 
vÆue
 = 
∑ú
->vÆue.
y
;

1083 
vÆue
) {

1085 
xΩå
[1] = 0;

1089 i‡(
ˇchesz
 < 
löbôs
 + 1) {

1090 
bôˇche
 = (bôˇchê<< 16Ë| 
	`mad_bô_ªad
(&
≥ek
, 16);

1091 
ˇchesz
 += 16;

1092 
bôs_À·
 -= 16;

1095 
vÆue
 +
	`MASK
(
bôˇche
, 
ˇchesz
, 
löbôs
);

1096 
ˇchesz
 -
löbôs
;

1098 
ªqu™tized
 = 
	`III_ªqu™tize
(
vÆue
, 
exp
);

1099 
y_föÆ
;

1102 i‡(
ªqhôs
 & (1 << 
vÆue
))

1103 
ªqu™tized
 = 
ªqˇche
[
vÆue
];

1105 
ªqhôs
 |(1 << 
vÆue
);

1106 
ªqu™tized
 = 
ªqˇche
[
vÆue
] = 
	`III_ªqu™tize
(vÆue, 
exp
);

1109 
y_föÆ
:

1110 
xΩå
[1] = 
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--) ?

1111 -
ªqu™tized
 :Ñequantized;

1117 
vÆue
 = 
∑ú
->vÆue.
x
;

1119 i‡(
vÆue
 == 0)

1120 
xΩå
[0] = 0;

1122 i‡(
ªqhôs
 & (1 << 
vÆue
))

1123 
ªqu™tized
 = 
ªqˇche
[
vÆue
];

1125 
ªqhôs
 |(1 << 
vÆue
);

1126 
ªqu™tized
 = 
ªqˇche
[
vÆue
] = 
	`III_ªqu™tize
(vÆue, 
exp
);

1129 
xΩå
[0] = 
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--) ?

1130 -
ªqu™tized
 :Ñequantized;

1135 
vÆue
 = 
∑ú
->vÆue.
y
;

1137 i‡(
vÆue
 == 0)

1138 
xΩå
[1] = 0;

1140 i‡(
ªqhôs
 & (1 << 
vÆue
))

1141 
ªqu™tized
 = 
ªqˇche
[
vÆue
];

1143 
ªqhôs
 |(1 << 
vÆue
);

1144 
ªqu™tized
 = 
ªqˇche
[
vÆue
] = 
	`III_ªqu™tize
(vÆue, 
exp
);

1147 
xΩå
[1] = 
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--) ?

1148 -
ªqu™tized
 :Ñequantized;

1152 
xΩå
 += 2;

1156 i‡(
ˇchesz
 + 
bôs_À·
 < 0)

1157  
MAD_ERROR_BADHUFFDATA
;

1161 
huffquad
 c⁄° *
èbÀ
;

1162 
mad_fixed_t
 
ªqu™tized
;

1164 
èbÀ
 = 
mad_huff_quad_èbÀ
[
ch™√l
->
Êags
 & 
cou¡1èbÀ_£À˘
];

1166 
ªqu™tized
 = 
	`III_ªqu™tize
(1, 
exp
);

1168 
ˇchesz
 + 
bôs_À·
 > 0 && 
xΩå
 <&
xr
[572]) {

1169 
huffquad
 c⁄° *
quad
;

1173 i‡(
ˇchesz
 < 10) {

1174 
bôˇche
 = (bôˇchê<< 16Ë| 
	`mad_bô_ªad
(&
≥ek
, 16);

1175 
ˇchesz
 += 16;

1176 
bôs_À·
 -= 16;

1179 
quad
 = &
èbÀ
[
	`MASK
(
bôˇche
, 
ˇchesz
, 4)];

1182 i‡(!
quad
->
föÆ
) {

1183 
ˇchesz
 -= 4;

1185 
quad
 = &
èbÀ
[quad->
±r
.
off£t
 +

1186 
	`MASK
(
bôˇche
, 
ˇchesz
, 
quad
->
±r
.
bôs
)];

1189 
ˇchesz
 -
quad
->
vÆue
.
hÀn
;

1191 i‡(
xΩå
 =
sfbound
) {

1192 
sfbound
 +*
sfbwidth
++;

1194 i‡(
exp
 !*
exµå
) {

1195 
exp
 = *
exµå
;

1196 
ªqu™tized
 = 
	`III_ªqu™tize
(1, 
exp
);

1199 ++
exµå
;

1204 
xΩå
[0] = 
quad
->
vÆue
.
v
 ?

1205 (
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--Ë? -
ªqu™tized
 :Ñequantized) : 0;

1209 
xΩå
[1] = 
quad
->
vÆue
.
w
 ?

1210 (
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--Ë? -
ªqu™tized
 :Ñequantized) : 0;

1212 
xΩå
 += 2;

1214 i‡(
xΩå
 =
sfbound
) {

1215 
sfbound
 +*
sfbwidth
++;

1217 i‡(
exp
 !*
exµå
) {

1218 
exp
 = *
exµå
;

1219 
ªqu™tized
 = 
	`III_ªqu™tize
(1, 
exp
);

1222 ++
exµå
;

1227 
xΩå
[0] = 
quad
->
vÆue
.
x
 ?

1228 (
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--Ë? -
ªqu™tized
 :Ñequantized) : 0;

1232 
xΩå
[1] = 
quad
->
vÆue
.
y
 ?

1233 (
	`MASK1BIT
(
bôˇche
, 
ˇchesz
--Ë? -
ªqu™tized
 :Ñequantized) : 0;

1235 
xΩå
 += 2;

1238 i‡(
ˇchesz
 + 
bôs_À·
 < 0) {

1239 #i‡0 && 
	`deföed
(
DEBUG
)

1240 
	`Ârötf
(
°dîr
, "huffman count1 overrun (%d bits)\n",

1241 -(
ˇchesz
 + 
bôs_À·
));

1247 
xΩå
 -= 4;

1251 
	`as£π
(-
bôs_À·
 <
MAD_BUFFER_GUARD
 * 
CHAR_BIT
);

1253 #i‡0 && 
	`deföed
(
DEBUG
)

1254 i‡(
bôs_À·
 < 0)

1255 
	`Ârötf
(
°dîr
, "ªad %d bô†toÿm™y\n", -
bôs_À·
);

1256 i‡(
ˇchesz
 + 
bôs_À·
 > 0)

1257 
	`Ârötf
(
°dîr
, "%d stuffög bôs\n", 
ˇchesz
 + 
bôs_À·
);

1261 
xΩå
 < &
xr
[576]) {

1262 
xΩå
[0] = 0;

1263 
xΩå
[1] = 0;

1265 
xΩå
 += 2;

1268  
MAD_ERROR_NONE
;

1269 
	}
}

1271 #unde‡
MASK


1272 #unde‡
MASK1BIT


1279 
	$III_ª‹dî
(
mad_fixed_t
 
xr
[576], 
ch™√l
 const *channel,

1280 c⁄° 
sfbwidth
[39])

1282 
mad_fixed_t
 
tmp
[32][3][6];

1283 
sb
, 
l
, 
f
, 
w
, 
sbw
[3], 
sw
[3];

1287 
sb
 = 0;

1288 i‡(
ch™√l
->
Êags
 & 
mixed_block_Êag
) {

1289 
sb
 = 2;

1291 
l
 = 0;

1292 
l
 < 36)

1293 
l
 +*
sfbwidth
++;

1296 
w
 = 0; w < 3; ++w) {

1297 
sbw
[
w
] = 
sb
;

1298 
sw
[
w
] = 0;

1301 
f
 = *
sfbwidth
++;

1302 
w
 = 0;

1304 
l
 = 18 * 
sb
;Ü < 576; ++l) {

1305 i‡(
f
-- == 0) {

1306 
f
 = *
sfbwidth
++ - 1;

1307 
w
 = (w + 1) % 3;

1310 
tmp
[
sbw
[
w
]][w][
sw
[w]++] = 
xr
[
l
];

1312 i‡(
sw
[
w
] == 6) {

1313 
sw
[
w
] = 0;

1314 ++
sbw
[
w
];

1318 
	`mem˝y
(&
xr
[18 * 
sb
], &
tmp
[sb], (576 - 18 * sbË* (
mad_fixed_t
));

1319 
	}
}

1326 
mad_îr‹
 
	$III_°îeo
(
mad_fixed_t
 
xr
[2][576],

1327 
gønuÀ
 const *granule,

1328 
mad_hódî
 *
hódî
,

1329 c⁄° *
sfbwidth
)

1331 
modes
[39];

1332 
sfbi
, 
l
, 
n
, 
i
;

1334 i‡(
gønuÀ
->
ch
[0].
block_ty≥
 !=

1335 
gønuÀ
->
ch
[1].
block_ty≥
 ||

1336 (
gønuÀ
->
ch
[0].
Êags
 & 
mixed_block_Êag
) !=

1337 (
gønuÀ
->
ch
[1].
Êags
 & 
mixed_block_Êag
))

1338  
MAD_ERROR_BADSTEREO
;

1340 
i
 = 0; i < 39; ++i)

1341 
modes
[
i
] = 
hódî
->
mode_exãnsi⁄
;

1345 i‡(
hódî
->
mode_exãnsi⁄
 & 
I_STEREO
) {

1346 
ch™√l
 c⁄° *
right_ch
 = &
gønuÀ
->
ch
[1];

1347 
mad_fixed_t
 c⁄° *
right_xr
 = 
xr
[1];

1348 
is_pos
;

1350 
hódî
->
Êags
 |
MAD_FLAG_I_STEREO
;

1354 i‡(
right_ch
->
block_ty≥
 == 2) {

1355 
lowî
, 
°¨t
, 
max
, 
bound
[3], 
w
;

1357 
lowî
 = 
°¨t
 = 
max
 = 
bound
[0] = bound[1] = bound[2] = 0;

1359 
sfbi
 = 
l
 = 0;

1361 i‡(
right_ch
->
Êags
 & 
mixed_block_Êag
) {

1362 
l
 < 36) {

1363 
n
 = 
sfbwidth
[
sfbi
++];

1365 
i
 = 0; i < 
n
; ++i) {

1366 i‡(
right_xr
[
i
]) {

1367 
lowî
 = 
sfbi
;

1372 
right_xr
 +
n
;

1373 
l
 +
n
;

1376 
°¨t
 = 
sfbi
;

1379 
w
 = 0;

1380 
l
 < 576) {

1381 
n
 = 
sfbwidth
[
sfbi
++];

1383 
i
 = 0; i < 
n
; ++i) {

1384 i‡(
right_xr
[
i
]) {

1385 
max
 = 
bound
[
w
] = 
sfbi
;

1390 
right_xr
 +
n
;

1391 
l
 +
n
;

1392 
w
 = (w + 1) % 3;

1395 i‡(
max
)

1396 
lowî
 = 
°¨t
;

1400 
i
 = 0; i < 
lowî
; ++i)

1401 
modes
[
i
] = 
hódî
->
mode_exãnsi⁄
 & ~
I_STEREO
;

1405 
w
 = 0;

1406 
i
 = 
°¨t
; i < 
max
; ++i) {

1407 i‡(
i
 < 
bound
[
w
])

1408 
modes
[
i
] = 
hódî
->
mode_exãnsi⁄
 & ~
I_STEREO
;

1410 
w
 = (w + 1) % 3;

1414 
bound
;

1416 
bound
 = 0;

1417 
sfbi
 = 
l
 = 0;Ü < 576;Ü +
n
) {

1418 
n
 = 
sfbwidth
[
sfbi
++];

1420 
i
 = 0; i < 
n
; ++i) {

1421 i‡(
right_xr
[
i
]) {

1422 
bound
 = 
sfbi
;

1427 
right_xr
 +
n
;

1430 
i
 = 0; i < 
bound
; ++i)

1431 
modes
[
i
] = 
hódî
->
mode_exãnsi⁄
 & ~
I_STEREO
;

1436 i‡(
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
) {

1437 c⁄° *
ûÀgÆ_pos
 = 
gønuÀ
[1].
ch
[1].
sˇÀÁc
;

1438 
mad_fixed_t
 c⁄° *
lsf_sˇÀ
;

1441 
lsf_sˇÀ
 = 
is_lsf_èbÀ
[
right_ch
->
sˇÀÁc_com¥ess
 & 0x1];

1443 
sfbi
 = 
l
 = 0;Ü < 576; ++sfbi,Ü +
n
) {

1444 
n
 = 
sfbwidth
[
sfbi
];

1446 i‡(!(
modes
[
sfbi
] & 
I_STEREO
))

1449 i‡(
ûÀgÆ_pos
[
sfbi
]) {

1450 
modes
[
sfbi
] &~
I_STEREO
;

1454 
is_pos
 = 
right_ch
->
sˇÀÁc
[
sfbi
];

1456 
i
 = 0; i < 
n
; ++i) {

1457 
mad_fixed_t
 
À·
;

1459 
À·
 = 
xr
[0][
l
 + 
i
];

1461 i‡(
is_pos
 == 0)

1462 
xr
[1][
l
 + 
i
] = 
À·
;

1464 
mad_fixed_t
 
›posôe
;

1466 
›posôe
 = 
	`mad_f_mul
(
À·
, 
lsf_sˇÀ
[(
is_pos
 - 1) / 2]);

1468 i‡(
is_pos
 & 1) {

1469 
xr
[0][
l
 + 
i
] = 
›posôe
;

1470 
xr
[1][
l
 + 
i
] = 
À·
;

1473 
xr
[1][
l
 + 
i
] = 
›posôe
;

1479 
sfbi
 = 
l
 = 0;Ü < 576; ++sfbi,Ü +
n
) {

1480 
n
 = 
sfbwidth
[
sfbi
];

1482 i‡(!(
modes
[
sfbi
] & 
I_STEREO
))

1485 
is_pos
 = 
right_ch
->
sˇÀÁc
[
sfbi
];

1487 i‡(
is_pos
 >= 7) {

1488 
modes
[
sfbi
] &~
I_STEREO
;

1492 
i
 = 0; i < 
n
; ++i) {

1493 
mad_fixed_t
 
À·
;

1495 
À·
 = 
xr
[0][
l
 + 
i
];

1497 
xr
[0][
l
 + 
i
] = 
	`mad_f_mul
(
À·
, 
is_èbÀ
[ 
is_pos
]);

1498 
xr
[1][
l
 + 
i
] = 
	`mad_f_mul
(
À·
, 
is_èbÀ
[6 - 
is_pos
]);

1506 i‡(
hódî
->
mode_exãnsi⁄
 & 
MS_STEREO
) {

1507 
mad_fixed_t
 
övsqπ2
;

1509 
hódî
->
Êags
 |
MAD_FLAG_MS_STEREO
;

1511 
övsqπ2
 = 
roŸ_èbÀ
[3 + -2];

1513 
sfbi
 = 
l
 = 0;Ü < 576; ++sfbi,Ü +
n
) {

1514 
n
 = 
sfbwidth
[
sfbi
];

1516 i‡(
modes
[
sfbi
] !
MS_STEREO
)

1519 
i
 = 0; i < 
n
; ++i) {

1520 
mad_fixed_t
 
m
, 
s
;

1522 
m
 = 
xr
[0][
l
 + 
i
];

1523 
s
 = 
xr
[1][
l
 + 
i
];

1525 
xr
[0][
l
 + 
i
] = 
	`mad_f_mul
(
m
 + 
s
, 
övsqπ2
);

1526 
xr
[1][
l
 + 
i
] = 
	`mad_f_mul
(
m
 - 
s
, 
övsqπ2
);

1531  
MAD_ERROR_NONE
;

1532 
	}
}

1539 
	$III_Æü§edu˚
(
mad_fixed_t
 
xr
[576], 
löes
)

1541 
mad_fixed_t
 c⁄° *
bound
;

1542 
i
;

1544 
bound
 = &
xr
[
löes
];

1545 
xr
 +18; x∏< 
bound
; xr += 18) {

1546 
i
 = 0; i < 8; ++i) {

1547 
mad_fixed_t
 
a
, 
b
;

1548 
mad_fixed64hi_t
 
hi
;

1549 
mad_fixed64lo_t
 
lo
;

1551 
a
 = 
xr
[-1 - 
i
];

1552 
b
 = 
xr
[ 
i
];

1554 #i‡
	`deföed
(
ASO_ZEROCHECK
)

1555 i‡(
a
 | 
b
) {

1557 
	`MAD_F_ML0
(
hi
, 
lo
, 
a
, 
cs
[
i
]);

1558 
	`MAD_F_MLA
(
hi
, 
lo
, -
b
, 
ˇ
[
i
]);

1560 
xr
[-1 - 
i
] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1562 
	`MAD_F_ML0
(
hi
, 
lo
, 
b
, 
cs
[
i
]);

1563 
	`MAD_F_MLA
(
hi
, 
lo
, 
a
, 
ˇ
[
i
]);

1565 
xr
[ 
i
] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1566 #i‡
	`deföed
(
ASO_ZEROCHECK
)

1571 
	}
}

1573 #i‡
deföed
(
ASO_IMDCT
)

1574 
III_imd˘_l
(
mad_fixed_t
 const [18], mad_fixed_t [36], );

1578 
	$Á°sd˘
(
mad_fixed_t
 c⁄° 
x
[9], mad_fixed_à
y
[18])

1580 
mad_fixed_t
 
a0
, 
a1
, 
a2
, 
a3
, 
a4
, 
a5
, 
a6
, 
a7
, 
a8
, 
a9
, 
a10
, 
a11
, 
a12
;

1581 
mad_fixed_t
 
a13
, 
a14
, 
a15
, 
a16
, 
a17
, 
a18
, 
a19
, 
a20
, 
a21
, 
a22
, 
a23
, 
a24
, 
a25
;

1582 
mad_fixed_t
 
m0
, 
m1
, 
m2
, 
m3
, 
m4
, 
m5
, 
m6
, 
m7
;

1585 
c0
 = 
	`MAD_F
(0x1f838b8d),

1586 
c1
 = 
	`MAD_F
(0x1bb67ae8),

1587 
c2
 = 
	`MAD_F
(0x18836fa3),

1588 
c3
 = 
	`MAD_F
(0x1491b752),

1589 
c4
 = 
	`MAD_F
(0x0af1d43a),

1590 
c5
 = 
	`MAD_F
(0x058e86a0),

1591 
c6
 = -
	`MAD_F
(0x1e11f642)

1594 
a0
 = 
x
[3] + x[5];

1595 
a1
 = 
x
[3] - x[5];

1596 
a2
 = 
x
[6] + x[2];

1597 
a3
 = 
x
[6] - x[2];

1598 
a4
 = 
x
[1] + x[7];

1599 
a5
 = 
x
[1] - x[7];

1600 
a6
 = 
x
[8] + x[0];

1601 
a7
 = 
x
[8] - x[0];

1603 
a8
 = 
a0
 + 
a2
;

1604 
a9
 = 
a0
 - 
a2
;

1605 
a10
 = 
a0
 - 
a6
;

1606 
a11
 = 
a2
 - 
a6
;

1607 
a12
 = 
a8
 + 
a6
;

1608 
a13
 = 
a1
 - 
a3
;

1609 
a14
 = 
a13
 + 
a7
;

1610 
a15
 = 
a3
 + 
a7
;

1611 
a16
 = 
a1
 - 
a7
;

1612 
a17
 = 
a1
 + 
a3
;

1614 
m0
 = 
	`mad_f_mul
(
a17
, -
c3
);

1615 
m1
 = 
	`mad_f_mul
(
a16
, -
c0
);

1616 
m2
 = 
	`mad_f_mul
(
a15
, -
c4
);

1617 
m3
 = 
	`mad_f_mul
(
a14
, -
c1
);

1618 
m4
 = 
	`mad_f_mul
(
a5
, -
c1
);

1619 
m5
 = 
	`mad_f_mul
(
a11
, -
c6
);

1620 
m6
 = 
	`mad_f_mul
(
a10
, -
c5
);

1621 
m7
 = 
	`mad_f_mul
(
a9
, -
c2
);

1623 
a18
 = 
x
[4] + 
a4
;

1624 
a19
 = 2 * 
x
[4] - 
a4
;

1625 
a20
 = 
a19
 + 
m5
;

1626 
a21
 = 
a19
 - 
m5
;

1627 
a22
 = 
a19
 + 
m6
;

1628 
a23
 = 
m4
 + 
m2
;

1629 
a24
 = 
m4
 - 
m2
;

1630 
a25
 = 
m4
 + 
m1
;

1634 
y
[ 0] = 
a18
 + 
a12
;

1635 
y
[ 2] = 
m0
 - 
a25
;

1636 
y
[ 4] = 
m7
 - 
a20
;

1637 
y
[ 6] = 
m3
;

1638 
y
[ 8] = 
a21
 - 
m6
;

1639 
y
[10] = 
a24
 - 
m1
;

1640 
y
[12] = 
a12
 - 2 * 
a18
;

1641 
y
[14] = 
a23
 + 
m0
;

1642 
y
[16] = 
a22
 + 
m7
;

1643 
	}
}

1645 
ölöe


1646 
	$sd˘II
(
mad_fixed_t
 c⁄° 
x
[18], mad_fixed_à
X
[18])

1648 
mad_fixed_t
 
tmp
[9];

1649 
i
;

1652 
mad_fixed_t
 c⁄° 
sˇÀ
[9] = {

1653 
	`MAD_F
(0x1fe0d3b4), MAD_F(0x1ee8dd47), MAD_F(0x1d007930),

1654 
	`MAD_F
(0x1a367e59), MAD_F(0x16a09e66), MAD_F(0x125abcf8),

1655 
	`MAD_F
(0x0d8616bc), MAD_F(0x08483ee1), MAD_F(0x02c9fad7)

1662 
i
 = 0; i < 9; i += 3) {

1663 
tmp
[
i
 + 0] = 
x
[i + 0] + x[18 - (i + 0) - 1];

1664 
tmp
[
i
 + 1] = 
x
[i + 1] + x[18 - (i + 1) - 1];

1665 
tmp
[
i
 + 2] = 
x
[i + 2] + x[18 - (i + 2) - 1];

1668 
	`Á°sd˘
(
tmp
, &
X
[0]);

1672 
i
 = 0; i < 9; i += 3) {

1673 
tmp
[
i
 + 0] = 
	`mad_f_mul
(
x
[ò+ 0] - x[18 - (ò+ 0Ë- 1], 
sˇÀ
[i + 0]);

1674 
tmp
[
i
 + 1] = 
	`mad_f_mul
(
x
[ò+ 1] - x[18 - (ò+ 1Ë- 1], 
sˇÀ
[i + 1]);

1675 
tmp
[
i
 + 2] = 
	`mad_f_mul
(
x
[ò+ 2] - x[18 - (ò+ 2Ë- 1], 
sˇÀ
[i + 2]);

1678 
	`Á°sd˘
(
tmp
, &
X
[1]);

1682 
i
 = 3; i < 18; i += 8) {

1683 
X
[
i
 + 0] -= X[(i + 0) - 2];

1684 
X
[
i
 + 2] -= X[(i + 2) - 2];

1685 
X
[
i
 + 4] -= X[(i + 4) - 2];

1686 
X
[
i
 + 6] -= X[(i + 6) - 2];

1688 
	}
}

1690 
ölöe


1691 
	$d˘IV
(
mad_fixed_t
 c⁄° 
y
[18], mad_fixed_à
X
[18])

1693 
mad_fixed_t
 
tmp
[18];

1694 
i
;

1697 
mad_fixed_t
 c⁄° 
sˇÀ
[18] = {

1698 
	`MAD_F
(0x1ff833fa), MAD_F(0x1fb9ea93), MAD_F(0x1f3dd120),

1699 
	`MAD_F
(0x1e84d969), MAD_F(0x1d906bcf), MAD_F(0x1c62648b),

1700 
	`MAD_F
(0x1afd100f), MAD_F(0x1963268b), MAD_F(0x1797c6a4),

1701 
	`MAD_F
(0x159e6f5b), MAD_F(0x137af940), MAD_F(0x11318ef3),

1702 
	`MAD_F
(0x0ec6a507), MAD_F(0x0c3ef153), MAD_F(0x099f61c5),

1703 
	`MAD_F
(0x06ed12c5), MAD_F(0x042d4544), MAD_F(0x0165547c)

1708 
i
 = 0; i < 18; i += 3) {

1709 
tmp
[
i
 + 0] = 
	`mad_f_mul
(
y
[ò+ 0], 
sˇÀ
[i + 0]);

1710 
tmp
[
i
 + 1] = 
	`mad_f_mul
(
y
[ò+ 1], 
sˇÀ
[i + 1]);

1711 
tmp
[
i
 + 2] = 
	`mad_f_mul
(
y
[ò+ 2], 
sˇÀ
[i + 2]);

1716 
	`sd˘II
(
tmp
, 
X
);

1720 
X
[0] /= 2;

1721 
i
 = 1; i < 17; i += 4) {

1722 
X
[
i
 + 0] = X[i + 0] / 2 - X[(i + 0) - 1];

1723 
X
[
i
 + 1] = X[i + 1] / 2 - X[(i + 1) - 1];

1724 
X
[
i
 + 2] = X[i + 2] / 2 - X[(i + 2) - 1];

1725 
X
[
i
 + 3] = X[i + 3] / 2 - X[(i + 3) - 1];

1727 
X
[17] = X[17] / 2 - X[16];

1728 
	}
}

1734 
ölöe


1735 
	$imd˘36
(
mad_fixed_t
 c⁄° 
x
[18], mad_fixed_à
y
[36])

1737 
mad_fixed_t
 
tmp
[18];

1738 
i
;

1742 
	`d˘IV
(
x
, 
tmp
);

1746 
i
 = 0; i < 9; i += 3) {

1747 
y
[
i
 + 0] = 
tmp
[9 + (i + 0)];

1748 
y
[
i
 + 1] = 
tmp
[9 + (i + 1)];

1749 
y
[
i
 + 2] = 
tmp
[9 + (i + 2)];

1751 
i
 = 9; i < 27; i += 3) {

1752 
y
[
i
 + 0] = -
tmp
[36 - (9 + (i + 0)) - 1];

1753 
y
[
i
 + 1] = -
tmp
[36 - (9 + (i + 1)) - 1];

1754 
y
[
i
 + 2] = -
tmp
[36 - (9 + (i + 2)) - 1];

1756 
i
 = 27; i < 36; i += 3) {

1757 
y
[
i
 + 0] = -
tmp
[(i + 0) - 27];

1758 
y
[
i
 + 1] = -
tmp
[(i + 1) - 27];

1759 
y
[
i
 + 2] = -
tmp
[(i + 2) - 27];

1761 
	}
}

1767 
ölöe


1768 
	$imd˘36
(
mad_fixed_t
 c⁄° 
X
[18], mad_fixed_à
x
[36])

1770 
mad_fixed_t
 
t0
, 
t1
, 
t2
, 
t3
, 
t4
, 
t5
, 
t6
, 
t7
;

1771 
mad_fixed_t
 
t8
, 
t9
, 
t10
, 
t11
, 
t12
, 
t13
, 
t14
, 
t15
;

1772 
mad_fixed64hi_t
 
hi
;

1773 
mad_fixed64lo_t
 
lo
;

1775 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[4], 
	`MAD_F
(0x0ec835e8));

1776 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[13], 
	`MAD_F
(0x061f78aa));

1778 
t6
 = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1780 
	`MAD_F_MLA
(
hi
, 
lo
, (
t14
 = 
X
[1] - X[10]), -
	`MAD_F
(0x061f78aa));

1781 
	`MAD_F_MLA
(
hi
, 
lo
, (
t15
 = 
X
[7] + X[16]), -
	`MAD_F
(0x0ec835e8));

1783 
t0
 = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1785 
	`MAD_F_MLA
(
hi
, 
lo
, (
t8
 = 
X
[0] - X[11] - X[12]), 
	`MAD_F
(0x0216a2a2));

1786 
	`MAD_F_MLA
(
hi
, 
lo
, (
t9
 = 
X
[2] - X[9] - X[14]), 
	`MAD_F
(0x09bd7ca0));

1787 
	`MAD_F_MLA
(
hi
, 
lo
, (
t10
 = 
X
[3] - X[8] - X[15]), -
	`MAD_F
(0x0cb19346));

1788 
	`MAD_F_MLA
(
hi
, 
lo
, (
t11
 = 
X
[5] - X[6] - X[17]), -
	`MAD_F
(0x0fdcf549));

1790 
x
[7] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1791 
x
[10] = -x[7];

1793 
	`MAD_F_ML0
(
hi
, 
lo
, 
t8
, -
	`MAD_F
(0x0cb19346));

1794 
	`MAD_F_MLA
(
hi
, 
lo
, 
t9
, 
	`MAD_F
(0x0fdcf549));

1795 
	`MAD_F_MLA
(
hi
, 
lo
, 
t10
, 
	`MAD_F
(0x0216a2a2));

1796 
	`MAD_F_MLA
(
hi
, 
lo
, 
t11
, -
	`MAD_F
(0x09bd7ca0));

1798 
x
[19] = x[34] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë- 
t0
;

1800 
t12
 = 
X
[0] - X[3] + X[8] - X[11] - X[12] + X[15];

1801 
t13
 = 
X
[2] + X[5] - X[6] - X[9] - X[14] - X[17];

1803 
	`MAD_F_ML0
(
hi
, 
lo
, 
t12
, -
	`MAD_F
(0x0ec835e8));

1804 
	`MAD_F_MLA
(
hi
, 
lo
, 
t13
, 
	`MAD_F
(0x061f78aa));

1806 
x
[22] = x[31] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t0
;

1808 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[1], -
	`MAD_F
(0x09bd7ca0));

1809 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[7], 
	`MAD_F
(0x0216a2a2));

1810 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[10], -
	`MAD_F
(0x0fdcf549));

1811 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[16], 
	`MAD_F
(0x0cb19346));

1813 
t1
 = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t6
;

1815 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], 
	`MAD_F
(0x03768962));

1816 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x0e313245));

1817 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], -
	`MAD_F
(0x0ffc19fd));

1818 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], -
	`MAD_F
(0x0acf37ad));

1819 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], 
	`MAD_F
(0x04cfb0e2));

1820 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], -
	`MAD_F
(0x0898c779));

1821 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], 
	`MAD_F
(0x0d7e8807));

1822 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], 
	`MAD_F
(0x0f426cb5));

1823 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x0bcbe352));

1824 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x00b2aa3e));

1825 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], -
	`MAD_F
(0x07635284));

1826 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x0f9ee890));

1828 
x
[6] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t1
;

1829 
x
[11] = -x[6];

1831 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], -
	`MAD_F
(0x0f426cb5));

1832 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], -
	`MAD_F
(0x00b2aa3e));

1833 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], 
	`MAD_F
(0x0898c779));

1834 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], 
	`MAD_F
(0x0f9ee890));

1835 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], 
	`MAD_F
(0x0acf37ad));

1836 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], -
	`MAD_F
(0x07635284));

1837 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], -
	`MAD_F
(0x0e313245));

1838 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x0bcbe352));

1839 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x03768962));

1840 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x0d7e8807));

1841 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], 
	`MAD_F
(0x0ffc19fd));

1842 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], 
	`MAD_F
(0x04cfb0e2));

1844 
x
[23] = x[30] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t1
;

1846 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], -
	`MAD_F
(0x0bcbe352));

1847 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x0d7e8807));

1848 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], -
	`MAD_F
(0x07635284));

1849 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], 
	`MAD_F
(0x04cfb0e2));

1850 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], 
	`MAD_F
(0x0f9ee890));

1851 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], -
	`MAD_F
(0x0ffc19fd));

1852 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], -
	`MAD_F
(0x00b2aa3e));

1853 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], 
	`MAD_F
(0x03768962));

1854 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x0f426cb5));

1855 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x0e313245));

1856 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], 
	`MAD_F
(0x0898c779));

1857 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x0acf37ad));

1859 
x
[18] = x[35] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë- 
t1
;

1861 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[4], 
	`MAD_F
(0x061f78aa));

1862 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[13], -
	`MAD_F
(0x0ec835e8));

1864 
t7
 = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1866 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[1], -
	`MAD_F
(0x0cb19346));

1867 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[7], 
	`MAD_F
(0x0fdcf549));

1868 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[10], 
	`MAD_F
(0x0216a2a2));

1869 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[16], -
	`MAD_F
(0x09bd7ca0));

1871 
t2
 = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1873 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[0], 
	`MAD_F
(0x04cfb0e2));

1874 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x0ffc19fd));

1875 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], -
	`MAD_F
(0x0d7e8807));

1876 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], 
	`MAD_F
(0x03768962));

1877 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], -
	`MAD_F
(0x0bcbe352));

1878 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], -
	`MAD_F
(0x0e313245));

1879 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], 
	`MAD_F
(0x07635284));

1880 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x0acf37ad));

1881 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], 
	`MAD_F
(0x0f9ee890));

1882 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x0898c779));

1883 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], 
	`MAD_F
(0x00b2aa3e));

1884 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], 
	`MAD_F
(0x0f426cb5));

1886 
x
[5] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

1887 
x
[12] = -x[5];

1889 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], 
	`MAD_F
(0x0acf37ad));

1890 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], -
	`MAD_F
(0x0898c779));

1891 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], 
	`MAD_F
(0x0e313245));

1892 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], -
	`MAD_F
(0x0f426cb5));

1893 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], -
	`MAD_F
(0x03768962));

1894 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], 
	`MAD_F
(0x00b2aa3e));

1895 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], -
	`MAD_F
(0x0ffc19fd));

1896 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], 
	`MAD_F
(0x0f9ee890));

1897 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x04cfb0e2));

1898 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x07635284));

1899 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], 
	`MAD_F
(0x0d7e8807));

1900 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x0bcbe352));

1902 
x
[0] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t2
;

1903 
x
[17] = -x[0];

1905 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], -
	`MAD_F
(0x0f9ee890));

1906 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], -
	`MAD_F
(0x07635284));

1907 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], -
	`MAD_F
(0x00b2aa3e));

1908 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], 
	`MAD_F
(0x0bcbe352));

1909 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], 
	`MAD_F
(0x0f426cb5));

1910 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], 
	`MAD_F
(0x0d7e8807));

1911 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], 
	`MAD_F
(0x0898c779));

1912 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x04cfb0e2));

1913 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x0acf37ad));

1914 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], -
	`MAD_F
(0x0ffc19fd));

1915 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], -
	`MAD_F
(0x0e313245));

1916 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x03768962));

1918 
x
[24] = x[29] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t2
;

1920 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[1], -
	`MAD_F
(0x0216a2a2));

1921 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[7], -
	`MAD_F
(0x09bd7ca0));

1922 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[10], 
	`MAD_F
(0x0cb19346));

1923 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[16], 
	`MAD_F
(0x0fdcf549));

1925 
t3
 = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t7
;

1927 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], 
	`MAD_F
(0x00b2aa3e));

1928 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x03768962));

1929 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], -
	`MAD_F
(0x04cfb0e2));

1930 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], -
	`MAD_F
(0x07635284));

1931 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], 
	`MAD_F
(0x0898c779));

1932 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], 
	`MAD_F
(0x0acf37ad));

1933 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], -
	`MAD_F
(0x0bcbe352));

1934 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x0d7e8807));

1935 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], 
	`MAD_F
(0x0e313245));

1936 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x0f426cb5));

1937 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], -
	`MAD_F
(0x0f9ee890));

1938 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x0ffc19fd));

1940 
x
[8] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t3
;

1941 
x
[9] = -x[8];

1943 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], -
	`MAD_F
(0x0e313245));

1944 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x0bcbe352));

1945 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], 
	`MAD_F
(0x0f9ee890));

1946 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], -
	`MAD_F
(0x0898c779));

1947 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], -
	`MAD_F
(0x0ffc19fd));

1948 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], 
	`MAD_F
(0x04cfb0e2));

1949 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], 
	`MAD_F
(0x0f426cb5));

1950 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x00b2aa3e));

1951 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x0d7e8807));

1952 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], -
	`MAD_F
(0x03768962));

1953 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], 
	`MAD_F
(0x0acf37ad));

1954 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], 
	`MAD_F
(0x07635284));

1956 
x
[21] = x[32] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t3
;

1958 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], -
	`MAD_F
(0x0d7e8807));

1959 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x0f426cb5));

1960 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], 
	`MAD_F
(0x0acf37ad));

1961 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], -
	`MAD_F
(0x0ffc19fd));

1962 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], -
	`MAD_F
(0x07635284));

1963 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], 
	`MAD_F
(0x0f9ee890));

1964 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], 
	`MAD_F
(0x03768962));

1965 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x0e313245));

1966 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], 
	`MAD_F
(0x00b2aa3e));

1967 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x0bcbe352));

1968 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], -
	`MAD_F
(0x04cfb0e2));

1969 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x0898c779));

1971 
x
[20] = x[33] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë- 
t3
;

1973 
	`MAD_F_ML0
(
hi
, 
lo
, 
t14
, -
	`MAD_F
(0x0ec835e8));

1974 
	`MAD_F_MLA
(
hi
, 
lo
, 
t15
, 
	`MAD_F
(0x061f78aa));

1976 
t4
 = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë- 
t7
;

1978 
	`MAD_F_ML0
(
hi
, 
lo
, 
t12
, 
	`MAD_F
(0x061f78aa));

1979 
	`MAD_F_MLA
(
hi
, 
lo
, 
t13
, 
	`MAD_F
(0x0ec835e8));

1981 
x
[4] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t4
;

1982 
x
[13] = -x[4];

1984 
	`MAD_F_ML0
(
hi
, 
lo
, 
t8
, 
	`MAD_F
(0x09bd7ca0));

1985 
	`MAD_F_MLA
(
hi
, 
lo
, 
t9
, -
	`MAD_F
(0x0216a2a2));

1986 
	`MAD_F_MLA
(
hi
, 
lo
, 
t10
, 
	`MAD_F
(0x0fdcf549));

1987 
	`MAD_F_MLA
(
hi
, 
lo
, 
t11
, -
	`MAD_F
(0x0cb19346));

1989 
x
[1] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t4
;

1990 
x
[16] = -x[1];

1992 
	`MAD_F_ML0
(
hi
, 
lo
, 
t8
, -
	`MAD_F
(0x0fdcf549));

1993 
	`MAD_F_MLA
(
hi
, 
lo
, 
t9
, -
	`MAD_F
(0x0cb19346));

1994 
	`MAD_F_MLA
(
hi
, 
lo
, 
t10
, -
	`MAD_F
(0x09bd7ca0));

1995 
	`MAD_F_MLA
(
hi
, 
lo
, 
t11
, -
	`MAD_F
(0x0216a2a2));

1997 
x
[25] = x[28] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t4
;

1999 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[1], -
	`MAD_F
(0x0fdcf549));

2000 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[7], -
	`MAD_F
(0x0cb19346));

2001 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[10], -
	`MAD_F
(0x09bd7ca0));

2002 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[16], -
	`MAD_F
(0x0216a2a2));

2004 
t5
 = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë- 
t6
;

2006 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], 
	`MAD_F
(0x0898c779));

2007 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x04cfb0e2));

2008 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], 
	`MAD_F
(0x0bcbe352));

2009 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], 
	`MAD_F
(0x00b2aa3e));

2010 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], 
	`MAD_F
(0x0e313245));

2011 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], -
	`MAD_F
(0x03768962));

2012 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], 
	`MAD_F
(0x0f9ee890));

2013 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x07635284));

2014 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], 
	`MAD_F
(0x0ffc19fd));

2015 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], -
	`MAD_F
(0x0acf37ad));

2016 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], 
	`MAD_F
(0x0f426cb5));

2017 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x0d7e8807));

2019 
x
[2] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t5
;

2020 
x
[15] = -x[2];

2022 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], 
	`MAD_F
(0x07635284));

2023 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], 
	`MAD_F
(0x0acf37ad));

2024 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], 
	`MAD_F
(0x03768962));

2025 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], 
	`MAD_F
(0x0d7e8807));

2026 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], -
	`MAD_F
(0x00b2aa3e));

2027 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], 
	`MAD_F
(0x0f426cb5));

2028 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], -
	`MAD_F
(0x04cfb0e2));

2029 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], 
	`MAD_F
(0x0ffc19fd));

2030 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x0898c779));

2031 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], 
	`MAD_F
(0x0f9ee890));

2032 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], -
	`MAD_F
(0x0bcbe352));

2033 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], 
	`MAD_F
(0x0e313245));

2035 
x
[3] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t5
;

2036 
x
[14] = -x[3];

2038 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], -
	`MAD_F
(0x0ffc19fd));

2039 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], -
	`MAD_F
(0x0f9ee890));

2040 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], -
	`MAD_F
(0x0f426cb5));

2041 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], -
	`MAD_F
(0x0e313245));

2042 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[6], -
	`MAD_F
(0x0d7e8807));

2043 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[8], -
	`MAD_F
(0x0bcbe352));

2044 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[9], -
	`MAD_F
(0x0acf37ad));

2045 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[11], -
	`MAD_F
(0x0898c779));

2046 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[12], -
	`MAD_F
(0x07635284));

2047 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[14], -
	`MAD_F
(0x04cfb0e2));

2048 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[15], -
	`MAD_F
(0x03768962));

2049 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[17], -
	`MAD_F
(0x00b2aa3e));

2051 
x
[26] = x[27] = 
	`MAD_F_MLZ
(
hi
, 
lo
Ë+ 
t5
;

2052 
	}
}

2060 
	$III_imd˘_l
(
mad_fixed_t
 c⁄° 
X
[18], mad_fixed_à
z
[36],

2061 
block_ty≥
)

2063 
i
;

2067 
	`imd˘36
(
X
, 
z
);

2071 
block_ty≥
) {

2073 #i‡
	`deföed
(
ASO_INTERLEAVE1
)

2075 
mad_fixed_t
 
tmp1
, 
tmp2
;

2077 
tmp1
 = 
wödow_l
[0];

2078 
tmp2
 = 
wödow_l
[1];

2080 
i
 = 0; i < 34; i += 2) {

2081 
z
[
i
 + 0] = 
	`mad_f_mul
(z[ò+ 0], 
tmp1
);

2082 
tmp1
 = 
wödow_l
[
i
 + 2];

2083 
z
[
i
 + 1] = 
	`mad_f_mul
(z[ò+ 1], 
tmp2
);

2084 
tmp2
 = 
wödow_l
[
i
 + 3];

2087 
z
[34] = 
	`mad_f_mul
(z[34], 
tmp1
);

2088 
z
[35] = 
	`mad_f_mul
(z[35], 
tmp2
);

2090 #ñi‡
	`deföed
(
ASO_INTERLEAVE2
)

2092 
mad_fixed_t
 
tmp1
, 
tmp2
;

2094 
tmp1
 = 
z
[0];

2095 
tmp2
 = 
wödow_l
[0];

2097 
i
 = 0; i < 35; ++i) {

2098 
z
[
i
] = 
	`mad_f_mul
(
tmp1
, 
tmp2
);

2099 
tmp1
 = 
z
[
i
 + 1];

2100 
tmp2
 = 
wödow_l
[
i
 + 1];

2103 
z
[35] = 
	`mad_f_mul
(
tmp1
, 
tmp2
);

2106 
i
 = 0; i < 36; i += 4) {

2107 
z
[
i
 + 0] = 
	`mad_f_mul
(z[ò+ 0], 
wödow_l
[i + 0]);

2108 
z
[
i
 + 1] = 
	`mad_f_mul
(z[ò+ 1], 
wödow_l
[i + 1]);

2109 
z
[
i
 + 2] = 
	`mad_f_mul
(z[ò+ 2], 
wödow_l
[i + 2]);

2110 
z
[
i
 + 3] = 
	`mad_f_mul
(z[ò+ 3], 
wödow_l
[i + 3]);

2113 
i
 = 0; i < 36; ++iË
z
[i] = 
	`mad_f_mul
(z[i], 
wödow_l
[i]);

2118 
i
 = 0; i < 18; i += 3) {

2119 
z
[
i
 + 0] = 
	`mad_f_mul
(z[ò+ 0], 
wödow_l
[i + 0]);

2120 
z
[
i
 + 1] = 
	`mad_f_mul
(z[ò+ 1], 
wödow_l
[i + 1]);

2121 
z
[
i
 + 2] = 
	`mad_f_mul
(z[ò+ 2], 
wödow_l
[i + 2]);

2124 
i
 = 24; i < 30; ++iË
z
[i] = 
	`mad_f_mul
(z[i], 
wödow_s
[i - 18]);

2125 
i
 = 30; i < 36; ++iË
z
[i] = 0;

2129 
i
 = 0; i < 6; ++iË
z
[i] = 0;

2130 
i
 = 6; i < 12; ++iË
z
[i] = 
	`mad_f_mul
(z[i], 
wödow_s
[i - 6]);

2132 
i
 = 18; i < 36; i += 3) {

2133 
z
[
i
 + 0] = 
	`mad_f_mul
(z[ò+ 0], 
wödow_l
[i + 0]);

2134 
z
[
i
 + 1] = 
	`mad_f_mul
(z[ò+ 1], 
wödow_l
[i + 1]);

2135 
z
[
i
 + 2] = 
	`mad_f_mul
(z[ò+ 2], 
wödow_l
[i + 2]);

2139 
	}
}

2147 
	$III_imd˘_s
(
mad_fixed_t
 c⁄° 
X
[18], mad_fixed_à
z
[36])

2149 
mad_fixed_t
 
y
[36], *
y±r
;

2150 
mad_fixed_t
 c⁄° *
w±r
;

2151 
w
, 
i
;

2152 
mad_fixed64hi_t
 
hi
;

2153 
mad_fixed64lo_t
 
lo
;

2157 
y±r
 = &
y
[0];

2159 
w
 = 0; w < 3; ++w) {

2160 
mad_fixed_t
 c⁄° (*
s
)[6];

2162 
s
 = 
imd˘_s
;

2164 
i
 = 0; i < 3; ++i) {

2165 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], (*
s
)[0]);

2166 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[1], (*
s
)[1]);

2167 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], (*
s
)[2]);

2168 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], (*
s
)[3]);

2169 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[4], (*
s
)[4]);

2170 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], (*
s
)[5]);

2172 
y±r
[
i
 + 0] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

2173 
y±r
[5 - 
i
] = -yptr[i + 0];

2175 ++
s
;

2177 
	`MAD_F_ML0
(
hi
, 
lo
, 
X
[0], (*
s
)[0]);

2178 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[1], (*
s
)[1]);

2179 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[2], (*
s
)[2]);

2180 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[3], (*
s
)[3]);

2181 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[4], (*
s
)[4]);

2182 
	`MAD_F_MLA
(
hi
, 
lo
, 
X
[5], (*
s
)[5]);

2184 
y±r
[ 
i
 + 6] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

2185 
y±r
[11 - 
i
] = yptr[i + 6];

2187 ++
s
;

2190 
y±r
 += 12;

2191 
X
 += 6;

2196 
y±r
 = &
y
[0];

2197 
w±r
 = &
wödow_s
[0];

2199 
i
 = 0; i < 6; ++i) {

2200 
z
[
i
 + 0] = 0;

2201 
z
[
i
 + 6] = 
	`mad_f_mul
(
y±r
[ 0 + 0], 
w±r
[0]);

2203 
	`MAD_F_ML0
(
hi
, 
lo
, 
y±r
[ 0 + 6], 
w±r
[6]);

2204 
	`MAD_F_MLA
(
hi
, 
lo
, 
y±r
[12 + 0], 
w±r
[0]);

2206 
z
[
i
 + 12] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

2208 
	`MAD_F_ML0
(
hi
, 
lo
, 
y±r
[12 + 6], 
w±r
[6]);

2209 
	`MAD_F_MLA
(
hi
, 
lo
, 
y±r
[24 + 0], 
w±r
[0]);

2211 
z
[
i
 + 18] = 
	`MAD_F_MLZ
(
hi
, 
lo
);

2213 
z
[
i
 + 24] = 
	`mad_f_mul
(
y±r
[24 + 6], 
w±r
[6]);

2214 
z
[
i
 + 30] = 0;

2216 ++
y±r
;

2217 ++
w±r
;

2219 
	}
}

2226 
	$III_ovîœp
(
mad_fixed_t
 c⁄° 
ouçut
[36], mad_fixed_à
ovîœp
[18],

2227 
mad_fixed_t
 
ßm∂e
[18][32], 
sb
)

2229 
i
;

2231 #i‡
	`deföed
(
ASO_INTERLEAVE2
)

2233 
mad_fixed_t
 
tmp1
, 
tmp2
;

2235 
tmp1
 = 
ovîœp
[0];

2236 
tmp2
 = 
ovîœp
[1];

2238 
i
 = 0; i < 16; i += 2) {

2239 
ßm∂e
[
i
 + 0][
sb
] = 
ouçut
[ò+ 0 + 0] + 
tmp1
;

2240 
ovîœp
[
i
 + 0] = 
ouçut
[i + 0 + 18];

2241 
tmp1
 = 
ovîœp
[
i
 + 2];

2243 
ßm∂e
[
i
 + 1][
sb
] = 
ouçut
[ò+ 1 + 0] + 
tmp2
;

2244 
ovîœp
[
i
 + 1] = 
ouçut
[i + 1 + 18];

2245 
tmp2
 = 
ovîœp
[
i
 + 3];

2248 
ßm∂e
[16][
sb
] = 
ouçut
[16 + 0] + 
tmp1
;

2249 
ovîœp
[16] = 
ouçut
[16 + 18];

2250 
ßm∂e
[17][
sb
] = 
ouçut
[17 + 0] + 
tmp2
;

2251 
ovîœp
[17] = 
ouçut
[17 + 18];

2254 
i
 = 0; i < 18; i += 2) {

2255 
ßm∂e
[
i
 + 0][
sb
] = 
ouçut
[ò+ 0 + 0] + 
ovîœp
[i + 0];

2256 
ovîœp
[
i
 + 0] = 
ouçut
[i + 0 + 18];

2258 
ßm∂e
[
i
 + 1][
sb
] = 
ouçut
[ò+ 1 + 0] + 
ovîœp
[i + 1];

2259 
ovîœp
[
i
 + 1] = 
ouçut
[i + 1 + 18];

2262 
i
 = 0; i < 18; ++i) {

2263 
ßm∂e
[
i
][
sb
] = 
ouçut
[ò+ 0] + 
ovîœp
[i];

2264 
ovîœp
[
i
] = 
ouçut
[i + 18];

2267 
	}
}

2273 
ölöe


2274 
	$III_ovîœp_z
(
mad_fixed_t
 
ovîœp
[18],

2275 
mad_fixed_t
 
ßm∂e
[18][32], 
sb
)

2277 
i
;

2279 #i‡
	`deföed
(
ASO_INTERLEAVE2
)

2281 
mad_fixed_t
 
tmp1
, 
tmp2
;

2283 
tmp1
 = 
ovîœp
[0];

2284 
tmp2
 = 
ovîœp
[1];

2286 
i
 = 0; i < 16; i += 2) {

2287 
ßm∂e
[
i
 + 0][
sb
] = 
tmp1
;

2288 
ovîœp
[
i
 + 0] = 0;

2289 
tmp1
 = 
ovîœp
[
i
 + 2];

2291 
ßm∂e
[
i
 + 1][
sb
] = 
tmp2
;

2292 
ovîœp
[
i
 + 1] = 0;

2293 
tmp2
 = 
ovîœp
[
i
 + 3];

2296 
ßm∂e
[16][
sb
] = 
tmp1
;

2297 
ovîœp
[16] = 0;

2298 
ßm∂e
[17][
sb
] = 
tmp2
;

2299 
ovîœp
[17] = 0;

2302 
i
 = 0; i < 18; ++i) {

2303 
ßm∂e
[
i
][
sb
] = 
ovîœp
[i];

2304 
ovîœp
[
i
] = 0;

2307 
	}
}

2314 
	$III_‰eqövî
(
mad_fixed_t
 
ßm∂e
[18][32], 
sb
)

2316 
i
;

2318 #i‡1 || 
	`deföed
(
ASO_INTERLEAVE1
Ë|| deföed(
ASO_INTERLEAVE2
)

2320 
mad_fixed_t
 
tmp1
, 
tmp2
;

2322 
tmp1
 = 
ßm∂e
[1][
sb
];

2323 
tmp2
 = 
ßm∂e
[3][
sb
];

2325 
i
 = 1; i < 13; i += 4) {

2326 
ßm∂e
[
i
 + 0][
sb
] = -
tmp1
;

2327 
tmp1
 = 
ßm∂e
[
i
 + 4][
sb
];

2328 
ßm∂e
[
i
 + 2][
sb
] = -
tmp2
;

2329 
tmp2
 = 
ßm∂e
[
i
 + 6][
sb
];

2332 
ßm∂e
[13][
sb
] = -
tmp1
;

2333 
tmp1
 = 
ßm∂e
[17][
sb
];

2334 
ßm∂e
[15][
sb
] = -
tmp2
;

2335 
ßm∂e
[17][
sb
] = -
tmp1
;

2338 
i
 = 1; i < 18; i += 2)

2339 
ßm∂e
[
i
][
sb
] = -sample[i][sb];

2341 
	}
}

2348 
mad_îr‹
 
	$III_decode
(
mad_bô±r
 *
±r
, 
mad_‰ame
 *
‰ame
,

2349 
sideöfo
 *
si
, 
nch
)

2351 
mad_hódî
 *
hódî
 = &
‰ame
->header;

2352 
s‰eqi
, 
ngr
, 
gr
;

2355 
s‰eq
;

2357 
s‰eq
 = 
hódî
->
ßm∂î©e
;

2358 i‡(
hódî
->
Êags
 & 
MAD_FLAG_MPEG_2_5_EXT
)

2359 
s‰eq
 *= 2;

2363 
s‰eqi
 = ((
s‰eq
 >> 7) & 0x000f) +

2364 ((
s‰eq
 >> 15) & 0x0001) - 8;

2366 i‡(
hódî
->
Êags
 & 
MAD_FLAG_MPEG_2_5_EXT
)

2367 
s‰eqi
 += 3;

2372 
ngr
 = (
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
) ? 1 : 2;

2374 
gr
 = 0; g∏< 
ngr
; ++gr) {

2375 
gønuÀ
 *gønuÀ = &
si
->
gr
[gr];

2376 c⁄° *
sfbwidth
[2];

2377 
mad_fixed_t
 
xr
[2][576];

2378 
ch
;

2379 
mad_îr‹
 
îr‹
;

2381 
ch
 = 0; ch < 
nch
; ++ch) {

2382 
ch™√l
 *ch™√»&
gønuÀ
->
ch
[ch];

2383 
∑π2_Àngth
;

2385 
sfbwidth
[
ch
] = 
sfbwidth_èbÀ
[
s‰eqi
].
l
;

2386 i‡(
ch™√l
->
block_ty≥
 == 2) {

2387 
sfbwidth
[
ch
] = (
ch™√l
->
Êags
 & 
mixed_block_Êag
) ?

2388 
sfbwidth_èbÀ
[
s‰eqi
].
m
 : sfbwidth_èbÀ[s‰eqi].
s
;

2391 i‡(
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
) {

2392 
∑π2_Àngth
 = 
	`III_sˇÀÁ˘‹s_lsf
(
±r
, 
ch™√l
,

2393 
ch
 =0 ? 0 : &
si
->
gr
[1].ch[1],

2394 
hódî
->
mode_exãnsi⁄
);

2397 
∑π2_Àngth
 = 
	`III_sˇÀÁ˘‹s
(
±r
, 
ch™√l
, &
si
->
gr
[0].
ch
[ch],

2398 
gr
 =0 ? 0 : 
si
->
scfsi
[
ch
]);

2401 
îr‹
 = 
	`III_huffdecode
(
±r
, 
xr
[
ch
], 
ch™√l
, 
sfbwidth
[ch], 
∑π2_Àngth
);

2402 i‡(
îr‹
)

2403  
îr‹
;

2408 i‡(
hódî
->
mode
 =
MAD_MODE_JOINT_STEREO
 && hódî->
mode_exãnsi⁄
) {

2409 
îr‹
 = 
	`III_°îeo
(
xr
, 
gønuÀ
, 
hódî
, 
sfbwidth
[0]);

2410 i‡(
îr‹
)

2411  
îr‹
;

2416 
ch
 = 0; ch < 
nch
; ++ch) {

2417 
ch™√l
 c⁄° *ch™√»&
gønuÀ
->
ch
[ch];

2418 
	`mad_fixed_t
 (*
ßm∂e
)[32] = &
‰ame
->
sbßm∂e
[
ch
][18 * 
gr
];

2419 
sb
, 
l
, 
i
, 
sblimô
;

2420 
mad_fixed_t
 
ouçut
[36];

2422 i‡(
ch™√l
->
block_ty≥
 == 2) {

2423 
	`III_ª‹dî
(
xr
[
ch
], 
ch™√l
, 
sfbwidth
[ch]);

2425 #i‡!
	`deföed
(
OPT_STRICT
)

2433 i‡(
ch™√l
->
Êags
 & 
mixed_block_Êag
)

2434 
	`III_Æü§edu˚
(
xr
[
ch
], 36);

2438 
	`III_Æü§edu˚
(
xr
[
ch
], 576);

2440 
l
 = 0;

2444 i‡(
ch™√l
->
block_ty≥
 !2 || (ch™√l->
Êags
 & 
mixed_block_Êag
)) {

2445 
block_ty≥
;

2447 
block_ty≥
 = 
ch™√l
->block_type;

2448 i‡(
ch™√l
->
Êags
 & 
mixed_block_Êag
)

2449 
block_ty≥
 = 0;

2452 
sb
 = 0; sb < 2; ++sb, 
l
 += 18) {

2453 
	`III_imd˘_l
(&
xr
[
ch
][
l
], 
ouçut
, 
block_ty≥
);

2454 
	`III_ovîœp
(
ouçut
, (*
‰ame
->
ovîœp
)[
ch
][
sb
], 
ßm∂e
, sb);

2459 
sb
 = 0; sb < 2; ++sb, 
l
 += 18) {

2460 
	`III_imd˘_s
(&
xr
[
ch
][
l
], 
ouçut
);

2461 
	`III_ovîœp
(
ouçut
, (*
‰ame
->
ovîœp
)[
ch
][
sb
], 
ßm∂e
, sb);

2465 
	`III_‰eqövî
(
ßm∂e
, 1);

2469 
i
 = 576;

2470 
i
 > 36 && 
xr
[
ch
][i - 1] == 0)

2471 --
i
;

2473 
sblimô
 = 32 - (576 - 
i
) / 18;

2475 i‡(
ch™√l
->
block_ty≥
 != 2) {

2477 
sb
 = 2; sb < 
sblimô
; ++sb, 
l
 += 18) {

2478 
	`III_imd˘_l
(&
xr
[
ch
][
l
], 
ouçut
, 
ch™√l
->
block_ty≥
);

2479 
	`III_ovîœp
(
ouçut
, (*
‰ame
->
ovîœp
)[
ch
][
sb
], 
ßm∂e
, sb);

2481 i‡(
sb
 & 1)

2482 
	`III_‰eqövî
(
ßm∂e
, 
sb
);

2487 
sb
 = 2; sb < 
sblimô
; ++sb, 
l
 += 18) {

2488 
	`III_imd˘_s
(&
xr
[
ch
][
l
], 
ouçut
);

2489 
	`III_ovîœp
(
ouçut
, (*
‰ame
->
ovîœp
)[
ch
][
sb
], 
ßm∂e
, sb);

2491 i‡(
sb
 & 1)

2492 
	`III_‰eqövî
(
ßm∂e
, 
sb
);

2498 
sb
 = 
sblimô
; sb < 32; ++sb) {

2499 
	`III_ovîœp_z
((*
‰ame
->
ovîœp
)[
ch
][
sb
], 
ßm∂e
, sb);

2501 i‡(
sb
 & 1)

2502 
	`III_‰eqövî
(
ßm∂e
, 
sb
);

2507  
MAD_ERROR_NONE
;

2508 
	}
}

2514 
	$mad_œyî_III
(
mad_°ªam
 *
°ªam
, 
mad_‰ame
 *
‰ame
)

2516 
mad_hódî
 *
hódî
 = &
‰ame
->header;

2517 
nch
, 
¥iv_bôÀn
, 
√xt_md_begö
 = 0;

2518 
si_Àn
, 
d©a_bôÀn
, 
md_Àn
;

2519 
‰ame_•a˚
, 
‰ame_u£d
, 
‰ame_‰ì
;

2520 
mad_bô±r
 
±r
;

2521 
sideöfo
 
si
;

2522 
mad_îr‹
 
îr‹
;

2523 
ªsu…
 = 0;

2527 i‡(
°ªam
->
maö_d©a
 == 0) {

2528 
°ªam
->
maö_d©a
 = 
	`mÆloc
(
MAD_BUFFER_MDLEN
);

2529 i‡(
°ªam
->
maö_d©a
 == 0) {

2530 
°ªam
->
îr‹
 = 
MAD_ERROR_NOMEM
;

2535 i‡(
‰ame
->
ovîœp
 == 0) {

2536 
‰ame
->
ovîœp
 = 
	`ˇŒoc
(2 * 32 * 18, (
mad_fixed_t
));

2537 i‡(
‰ame
->
ovîœp
 == 0) {

2538 
°ªam
->
îr‹
 = 
MAD_ERROR_NOMEM
;

2543 
nch
 = 
	`MAD_NCHANNELS
(
hódî
);

2544 
si_Àn
 = (
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
) ?

2545 (
nch
 == 1 ? 9 : 17) : (nch == 1 ? 17 : 32);

2549 i‡(
°ªam
->
√xt_‰ame
 - 
	`mad_bô_√xtbyã
(&°ªam->
±r
) <

2550 (sig√d Ë
si_Àn
) {

2551 
°ªam
->
îr‹
 = 
MAD_ERROR_BADFRAMELEN
;

2552 
°ªam
->
md_Àn
 = 0;

2558 i‡(
hódî
->
Êags
 & 
MAD_FLAG_PROTECTION
) {

2559 
hódî
->
¸c_check
 =

2560 
	`mad_bô_¸c
(
°ªam
->
±r
, 
si_Àn
 * 
CHAR_BIT
, 
hódî
->
¸c_check
);

2562 i‡(
hódî
->
¸c_check
 !hódî->
¸c_èrgë
 &&

2563 !(
‰ame
->
›ti⁄s
 & 
MAD_OPTION_IGNORECRC
)) {

2564 
°ªam
->
îr‹
 = 
MAD_ERROR_BADCRC
;

2565 
ªsu…
 = -1;

2571 
îr‹
 = 
	`III_sideöfo
(&
°ªam
->
±r
, 
nch
, 
hódî
->
Êags
 & 
MAD_FLAG_LSF_EXT
,

2572 &
si
, &
d©a_bôÀn
, &
¥iv_bôÀn
);

2573 i‡(
îr‹
 && 
ªsu…
 == 0) {

2574 
°ªam
->
îr‹
 =Érror;

2575 
ªsu…
 = -1;

2578 
hódî
->
Êags
 |
¥iv_bôÀn
;

2579 
hódî
->
¥iv©e_bôs
 |
si
.private_bits;

2584 
mad_bô±r
 
≥ek
;

2585 
hódî
;

2587 
	`mad_bô_öô
(&
≥ek
, 
°ªam
->
√xt_‰ame
);

2589 
hódî
 = 
	`mad_bô_ªad
(&
≥ek
, 32);

2590 i‡((
hódî
 & 0xffe60000L) == 0xffe20000L) {

2591 i‡(!(
hódî
 & 0x00010000L))

2592 
	`mad_bô_skù
(&
≥ek
, 16);

2594 
√xt_md_begö
 =

2595 
	`mad_bô_ªad
(&
≥ek
, (
hódî
 & 0x00080000L) ? 9 : 8);

2598 
	`mad_bô_föish
(&
≥ek
);

2603 
‰ame_•a˚
 = 
°ªam
->
√xt_‰ame
 - 
	`mad_bô_√xtbyã
(&°ªam->
±r
);

2605 i‡(
√xt_md_begö
 > 
si
.
maö_d©a_begö
 + 
‰ame_•a˚
)

2606 
√xt_md_begö
 = 0;

2608 
md_Àn
 = 
si
.
maö_d©a_begö
 + 
‰ame_•a˚
 - 
√xt_md_begö
;

2610 
‰ame_u£d
 = 0;

2612 i‡(
si
.
maö_d©a_begö
 == 0) {

2613 
±r
 = 
°ªam
->ptr;

2614 
°ªam
->
md_Àn
 = 0;

2616 
‰ame_u£d
 = 
md_Àn
;

2619 i‡(
si
.
maö_d©a_begö
 > 
°ªam
->
md_Àn
) {

2620 i‡(
ªsu…
 == 0) {

2621 
°ªam
->
îr‹
 = 
MAD_ERROR_BADDATAPTR
;

2622 
ªsu…
 = -1;

2626 
	`mad_bô_öô
(&
±r
,

2627 *
°ªam
->
maö_d©a
 + såóm->
md_Àn
 - 
si
.
maö_d©a_begö
);

2629 i‡(
md_Àn
 > 
si
.
maö_d©a_begö
) {

2630 
	`as£π
(
°ªam
->
md_Àn
 + md_len -

2631 
si
.
maö_d©a_begö
 <
MAD_BUFFER_MDLEN
);

2633 
	`mem˝y
(*
°ªam
->
maö_d©a
 + såóm->
md_Àn
,

2634 
	`mad_bô_√xtbyã
(&
°ªam
->
±r
),

2635 
‰ame_u£d
 = 
md_Àn
 - 
si
.
maö_d©a_begö
);

2636 
°ªam
->
md_Àn
 +
‰ame_u£d
;

2641 
‰ame_‰ì
 = 
‰ame_•a˚
 - 
‰ame_u£d
;

2645 i‡(
ªsu…
 == 0) {

2646 
îr‹
 = 
	`III_decode
(&
±r
, 
‰ame
, &
si
, 
nch
);

2647 i‡(
îr‹
) {

2648 
°ªam
->
îr‹
 =Érror;

2649 
ªsu…
 = -1;

2654 
°ªam
->
™c_±r
 = 
±r
;

2655 
°ªam
->
™c_bôÀn
 = 
md_Àn
 * 
CHAR_BIT
 - 
d©a_bôÀn
;

2658 #i‡0 && 
	`deföed
(
DEBUG
)

2659 
	`Ârötf
(
°dîr
,

2662 
si
.
maö_d©a_begö
, 
md_Àn
, 
‰ame_‰ì
,

2663 
d©a_bôÀn
, 
°ªam
->
™c_bôÀn
);

2668 i‡(
‰ame_‰ì
 >
√xt_md_begö
) {

2669 
	`mem˝y
(*
°ªam
->
maö_d©a
,

2670 
°ªam
->
√xt_‰ame
 - 
√xt_md_begö
,Çext_md_begin);

2671 
°ªam
->
md_Àn
 = 
√xt_md_begö
;

2674 i‡(
md_Àn
 < 
si
.
maö_d©a_begö
) {

2675 
exåa
;

2677 
exåa
 = 
si
.
maö_d©a_begö
 - 
md_Àn
;

2678 i‡(
exåa
 + 
‰ame_‰ì
 > 
√xt_md_begö
)

2679 
exåa
 = 
√xt_md_begö
 - 
‰ame_‰ì
;

2681 i‡(
exåa
 < 
°ªam
->
md_Àn
) {

2682 
	`memmove
(*
°ªam
->
maö_d©a
,

2683 *
°ªam
->
maö_d©a
 + såóm->
md_Àn
 - 
exåa
,Éxtra);

2684 
°ªam
->
md_Àn
 = 
exåa
;

2688 
°ªam
->
md_Àn
 = 0;

2690 
	`mem˝y
(*
°ªam
->
maö_d©a
 + såóm->
md_Àn
,

2691 
°ªam
->
√xt_‰ame
 - 
‰ame_‰ì
, frame_free);

2692 
°ªam
->
md_Àn
 +
‰ame_‰ì
;

2695  
ªsu…
;

2696 
	}
}

	@libmad/layer3.h

22 #i‚de‡
LIBMAD_LAYER3_H


23 
	#LIBMAD_LAYER3_H


	)

25 
	~"°ªam.h
"

26 
	~"‰ame.h
"

28 
mad_œyî_III
(
mad_°ªam
 *, 
mad_‰ame
 *);

	@libmad/libmad_config.h

11 
	#HAVE_ASSERT_H
 1

	)

17 
	#HAVE_ERRNO_H
 1

	)

23 
	#HAVE_FCNTL_H
 1

	)

29 
	#HAVE_INTTYPES_H
 1

	)

32 
	#HAVE_LIMITS_H
 1

	)

41 
	#HAVE_MEMORY_H
 1

	)

47 
	#HAVE_STDINT_H
 1

	)

50 
	#HAVE_STDLIB_H
 1

	)

53 
	#HAVE_STRINGS_H
 1

	)

56 
	#HAVE_STRING_H
 1

	)

59 
	#HAVE_SYS_STAT_H
 1

	)

62 
	#HAVE_SYS_TYPES_H
 1

	)

90 
	#PACKAGE
 "libmad"

	)

93 
	#PACKAGE_BUGREPORT
 "suµ‹t@undîbô.com"

	)

96 
	#PACKAGE_NAME
 "MPEG AudiÿDecodî"

	)

99 
	#PACKAGE_STRING
 "MPEG AudiÿDecodî 0.15.1b"

	)

102 
	#PACKAGE_TARNAME
 "libmad"

	)

105 
	#PACKAGE_VERSION
 "0.15.1b"

	)

108 
	#SIZEOF_INT
 4

	)

111 
	#SIZEOF_LONG
 4

	)

114 
	#SIZEOF_LONG_LONG
 8

	)

117 
	#STDC_HEADERS
 1

	)

120 
	#VERSION
 "0.15.1b"

	)

127 
	#ölöe
 
__ölöe


	)

132 
	#FPM_DEFAULT
 1

	)

134 #ifde‡
_MSC_VER


135 #¥agm®
w¨nög
 (
dißbÀ
:4018)

136 #¥agm®
w¨nög
 (
dißbÀ
:4146)

137 #¥agm®
w¨nög
 (
dißbÀ
:4244)

138 #¥agm®
w¨nög
 (
dißbÀ
:4996)

	@libmad/libmad_global.h

22 #i‚de‡
LIBMAD_GLOBAL_H


23 
	#LIBMAD_GLOBAL_H


	)

27 #i‡
deföed
(
DEBUG
Ë&& deföed(
NDEBUG
)

31 #i‡
deföed
(
DEBUG
)

32 
	~<°dio.h
>

37 #i‡
deföed
(
OPT_SPEED
Ë&& deföed(
OPT_ACCURACY
)

41 #i‡
deföed
(
OPT_SPEED
Ë&& !deföed(
OPT_SSO
)

42 
	#OPT_SSO


	)

45 #i‡
deföed
(
HAVE_UNISTD_H
Ë&& deföed(
HAVE_WAITPID
) && \

46 
deföed
(
HAVE_FCNTL
Ë&& deföed(
HAVE_PIPE
Ë&& 
	$deföed
(
HAVE_FORK
)

47 
	#USE_ASYNC


	)

50 #i‡!
	`deföed
(
HAVE_ASSERT_H
)

51 #i‡
	`deföed
(
NDEBUG
)

52 
	#as£π
(
x
Ë

	)

54 
	#as£π
(
x
Ëdÿ{ i‡(!(x)Ë
	`ab‹t
(); 
	}
} 0)

	)

	@libmad/mad.h

23 #ifde‡
__˝lu•lus


27 
	#FPM_INTEL


	)

31 
	#SIZEOF_INT
 4

	)

32 
	#SIZEOF_LONG
 4

	)

33 
	#SIZEOF_LONG_LONG
 8

	)

38 #i‚de‡
LIBMAD_VERSION_H


39 
	#LIBMAD_VERSION_H


	)

41 
	#MAD_VERSION_MAJOR
 0

	)

42 
	#MAD_VERSION_MINOR
 15

	)

43 
	#MAD_VERSION_PATCH
 1

	)

44 
	#MAD_VERSION_EXTRA
 " (bëa)"

	)

46 
	#MAD_VERSION_STRINGIZE
(
°r
Ë#°r

	)

47 
	#MAD_VERSION_STRING
(
num
Ë
	`MAD_VERSION_STRINGIZE
“um)

	)

49 
	#MAD_VERSION
 
	`MAD_VERSION_STRING
(
MAD_VERSION_MAJOR
) "." \

50 
	`MAD_VERSION_STRING
(
MAD_VERSION_MINOR
) "." \

51 
	`MAD_VERSION_STRING
(
MAD_VERSION_PATCH
) \

52 
MAD_VERSION_EXTRA


	)

54 
	#MAD_PUBLISHYEAR
 "2000-2004"

	)

55 
	#MAD_AUTHOR
 "Undîbô Technﬁogõs, Inc."

	)

56 
	#MAD_EMAIL
 "öfo@undîbô.com"

	)

58 c⁄° 
mad_vîsi⁄
[];

59 c⁄° 
mad_c›yright
[];

60 c⁄° 
mad_auth‹
[];

61 c⁄° 
mad_buûd
[];

67 #i‚de‡
LIBMAD_FIXED_H


68 
	#LIBMAD_FIXED_H


	)

70 #i‡
SIZEOF_INT
 >= 4

71 sig√d 
	tmad_fixed_t
;

73 sig√d 
	tmad_fixed64hi_t
;

74 
	tmad_fixed64lo_t
;

76 sig√d 
	tmad_fixed_t
;

78 sig√d 
	tmad_fixed64hi_t
;

79 
	tmad_fixed64lo_t
;

82 #i‡
deföed
(
_MSC_VER
)

83 
	#mad_fixed64_t
 sig√d 
__öt64


	)

84 #ñi‡1 || 
deföed
(
__GNUC__
)

85 
	#mad_fixed64_t
 sig√d 

	)

88 #i‡
deföed
(
FPM_FLOAT
)

89 
	tmad_ßm∂e_t
;

91 
mad_fixed_t
 
	tmad_ßm∂e_t
;

117 
	#MAD_F_FRACBITS
 28

	)

119 #i‡
MAD_F_FRACBITS
 == 28

120 
	#MAD_F
(
x
Ë((
mad_fixed_t
Ë(x##
L
))

	)

122 #i‡
MAD_F_FRACBITS
 < 28

124 
	#MAD_F
(
x
Ë((
mad_fixed_t
) \

125 (((
x
##
L
) + \

126 (1L << (28 - 
MAD_F_FRACBITS
 - 1))) >> \

127 (28 - 
MAD_F_FRACBITS
)))

	)

128 #ñi‡
MAD_F_FRACBITS
 > 28

130 
	#MAD_F
(
x
Ë((
mad_fixed_t
) \

131 ((
x
##
L
Ë<< (
MAD_F_FRACBITS
 - 28)))

	)

135 
	#MAD_F_MIN
 ((
mad_fixed_t
Ë-0x80000000L)

	)

136 
	#MAD_F_MAX
 ((
mad_fixed_t
Ë+0x7fffffffL)

	)

138 
	#MAD_F_ONE
 
	`MAD_F
(0x10000000)

	)

140 
	#mad_f_tofixed
(
x
Ë((
mad_fixed_t
) \

141 ((
x
Ë* (Ë(1L << 
MAD_F_FRACBITS
Ë+ 0.5))

	)

142 
	#mad_f_todoubÀ
(
x
) (() \

143 ((
x
Ë/ (Ë(1L << 
MAD_F_FRACBITS
)))

	)

145 
	#mad_f_öç¨t
(
x
Ë((xË>> 
MAD_F_FRACBITS
)

	)

146 
	#mad_f_‰a˝¨t
(
x
Ë((xË& ((1L << 
MAD_F_FRACBITS
Ë- 1))

	)

149 
	#mad_f_‰omöt
(
x
Ë((xË<< 
MAD_F_FRACBITS
)

	)

151 
	#mad_f_add
(
x
, 
y
Ë((xË+ (y))

	)

152 
	#mad_f_sub
(
x
, 
y
Ë((xË- (y))

	)

154 #i‡
deföed
(
FPM_FLOAT
)

157 #unde‡
MAD_F


158 
	#MAD_F
(
x
Ë
	`mad_f_todoubÀ
(x)

	)

160 
	#mad_f_mul
(
x
, 
y
Ë((xË* (y))

	)

161 
	#mad_f_sˇÀ64


	)

163 #unde‡
ASO_ZEROCHECK


165 #ñi‡
deföed
(
FPM_64BIT
)

171 #i‡
deföed
(
OPT_ACCURACY
)

172 
	#mad_f_mul
(
x
, 
y
) \

173 ((
mad_fixed_t
) \

174 ((((
mad_fixed64_t
Ë(
x
Ë* (
y
)) + \

175 (1L << (
MAD_F_SCALEBITS
 - 1))Ë>> MAD_F_SCALEBITS))

	)

177 
	#mad_f_mul
(
x
, 
y
) \

178 ((
mad_fixed_t
Ë(((
mad_fixed64_t
Ë(
x
Ë* (
y
)Ë>> 
MAD_F_SCALEBITS
))

	)

181 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

185 #ñi‡
deföed
(
FPM_INTEL
)

187 #i‡
deföed
(
_MSC_VER
)

188 #¥agm®
w¨nög
(
push
)

189 #¥agm®
w¨nög
(
dißbÀ
: 4035)

190 
__f‹˚ölöe


191 
mad_fixed_t
 
mad_f_mul_ölöe
(mad_fixed_à
x
, mad_fixed_à
y
)

194 
	g‰acbôs
 = 
MAD_F_FRACBITS


197 
	g__asm
 {

198 
mov
 
	góx
, 
x


199 
imul
 
y


200 
shrd
 
	góx
, 
	gedx
, 
	g‰acbôs


205 #¥agm®
w¨nög
(
p›
)

207 
	#mad_f_mul
 
mad_f_mul_ölöe


	)

208 
	#mad_f_sˇÀ64


	)

214 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

215 
	`asm
 ("imull %3" \

216 : "˜" (
lo
), "=d" (
hi
) \

217 : "%a" (
x
), "rm" (
y
) \

218 : "cc")

	)

220 #i‡
deföed
(
OPT_ACCURACY
)

224 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

225 ({ 
mad_fixed64hi_t
 
__hi
; \

226 
mad_fixed64lo_t
 
__lo
; \

227 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

228 
	`asm
 ("addl %2,%0\n\t" \

230 : "Ùm" (
lo
), "Ùm" (
hi
) \

231 : "r" (
__lo
), "r" (
__hi
), "0" (
lo
), "1" (
hi
) \

233 })

	)

236 #i‡
deföed
(
OPT_ACCURACY
)

240 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

241 ({ 
mad_fixed64hi_t
 
__hi_
; \

242 
mad_fixed64lo_t
 
__lo_
; \

243 
mad_fixed_t
 
__ªsu…
; \

244 
	`asm
 ("addl %4,%2\n\t" \

246 : "Ùm" (
__lo_
), "Ùm" (
__hi_
) \

247 : "0" (
lo
), "1" (
hi
), \

248 "ú" (1L << (
MAD_F_SCALEBITS
 - 1)), "ir" (0) \

250 
	`asm
 ("shrdl %3,%2,%1" \

251 : "Ùm" (
__ªsu…
) \

252 : "0" (
__lo_
), "r" (
__hi_
), "I" (
MAD_F_SCALEBITS
) \

254 
__ªsu…
; \

255 })

	)

256 #ñi‡
deföed
(
OPT_INTEL
)

260 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

261 ({ 
mad_fixed_t
 
__ªsu…
; \

262 
	`asm
 ("shrl %3,%1\n\t" \

265 : "Ùm" (
__ªsu…
) \

266 : "0" (
lo
), "r" (
hi
), \

267 "I" (
MAD_F_SCALEBITS
), "I" (32 - MAD_F_SCALEBITS) \

269 
__ªsu…
; \

270 })

	)

272 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

273 ({ 
mad_fixed_t
 
__ªsu…
; \

274 
	`asm
 ("shrdl %3,%2,%1" \

275 : "Ùm" (
__ªsu…
) \

276 : "0" (
lo
), "r" (
hi
), "I" (
MAD_F_SCALEBITS
) \

278 
__ªsu…
; \

279 })

	)

282 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

287 #ñi‡
deföed
(
FPM_ARM
)

298 
	#mad_f_mul
(
x
, 
y
) \

299 ({ 
mad_fixed64hi_t
 
__hi
; \

300 
mad_fixed64lo_t
 
__lo
; \

301 
mad_fixed_t
 
__ªsu…
; \

302 
	`asm
 ("smull %0, %1, %3, %4\n\t" \

305 : "=&r" (
__lo
), "=&r" (
__hi
), "Ù" (
__ªsu…
) \

306 : "%r" (
x
), "r" (
y
), \

307 "M" (
MAD_F_SCALEBITS
), "M" (32 - MAD_F_SCALEBITS) \

309 
__ªsu…
; \

310 })

	)

313 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

314 
	`asm
 ("smull %0, %1, %2, %3" \

315 : "=&r" (
lo
), "=&r" (
hi
) \

316 : "%r" (
x
), "r" (
y
))

	)

318 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

319 
	`asm
 ("smlal %0, %1, %2, %3" \

320 : "+r" (
lo
), "+r" (
hi
) \

321 : "%r" (
x
), "r" (
y
))

	)

323 
	#MAD_F_MLN
(
hi
, 
lo
) \

324 
	`asm
 ("rsbs %0, %2, #0\n\t" \

326 : "Ù" (
lo
), "Ù" (
hi
) \

327 : "0" (
lo
), "1" (
hi
) \

328 : "cc")

	)

330 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

331 ({ 
mad_fixed_t
 
__ªsu…
; \

332 
	`asm
 ("movs %0, %1,Üsr %3\n\t" \

334 : "=&r" (
__ªsu…
) \

335 : "r" (
lo
), "r" (
hi
), \

336 "M" (
MAD_F_SCALEBITS
), "M" (32 - MAD_F_SCALEBITS) \

338 
__ªsu…
; \

339 })

	)

341 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

345 #ñi‡
deföed
(
FPM_MIPS
)

351 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

352 
	`asm
 ("mult %2,%3" \

353 : "ˆ" (
lo
), "=h" (
hi
) \

354 : "%r" (
x
), "r" (
y
))

	)

356 #i‡
deföed
(
HAVE_MADD_ASM
)

357 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

358 
	`asm
 ("madd %2,%3" \

359 : "+l" (
lo
), "+h" (
hi
) \

360 : "%r" (
x
), "r" (
y
))

	)

361 #ñi‡
deföed
(
HAVE_MADD16_ASM
)

366 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
) \

367 
	`asm
 ("mult %2,%3" \

368 : "ˆ" (
lo
), "=h" (
hi
) \

369 : "%r" ((
x
Ë>> 12), "r" ((
y
Ë>> 16))

	)

370 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

371 
	`asm
 ("madd16 %2,%3" \

372 : "+l" (
lo
), "+h" (
hi
) \

373 : "%r" ((
x
Ë>> 12), "r" ((
y
Ë>> 16))

	)

374 
	#MAD_F_MLZ
(
hi
, 
lo
Ë((
mad_fixed_t
Ë÷o))

	)

377 #i‡
deföed
(
OPT_SPEED
)

378 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

379 ((
mad_fixed_t
Ë((
hi
Ë<< (32 - 
MAD_F_SCALEBITS
)))

	)

380 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

385 #ñi‡
deföed
(
FPM_SPARC
)

391 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

392 
	`asm
 ("smul %2, %3, %0\n\t" \

394 : "Ù" (
lo
), "Ù" (
hi
) \

395 : "%r" (
x
), "rI" (
y
))

	)

399 #ñi‡
deföed
(
FPM_PPC
)

405 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

407 
	`asm
 ("mullw %0,%1,%2" \

408 : "Ù" (
lo
) \

409 : "%r" (
x
), "r" (
y
)); \

410 
	`asm
 ("mulhw %0,%1,%2" \

411 : "Ù" (
hi
) \

412 : "%r" (
x
), "r" (
y
)); \

414 0)

	)

416 #i‡
deföed
(
OPT_ACCURACY
)

420 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

421 ({ 
mad_fixed64hi_t
 
__hi
; \

422 
mad_fixed64lo_t
 
__lo
; \

423 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

424 
	`asm
 ("addc %0,%2,%3\n\t" \

426 : "Ù" (
lo
), "Ù" (
hi
) \

427 : "%r" (
lo
), "r" (
__lo
), \

428 "%r" (
hi
), "r" (
__hi
) \

430 })

	)

433 #i‡
deföed
(
OPT_ACCURACY
)

437 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

438 ({ 
mad_fixed_t
 
__ªsu…
, 
__round
; \

439 
	`asm
 ("rotrwi %0,%1,%2" \

440 : "Ù" (
__ªsu…
) \

441 : "r" (
lo
), "i" (
MAD_F_SCALEBITS
)); \

442 
	`asm
 ("extrwi %0,%1,1,0" \

443 : "Ù" (
__round
) \

444 : "r" (
__ªsu…
)); \

445 
	`asm
 ("insrwi %0,%1,%2,0" \

446 : "+r" (
__ªsu…
) \

447 : "r" (
hi
), "i" (
MAD_F_SCALEBITS
)); \

448 
	`asm
 ("add %0,%1,%2" \

449 : "Ù" (
__ªsu…
) \

450 : "%r" (
__ªsu…
), "r" (
__round
)); \

451 
__ªsu…
; \

452 })

	)

454 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

455 ({ 
mad_fixed_t
 
__ªsu…
; \

456 
	`asm
 ("rotrwi %0,%1,%2" \

457 : "Ù" (
__ªsu…
) \

458 : "r" (
lo
), "i" (
MAD_F_SCALEBITS
)); \

459 
	`asm
 ("insrwi %0,%1,%2,0" \

460 : "+r" (
__ªsu…
) \

461 : "r" (
hi
), "i" (
MAD_F_SCALEBITS
)); \

462 
__ªsu…
; \

463 })

	)

466 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

470 #ñi‡
deföed
(
FPM_DEFAULT
)

481 #i‡
deföed
(
OPT_SPEED
)

482 
	#mad_f_mul
(
x
, 
y
Ë(((xË>> 12Ë* ((yË>> 16))

	)

484 
	#mad_f_mul
(
x
, 
y
) ((((x) + (1L << 11)) >> 12) * \

485 (((
y
Ë+ (1L << 15)Ë>> 16))

	)

496 #i‡!
deföed
(
mad_f_mul
)

497 
	#mad_f_mul
(
x
, 
y
) \

498 ({ 
mad_fixed64hi_t
 
__hi
; \

499 
mad_fixed64lo_t
 
__lo
; \

500 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

501 
	`mad_f_sˇÀ64
(
__hi
, 
__lo
); \

502 })

	)

505 #i‡!
deföed
(
MAD_F_MLA
)

506 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË
	`mad_f_mul
((x), (y)))

	)

507 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË+
	`mad_f_mul
((x), (y)))

	)

508 
	#MAD_F_MLN
(
hi
, 
lo
Ë(÷oË-÷o))

	)

509 
	#MAD_F_MLZ
(
hi
, 
lo
Ë((Ë(hi), (
mad_fixed_t
Ë÷o))

	)

512 #i‡!
deföed
(
MAD_F_ML0
)

513 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
Ë
	`MAD_F_MLX
((hi), (lo), (x), (y))

	)

516 #i‡!
deföed
(
MAD_F_MLN
)

517 
	#MAD_F_MLN
(
hi
, 
lo
Ë((hiË(÷oË-÷o)Ë? ~(hiË: -(hi))

	)

520 #i‡!
deföed
(
MAD_F_MLZ
)

521 
	#MAD_F_MLZ
(
hi
, 
lo
Ë
	`mad_f_sˇÀ64
((hi), (lo))

	)

524 #i‡!
deföed
(
mad_f_sˇÀ64
)

525 #i‡
deföed
(
OPT_ACCURACY
)

526 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

527 ((((
mad_fixed_t
) \

528 (((
hi
Ë<< (32 - (
MAD_F_SCALEBITS
 - 1))) | \

529 ((
lo
Ë>> (
MAD_F_SCALEBITS
 - 1)))Ë+ 1Ë>> 1)

	)

531 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

532 ((
mad_fixed_t
) \

533 (((
hi
Ë<< (32 - 
MAD_F_SCALEBITS
)) | \

534 ((
lo
Ë>> 
MAD_F_SCALEBITS
)))

	)

536 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

541 
mad_fixed_t
 
mad_f_abs
(mad_fixed_t);

542 
mad_fixed_t
 
mad_f_div
(mad_fixed_t, mad_fixed_t);

548 #i‚de‡
LIBMAD_BIT_H


549 
	#LIBMAD_BIT_H


	)

551 
	smad_bô±r
 {

552 c⁄° *
	gbyã
;

553 
	gˇche
;

554 
	gÀ·
;

557 
mad_bô_öô
(
mad_bô±r
 *, const *);

559 
	#mad_bô_föish
(
bô±r
Ë

	)

561 
mad_bô_Àngth
(
mad_bô±r
 const *,

562 
mad_bô±r
 const *);

564 
	#mad_bô_bô¶e·
(
bô±r
Ë((bô±r)->
À·
)

	)

565 c⁄° *
mad_bô_√xtbyã
(
mad_bô±r
 const *);

567 
mad_bô_skù
(
mad_bô±r
 *, );

568 
mad_bô_ªad
(
mad_bô±r
 *, );

569 
mad_bô_wrôe
(
mad_bô±r
 *, , );

571 
mad_bô_¸c
(
mad_bô±r
, , );

577 #i‚de‡
LIBMAD_TIMER_H


578 
	#LIBMAD_TIMER_H


	)

581 sig√d 
	g£c⁄ds
;

582 
	g‰a˘i⁄
;

583 } 
	tmad_timî_t
;

585 
mad_timî_t
 c⁄° 
mad_timî_zîo
;

587 
	#MAD_TIMER_RESOLUTION
 352800000UL

	)

589 
	emad_unôs
 {

590 
	gMAD_UNITS_HOURS
 = -2,

591 
	gMAD_UNITS_MINUTES
 = -1,

592 
	gMAD_UNITS_SECONDS
 = 0,

596 
	gMAD_UNITS_DECISECONDS
 = 10,

597 
	gMAD_UNITS_CENTISECONDS
 = 100,

598 
	gMAD_UNITS_MILLISECONDS
 = 1000,

602 
	gMAD_UNITS_8000_HZ
 = 8000,

603 
	gMAD_UNITS_11025_HZ
 = 11025,

604 
	gMAD_UNITS_12000_HZ
 = 12000,

606 
	gMAD_UNITS_16000_HZ
 = 16000,

607 
	gMAD_UNITS_22050_HZ
 = 22050,

608 
	gMAD_UNITS_24000_HZ
 = 24000,

610 
	gMAD_UNITS_32000_HZ
 = 32000,

611 
	gMAD_UNITS_44100_HZ
 = 44100,

612 
	gMAD_UNITS_48000_HZ
 = 48000,

616 
	gMAD_UNITS_24_FPS
 = 24,

617 
	gMAD_UNITS_25_FPS
 = 25,

618 
	gMAD_UNITS_30_FPS
 = 30,

619 
	gMAD_UNITS_48_FPS
 = 48,

620 
	gMAD_UNITS_50_FPS
 = 50,

621 
	gMAD_UNITS_60_FPS
 = 60,

625 
	gMAD_UNITS_75_FPS
 = 75,

629 
	gMAD_UNITS_23_976_FPS
 = -24,

630 
	gMAD_UNITS_24_975_FPS
 = -25,

631 
	gMAD_UNITS_29_97_FPS
 = -30,

632 
	gMAD_UNITS_47_952_FPS
 = -48,

633 
	gMAD_UNITS_49_95_FPS
 = -50,

634 
	gMAD_UNITS_59_94_FPS
 = -60

637 
	#mad_timî_ª£t
(
timî
Ë((Ë(*—imîË
mad_timî_zîo
))

	)

639 
mad_timî_com∑ª
(
mad_timî_t
, mad_timer_t);

641 
	#mad_timî_sign
(
timî
Ë
	`mad_timî_com∑ª
(—imî), 
mad_timî_zîo
)

	)

643 
mad_timî_√g©e
(
mad_timî_t
 *);

644 
mad_timî_t
 
mad_timî_abs
(mad_timer_t);

646 
mad_timî_£t
(
mad_timî_t
 *, , , );

647 
mad_timî_add
(
mad_timî_t
 *, mad_timer_t);

648 
mad_timî_mu…ùly
(
mad_timî_t
 *, signed );

650 sig√d 
mad_timî_cou¡
(
mad_timî_t
, 
mad_unôs
);

651 
mad_timî_‰a˘i⁄
(
mad_timî_t
, );

652 
mad_timî_°rög
(
mad_timî_t
, *, const *,

653 
mad_unôs
, mad_units, );

659 #i‚de‡
LIBMAD_STREAM_H


660 
	#LIBMAD_STREAM_H


	)

663 
	#MAD_BUFFER_GUARD
 8

	)

664 
	#MAD_BUFFER_MDLEN
 (511 + 2048 + 
MAD_BUFFER_GUARD
)

	)

666 
	emad_îr‹
 {

667 
	gMAD_ERROR_NONE
 = 0x0000,

669 
	gMAD_ERROR_BUFLEN
 = 0x0001,

670 
	gMAD_ERROR_BUFPTR
 = 0x0002,

672 
	gMAD_ERROR_NOMEM
 = 0x0031,

674 
	gMAD_ERROR_LOSTSYNC
 = 0x0101,

675 
	gMAD_ERROR_BADLAYER
 = 0x0102,

676 
	gMAD_ERROR_BADBITRATE
 = 0x0103,

677 
	gMAD_ERROR_BADSAMPLERATE
 = 0x0104,

678 
	gMAD_ERROR_BADEMPHASIS
 = 0x0105,

680 
	gMAD_ERROR_BADCRC
 = 0x0201,

681 
	gMAD_ERROR_BADBITALLOC
 = 0x0211,

682 
	gMAD_ERROR_BADSCALEFACTOR
 = 0x0221,

683 
	gMAD_ERROR_BADMODE
 = 0x0222,

684 
	gMAD_ERROR_BADFRAMELEN
 = 0x0231,

685 
	gMAD_ERROR_BADBIGVALUES
 = 0x0232,

686 
	gMAD_ERROR_BADBLOCKTYPE
 = 0x0233,

687 
	gMAD_ERROR_BADSCFSI
 = 0x0234,

688 
	gMAD_ERROR_BADDATAPTR
 = 0x0235,

689 
	gMAD_ERROR_BADPART3LEN
 = 0x0236,

690 
	gMAD_ERROR_BADHUFFTABLE
 = 0x0237,

691 
	gMAD_ERROR_BADHUFFDATA
 = 0x0238,

692 
	gMAD_ERROR_BADSTEREO
 = 0x0239

695 
	#MAD_RECOVERABLE
(
îr‹
Ë(”º‹Ë& 0xff00)

	)

697 
	smad_°ªam
 {

698 c⁄° *
	gbuf„r
;

699 c⁄° *
	gbu„nd
;

700 
	gskùÀn
;

702 
	gsync
;

703 
	g‰ìøã
;

705 c⁄° *
	gthis_‰ame
;

706 c⁄° *
	g√xt_‰ame
;

707 
mad_bô±r
 
	g±r
;

709 
mad_bô±r
 
	g™c_±r
;

710 
	g™c_bôÀn
;

712 (*
	gmaö_d©a
)[
MAD_BUFFER_MDLEN
];

714 
	gmd_Àn
;

716 
	g›ti⁄s
;

717 
mad_îr‹
 
	gîr‹
;

721 
	gMAD_OPTION_IGNORECRC
 = 0x0001,

722 
	gMAD_OPTION_HALFSAMPLERATE
 = 0x0002

724 
MAD_OPTION_LEFTCHANNEL
 = 0x0010,

725 
	gMAD_OPTION_RIGHTCHANNEL
 = 0x0020,

726 
	gMAD_OPTION_SINGLECHANNEL
 = 0x0030

730 
mad_°ªam_öô
(
mad_°ªam
 *);

731 
mad_°ªam_föish
(
mad_°ªam
 *);

733 
	#mad_°ªam_›ti⁄s
(
°ªam
, 
›ts
) \

734 ((Ë((
°ªam
)->
›ti⁄s
 = (
›ts
)))

	)

736 
mad_°ªam_buf„r
(
mad_°ªam
 *,

738 
mad_°ªam_skù
(
mad_°ªam
 *, );

740 
mad_°ªam_sync
(
mad_°ªam
 *);

742 c⁄° *
mad_°ªam_îr‹°r
(
mad_°ªam
 const *);

748 #i‚de‡
LIBMAD_FRAME_H


749 
	#LIBMAD_FRAME_H


	)

752 
	emad_œyî
 {

753 
	gMAD_LAYER_I
 = 1,

754 
	gMAD_LAYER_II
 = 2,

755 
	gMAD_LAYER_III
 = 3

758 
	emad_mode
 {

759 
	gMAD_MODE_SINGLE_CHANNEL
 = 0,

760 
	gMAD_MODE_DUAL_CHANNEL
 = 1,

761 
	gMAD_MODE_JOINT_STEREO
 = 2,

762 
	gMAD_MODE_STEREO
 = 3

765 
	emad_emphasis
 {

766 
	gMAD_EMPHASIS_NONE
 = 0,

767 
	gMAD_EMPHASIS_50_15_US
 = 1,

768 
	gMAD_EMPHASIS_CCITT_J_17
 = 3,

769 
	gMAD_EMPHASIS_RESERVED
 = 2

772 
	smad_hódî
 {

773 
mad_œyî
 
	gœyî
;

774 
mad_mode
 
	gmode
;

775 
	gmode_exãnsi⁄
;

776 
mad_emphasis
 
	gemphasis
;

778 
	gbôøã
;

779 
	gßm∂î©e
;

781 
	g¸c_check
;

782 
	g¸c_èrgë
;

784 
	gÊags
;

785 
	g¥iv©e_bôs
;

787 
mad_timî_t
 
	gduøti⁄
;

790 
	smad_‰ame
 {

791 
mad_hódî
 
	ghódî
;

793 
	g›ti⁄s
;

795 
mad_fixed_t
 
	gsbßm∂e
[2][36][32];

796 
mad_fixed_t
 (*
ovîœp
)[2][32][18];

799 
	#MAD_NCHANNELS
(
hódî
Ë((hódî)->
mode
 ? 2 : 1)

	)

800 
	#MAD_NSBSAMPLES
(
hódî
) \

801 ((
hódî
)->
œyî
 =
MAD_LAYER_I
 ? 12 : \

802 (((
hódî
)->
œyî
 =
MAD_LAYER_III
 && \

803 ((
hódî
)->
Êags
 & 
MAD_FLAG_LSF_EXT
)Ë? 18 : 36))

	)

806 
	gMAD_FLAG_NPRIVATE_III
 = 0x0007,

807 
	gMAD_FLAG_INCOMPLETE
 = 0x0008,

809 
	gMAD_FLAG_PROTECTION
 = 0x0010,

810 
	gMAD_FLAG_COPYRIGHT
 = 0x0020,

811 
	gMAD_FLAG_ORIGINAL
 = 0x0040,

812 
	gMAD_FLAG_PADDING
 = 0x0080,

814 
	gMAD_FLAG_I_STEREO
 = 0x0100,

815 
	gMAD_FLAG_MS_STEREO
 = 0x0200,

816 
	gMAD_FLAG_FREEFORMAT
 = 0x0400,

818 
	gMAD_FLAG_LSF_EXT
 = 0x1000,

819 
	gMAD_FLAG_MC_EXT
 = 0x2000,

820 
	gMAD_FLAG_MPEG_2_5_EXT
 = 0x4000

824 
	gMAD_PRIVATE_HEADER
 = 0x0100,

825 
	gMAD_PRIVATE_III
 = 0x001f

828 
mad_hódî_öô
(
mad_hódî
 *);

830 
	#mad_hódî_föish
(
hódî
Ë

	)

832 
mad_hódî_decode
(
mad_hódî
 *, 
mad_°ªam
 *);

834 
mad_‰ame_öô
(
mad_‰ame
 *);

835 
mad_‰ame_föish
(
mad_‰ame
 *);

837 
mad_‰ame_decode
(
mad_‰ame
 *, 
mad_°ªam
 *);

839 
mad_‰ame_muã
(
mad_‰ame
 *);

845 #i‚de‡
LIBMAD_SYNTH_H


846 
	#LIBMAD_SYNTH_H


	)

849 
	smad_pcm
 {

850 
	gßm∂î©e
;

851 
	gch™√ls
;

852 
	gÀngth
;

853 
mad_fixed_t
 
	gßm∂es
[2][1152];

856 
	smad_sy¡h
 {

857 
mad_fixed_t
 
	gfûãr
[2][2][2][16][8];

860 
	gpha£
;

862 
mad_pcm
 
	gpcm
;

867 
	gMAD_PCM_CHANNEL_SINGLE
 = 0

872 
	gMAD_PCM_CHANNEL_DUAL_1
 = 0,

873 
	gMAD_PCM_CHANNEL_DUAL_2
 = 1

878 
	gMAD_PCM_CHANNEL_STEREO_LEFT
 = 0,

879 
	gMAD_PCM_CHANNEL_STEREO_RIGHT
 = 1

882 
mad_sy¡h_öô
(
mad_sy¡h
 *);

884 
	#mad_sy¡h_föish
(
sy¡h
Ë

	)

886 
mad_sy¡h_muã
(
mad_sy¡h
 *);

888 
mad_sy¡h_‰ame
(
mad_sy¡h
 *, 
mad_‰ame
 const *);

894 #i‚de‡
LIBMAD_DECODER_H


895 
	#LIBMAD_DECODER_H


	)

898 
	emad_decodî_mode
 {

899 
	gMAD_DECODER_MODE_SYNC
 = 0,

900 
	gMAD_DECODER_MODE_ASYNC


903 
	emad_Êow
 {

904 
	gMAD_FLOW_CONTINUE
 = 0x0000,

905 
	gMAD_FLOW_STOP
 = 0x0010,

906 
	gMAD_FLOW_BREAK
 = 0x0011,

907 
	gMAD_FLOW_IGNORE
 = 0x0020

910 
	smad_decodî
 {

911 
mad_decodî_mode
 
	gmode
;

913 
	g›ti⁄s
;

916 
	gpid
;

917 
	gö
;

918 
	gout
;

919 } 
	gasync
;

922 
mad_°ªam
 
	g°ªam
;

923 
mad_‰ame
 
	g‰ame
;

924 
mad_sy¡h
 
	gsy¡h
;

925 } *
	gsync
;

927 *
	gcb_d©a
;

929 
mad_Êow
 (*
öput_func
)(*, 
	gmad_°ªam
 *);

930 
mad_Êow
 (*
hódî_func
)(*, 
mad_hódî
 const *);

931 
mad_Êow
 (*
fûãr_func
)(*,

932 
mad_°ªam
 c⁄° *, 
	gmad_‰ame
 *);

933 
mad_Êow
 (*
ouçut_func
)(*,

934 
mad_hódî
 c⁄° *, 
	gmad_pcm
 *);

935 
mad_Êow
 (*
îr‹_func
)(*, 
	gmad_°ªam
 *, 
	gmad_‰ame
 *);

936 
mad_Êow
 (*
mesßge_func
)(*, *, *);

939 
mad_decodî_öô
(
mad_decodî
 *, *,

940 
mad_Êow
 (*)(*, 
mad_°ªam
 *),

941 
mad_Êow
 (*)(*, 
mad_hódî
 const *),

942 
mad_Êow
 (*)(*,

943 
mad_°ªam
 const *,

944 
mad_‰ame
 *),

945 
mad_Êow
 (*)(*,

946 
mad_hódî
 const *,

947 
mad_pcm
 *),

948 
mad_Êow
 (*)(*,

949 
mad_°ªam
 *,

950 
mad_‰ame
 *),

951 
mad_Êow
 (*)(*, *, *));

952 
mad_decodî_föish
(
mad_decodî
 *);

954 
	#mad_decodî_›ti⁄s
(
decodî
, 
›ts
) \

955 ((Ë((
decodî
)->
›ti⁄s
 = (
›ts
)))

	)

957 
mad_decodî_run
(
mad_decodî
 *, 
mad_decodî_mode
);

958 
mad_decodî_mesßge
(
mad_decodî
 *, *, *);

962 #ifde‡
__˝lu•lus


	@libmad/music_mad.c

23 
	~<°dio.h
>

24 
	~<°rög.h
>

25 
	~<°dlib.h
>

26 
	~"music_mad.h
"

28 
mad_d©a
 *

29 
	$mad_›íFûe
(c⁄° *
fûíame
, 
SDL_AudioS≥c
 *
mixî
) {

30 
SDL_RW›s
 *
rw
;

32 
rw
 = 
	`SDL_RWFromFûe
(
fûíame
, "rb");

33 i‡(
rw
 =
NULL
) {

34  
NULL
;

37  
	`mad_›íFûeRW
(
rw
, 
mixî
);

38 
	}
}

40 
mad_d©a
 *

41 
	$mad_›íFûeRW
(
SDL_RW›s
 *
rw
, 
SDL_AudioS≥c
 *
mixî
) {

42 
mad_d©a
 *
mp3_mad
;

44 
mp3_mad
 = (
mad_d©a
 *)
	`mÆloc
((mad_data));

45 
mp3_mad
->
rw
 =Ñw;

46 
	`mad_°ªam_öô
(&
mp3_mad
->
°ªam
);

47 
	`mad_‰ame_öô
(&
mp3_mad
->
‰ame
);

48 
	`mad_sy¡h_öô
(&
mp3_mad
->
sy¡h
);

49 
mp3_mad
->
‰ames_ªad
 = 0;

50 
	`mad_timî_ª£t
(&
mp3_mad
->
√xt_‰ame_°¨t
);

51 
mp3_mad
->
vﬁume
 = 128;

52 
mp3_mad
->
°©us
 = 0;

53 
mp3_mad
->
ouçut_begö
 = 0;

54 
mp3_mad
->
ouçut_íd
 = 0;

55 
mp3_mad
->
mixî
 = *mixer;

57  
mp3_mad
;

58 
	}
}

61 
	$mad_˛o£Fûe
(
mad_d©a
 *
mp3_mad
) {

62 
	`SDL_FªeRW
(
mp3_mad
->
rw
);

63 
	`mad_°ªam_föish
(&
mp3_mad
->
°ªam
);

64 
	`mad_‰ame_föish
(&
mp3_mad
->
‰ame
);

65 
	`mad_sy¡h_föish
(&
mp3_mad
->
sy¡h
);

67 
	`‰ì
(
mp3_mad
);

68 
	}
}

72 
	$mad_°¨t
(
mad_d©a
 *
mp3_mad
) {

73 
mp3_mad
->
°©us
 |
MS_∂ayög
;

74 
	}
}

78 
	$mad_°›
(
mad_d©a
 *
mp3_mad
) {

79 
mp3_mad
->
°©us
 &~
MS_∂ayög
;

80 
	}
}

84 
	$mad_isPœyög
(
mad_d©a
 *
mp3_mad
) {

85  ((
mp3_mad
->
°©us
 & 
MS_∂ayög
) != 0);

86 
	}
}

91 
	$ªad_√xt_‰ame
(
mad_d©a
 *
mp3_mad
) {

92 i‡(
mp3_mad
->
°ªam
.
buf„r
 =
NULL
 ||

93 
mp3_mad
->
°ªam
.
îr‹
 =
MAD_ERROR_BUFLEN
) {

94 
size_t
 
ªad_size
;

95 
size_t
 
ªmaöög
;

96 *
ªad_°¨t
;

101 i‡(
mp3_mad
->
°ªam
.
√xt_‰ame
 !
NULL
) {

102 
ªmaöög
 = 
mp3_mad
->
°ªam
.
bu„nd
 - mp3_mad->°ªam.
√xt_‰ame
;

103 
	`memmove
(
mp3_mad
->
öput_buf„r
, mp3_mad->
°ªam
.
√xt_‰ame
, 
ªmaöög
);

104 
ªad_°¨t
 = 
mp3_mad
->
öput_buf„r
 + 
ªmaöög
;

105 
ªad_size
 = 
MAD_INPUT_BUFFER_SIZE
 - 
ªmaöög
;

108 
ªad_size
 = 
MAD_INPUT_BUFFER_SIZE
;

109 
ªad_°¨t
 = 
mp3_mad
->
öput_buf„r
;

110 
ªmaöög
 = 0;

114 
ªad_size
 = 
	`SDL_RWªad
(
mp3_mad
->
rw
, 
ªad_°¨t
, 1,Ñead_size);

116 i‡(
ªad_size
 <= 0) {

117 i‡((
mp3_mad
->
°©us
 & (
MS_öput_eof
 | 
MS_öput_îr‹
)) == 0) {

118 i‡(
ªad_size
 == 0) {

119 
mp3_mad
->
°©us
 |
MS_öput_eof
;

121 
mp3_mad
->
°©us
 |
MS_öput_îr‹
;

126 
	`mem£t
(
ªad_°¨t
 + 
ªad_size
, 0, 
MAD_BUFFER_GUARD
);

127 
ªad_size
 +
MAD_BUFFER_GUARD
;

132 
	`mad_°ªam_buf„r
(&
mp3_mad
->
°ªam
, mp3_mad->
öput_buf„r
,

133 
ªad_size
 + 
ªmaöög
);

134 
mp3_mad
->
°ªam
.
îr‹
 = 
MAD_ERROR_NONE
;

139 i‡(
	`mad_‰ame_decode
(&
mp3_mad
->
‰ame
, &mp3_mad->
°ªam
)) {

140 i‡(
	`MAD_RECOVERABLE
(
mp3_mad
->
°ªam
.
îr‹
)) {

143 } i‡(
mp3_mad
->
°ªam
.
îr‹
 =
MAD_ERROR_BUFLEN
) {

147 
mp3_mad
->
°©us
 |
MS_decode_îr‹
;

152 
mp3_mad
->
‰ames_ªad
++;

153 
	`mad_timî_add
(&
mp3_mad
->
√xt_‰ame_°¨t
, mp3_mad->
‰ame
.
hódî
.
duøti⁄
);

156 
	}
}

160 
	$sˇÀ
(
mad_fixed_t
 
ßm∂e
) {

162 
ßm∂e
 +(1L << (
MAD_F_FRACBITS
 - 16));

165 i‡(
ßm∂e
 >
MAD_F_ONE
)

166 
ßm∂e
 = 
MAD_F_ONE
 - 1;

167 i‡(
ßm∂e
 < -
MAD_F_ONE
)

168 
ßm∂e
 = -
MAD_F_ONE
;

171  
ßm∂e
 >> (
MAD_F_FRACBITS
 + 1 - 16);

172 
	}
}

177 
	$decode_‰ame
(
mad_d©a
 *
mp3_mad
) {

178 
mad_pcm
 *
pcm
;

179 
nch™√ls
, 
nßm∂es
;

180 
mad_fixed_t
 c⁄° *
À·_ch
, *
right_ch
;

181 *
out
;

183 
	`mad_sy¡h_‰ame
(&
mp3_mad
->
sy¡h
, &mp3_mad->
‰ame
);

184 
pcm
 = &
mp3_mad
->
sy¡h
.pcm;

185 
out
 = 
mp3_mad
->
ouçut_buf„r
 + mp3_mad->
ouçut_íd
;

187 i‡((
mp3_mad
->
°©us
 & 
MS_cvt_decoded
) == 0) {

188 
mp3_mad
->
°©us
 |
MS_cvt_decoded
;

193 
	`SDL_BuûdAudioCVT
(&
mp3_mad
->
cvt
, 
AUDIO_S16
, (
Uöt8
)
pcm
->
ch™√ls
, mp3_mad->
‰ame
.
hódî
.
ßm∂î©e
, mp3_mad->
mixî
.
f‹m©
, mp3_mad->mixî.ch™√ls, mp3_mad->mixî.
‰eq
);

198 
nch™√ls
 = 
pcm
->
ch™√ls
;

199 
nßm∂es
 = 
pcm
->
Àngth
;

200 
À·_ch
 = 
pcm
->
ßm∂es
[0];

201 
right_ch
 = 
pcm
->
ßm∂es
[1];

203 
nßm∂es
--) {

204 sig√d 
ßm∂e
;

208 
ßm∂e
 = 
	`sˇÀ
(*
À·_ch
++);

209 *
out
++ = ((
ßm∂e
 >> 0) & 0xff);

210 *
out
++ = ((
ßm∂e
 >> 8) & 0xff);

212 i‡(
nch™√ls
 == 2) {

213 
ßm∂e
 = 
	`sˇÀ
(*
right_ch
++);

214 *
out
++ = ((
ßm∂e
 >> 0) & 0xff);

215 *
out
++ = ((
ßm∂e
 >> 8) & 0xff);

219 
mp3_mad
->
ouçut_íd
 = 
out
 - mp3_mad->
ouçut_buf„r
;

221 
	}
}

224 
	$mad_gëSam∂es
(
mad_d©a
 *
mp3_mad
, 
Uöt8
 *
°ªam
, 
Àn
) {

225 
byãs_ªmaöög
;

226 
num_byãs
;

227 
Uöt8
 *
out
;

229 i‡((
mp3_mad
->
°©us
 & 
MS_∂ayög
) == 0) {

231 
	`mem£t
(
°ªam
, 0, 
Àn
);

235 
out
 = 
°ªam
;

236 
byãs_ªmaöög
 = 
Àn
;

237 
byãs_ªmaöög
 > 0) {

238 i‡(
mp3_mad
->
ouçut_íd
 =mp3_mad->
ouçut_begö
) {

240 
mp3_mad
->
ouçut_begö
 = 0;

241 
mp3_mad
->
ouçut_íd
 = 0;

242 i‡(!
	`ªad_√xt_‰ame
(
mp3_mad
)) {

243 i‡((
mp3_mad
->
°©us
 & 
MS_îr‹_Êags
) != 0) {

246 
	`mem£t
(
out
, 0, 
byãs_ªmaöög
);

247 
mp3_mad
->
°©us
 &~
MS_∂ayög
;

251 
	`decode_‰ame
(
mp3_mad
);

255 
mp3_mad
->
cvt
.
buf
 = mp3_mad->
ouçut_buf„r
;

256 
mp3_mad
->
cvt
.
Àn
 = mp3_mad->
ouçut_íd
;

258 
mp3_mad
->
ouçut_íd
 = ()(mp3_mad->ouçut_íd * mp3_mad->
cvt
.
Àn_øtio
);

260 
	`SDL_C⁄vîtAudio
(&
mp3_mad
->
cvt
);

264 
num_byãs
 = 
mp3_mad
->
ouçut_íd
 - mp3_mad->
ouçut_begö
;

265 i‡(
byãs_ªmaöög
 < 
num_byãs
) {

266 
num_byãs
 = 
byãs_ªmaöög
;

269 i‡(
mp3_mad
->
vﬁume
 == 128) {

270 
	`mem˝y
(
out
, 
mp3_mad
->
ouçut_buf„r
 + mp3_mad->
ouçut_begö
, 
num_byãs
);

272 
	`SDL_MixAudio
(
out
, 
mp3_mad
->
ouçut_buf„r
 + mp3_mad->
ouçut_begö
,

273 
num_byãs
, 
mp3_mad
->
vﬁume
);

275 
out
 +
num_byãs
;

276 
mp3_mad
->
ouçut_begö
 +
num_byãs
;

277 
byãs_ªmaöög
 -
num_byãs
;

279 
	}
}

282 
	$mad_£ek
(
mad_d©a
 *
mp3_mad
, 
posôi⁄
) {

283 
mad_timî_t
 
èrgë
;

284 
öt_∑π
;

286 
öt_∑π
 = ()
posôi⁄
;

287 
	`mad_timî_£t
(&
èrgë
, 
öt_∑π
,

288 ()((
posôi⁄
 - 
öt_∑π
) * 1000000), 1000000);

290 i‡(
	`mad_timî_com∑ª
(
mp3_mad
->
√xt_‰ame_°¨t
, 
èrgë
) > 0) {

297 
mp3_mad
->
‰ames_ªad
 = 0;

298 
	`mad_timî_ª£t
(&
mp3_mad
->
√xt_‰ame_°¨t
);

299 
mp3_mad
->
°©us
 &~
MS_îr‹_Êags
;

300 
mp3_mad
->
ouçut_begö
 = 0;

301 
mp3_mad
->
ouçut_íd
 = 0;

303 
	`SDL_RW£ek
(
mp3_mad
->
rw
, 0, 
SEEK_SET
);

308 
	`mad_timî_com∑ª
(
mp3_mad
->
√xt_‰ame_°¨t
, 
èrgë
) < 0) {

309 i‡(!
	`ªad_√xt_‰ame
(
mp3_mad
)) {

310 i‡((
mp3_mad
->
°©us
 & 
MS_îr‹_Êags
) != 0) {

313 
mp3_mad
->
°©us
 &~
MS_∂ayög
;

323 
	}
}

326 
	$mad_£tVﬁume
(
mad_d©a
 *
mp3_mad
, 
vﬁume
) {

327 
mp3_mad
->
vﬁume
 = volume;

328 
	}
}

	@libmad/music_mad.h

23 
	~"mad.h
"

24 
	~"SDL_rw›s.h
"

25 
	~"SDL_audio.h
"

27 
	#MAD_INPUT_BUFFER_SIZE
 (5*8192)

	)

28 
	#MAD_OUTPUT_BUFFER_SIZE
 8192

	)

31 
	mMS_öput_eof
 = 0x0001,

32 
	mMS_öput_îr‹
 = 0x0001,

33 
	mMS_decode_eof
 = 0x0002,

34 
	mMS_decode_îr‹
 = 0x0004,

35 
	mMS_îr‹_Êags
 = 0x000f,

37 
	mMS_∂ayög
 = 0x0100,

38 
	mMS_cvt_decoded
 = 0x0200,

42 
SDL_RW›s
 *
	mrw
;

43 
mad_°ªam
 
	m°ªam
;

44 
mad_‰ame
 
	m‰ame
;

45 
mad_sy¡h
 
	msy¡h
;

46 
	m‰ames_ªad
;

47 
mad_timî_t
 
	m√xt_‰ame_°¨t
;

48 
	mvﬁume
;

49 
	m°©us
;

50 
	mouçut_begö
, 
	mouçut_íd
;

51 
SDL_AudioS≥c
 
	mmixî
;

52 
SDL_AudioCVT
 
	mcvt
;

54 
	möput_buf„r
[
MAD_INPUT_BUFFER_SIZE
 + 
MAD_BUFFER_GUARD
];

55 
	mouçut_buf„r
[
MAD_OUTPUT_BUFFER_SIZE
];

56 } 
	tmad_d©a
;

58 
mad_d©a
 *
mad_›íFûe
(c⁄° *
fûíame
, 
SDL_AudioS≥c
 *
mixî
);

59 
mad_d©a
 *
mad_›íFûeRW
(
SDL_RW›s
 *
rw
, 
SDL_AudioS≥c
 *
mixî
);

60 
mad_˛o£Fûe
(
mad_d©a
 *
mp3_mad
);

62 
mad_°¨t
(
mad_d©a
 *
mp3_mad
);

63 
mad_°›
(
mad_d©a
 *
mp3_mad
);

64 
mad_isPœyög
(
mad_d©a
 *
mp3_mad
);

66 
mad_gëSam∂es
(
mad_d©a
 *
mp3_mad
, 
Uöt8
 *
°ªam
, 
Àn
);

67 
mad_£ek
(
mad_d©a
 *
mp3_mad
, 
posôi⁄
);

68 
mad_£tVﬁume
(
mad_d©a
 *
mp3_mad
, 
vﬁume
);

	@libmad/stream.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 
	~<°dlib.h
>

28 
	~"bô.h
"

29 
	~"°ªam.h
"

35 
	$mad_°ªam_öô
(
mad_°ªam
 *
°ªam
)

37 
°ªam
->
buf„r
 = 0;

38 
°ªam
->
bu„nd
 = 0;

39 
°ªam
->
skùÀn
 = 0;

41 
°ªam
->
sync
 = 0;

42 
°ªam
->
‰ìøã
 = 0;

44 
°ªam
->
this_‰ame
 = 0;

45 
°ªam
->
√xt_‰ame
 = 0;

46 
	`mad_bô_öô
(&
°ªam
->
±r
, 0);

48 
	`mad_bô_öô
(&
°ªam
->
™c_±r
, 0);

49 
°ªam
->
™c_bôÀn
 = 0;

51 
°ªam
->
maö_d©a
 = 0;

52 
°ªam
->
md_Àn
 = 0;

54 
°ªam
->
›ti⁄s
 = 0;

55 
°ªam
->
îr‹
 = 
MAD_ERROR_NONE
;

56 
	}
}

62 
	$mad_°ªam_föish
(
mad_°ªam
 *
°ªam
)

64 i‡(
°ªam
->
maö_d©a
) {

65 
	`‰ì
(
°ªam
->
maö_d©a
);

66 
°ªam
->
maö_d©a
 = 0;

69 
	`mad_bô_föish
(&
°ªam
->
™c_±r
);

70 
	`mad_bô_föish
(&
°ªam
->
±r
);

71 
	}
}

77 
	$mad_°ªam_buf„r
(
mad_°ªam
 *
°ªam
,

78 c⁄° *
buf„r
, 
Àngth
)

80 
°ªam
->
buf„r
 = buffer;

81 
°ªam
->
bu„nd
 = 
buf„r
 + 
Àngth
;

83 
°ªam
->
this_‰ame
 = 
buf„r
;

84 
°ªam
->
√xt_‰ame
 = 
buf„r
;

86 
°ªam
->
sync
 = 1;

88 
	`mad_bô_öô
(&
°ªam
->
±r
, 
buf„r
);

89 
	}
}

95 
	$mad_°ªam_skù
(
mad_°ªam
 *
°ªam
, 
Àngth
)

97 
°ªam
->
skùÀn
 +
Àngth
;

98 
	}
}

104 
	$mad_°ªam_sync
(
mad_°ªam
 *
°ªam
)

106 c⁄° *
±r
, *
íd
;

108 
±r
 = 
	`mad_bô_√xtbyã
(&
°ªam
->ptr);

109 
íd
 = 
°ªam
->
bu„nd
;

111 
±r
 < 
íd
 - 1 &&

112 !(
±r
[0] == 0xff && (ptr[1] & 0xe0) == 0xe0))

113 ++
±r
;

115 i‡(
íd
 - 
±r
 < 
MAD_BUFFER_GUARD
)

118 
	`mad_bô_öô
(&
°ªam
->
±r
,Ötr);

121 
	}
}

127 c⁄° *
	$mad_°ªam_îr‹°r
(
mad_°ªam
 c⁄° *
°ªam
)

129 
°ªam
->
îr‹
) {

130 
MAD_ERROR_NONE
:  "noÉrror";

132 
MAD_ERROR_BUFLEN
:  "input bufferÅoo small (or EOF)";

133 
MAD_ERROR_BUFPTR
:  "invalid (null) bufferÖointer";

135 
MAD_ERROR_NOMEM
:  "notÉnough memory";

137 
MAD_ERROR_LOSTSYNC
:  "lost synchronization";

138 
MAD_ERROR_BADLAYER
:  "reserved headerÜayer value";

139 
MAD_ERROR_BADBITRATE
:  "forbidden bitrate value";

140 
MAD_ERROR_BADSAMPLERATE
:  "reserved sample frequency value";

141 
MAD_ERROR_BADEMPHASIS
:  "reservedÉmphasis value";

143 
MAD_ERROR_BADCRC
:  "CRC check failed";

144 
MAD_ERROR_BADBITALLOC
:  "forbidden bitállocation value";

145 
MAD_ERROR_BADSCALEFACTOR
:  "bad scalefactor index";

146 
MAD_ERROR_BADMODE
:  "bad bitrate/mode combination";

147 
MAD_ERROR_BADFRAMELEN
:  "bad frameÜength";

148 
MAD_ERROR_BADBIGVALUES
:  "bad big_values count";

149 
MAD_ERROR_BADBLOCKTYPE
:  "reserved block_type";

150 
MAD_ERROR_BADSCFSI
:  "bad scalefactor selection info";

151 
MAD_ERROR_BADDATAPTR
:  "bad main_data_beginÖointer";

152 
MAD_ERROR_BADPART3LEN
:  "badáudio dataÜength";

153 
MAD_ERROR_BADHUFFTABLE
:  "bad HuffmanÅable select";

154 
MAD_ERROR_BADHUFFDATA
:  "Huffman data overrun";

155 
MAD_ERROR_BADSTEREO
:  "incompatible block_type for JS";

159 
	}
}

	@libmad/stream.h

22 #i‚de‡
LIBMAD_STREAM_H


23 
	#LIBMAD_STREAM_H


	)

25 
	~"bô.h
"

27 
	#MAD_BUFFER_GUARD
 8

	)

28 
	#MAD_BUFFER_MDLEN
 (511 + 2048 + 
MAD_BUFFER_GUARD
)

	)

30 
	emad_îr‹
 {

31 
	mMAD_ERROR_NONE
 = 0x0000,

33 
	mMAD_ERROR_BUFLEN
 = 0x0001,

34 
	mMAD_ERROR_BUFPTR
 = 0x0002,

36 
	mMAD_ERROR_NOMEM
 = 0x0031,

38 
	mMAD_ERROR_LOSTSYNC
 = 0x0101,

39 
	mMAD_ERROR_BADLAYER
 = 0x0102,

40 
	mMAD_ERROR_BADBITRATE
 = 0x0103,

41 
	mMAD_ERROR_BADSAMPLERATE
 = 0x0104,

42 
	mMAD_ERROR_BADEMPHASIS
 = 0x0105,

44 
	mMAD_ERROR_BADCRC
 = 0x0201,

45 
	mMAD_ERROR_BADBITALLOC
 = 0x0211,

46 
	mMAD_ERROR_BADSCALEFACTOR
 = 0x0221,

47 
	mMAD_ERROR_BADMODE
 = 0x0222,

48 
	mMAD_ERROR_BADFRAMELEN
 = 0x0231,

49 
	mMAD_ERROR_BADBIGVALUES
 = 0x0232,

50 
	mMAD_ERROR_BADBLOCKTYPE
 = 0x0233,

51 
	mMAD_ERROR_BADSCFSI
 = 0x0234,

52 
	mMAD_ERROR_BADDATAPTR
 = 0x0235,

53 
	mMAD_ERROR_BADPART3LEN
 = 0x0236,

54 
	mMAD_ERROR_BADHUFFTABLE
 = 0x0237,

55 
	mMAD_ERROR_BADHUFFDATA
 = 0x0238,

56 
	mMAD_ERROR_BADSTEREO
 = 0x0239

59 
	#MAD_RECOVERABLE
(
îr‹
Ë(”º‹Ë& 0xff00)

	)

61 
	smad_°ªam
 {

62 c⁄° *
	mbuf„r
;

63 c⁄° *
	mbu„nd
;

64 
	mskùÀn
;

66 
	msync
;

67 
	m‰ìøã
;

69 c⁄° *
	mthis_‰ame
;

70 c⁄° *
	m√xt_‰ame
;

71 
mad_bô±r
 
	m±r
;

73 
mad_bô±r
 
	m™c_±r
;

74 
	m™c_bôÀn
;

76 (*
	mmaö_d©a
)[
MAD_BUFFER_MDLEN
];

78 
	mmd_Àn
;

80 
	m›ti⁄s
;

81 
mad_îr‹
 
	mîr‹
;

85 
	mMAD_OPTION_IGNORECRC
 = 0x0001,

86 
	mMAD_OPTION_HALFSAMPLERATE
 = 0x0002

88 
MAD_OPTION_LEFTCHANNEL
 = 0x0010,

89 
	mMAD_OPTION_RIGHTCHANNEL
 = 0x0020,

90 
	mMAD_OPTION_SINGLECHANNEL
 = 0x0030

94 
mad_°ªam_öô
(
mad_°ªam
 *);

95 
mad_°ªam_föish
(
mad_°ªam
 *);

97 
	#mad_°ªam_›ti⁄s
(
°ªam
, 
›ts
) \

98 ((Ë((
°ªam
)->
›ti⁄s
 = (
›ts
)))

	)

100 
mad_°ªam_buf„r
(
mad_°ªam
 *,

102 
mad_°ªam_skù
(
mad_°ªam
 *, );

104 
mad_°ªam_sync
(
mad_°ªam
 *);

106 c⁄° *
mad_°ªam_îr‹°r
(
mad_°ªam
 const *);

	@libmad/synth.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 
	~"fixed.h
"

27 
	~"‰ame.h
"

28 
	~"sy¡h.h
"

34 
	$mad_sy¡h_öô
(
mad_sy¡h
 *
sy¡h
)

36 
	`mad_sy¡h_muã
(
sy¡h
);

38 
sy¡h
->
pha£
 = 0;

40 
sy¡h
->
pcm
.
ßm∂î©e
 = 0;

41 
sy¡h
->
pcm
.
ch™√ls
 = 0;

42 
sy¡h
->
pcm
.
Àngth
 = 0;

43 
	}
}

49 
	$mad_sy¡h_muã
(
mad_sy¡h
 *
sy¡h
)

51 
ch
, 
s
, 
v
;

53 
ch
 = 0; ch < 2; ++ch) {

54 
s
 = 0; s < 16; ++s) {

55 
v
 = 0; v < 8; ++v) {

56 
sy¡h
->
fûãr
[
ch
][0][0][
s
][
v
] = synth->filter[ch][0][1][s][v] =

57 
sy¡h
->
fûãr
[
ch
][1][0][
s
][
v
] = synth->filter[ch][1][1][s][v] = 0;

61 
	}
}

89 #i‡
deföed
(
FPM_DEFAULT
Ë&& !deföed(
OPT_SSO
)

90 
	#OPT_SSO


	)

95 #i‡
deföed
(
OPT_SSO
)

96 
	#SHIFT
(
x
Ë(((xË+ (1L << 11)Ë>> 12)

	)

98 
	#SHIFT
(
x
Ë(x)

	)

103 #i‡
deföed
(
OPT_SPEED
Ë&& deföed(
MAD_F_MLX
)

104 
	#OPT_DCTO


	)

105 
	#MUL
(
x
, 
y
) \

106 ({ 
mad_fixed64hi_t
 
hi
; \

107 
mad_fixed64lo_t
 
lo
; \

108 
	`MAD_F_MLX
(
hi
, 
lo
, (
x
), (
y
)); \

109 
hi
 << (32 - 
MAD_F_SCALEBITS
 - 3); \

110 })

	)

112 #unde‡
OPT_DCTO


113 
	#MUL
(
x
, 
y
Ë
	`mad_f_mul
((x), (y))

	)

121 
	$d˘32
(
mad_fixed_t
 c⁄° 
ö
[32], 
¶Ÿ
,

122 
mad_fixed_t
 
lo
[16][8], mad_fixed_à
hi
[16][8])

124 
mad_fixed_t
 
t0
, 
t1
, 
t2
, 
t3
, 
t4
, 
t5
, 
t6
, 
t7
;

125 
mad_fixed_t
 
t8
, 
t9
, 
t10
, 
t11
, 
t12
, 
t13
, 
t14
, 
t15
;

126 
mad_fixed_t
 
t16
, 
t17
, 
t18
, 
t19
, 
t20
, 
t21
, 
t22
, 
t23
;

127 
mad_fixed_t
 
t24
, 
t25
, 
t26
, 
t27
, 
t28
, 
t29
, 
t30
, 
t31
;

128 
mad_fixed_t
 
t32
, 
t33
, 
t34
, 
t35
, 
t36
, 
t37
, 
t38
, 
t39
;

129 
mad_fixed_t
 
t40
, 
t41
, 
t42
, 
t43
, 
t44
, 
t45
, 
t46
, 
t47
;

130 
mad_fixed_t
 
t48
, 
t49
, 
t50
, 
t51
, 
t52
, 
t53
, 
t54
, 
t55
;

131 
mad_fixed_t
 
t56
, 
t57
, 
t58
, 
t59
, 
t60
, 
t61
, 
t62
, 
t63
;

132 
mad_fixed_t
 
t64
, 
t65
, 
t66
, 
t67
, 
t68
, 
t69
, 
t70
, 
t71
;

133 
mad_fixed_t
 
t72
, 
t73
, 
t74
, 
t75
, 
t76
, 
t77
, 
t78
, 
t79
;

134 
mad_fixed_t
 
t80
, 
t81
, 
t82
, 
t83
, 
t84
, 
t85
, 
t86
, 
t87
;

135 
mad_fixed_t
 
t88
, 
t89
, 
t90
, 
t91
, 
t92
, 
t93
, 
t94
, 
t95
;

136 
mad_fixed_t
 
t96
, 
t97
, 
t98
, 
t99
, 
t100
, 
t101
, 
t102
, 
t103
;

137 
mad_fixed_t
 
t104
, 
t105
, 
t106
, 
t107
, 
t108
, 
t109
, 
t110
, 
t111
;

138 
mad_fixed_t
 
t112
, 
t113
, 
t114
, 
t115
, 
t116
, 
t117
, 
t118
, 
t119
;

139 
mad_fixed_t
 
t120
, 
t121
, 
t122
, 
t123
, 
t124
, 
t125
, 
t126
, 
t127
;

140 
mad_fixed_t
 
t128
, 
t129
, 
t130
, 
t131
, 
t132
, 
t133
, 
t134
, 
t135
;

141 
mad_fixed_t
 
t136
, 
t137
, 
t138
, 
t139
, 
t140
, 
t141
, 
t142
, 
t143
;

142 
mad_fixed_t
 
t144
, 
t145
, 
t146
, 
t147
, 
t148
, 
t149
, 
t150
, 
t151
;

143 
mad_fixed_t
 
t152
, 
t153
, 
t154
, 
t155
, 
t156
, 
t157
, 
t158
, 
t159
;

144 
mad_fixed_t
 
t160
, 
t161
, 
t162
, 
t163
, 
t164
, 
t165
, 
t166
, 
t167
;

145 
mad_fixed_t
 
t168
, 
t169
, 
t170
, 
t171
, 
t172
, 
t173
, 
t174
, 
t175
;

146 
mad_fixed_t
 
t176
;

150 #i‡
	`deföed
(
OPT_DCTO
)

151 
	#co°ab1
 
	`MAD_F
(0x7fd8878e)

	)

152 
	#co°ab2
 
	`MAD_F
(0x7f62368f)

	)

153 
	#co°ab3
 
	`MAD_F
(0x7e9d55fc)

	)

154 
	#co°ab4
 
	`MAD_F
(0x7d8a5f40)

	)

155 
	#co°ab5
 
	`MAD_F
(0x7c29fbì)

	)

156 
	#co°ab6
 
	`MAD_F
(0x7a7d055b)

	)

157 
	#co°ab7
 
	`MAD_F
(0x78848414)

	)

158 
	#co°ab8
 
	`MAD_F
(0x7641af3d)

	)

159 
	#co°ab9
 
	`MAD_F
(0x73b5ebd1)

	)

160 
	#co°ab10
 
	`MAD_F
(0x70e2cbc6)

	)

161 
	#co°ab11
 
	`MAD_F
(0x6dˇ0d14)

	)

162 
	#co°ab12
 
	`MAD_F
(0x6a6d98a4)

	)

163 
	#co°ab13
 
	`MAD_F
(0x66cf8120)

	)

164 
	#co°ab14
 
	`MAD_F
(0x62f201ac)

	)

165 
	#co°ab15
 
	`MAD_F
(0x5ed77c8a)

	)

166 
	#co°ab16
 
	`MAD_F
(0x5a82799a)

	)

167 
	#co°ab17
 
	`MAD_F
(0x55f5a4d2)

	)

168 
	#co°ab18
 
	`MAD_F
(0x5133cc94)

	)

169 
	#co°ab19
 
	`MAD_F
(0x4c3fdff4)

	)

170 
	#co°ab20
 
	`MAD_F
(0x471˚˚7)

	)

171 
	#co°ab21
 
	`MAD_F
(0x41˚1e65)

	)

172 
	#co°ab22
 
	`MAD_F
(0x3c56ba70)

	)

173 
	#co°ab23
 
	`MAD_F
(0x36ba2014)

	)

174 
	#co°ab24
 
	`MAD_F
(0x30fbc54d)

	)

175 
	#co°ab25
 
	`MAD_F
(0x2b1f34eb)

	)

176 
	#co°ab26
 
	`MAD_F
(0x25280c5e)

	)

177 
	#co°ab27
 
	`MAD_F
(0x1f19f97b)

	)

178 
	#co°ab28
 
	`MAD_F
(0x18f8b83c)

	)

179 
	#co°ab29
 
	`MAD_F
(0x12c8106f)

	)

180 
	#co°ab30
 
	`MAD_F
(0x0c8bd35e)

	)

181 
	#co°ab31
 
	`MAD_F
(0x0647d97c)

	)

183 
	#co°ab1
 
	`MAD_F
(0x0ffb10f2Ë

	)

184 
	#co°ab2
 
	`MAD_F
(0x0„c46d2Ë

	)

185 
	#co°ab3
 
	`MAD_F
(0x0fd3Øc0Ë

	)

186 
	#co°ab4
 
	`MAD_F
(0x0fb14be8Ë

	)

187 
	#co°ab5
 
	`MAD_F
(0x0f853f7eË

	)

188 
	#co°ab6
 
	`MAD_F
(0x0f4Á0abË

	)

189 
	#co°ab7
 
	`MAD_F
(0x0f109082Ë

	)

190 
	#co°ab8
 
	`MAD_F
(0x0ec835e8Ë

	)

191 
	#co°ab9
 
	`MAD_F
(0x0e76bd7aË

	)

192 
	#co°ab10
 
	`MAD_F
(0x0e1c5979Ë

	)

193 
	#co°ab11
 
	`MAD_F
(0x0db941a3Ë

	)

194 
	#co°ab12
 
	`MAD_F
(0x0d4db315Ë

	)

195 
	#co°ab13
 
	`MAD_F
(0x0cd9f024Ë

	)

196 
	#co°ab14
 
	`MAD_F
(0x0c5e4036Ë

	)

197 
	#co°ab15
 
	`MAD_F
(0x0bd´f91Ë

	)

198 
	#co°ab16
 
	`MAD_F
(0x0b504f33Ë

	)

199 
	#co°ab17
 
	`MAD_F
(0x0abeb49aË

	)

200 
	#co°ab18
 
	`MAD_F
(0x0a267993Ë

	)

201 
	#co°ab19
 
	`MAD_F
(0x0987fb„Ë

	)

202 
	#co°ab20
 
	`MAD_F
(0x08e39d9dË

	)

203 
	#co°ab21
 
	`MAD_F
(0x0839c3cdË

	)

204 
	#co°ab22
 
	`MAD_F
(0x078ad74eË

	)

205 
	#co°ab23
 
	`MAD_F
(0x06d74402Ë

	)

206 
	#co°ab24
 
	`MAD_F
(0x061f78ØË

	)

207 
	#co°ab25
 
	`MAD_F
(0x0563e69dË

	)

208 
	#co°ab26
 
	`MAD_F
(0x04a5018cË

	)

209 
	#co°ab27
 
	`MAD_F
(0x03e33f2fË

	)

210 
	#co°ab28
 
	`MAD_F
(0x031f1708Ë

	)

211 
	#co°ab29
 
	`MAD_F
(0x0259020eË

	)

212 
	#co°ab30
 
	`MAD_F
(0x01917a6cË

	)

213 
	#co°ab31
 
	`MAD_F
(0x00c8fb30Ë

	)

216 
t0
 = 
ö
[0] + in[31]; 
t16
 = 
	`MUL
(ö[0] - in[31], 
co°ab1
);

217 
t1
 = 
ö
[15] + in[16]; 
t17
 = 
	`MUL
(ö[15] - in[16], 
co°ab31
);

219 
t41
 = 
t16
 + 
t17
;

220 
t59
 = 
	`MUL
(
t16
 - 
t17
, 
co°ab2
);

221 
t33
 = 
t0
 + 
t1
;

222 
t50
 = 
	`MUL
(
t0
 - 
t1
, 
co°ab2
);

224 
t2
 = 
ö
[7] + in[24]; 
t18
 = 
	`MUL
(ö[7] - in[24], 
co°ab15
);

225 
t3
 = 
ö
[8] + in[23]; 
t19
 = 
	`MUL
(ö[8] - in[23], 
co°ab17
);

227 
t42
 = 
t18
 + 
t19
;

228 
t60
 = 
	`MUL
(
t18
 - 
t19
, 
co°ab30
);

229 
t34
 = 
t2
 + 
t3
;

230 
t51
 = 
	`MUL
(
t2
 - 
t3
, 
co°ab30
);

232 
t4
 = 
ö
[3] + in[28]; 
t20
 = 
	`MUL
(ö[3] - in[28], 
co°ab7
);

233 
t5
 = 
ö
[12] + in[19]; 
t21
 = 
	`MUL
(ö[12] - in[19], 
co°ab25
);

235 
t43
 = 
t20
 + 
t21
;

236 
t61
 = 
	`MUL
(
t20
 - 
t21
, 
co°ab14
);

237 
t35
 = 
t4
 + 
t5
;

238 
t52
 = 
	`MUL
(
t4
 - 
t5
, 
co°ab14
);

240 
t6
 = 
ö
[4] + in[27]; 
t22
 = 
	`MUL
(ö[4] - in[27], 
co°ab9
);

241 
t7
 = 
ö
[11] + in[20]; 
t23
 = 
	`MUL
(ö[11] - in[20], 
co°ab23
);

243 
t44
 = 
t22
 + 
t23
;

244 
t62
 = 
	`MUL
(
t22
 - 
t23
, 
co°ab18
);

245 
t36
 = 
t6
 + 
t7
;

246 
t53
 = 
	`MUL
(
t6
 - 
t7
, 
co°ab18
);

248 
t8
 = 
ö
[1] + in[30]; 
t24
 = 
	`MUL
(ö[1] - in[30], 
co°ab3
);

249 
t9
 = 
ö
[14] + in[17]; 
t25
 = 
	`MUL
(ö[14] - in[17], 
co°ab29
);

251 
t45
 = 
t24
 + 
t25
;

252 
t63
 = 
	`MUL
(
t24
 - 
t25
, 
co°ab6
);

253 
t37
 = 
t8
 + 
t9
;

254 
t54
 = 
	`MUL
(
t8
 - 
t9
, 
co°ab6
);

256 
t10
 = 
ö
[6] + in[25]; 
t26
 = 
	`MUL
(ö[6] - in[25], 
co°ab13
);

257 
t11
 = 
ö
[9] + in[22]; 
t27
 = 
	`MUL
(ö[9] - in[22], 
co°ab19
);

259 
t46
 = 
t26
 + 
t27
;

260 
t64
 = 
	`MUL
(
t26
 - 
t27
, 
co°ab26
);

261 
t38
 = 
t10
 + 
t11
;

262 
t55
 = 
	`MUL
(
t10
 - 
t11
, 
co°ab26
);

264 
t12
 = 
ö
[2] + in[29]; 
t28
 = 
	`MUL
(ö[2] - in[29], 
co°ab5
);

265 
t13
 = 
ö
[13] + in[18]; 
t29
 = 
	`MUL
(ö[13] - in[18], 
co°ab27
);

267 
t47
 = 
t28
 + 
t29
;

268 
t65
 = 
	`MUL
(
t28
 - 
t29
, 
co°ab10
);

269 
t39
 = 
t12
 + 
t13
;

270 
t56
 = 
	`MUL
(
t12
 - 
t13
, 
co°ab10
);

272 
t14
 = 
ö
[5] + in[26]; 
t30
 = 
	`MUL
(ö[5] - in[26], 
co°ab11
);

273 
t15
 = 
ö
[10] + in[21]; 
t31
 = 
	`MUL
(ö[10] - in[21], 
co°ab21
);

275 
t48
 = 
t30
 + 
t31
;

276 
t66
 = 
	`MUL
(
t30
 - 
t31
, 
co°ab22
);

277 
t40
 = 
t14
 + 
t15
;

278 
t57
 = 
	`MUL
(
t14
 - 
t15
, 
co°ab22
);

280 
t69
 = 
t33
 + 
t34
; 
t89
 = 
	`MUL
—33 -Å34, 
co°ab4
);

281 
t70
 = 
t35
 + 
t36
; 
t90
 = 
	`MUL
—35 -Å36, 
co°ab28
);

282 
t71
 = 
t37
 + 
t38
; 
t91
 = 
	`MUL
—37 -Å38, 
co°ab12
);

283 
t72
 = 
t39
 + 
t40
; 
t92
 = 
	`MUL
—39 -Å40, 
co°ab20
);

284 
t73
 = 
t41
 + 
t42
; 
t94
 = 
	`MUL
—41 -Å42, 
co°ab4
);

285 
t74
 = 
t43
 + 
t44
; 
t95
 = 
	`MUL
—43 -Å44, 
co°ab28
);

286 
t75
 = 
t45
 + 
t46
; 
t96
 = 
	`MUL
—45 -Å46, 
co°ab12
);

287 
t76
 = 
t47
 + 
t48
; 
t97
 = 
	`MUL
—47 -Å48, 
co°ab20
);

289 
t78
 = 
t50
 + 
t51
; 
t100
 = 
	`MUL
—50 -Å51, 
co°ab4
);

290 
t79
 = 
t52
 + 
t53
; 
t101
 = 
	`MUL
—52 -Å53, 
co°ab28
);

291 
t80
 = 
t54
 + 
t55
; 
t102
 = 
	`MUL
—54 -Å55, 
co°ab12
);

292 
t81
 = 
t56
 + 
t57
; 
t103
 = 
	`MUL
—56 -Å57, 
co°ab20
);

294 
t83
 = 
t59
 + 
t60
; 
t106
 = 
	`MUL
—59 -Å60, 
co°ab4
);

295 
t84
 = 
t61
 + 
t62
; 
t107
 = 
	`MUL
—61 -Å62, 
co°ab28
);

296 
t85
 = 
t63
 + 
t64
; 
t108
 = 
	`MUL
—63 -Å64, 
co°ab12
);

297 
t86
 = 
t65
 + 
t66
; 
t109
 = 
	`MUL
—65 -Å66, 
co°ab20
);

299 
t113
 = 
t69
 + 
t70
;

300 
t114
 = 
t71
 + 
t72
;

302  
hi
[15][
¶Ÿ
] = 
	`SHIFT
(
t113
 + 
t114
);

303  
lo
[ 0][
¶Ÿ
] = 
	`SHIFT
(
	`MUL
(
t113
 - 
t114
, 
co°ab16
));

305 
t115
 = 
t73
 + 
t74
;

306 
t116
 = 
t75
 + 
t76
;

308 
t32
 = 
t115
 + 
t116
;

310  
hi
[14][
¶Ÿ
] = 
	`SHIFT
(
t32
);

312 
t118
 = 
t78
 + 
t79
;

313 
t119
 = 
t80
 + 
t81
;

315 
t58
 = 
t118
 + 
t119
;

317  
hi
[13][
¶Ÿ
] = 
	`SHIFT
(
t58
);

319 
t121
 = 
t83
 + 
t84
;

320 
t122
 = 
t85
 + 
t86
;

322 
t67
 = 
t121
 + 
t122
;

324 
t49
 = (
t67
 * 2Ë- 
t32
;

326  
hi
[12][
¶Ÿ
] = 
	`SHIFT
(
t49
);

328 
t125
 = 
t89
 + 
t90
;

329 
t126
 = 
t91
 + 
t92
;

331 
t93
 = 
t125
 + 
t126
;

333  
hi
[11][
¶Ÿ
] = 
	`SHIFT
(
t93
);

335 
t128
 = 
t94
 + 
t95
;

336 
t129
 = 
t96
 + 
t97
;

338 
t98
 = 
t128
 + 
t129
;

340 
t68
 = (
t98
 * 2Ë- 
t49
;

342  
hi
[10][
¶Ÿ
] = 
	`SHIFT
(
t68
);

344 
t132
 = 
t100
 + 
t101
;

345 
t133
 = 
t102
 + 
t103
;

347 
t104
 = 
t132
 + 
t133
;

349 
t82
 = (
t104
 * 2Ë- 
t58
;

351  
hi
[ 9][
¶Ÿ
] = 
	`SHIFT
(
t82
);

353 
t136
 = 
t106
 + 
t107
;

354 
t137
 = 
t108
 + 
t109
;

356 
t110
 = 
t136
 + 
t137
;

358 
t87
 = (
t110
 * 2Ë- 
t67
;

360 
t77
 = (
t87
 * 2Ë- 
t68
;

362  
hi
[ 8][
¶Ÿ
] = 
	`SHIFT
(
t77
);

364 
t141
 = 
	`MUL
(
t69
 - 
t70
, 
co°ab8
);

365 
t142
 = 
	`MUL
(
t71
 - 
t72
, 
co°ab24
);

366 
t143
 = 
t141
 + 
t142
;

368  
hi
[ 7][
¶Ÿ
] = 
	`SHIFT
(
t143
);

369  
lo
[ 8][
¶Ÿ
] =

370 
	`SHIFT
((
	`MUL
(
t141
 - 
t142
, 
co°ab16
Ë* 2Ë- 
t143
);

372 
t144
 = 
	`MUL
(
t73
 - 
t74
, 
co°ab8
);

373 
t145
 = 
	`MUL
(
t75
 - 
t76
, 
co°ab24
);

374 
t146
 = 
t144
 + 
t145
;

376 
t88
 = (
t146
 * 2Ë- 
t77
;

378  
hi
[ 6][
¶Ÿ
] = 
	`SHIFT
(
t88
);

380 
t148
 = 
	`MUL
(
t78
 - 
t79
, 
co°ab8
);

381 
t149
 = 
	`MUL
(
t80
 - 
t81
, 
co°ab24
);

382 
t150
 = 
t148
 + 
t149
;

384 
t105
 = (
t150
 * 2Ë- 
t82
;

386  
hi
[ 5][
¶Ÿ
] = 
	`SHIFT
(
t105
);

388 
t152
 = 
	`MUL
(
t83
 - 
t84
, 
co°ab8
);

389 
t153
 = 
	`MUL
(
t85
 - 
t86
, 
co°ab24
);

390 
t154
 = 
t152
 + 
t153
;

392 
t111
 = (
t154
 * 2Ë- 
t87
;

394 
t99
 = (
t111
 * 2Ë- 
t88
;

396  
hi
[ 4][
¶Ÿ
] = 
	`SHIFT
(
t99
);

398 
t157
 = 
	`MUL
(
t89
 - 
t90
, 
co°ab8
);

399 
t158
 = 
	`MUL
(
t91
 - 
t92
, 
co°ab24
);

400 
t159
 = 
t157
 + 
t158
;

402 
t127
 = (
t159
 * 2Ë- 
t93
;

404  
hi
[ 3][
¶Ÿ
] = 
	`SHIFT
(
t127
);

406 
t160
 = (
	`MUL
(
t125
 - 
t126
, 
co°ab16
Ë* 2Ë- 
t127
;

408  
lo
[ 4][
¶Ÿ
] = 
	`SHIFT
(
t160
);

409  
lo
[12][
¶Ÿ
] =

410 
	`SHIFT
((((
	`MUL
(
t157
 - 
t158
, 
co°ab16
Ë* 2Ë- 
t159
Ë* 2Ë- 
t160
);

412 
t161
 = 
	`MUL
(
t94
 - 
t95
, 
co°ab8
);

413 
t162
 = 
	`MUL
(
t96
 - 
t97
, 
co°ab24
);

414 
t163
 = 
t161
 + 
t162
;

416 
t130
 = (
t163
 * 2Ë- 
t98
;

418 
t112
 = (
t130
 * 2Ë- 
t99
;

420  
hi
[ 2][
¶Ÿ
] = 
	`SHIFT
(
t112
);

422 
t164
 = (
	`MUL
(
t128
 - 
t129
, 
co°ab16
Ë* 2Ë- 
t130
;

424 
t166
 = 
	`MUL
(
t100
 - 
t101
, 
co°ab8
);

425 
t167
 = 
	`MUL
(
t102
 - 
t103
, 
co°ab24
);

426 
t168
 = 
t166
 + 
t167
;

428 
t134
 = (
t168
 * 2Ë- 
t104
;

430 
t120
 = (
t134
 * 2Ë- 
t105
;

432  
hi
[ 1][
¶Ÿ
] = 
	`SHIFT
(
t120
);

434 
t135
 = (
	`MUL
(
t118
 - 
t119
, 
co°ab16
Ë* 2Ë- 
t120
;

436  
lo
[ 2][
¶Ÿ
] = 
	`SHIFT
(
t135
);

438 
t169
 = (
	`MUL
(
t132
 - 
t133
, 
co°ab16
Ë* 2Ë- 
t134
;

440 
t151
 = (
t169
 * 2Ë- 
t135
;

442  
lo
[ 6][
¶Ÿ
] = 
	`SHIFT
(
t151
);

444 
t170
 = (((
	`MUL
(
t148
 - 
t149
, 
co°ab16
Ë* 2Ë- 
t150
Ë* 2Ë- 
t151
;

446  
lo
[10][
¶Ÿ
] = 
	`SHIFT
(
t170
);

447  
lo
[14][
¶Ÿ
] =

448 
	`SHIFT
((((((
	`MUL
(
t166
 - 
t167
, 
co°ab16
) * 2) -

449 
t168
Ë* 2Ë- 
t169
Ë* 2Ë- 
t170
);

451 
t171
 = 
	`MUL
(
t106
 - 
t107
, 
co°ab8
);

452 
t172
 = 
	`MUL
(
t108
 - 
t109
, 
co°ab24
);

453 
t173
 = 
t171
 + 
t172
;

455 
t138
 = (
t173
 * 2Ë- 
t110
;

457 
t123
 = (
t138
 * 2Ë- 
t111
;

459 
t139
 = (
	`MUL
(
t121
 - 
t122
, 
co°ab16
Ë* 2Ë- 
t123
;

461 
t117
 = (
t123
 * 2Ë- 
t112
;

463  
hi
[ 0][
¶Ÿ
] = 
	`SHIFT
(
t117
);

465 
t124
 = (
	`MUL
(
t115
 - 
t116
, 
co°ab16
Ë* 2Ë- 
t117
;

467  
lo
[ 1][
¶Ÿ
] = 
	`SHIFT
(
t124
);

469 
t131
 = (
t139
 * 2Ë- 
t124
;

471  
lo
[ 3][
¶Ÿ
] = 
	`SHIFT
(
t131
);

473 
t140
 = (
t164
 * 2Ë- 
t131
;

475  
lo
[ 5][
¶Ÿ
] = 
	`SHIFT
(
t140
);

477 
t174
 = (
	`MUL
(
t136
 - 
t137
, 
co°ab16
Ë* 2Ë- 
t138
;

479 
t155
 = (
t174
 * 2Ë- 
t139
;

481 
t147
 = (
t155
 * 2Ë- 
t140
;

483  
lo
[ 7][
¶Ÿ
] = 
	`SHIFT
(
t147
);

485 
t156
 = (((
	`MUL
(
t144
 - 
t145
, 
co°ab16
Ë* 2Ë- 
t146
Ë* 2Ë- 
t147
;

487  
lo
[ 9][
¶Ÿ
] = 
	`SHIFT
(
t156
);

489 
t175
 = (((
	`MUL
(
t152
 - 
t153
, 
co°ab16
Ë* 2Ë- 
t154
Ë* 2Ë- 
t155
;

491 
t165
 = (
t175
 * 2Ë- 
t156
;

493  
lo
[11][
¶Ÿ
] = 
	`SHIFT
(
t165
);

495 
t176
 = (((((
	`MUL
(
t161
 - 
t162
, 
co°ab16
) * 2) -

496 
t163
Ë* 2Ë- 
t164
Ë* 2Ë- 
t165
;

498  
lo
[13][
¶Ÿ
] = 
	`SHIFT
(
t176
);

499  
lo
[15][
¶Ÿ
] =

500 
	`SHIFT
((((((((
	`MUL
(
t171
 - 
t172
, 
co°ab16
) * 2) -

501 
t173
Ë* 2Ë- 
t174
Ë* 2Ë- 
t175
Ë* 2Ë- 
t176
);

510 
	}
}

512 #unde‡
MUL


513 #unde‡
SHIFT


517 #i‡
deföed
(
OPT_SSO
)

518 #i‡
MAD_F_FRACBITS
 != 28

521 
	#ML0
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË(xË* (y))

	)

522 
	#MLA
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË+(xË* (y))

	)

523 
	#MLN
(
hi
, 
lo
Ë(÷oË-÷o))

	)

524 
	#MLZ
(
hi
, 
lo
Ë((Ë(hi), (
mad_fixed_t
Ë÷o))

	)

525 
	#SHIFT
(
x
Ë((xË>> 2)

	)

526 
	#PRESHIFT
(
x
Ë((
	`MAD_F
(xË+ (1L << 13)Ë>> 14)

	)

528 
	#ML0
(
hi
, 
lo
, 
x
, 
y
Ë
	`MAD_F_ML0
((hi), (lo), (x), (y))

	)

529 
	#MLA
(
hi
, 
lo
, 
x
, 
y
Ë
	`MAD_F_MLA
((hi), (lo), (x), (y))

	)

530 
	#MLN
(
hi
, 
lo
Ë
	`MAD_F_MLN
((hi), (lo))

	)

531 
	#MLZ
(
hi
, 
lo
Ë
	`MAD_F_MLZ
((hi), (lo))

	)

532 
	#SHIFT
(
x
Ë(x)

	)

533 #i‡
deföed
(
MAD_F_SCALEBITS
)

534 #unde‡
MAD_F_SCALEBITS


535 
	#MAD_F_SCALEBITS
 (
MAD_F_FRACBITS
 - 12)

	)

536 
	#PRESHIFT
(
x
Ë(
	`MAD_F
(xË>> 12)

	)

538 
	#PRESHIFT
(
x
Ë
	`MAD_F
(x)

	)

543 
mad_fixed_t
 c⁄° 
	gD
[17][32] = {

544 
	~"D.d©
"

547 #i‡
deföed
(
ASO_SYNTH
)

548 
sy¡h_fuŒ
(
mad_sy¡h
 *, 
mad_‰ame
 const *,

556 
	$sy¡h_fuŒ
(
mad_sy¡h
 *
sy¡h
, 
mad_‰ame
 c⁄° *
‰ame
,

557 
nch
, 
ns
)

559 
pha£
, 
ch
, 
s
, 
sb
, 
≥
, 
po
;

560 
mad_fixed_t
 *
pcm1
, *
pcm2
, (*
fûãr
)[2][2][16][8];

561 
mad_fixed_t
 c⁄° (*
sbßm∂e
)[36][32];

562 
	`mad_fixed_t
 (*
„
)[8], (*
fx
)[8], (*
fo
)[8];

563 
mad_fixed_t
 c⁄° (*
D±r
)[32], *
±r
;

564 
mad_fixed64hi_t
 
hi
;

565 
mad_fixed64lo_t
 
lo
;

567 
ch
 = 0; ch < 
nch
; ++ch) {

568 
sbßm∂e
 = &
‰ame
->sbßm∂e[
ch
];

569 
fûãr
 = &
sy¡h
->fûãr[
ch
];

570 
pha£
 = 
sy¡h
->phase;

571 
pcm1
 = 
sy¡h
->
pcm
.
ßm∂es
[
ch
];

573 
s
 = 0; s < 
ns
; ++s) {

574 
	`d˘32
((*
sbßm∂e
)[
s
], 
pha£
 >> 1,

575 (*
fûãr
)[0][
pha£
 & 1], (*filter)[1][phase & 1]);

577 
≥
 = 
pha£
 & ~1;

578 
po
 = ((
pha£
 - 1) & 0xf) | 1;

582 
„
 = &(*
fûãr
)[0][ 
pha£
 & 1][0];

583 
fx
 = &(*
fûãr
)[0][~
pha£
 & 1][0];

584 
fo
 = &(*
fûãr
)[1][~
pha£
 & 1][0];

586 
D±r
 = &
D
[0];

588 
±r
 = *
D±r
 + 
po
;

589 
	`ML0
(
hi
, 
lo
, (*
fx
)[0], 
±r
[ 0]);

590 
	`MLA
(
hi
, 
lo
, (*
fx
)[1], 
±r
[14]);

591 
	`MLA
(
hi
, 
lo
, (*
fx
)[2], 
±r
[12]);

592 
	`MLA
(
hi
, 
lo
, (*
fx
)[3], 
±r
[10]);

593 
	`MLA
(
hi
, 
lo
, (*
fx
)[4], 
±r
[ 8]);

594 
	`MLA
(
hi
, 
lo
, (*
fx
)[5], 
±r
[ 6]);

595 
	`MLA
(
hi
, 
lo
, (*
fx
)[6], 
±r
[ 4]);

596 
	`MLA
(
hi
, 
lo
, (*
fx
)[7], 
±r
[ 2]);

597 
	`MLN
(
hi
, 
lo
);

599 
±r
 = *
D±r
 + 
≥
;

600 
	`MLA
(
hi
, 
lo
, (*
„
)[0], 
±r
[ 0]);

601 
	`MLA
(
hi
, 
lo
, (*
„
)[1], 
±r
[14]);

602 
	`MLA
(
hi
, 
lo
, (*
„
)[2], 
±r
[12]);

603 
	`MLA
(
hi
, 
lo
, (*
„
)[3], 
±r
[10]);

604 
	`MLA
(
hi
, 
lo
, (*
„
)[4], 
±r
[ 8]);

605 
	`MLA
(
hi
, 
lo
, (*
„
)[5], 
±r
[ 6]);

606 
	`MLA
(
hi
, 
lo
, (*
„
)[6], 
±r
[ 4]);

607 
	`MLA
(
hi
, 
lo
, (*
„
)[7], 
±r
[ 2]);

609 *
pcm1
++ = 
	`SHIFT
(
	`MLZ
(
hi
, 
lo
));

611 
pcm2
 = 
pcm1
 + 30;

613 
sb
 = 1; sb < 16; ++sb) {

614 ++
„
;

615 ++
D±r
;

619 
±r
 = *
D±r
 + 
po
;

620 
	`ML0
(
hi
, 
lo
, (*
fo
)[0], 
±r
[ 0]);

621 
	`MLA
(
hi
, 
lo
, (*
fo
)[1], 
±r
[14]);

622 
	`MLA
(
hi
, 
lo
, (*
fo
)[2], 
±r
[12]);

623 
	`MLA
(
hi
, 
lo
, (*
fo
)[3], 
±r
[10]);

624 
	`MLA
(
hi
, 
lo
, (*
fo
)[4], 
±r
[ 8]);

625 
	`MLA
(
hi
, 
lo
, (*
fo
)[5], 
±r
[ 6]);

626 
	`MLA
(
hi
, 
lo
, (*
fo
)[6], 
±r
[ 4]);

627 
	`MLA
(
hi
, 
lo
, (*
fo
)[7], 
±r
[ 2]);

628 
	`MLN
(
hi
, 
lo
);

630 
±r
 = *
D±r
 + 
≥
;

631 
	`MLA
(
hi
, 
lo
, (*
„
)[7], 
±r
[ 2]);

632 
	`MLA
(
hi
, 
lo
, (*
„
)[6], 
±r
[ 4]);

633 
	`MLA
(
hi
, 
lo
, (*
„
)[5], 
±r
[ 6]);

634 
	`MLA
(
hi
, 
lo
, (*
„
)[4], 
±r
[ 8]);

635 
	`MLA
(
hi
, 
lo
, (*
„
)[3], 
±r
[10]);

636 
	`MLA
(
hi
, 
lo
, (*
„
)[2], 
±r
[12]);

637 
	`MLA
(
hi
, 
lo
, (*
„
)[1], 
±r
[14]);

638 
	`MLA
(
hi
, 
lo
, (*
„
)[0], 
±r
[ 0]);

640 *
pcm1
++ = 
	`SHIFT
(
	`MLZ
(
hi
, 
lo
));

642 
±r
 = *
D±r
 - 
≥
;

643 
	`ML0
(
hi
, 
lo
, (*
„
)[0], 
±r
[31 - 16]);

644 
	`MLA
(
hi
, 
lo
, (*
„
)[1], 
±r
[31 - 14]);

645 
	`MLA
(
hi
, 
lo
, (*
„
)[2], 
±r
[31 - 12]);

646 
	`MLA
(
hi
, 
lo
, (*
„
)[3], 
±r
[31 - 10]);

647 
	`MLA
(
hi
, 
lo
, (*
„
)[4], 
±r
[31 - 8]);

648 
	`MLA
(
hi
, 
lo
, (*
„
)[5], 
±r
[31 - 6]);

649 
	`MLA
(
hi
, 
lo
, (*
„
)[6], 
±r
[31 - 4]);

650 
	`MLA
(
hi
, 
lo
, (*
„
)[7], 
±r
[31 - 2]);

652 
±r
 = *
D±r
 - 
po
;

653 
	`MLA
(
hi
, 
lo
, (*
fo
)[7], 
±r
[31 - 2]);

654 
	`MLA
(
hi
, 
lo
, (*
fo
)[6], 
±r
[31 - 4]);

655 
	`MLA
(
hi
, 
lo
, (*
fo
)[5], 
±r
[31 - 6]);

656 
	`MLA
(
hi
, 
lo
, (*
fo
)[4], 
±r
[31 - 8]);

657 
	`MLA
(
hi
, 
lo
, (*
fo
)[3], 
±r
[31 - 10]);

658 
	`MLA
(
hi
, 
lo
, (*
fo
)[2], 
±r
[31 - 12]);

659 
	`MLA
(
hi
, 
lo
, (*
fo
)[1], 
±r
[31 - 14]);

660 
	`MLA
(
hi
, 
lo
, (*
fo
)[0], 
±r
[31 - 16]);

662 *
pcm2
-- = 
	`SHIFT
(
	`MLZ
(
hi
, 
lo
));

664 ++
fo
;

667 ++
D±r
;

669 
±r
 = *
D±r
 + 
po
;

670 
	`ML0
(
hi
, 
lo
, (*
fo
)[0], 
±r
[ 0]);

671 
	`MLA
(
hi
, 
lo
, (*
fo
)[1], 
±r
[14]);

672 
	`MLA
(
hi
, 
lo
, (*
fo
)[2], 
±r
[12]);

673 
	`MLA
(
hi
, 
lo
, (*
fo
)[3], 
±r
[10]);

674 
	`MLA
(
hi
, 
lo
, (*
fo
)[4], 
±r
[ 8]);

675 
	`MLA
(
hi
, 
lo
, (*
fo
)[5], 
±r
[ 6]);

676 
	`MLA
(
hi
, 
lo
, (*
fo
)[6], 
±r
[ 4]);

677 
	`MLA
(
hi
, 
lo
, (*
fo
)[7], 
±r
[ 2]);

679 *
pcm1
 = 
	`SHIFT
(-
	`MLZ
(
hi
, 
lo
));

680 
pcm1
 += 16;

682 
pha£
 = (phase + 1) % 16;

685 
	}
}

693 
	$sy¡h_hÆf
(
mad_sy¡h
 *
sy¡h
, 
mad_‰ame
 c⁄° *
‰ame
,

694 
nch
, 
ns
)

696 
pha£
, 
ch
, 
s
, 
sb
, 
≥
, 
po
;

697 
mad_fixed_t
 *
pcm1
, *
pcm2
, (*
fûãr
)[2][2][16][8];

698 
mad_fixed_t
 c⁄° (*
sbßm∂e
)[36][32];

699 
	`mad_fixed_t
 (*
„
)[8], (*
fx
)[8], (*
fo
)[8];

700 
mad_fixed_t
 c⁄° (*
D±r
)[32], *
±r
;

701 
mad_fixed64hi_t
 
hi
;

702 
mad_fixed64lo_t
 
lo
;

704 
ch
 = 0; ch < 
nch
; ++ch) {

705 
sbßm∂e
 = &
‰ame
->sbßm∂e[
ch
];

706 
fûãr
 = &
sy¡h
->fûãr[
ch
];

707 
pha£
 = 
sy¡h
->phase;

708 
pcm1
 = 
sy¡h
->
pcm
.
ßm∂es
[
ch
];

710 
s
 = 0; s < 
ns
; ++s) {

711 
	`d˘32
((*
sbßm∂e
)[
s
], 
pha£
 >> 1,

712 (*
fûãr
)[0][
pha£
 & 1], (*filter)[1][phase & 1]);

714 
≥
 = 
pha£
 & ~1;

715 
po
 = ((
pha£
 - 1) & 0xf) | 1;

719 
„
 = &(*
fûãr
)[0][ 
pha£
 & 1][0];

720 
fx
 = &(*
fûãr
)[0][~
pha£
 & 1][0];

721 
fo
 = &(*
fûãr
)[1][~
pha£
 & 1][0];

723 
D±r
 = &
D
[0];

725 
±r
 = *
D±r
 + 
po
;

726 
	`ML0
(
hi
, 
lo
, (*
fx
)[0], 
±r
[ 0]);

727 
	`MLA
(
hi
, 
lo
, (*
fx
)[1], 
±r
[14]);

728 
	`MLA
(
hi
, 
lo
, (*
fx
)[2], 
±r
[12]);

729 
	`MLA
(
hi
, 
lo
, (*
fx
)[3], 
±r
[10]);

730 
	`MLA
(
hi
, 
lo
, (*
fx
)[4], 
±r
[ 8]);

731 
	`MLA
(
hi
, 
lo
, (*
fx
)[5], 
±r
[ 6]);

732 
	`MLA
(
hi
, 
lo
, (*
fx
)[6], 
±r
[ 4]);

733 
	`MLA
(
hi
, 
lo
, (*
fx
)[7], 
±r
[ 2]);

734 
	`MLN
(
hi
, 
lo
);

736 
±r
 = *
D±r
 + 
≥
;

737 
	`MLA
(
hi
, 
lo
, (*
„
)[0], 
±r
[ 0]);

738 
	`MLA
(
hi
, 
lo
, (*
„
)[1], 
±r
[14]);

739 
	`MLA
(
hi
, 
lo
, (*
„
)[2], 
±r
[12]);

740 
	`MLA
(
hi
, 
lo
, (*
„
)[3], 
±r
[10]);

741 
	`MLA
(
hi
, 
lo
, (*
„
)[4], 
±r
[ 8]);

742 
	`MLA
(
hi
, 
lo
, (*
„
)[5], 
±r
[ 6]);

743 
	`MLA
(
hi
, 
lo
, (*
„
)[6], 
±r
[ 4]);

744 
	`MLA
(
hi
, 
lo
, (*
„
)[7], 
±r
[ 2]);

746 *
pcm1
++ = 
	`SHIFT
(
	`MLZ
(
hi
, 
lo
));

748 
pcm2
 = 
pcm1
 + 14;

750 
sb
 = 1; sb < 16; ++sb) {

751 ++
„
;

752 ++
D±r
;

756 i‡(!(
sb
 & 1)) {

757 
±r
 = *
D±r
 + 
po
;

758 
	`ML0
(
hi
, 
lo
, (*
fo
)[0], 
±r
[ 0]);

759 
	`MLA
(
hi
, 
lo
, (*
fo
)[1], 
±r
[14]);

760 
	`MLA
(
hi
, 
lo
, (*
fo
)[2], 
±r
[12]);

761 
	`MLA
(
hi
, 
lo
, (*
fo
)[3], 
±r
[10]);

762 
	`MLA
(
hi
, 
lo
, (*
fo
)[4], 
±r
[ 8]);

763 
	`MLA
(
hi
, 
lo
, (*
fo
)[5], 
±r
[ 6]);

764 
	`MLA
(
hi
, 
lo
, (*
fo
)[6], 
±r
[ 4]);

765 
	`MLA
(
hi
, 
lo
, (*
fo
)[7], 
±r
[ 2]);

766 
	`MLN
(
hi
, 
lo
);

768 
±r
 = *
D±r
 + 
≥
;

769 
	`MLA
(
hi
, 
lo
, (*
„
)[7], 
±r
[ 2]);

770 
	`MLA
(
hi
, 
lo
, (*
„
)[6], 
±r
[ 4]);

771 
	`MLA
(
hi
, 
lo
, (*
„
)[5], 
±r
[ 6]);

772 
	`MLA
(
hi
, 
lo
, (*
„
)[4], 
±r
[ 8]);

773 
	`MLA
(
hi
, 
lo
, (*
„
)[3], 
±r
[10]);

774 
	`MLA
(
hi
, 
lo
, (*
„
)[2], 
±r
[12]);

775 
	`MLA
(
hi
, 
lo
, (*
„
)[1], 
±r
[14]);

776 
	`MLA
(
hi
, 
lo
, (*
„
)[0], 
±r
[ 0]);

778 *
pcm1
++ = 
	`SHIFT
(
	`MLZ
(
hi
, 
lo
));

780 
±r
 = *
D±r
 - 
po
;

781 
	`ML0
(
hi
, 
lo
, (*
fo
)[7], 
±r
[31 - 2]);

782 
	`MLA
(
hi
, 
lo
, (*
fo
)[6], 
±r
[31 - 4]);

783 
	`MLA
(
hi
, 
lo
, (*
fo
)[5], 
±r
[31 - 6]);

784 
	`MLA
(
hi
, 
lo
, (*
fo
)[4], 
±r
[31 - 8]);

785 
	`MLA
(
hi
, 
lo
, (*
fo
)[3], 
±r
[31 - 10]);

786 
	`MLA
(
hi
, 
lo
, (*
fo
)[2], 
±r
[31 - 12]);

787 
	`MLA
(
hi
, 
lo
, (*
fo
)[1], 
±r
[31 - 14]);

788 
	`MLA
(
hi
, 
lo
, (*
fo
)[0], 
±r
[31 - 16]);

790 
±r
 = *
D±r
 - 
≥
;

791 
	`MLA
(
hi
, 
lo
, (*
„
)[0], 
±r
[31 - 16]);

792 
	`MLA
(
hi
, 
lo
, (*
„
)[1], 
±r
[31 - 14]);

793 
	`MLA
(
hi
, 
lo
, (*
„
)[2], 
±r
[31 - 12]);

794 
	`MLA
(
hi
, 
lo
, (*
„
)[3], 
±r
[31 - 10]);

795 
	`MLA
(
hi
, 
lo
, (*
„
)[4], 
±r
[31 - 8]);

796 
	`MLA
(
hi
, 
lo
, (*
„
)[5], 
±r
[31 - 6]);

797 
	`MLA
(
hi
, 
lo
, (*
„
)[6], 
±r
[31 - 4]);

798 
	`MLA
(
hi
, 
lo
, (*
„
)[7], 
±r
[31 - 2]);

800 *
pcm2
-- = 
	`SHIFT
(
	`MLZ
(
hi
, 
lo
));

803 ++
fo
;

806 ++
D±r
;

808 
±r
 = *
D±r
 + 
po
;

809 
	`ML0
(
hi
, 
lo
, (*
fo
)[0], 
±r
[ 0]);

810 
	`MLA
(
hi
, 
lo
, (*
fo
)[1], 
±r
[14]);

811 
	`MLA
(
hi
, 
lo
, (*
fo
)[2], 
±r
[12]);

812 
	`MLA
(
hi
, 
lo
, (*
fo
)[3], 
±r
[10]);

813 
	`MLA
(
hi
, 
lo
, (*
fo
)[4], 
±r
[ 8]);

814 
	`MLA
(
hi
, 
lo
, (*
fo
)[5], 
±r
[ 6]);

815 
	`MLA
(
hi
, 
lo
, (*
fo
)[6], 
±r
[ 4]);

816 
	`MLA
(
hi
, 
lo
, (*
fo
)[7], 
±r
[ 2]);

818 *
pcm1
 = 
	`SHIFT
(-
	`MLZ
(
hi
, 
lo
));

819 
pcm1
 += 8;

821 
pha£
 = (phase + 1) % 16;

824 
	}
}

830 
	$mad_sy¡h_‰ame
(
mad_sy¡h
 *
sy¡h
, 
mad_‰ame
 c⁄° *
‰ame
)

832 
nch
, 
ns
;

833 (*
sy¡h_‰ame
)(
mad_sy¡h
 *, 
mad_‰ame
 const *,

836 
nch
 = 
	`MAD_NCHANNELS
(&
‰ame
->
hódî
);

837 
ns
 = 
	`MAD_NSBSAMPLES
(&
‰ame
->
hódî
);

839 
sy¡h
->
pcm
.
ßm∂î©e
 = 
‰ame
->
hódî
.samplerate;

840 
sy¡h
->
pcm
.
ch™√ls
 = 
nch
;

841 
sy¡h
->
pcm
.
Àngth
 = 32 * 
ns
;

843 
sy¡h_‰ame
 = 
sy¡h_fuŒ
;

845 i‡(
‰ame
->
›ti⁄s
 & 
MAD_OPTION_HALFSAMPLERATE
) {

846 
sy¡h
->
pcm
.
ßm∂î©e
 /= 2;

847 
sy¡h
->
pcm
.
Àngth
 /= 2;

849 
sy¡h_‰ame
 = 
sy¡h_hÆf
;

852 
	`sy¡h_‰ame
(
sy¡h
, 
‰ame
, 
nch
, 
ns
);

854 
sy¡h
->
pha£
 = (sy¡h->pha£ + 
ns
) % 16;

855 
	}
}

	@libmad/synth.h

22 #i‚de‡
LIBMAD_SYNTH_H


23 
	#LIBMAD_SYNTH_H


	)

25 
	~"fixed.h
"

26 
	~"‰ame.h
"

28 
	smad_pcm
 {

29 
	mßm∂î©e
;

30 
	mch™√ls
;

31 
	mÀngth
;

32 
mad_fixed_t
 
	mßm∂es
[2][1152];

35 
	smad_sy¡h
 {

36 
mad_fixed_t
 
	mfûãr
[2][2][2][16][8];

39 
	mpha£
;

41 
mad_pcm
 
	mpcm
;

46 
	mMAD_PCM_CHANNEL_SINGLE
 = 0

51 
	mMAD_PCM_CHANNEL_DUAL_1
 = 0,

52 
	mMAD_PCM_CHANNEL_DUAL_2
 = 1

57 
	mMAD_PCM_CHANNEL_STEREO_LEFT
 = 0,

58 
	mMAD_PCM_CHANNEL_STEREO_RIGHT
 = 1

61 
mad_sy¡h_öô
(
mad_sy¡h
 *);

63 
	#mad_sy¡h_föish
(
sy¡h
Ë

	)

65 
mad_sy¡h_muã
(
mad_sy¡h
 *);

67 
mad_sy¡h_‰ame
(
mad_sy¡h
 *, 
mad_‰ame
 const *);

	@libmad/timer.c

22 
	~"libmad_c⁄fig.h
"

24 
	~"libmad_globÆ.h
"

26 
	~<°dio.h
>

28 #ifde‡
HAVE_ASSERT_H


29 
	~<as£π.h
>

32 
	~"timî.h
"

34 
mad_timî_t
 c⁄° 
	gmad_timî_zîo
 = { 0, 0 };

40 
	$mad_timî_com∑ª
(
mad_timî_t
 
timî1
, mad_timî_à
timî2
)

42 sig√d 
diff
;

44 
diff
 = 
timî1
.
£c⁄ds
 - 
timî2
.seconds;

45 i‡(
diff
 < 0)

47 i‡(
diff
 > 0)

50 
diff
 = 
timî1
.
‰a˘i⁄
 - 
timî2
.fraction;

51 i‡(
diff
 < 0)

53 i‡(
diff
 > 0)

57 
	}
}

63 
	$mad_timî_√g©e
(
mad_timî_t
 *
timî
)

65 
timî
->
£c⁄ds
 = -timer->seconds;

67 i‡(
timî
->
‰a˘i⁄
) {

68 
timî
->
£c⁄ds
 -= 1;

69 
timî
->
‰a˘i⁄
 = 
MAD_TIMER_RESOLUTION
 -Åimer->fraction;

71 
	}
}

77 
mad_timî_t
 
	$mad_timî_abs
(
mad_timî_t
 
timî
)

79 i‡(
timî
.
£c⁄ds
 < 0)

80 
	`mad_timî_√g©e
(&
timî
);

82  
timî
;

83 
	}
}

90 
	$ªdu˚_timî
(
mad_timî_t
 *
timî
)

92 
timî
->
£c⁄ds
 +timî->
‰a˘i⁄
 / 
MAD_TIMER_RESOLUTION
;

93 
timî
->
‰a˘i⁄
 %
MAD_TIMER_RESOLUTION
;

94 
	}
}

101 
	$gcd
(
num1
, 
num2
)

103 
tmp
;

105 
num2
) {

106 
tmp
 = 
num2
;

107 
num2
 = 
num1
 %Çum2;

108 
num1
 = 
tmp
;

111  
num1
;

112 
	}
}

119 
	$ªdu˚_øti⁄Æ
(*
numî
, *
díom
)

121 
Á˘‹
;

123 
Á˘‹
 = 
	`gcd
(*
numî
, *
díom
);

125 
	`as£π
(
Á˘‹
 != 0);

127 *
numî
 /
Á˘‹
;

128 *
díom
 /
Á˘‹
;

129 
	}
}

136 
	$sˇÀ_øti⁄Æ
(
numî
, 
díom
,

137 
sˇÀ
)

139 
	`ªdu˚_øti⁄Æ
(&
numî
, &
díom
);

140 
	`ªdu˚_øti⁄Æ
(&
sˇÀ
, &
díom
);

142 
	`as£π
(
díom
 != 0);

144 i‡(
díom
 < 
sˇÀ
)

145  
numî
 * (
sˇÀ
 / 
díom
) +Çumer * (scale % denom) / denom;

146 i‡(
díom
 < 
numî
)

147  
sˇÀ
 * (
numî
 / 
díom
) + scale * (numer % denom) / denom;

149  
numî
 * 
sˇÀ
 / 
díom
;

150 
	}
}

156 
	$mad_timî_£t
(
mad_timî_t
 *
timî
, 
£c⁄ds
,

157 
numî
, 
díom
)

159 
timî
->
£c⁄ds
 = seconds;

160 i‡(
numî
 >
díom
 && denom > 0) {

161 
timî
->
£c⁄ds
 +
numî
 / 
díom
;

162 
numî
 %
díom
;

165 
díom
) {

168 
timî
->
‰a˘i⁄
 = 0;

171 
MAD_TIMER_RESOLUTION
:

172 
timî
->
‰a˘i⁄
 = 
numî
;

176 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 1000);

180 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 8000);

184 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 11025);

188 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 12000);

192 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 16000);

196 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 22050);

200 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 24000);

204 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 32000);

208 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 44100);

212 
timî
->
‰a˘i⁄
 = 
numî
 * (
MAD_TIMER_RESOLUTION
 / 48000);

216 
timî
->
‰a˘i⁄
 = 
	`sˇÀ_øti⁄Æ
(
numî
, 
díom
, 
MAD_TIMER_RESOLUTION
);

220 i‡(
timî
->
‰a˘i⁄
 >
MAD_TIMER_RESOLUTION
)

221 
	`ªdu˚_timî
(
timî
);

222 
	}
}

228 
	$mad_timî_add
(
mad_timî_t
 *
timî
, mad_timî_à
ö¸
)

230 
timî
->
£c⁄ds
 +
ö¸
.seconds;

231 
timî
->
‰a˘i⁄
 +
ö¸
.fraction;

233 i‡(
timî
->
‰a˘i⁄
 >
MAD_TIMER_RESOLUTION
)

234 
	`ªdu˚_timî
(
timî
);

235 
	}
}

241 
	$mad_timî_mu…ùly
(
mad_timî_t
 *
timî
, sig√d 
sˇœr
)

243 
mad_timî_t
 
addíd
;

244 
Á˘‹
;

246 
Á˘‹
 = 
sˇœr
;

247 i‡(
sˇœr
 < 0) {

248 
Á˘‹
 = -
sˇœr
;

249 
	`mad_timî_√g©e
(
timî
);

252 
addíd
 = *
timî
;

253 *
timî
 = 
mad_timî_zîo
;

255 
Á˘‹
) {

256 i‡(
Á˘‹
 & 1)

257 
	`mad_timî_add
(
timî
, 
addíd
);

259 
	`mad_timî_add
(&
addíd
,áddend);

260 
Á˘‹
 >>= 1;

262 
	}
}

268 sig√d 
	$mad_timî_cou¡
(
mad_timî_t
 
timî
, 
mad_unôs
 
unôs
)

270 
unôs
) {

271 
MAD_UNITS_HOURS
:

272  
timî
.
£c⁄ds
 / 60 / 60;

274 
MAD_UNITS_MINUTES
:

275  
timî
.
£c⁄ds
 / 60;

277 
MAD_UNITS_SECONDS
:

278  
timî
.
£c⁄ds
;

280 
MAD_UNITS_DECISECONDS
:

281 
MAD_UNITS_CENTISECONDS
:

282 
MAD_UNITS_MILLISECONDS
:

284 
MAD_UNITS_8000_HZ
:

285 
MAD_UNITS_11025_HZ
:

286 
MAD_UNITS_12000_HZ
:

287 
MAD_UNITS_16000_HZ
:

288 
MAD_UNITS_22050_HZ
:

289 
MAD_UNITS_24000_HZ
:

290 
MAD_UNITS_32000_HZ
:

291 
MAD_UNITS_44100_HZ
:

292 
MAD_UNITS_48000_HZ
:

294 
MAD_UNITS_24_FPS
:

295 
MAD_UNITS_25_FPS
:

296 
MAD_UNITS_30_FPS
:

297 
MAD_UNITS_48_FPS
:

298 
MAD_UNITS_50_FPS
:

299 
MAD_UNITS_60_FPS
:

300 
MAD_UNITS_75_FPS
:

301  
timî
.
£c⁄ds
 * (sig√d Ë
unôs
 +

302 (sig√d Ë
	`sˇÀ_øti⁄Æ
(
timî
.
‰a˘i⁄
, 
MAD_TIMER_RESOLUTION
,

303 
unôs
);

305 
MAD_UNITS_23_976_FPS
:

306 
MAD_UNITS_24_975_FPS
:

307 
MAD_UNITS_29_97_FPS
:

308 
MAD_UNITS_47_952_FPS
:

309 
MAD_UNITS_49_95_FPS
:

310 
MAD_UNITS_59_94_FPS
:

311  (
	`mad_timî_cou¡
(
timî
, -
unôs
) + 1) * 1000 / 1001;

316 
	}
}

322 
	$mad_timî_‰a˘i⁄
(
mad_timî_t
 
timî
, 
díom
)

324 
timî
 = 
	`mad_timî_abs
(timer);

326 
díom
) {

328  
timî
.
‰a˘i⁄
 ?

329 
MAD_TIMER_RESOLUTION
 / 
timî
.
‰a˘i⁄
 : MAD_TIMER_RESOLUTION + 1;

331 
MAD_TIMER_RESOLUTION
:

332  
timî
.
‰a˘i⁄
;

335  
	`sˇÀ_øti⁄Æ
(
timî
.
‰a˘i⁄
, 
MAD_TIMER_RESOLUTION
, 
díom
);

337 
	}
}

343 
	$mad_timî_°rög
(
mad_timî_t
 
timî
,

344 *
de°
, c⁄° *
f‹m©
, 
mad_unôs
 
unôs
,

345 
mad_unôs
 
‰acunôs
, 
sub∑πs
)

347 
hours
, 
möuãs
, 
£c⁄ds
, 
sub
;

348 
‰ac
;

350 
timî
 = 
	`mad_timî_abs
(timer);

352 
£c⁄ds
 = 
timî
.seconds;

353 
‰ac
 = 
sub
 = 0;

355 
‰acunôs
) {

356 
MAD_UNITS_HOURS
:

357 
MAD_UNITS_MINUTES
:

358 
MAD_UNITS_SECONDS
:

361 
MAD_UNITS_DECISECONDS
:

362 
MAD_UNITS_CENTISECONDS
:

363 
MAD_UNITS_MILLISECONDS
:

365 
MAD_UNITS_8000_HZ
:

366 
MAD_UNITS_11025_HZ
:

367 
MAD_UNITS_12000_HZ
:

368 
MAD_UNITS_16000_HZ
:

369 
MAD_UNITS_22050_HZ
:

370 
MAD_UNITS_24000_HZ
:

371 
MAD_UNITS_32000_HZ
:

372 
MAD_UNITS_44100_HZ
:

373 
MAD_UNITS_48000_HZ
:

375 
MAD_UNITS_24_FPS
:

376 
MAD_UNITS_25_FPS
:

377 
MAD_UNITS_30_FPS
:

378 
MAD_UNITS_48_FPS
:

379 
MAD_UNITS_50_FPS
:

380 
MAD_UNITS_60_FPS
:

381 
MAD_UNITS_75_FPS
:

383 
díom
;

385 
díom
 = 
MAD_TIMER_RESOLUTION
 / 
‰acunôs
;

387 
‰ac
 = 
timî
.
‰a˘i⁄
 / 
díom
;

388 
sub
 = 
	`sˇÀ_øti⁄Æ
(
timî
.
‰a˘i⁄
 % 
díom
, díom, 
sub∑πs
);

392 
MAD_UNITS_23_976_FPS
:

393 
MAD_UNITS_24_975_FPS
:

394 
MAD_UNITS_29_97_FPS
:

395 
MAD_UNITS_47_952_FPS
:

396 
MAD_UNITS_49_95_FPS
:

397 
MAD_UNITS_59_94_FPS
:

401 
‰ame
, 
cy˛e
, 
d
, 
m
;

403 
‰ame
 = 
	`mad_timî_cou¡
(
timî
, 
‰acunôs
);

405 
cy˛e
 = -
‰acunôs
 * 60 * 10 - (10 - 1) * 2;

407 
d
 = 
‰ame
 / 
cy˛e
;

408 
m
 = 
‰ame
 % 
cy˛e
;

409 
‰ame
 +(10 - 1Ë* 2 * 
d
;

410 i‡(
m
 > 2)

411 
‰ame
 +2 * ((
m
 - 2Ë/ (
cy˛e
 / 10));

413 
‰ac
 = 
‰ame
 % -
‰acunôs
;

414 
£c⁄ds
 = 
‰ame
 / -
‰acunôs
;

419 
unôs
) {

420 
MAD_UNITS_HOURS
:

421 
möuãs
 = 
£c⁄ds
 / 60;

422 
hours
 = 
möuãs
 / 60;

424 
	`•rötf
(
de°
, 
f‹m©
,

425 
hours
,

426 (Ë(
möuãs
 % 60),

427 (Ë(
£c⁄ds
 % 60),

428 
‰ac
, 
sub
);

431 
MAD_UNITS_MINUTES
:

432 
möuãs
 = 
£c⁄ds
 / 60;

434 
	`•rötf
(
de°
, 
f‹m©
,

435 
möuãs
,

436 (Ë(
£c⁄ds
 % 60),

437 
‰ac
, 
sub
);

440 
MAD_UNITS_SECONDS
:

441 
	`•rötf
(
de°
, 
f‹m©
,

442 
£c⁄ds
,

443 
‰ac
, 
sub
);

446 
MAD_UNITS_23_976_FPS
:

447 
MAD_UNITS_24_975_FPS
:

448 
MAD_UNITS_29_97_FPS
:

449 
MAD_UNITS_47_952_FPS
:

450 
MAD_UNITS_49_95_FPS
:

451 
MAD_UNITS_59_94_FPS
:

452 i‡(
‰acunôs
 < 0) {

454 
sub
 = 0;

459 
MAD_UNITS_DECISECONDS
:

460 
MAD_UNITS_CENTISECONDS
:

461 
MAD_UNITS_MILLISECONDS
:

463 
MAD_UNITS_8000_HZ
:

464 
MAD_UNITS_11025_HZ
:

465 
MAD_UNITS_12000_HZ
:

466 
MAD_UNITS_16000_HZ
:

467 
MAD_UNITS_22050_HZ
:

468 
MAD_UNITS_24000_HZ
:

469 
MAD_UNITS_32000_HZ
:

470 
MAD_UNITS_44100_HZ
:

471 
MAD_UNITS_48000_HZ
:

473 
MAD_UNITS_24_FPS
:

474 
MAD_UNITS_25_FPS
:

475 
MAD_UNITS_30_FPS
:

476 
MAD_UNITS_48_FPS
:

477 
MAD_UNITS_50_FPS
:

478 
MAD_UNITS_60_FPS
:

479 
MAD_UNITS_75_FPS
:

480 
	`•rötf
(
de°
, 
f‹m©
, 
	`mad_timî_cou¡
(
timî
, 
unôs
), 
sub
);

483 
	}
}

	@libmad/timer.h

22 #i‚de‡
LIBMAD_TIMER_H


23 
	#LIBMAD_TIMER_H


	)

26 sig√d 
	m£c⁄ds
;

27 
	m‰a˘i⁄
;

28 } 
	tmad_timî_t
;

30 
mad_timî_t
 c⁄° 
mad_timî_zîo
;

32 
	#MAD_TIMER_RESOLUTION
 352800000UL

	)

34 
	emad_unôs
 {

35 
	mMAD_UNITS_HOURS
 = -2,

36 
	mMAD_UNITS_MINUTES
 = -1,

37 
	mMAD_UNITS_SECONDS
 = 0,

41 
	mMAD_UNITS_DECISECONDS
 = 10,

42 
	mMAD_UNITS_CENTISECONDS
 = 100,

43 
	mMAD_UNITS_MILLISECONDS
 = 1000,

47 
	mMAD_UNITS_8000_HZ
 = 8000,

48 
	mMAD_UNITS_11025_HZ
 = 11025,

49 
	mMAD_UNITS_12000_HZ
 = 12000,

51 
	mMAD_UNITS_16000_HZ
 = 16000,

52 
	mMAD_UNITS_22050_HZ
 = 22050,

53 
	mMAD_UNITS_24000_HZ
 = 24000,

55 
	mMAD_UNITS_32000_HZ
 = 32000,

56 
	mMAD_UNITS_44100_HZ
 = 44100,

57 
	mMAD_UNITS_48000_HZ
 = 48000,

61 
	mMAD_UNITS_24_FPS
 = 24,

62 
	mMAD_UNITS_25_FPS
 = 25,

63 
	mMAD_UNITS_30_FPS
 = 30,

64 
	mMAD_UNITS_48_FPS
 = 48,

65 
	mMAD_UNITS_50_FPS
 = 50,

66 
	mMAD_UNITS_60_FPS
 = 60,

70 
	mMAD_UNITS_75_FPS
 = 75,

74 
	mMAD_UNITS_23_976_FPS
 = -24,

75 
	mMAD_UNITS_24_975_FPS
 = -25,

76 
	mMAD_UNITS_29_97_FPS
 = -30,

77 
	mMAD_UNITS_47_952_FPS
 = -48,

78 
	mMAD_UNITS_49_95_FPS
 = -50,

79 
	mMAD_UNITS_59_94_FPS
 = -60

82 
	#mad_timî_ª£t
(
timî
Ë((Ë(*—imîË
mad_timî_zîo
))

	)

84 
mad_timî_com∑ª
(
mad_timî_t
, mad_timer_t);

86 
	#mad_timî_sign
(
timî
Ë
	`mad_timî_com∑ª
(—imî), 
mad_timî_zîo
)

	)

88 
mad_timî_√g©e
(
mad_timî_t
 *);

89 
mad_timî_t
 
mad_timî_abs
(mad_timer_t);

91 
mad_timî_£t
(
mad_timî_t
 *, , , );

92 
mad_timî_add
(
mad_timî_t
 *, mad_timer_t);

93 
mad_timî_mu…ùly
(
mad_timî_t
 *, signed );

95 sig√d 
mad_timî_cou¡
(
mad_timî_t
, 
mad_unôs
);

96 
mad_timî_‰a˘i⁄
(
mad_timî_t
, );

97 
mad_timî_°rög
(
mad_timî_t
, *, const *,

98 
mad_unôs
, mad_units, );

	@magicmenu.c

22 
	~"maö.h
"

24 
	sMAGICITEM


26 
WORD
 
	mwMagic
;

27 
WORD
 
	mwMP
;

28 
BOOL
 
	mfE«bÀd
;

29 } 
	grgMagicIãm
[
MAX_PLAYER_MAGICS
];

31 
	gg_iNumMagic
 = 0;

32 
	gg_iCuºítIãm
 = 0;

33 
WORD
 
	gg_wPœyîMP
 = 0;

35 
WORD


36 
	$PAL_MagicSñe˘i⁄MíuUpd©e
(

37 
VOID


54 #i‚de‡
PAL_WIN95


55 
i
, 
j
, 
k
;

56 
BYTE
 
bCﬁ‹
;

58 
i
, 
j
, 
k
, 
löe
;

59 
BYTE
 
bCﬁ‹
;

60 
WORD
 
wS¸ùt
;

66 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyUp
)

68 
g_iCuºítIãm
 -= 3;

70 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyDown
)

72 
g_iCuºítIãm
 += 3;

74 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyLe·
)

76 
g_iCuºítIãm
--;

78 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyRight
)

80 
g_iCuºítIãm
++;

82 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyPgUp
)

84 
g_iCuºítIãm
 -= 3 * 5;

86 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyPgDn
)

88 
g_iCuºítIãm
 += 3 * 5;

90 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

98 i‡(
g_iCuºítIãm
 < 0)

100 
g_iCuºítIãm
 = 0;

102 i‡(
g_iCuºítIãm
 >
g_iNumMagic
)

104 
g_iCuºítIãm
 = 
g_iNumMagic
 - 1;

110 
	`PAL_Cª©eBox
(
	`PAL_XY
(10, 42), 4, 16, 1, 
FALSE
);

112 #i‚de‡
PAL_WIN95


113 i‡(
gpGlobÆs
->
ÕObje˘Desc
 =
NULL
)

118 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(0, 0), 5, 
FALSE
);

119 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
CASH_LABEL
), 
	`PAL_XY
(10, 10), 0, 
FALSE
, FALSE);

120 
	`PAL_DøwNumbî
(
gpGlobÆs
->
dwCash
, 6, 
	`PAL_XY
(49, 14), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

125 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(215, 0), 5, 
FALSE
);

126 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
),

127 
gpS¸ìn
, 
	`PAL_XY
(260, 14));

128 
	`PAL_DøwNumbî
(
rgMagicIãm
[
g_iCuºítIãm
].
wMP
, 4, 
	`PAL_XY
(230, 14),

129 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

130 
	`PAL_DøwNumbî
(
g_wPœyîMP
, 4, 
	`PAL_XY
(265, 14), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

134 
szDesc
[512], *
√xt
;

135 c⁄° *
d
 = 
	`PAL_GëObje˘Desc
(
gpGlobÆs
->
ÕObje˘Desc
, 
rgMagicIãm
[
g_iCuºítIãm
].
wMagic
);

140 i‡(
d
 !
NULL
)

142 
k
 = 3;

143 
	`°r˝y
(
szDesc
, 
d
);

144 
d
 = 
szDesc
;

146 
TRUE
)

148 
√xt
 = 
	`°rchr
(
d
, '*');

149 i‡(
√xt
 !
NULL
)

151 *
√xt
 = '\0';

152 
√xt
++;

155 
	`PAL_DøwText
(
d
, 
	`PAL_XY
(100, 
k
), 
DESCTEXT_COLOR
, 
TRUE
, 
FALSE
);

156 
k
 += 16;

158 i‡(
√xt
 =
NULL
)

163 
d
 = 
√xt
;

170 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(0, 0), 5, 
FALSE
);

171 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
),

172 
gpS¸ìn
, 
	`PAL_XY
(45, 14));

173 
	`PAL_DøwNumbî
(
rgMagicIãm
[
g_iCuºítIãm
].
wMP
, 4, 
	`PAL_XY
(15, 14),

174 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

175 
	`PAL_DøwNumbî
(
g_wPœyîMP
, 4, 
	`PAL_XY
(50, 14), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

178 
wS¸ùt
 = 
gpGlobÆs
->
g
.
rgObje˘
[
rgMagicIãm
[
g_iCuºítIãm
].
wMagic
].
ôem
.
wS¸ùtDesc
;

179 
löe
 = 0;

180 
wS¸ùt
 && 
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
[wS¸ùt].
wO≥øti⁄
 != 0)

182 i‡(
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
[
wS¸ùt
].
wO≥øti⁄
 == 0xFFFF)

184 
wS¸ùt
 = 
	`PAL_RunAutoS¸ùt
(wS¸ùt, 
löe
);

185 
löe
++;

189 
wS¸ùt
 = 
	`PAL_RunAutoS¸ùt
(wScript, 0);

196 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(0, 0), 5, 
FALSE
);

197 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
),

198 
gpS¸ìn
, 
	`PAL_XY
(45, 14));

199 
	`PAL_DøwNumbî
(
rgMagicIãm
[
g_iCuºítIãm
].
wMP
, 4, 
	`PAL_XY
(15, 14),

200 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

201 
	`PAL_DøwNumbî
(
g_wPœyîMP
, 4, 
	`PAL_XY
(50, 14), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

208 
i
 = 
g_iCuºítIãm
 / 3 * 3 - 3 * 2;

209 i‡(
i
 < 0)

211 
i
 = 0;

214 
j
 = 0; j < 5; j++)

216 
k
 = 0; k < 3; k++)

218 
bCﬁ‹
 = 
MENUITEM_COLOR
;

220 i‡(
i
 >
g_iNumMagic
)

225 
j
 = 5;

229 i‡(
i
 =
g_iCuºítIãm
)

231 i‡(
rgMagicIãm
[
i
].
fE«bÀd
)

233 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED
;

237 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_INACTIVE
;

240 i‡(!
rgMagicIãm
[
i
].
fE«bÀd
)

242 
bCﬁ‹
 = 
MENUITEM_COLOR_INACTIVE
;

248 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMagicIãm
[
i
].
wMagic
),

249 
	`PAL_XY
(35 + 
k
 * 87, 54 + 
j
 * 18), 
bCﬁ‹
, 
TRUE
, 
FALSE
);

254 i‡(
i
 =
g_iCuºítIãm
)

256 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_CURSOR
),

257 
gpS¸ìn
, 
	`PAL_XY
(60 + 
k
 * 87, 64 + 
j
 * 18));

260 
i
++;

264 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

266 i‡(
rgMagicIãm
[
g_iCuºítIãm
].
fE«bÀd
)

268 
j
 = 
g_iCuºítIãm
 % 3;

269 
k
 = (
g_iCuºítIãm
 < 3 * 2) ? (g_iCurrentItem / 3) : 2;

271 
j
 = 35 + j * 87;

272 
k
 = 54 + k * 18;

274 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMagicIãm
[
g_iCuºítIãm
].
wMagic
), 
	`PAL_XY
(
j
, 
k
),

275 
MENUITEM_COLOR_CONFIRMED
, 
FALSE
, 
TRUE
);

277  
rgMagicIãm
[
g_iCuºítIãm
].
wMagic
;

282 
	}
}

284 
VOID


285 
	$PAL_MagicSñe˘i⁄MíuInô
(

286 
WORD
 
wPœyîRﬁe
,

287 
BOOL
 
fInB©ée
,

288 
WORD
 
wDeÁu…Magic


309 
WORD
 
w
;

310 
i
, 
j
;

312 
g_iCuºítIãm
 = 0;

313 
g_iNumMagic
 = 0;

315 
g_wPœyîMP
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
];

320 
i
 = 0; i < 
MAX_PLAYER_MAGICS
; i++)

322 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
];

323 i‡(
w
 != 0)

325 
rgMagicIãm
[
g_iNumMagic
].
wMagic
 = 
w
;

327 
w
 = 
gpGlobÆs
->
g
.
rgObje˘
[w].
magic
.
wMagicNumbî
;

328 
rgMagicIãm
[
g_iNumMagic
].
wMP
 = 
gpGlobÆs
->
g
.
ÕrgMagic
[
w
].
wCo°MP
;

330 
rgMagicIãm
[
g_iNumMagic
].
fE«bÀd
 = 
TRUE
;

332 i‡(
rgMagicIãm
[
g_iNumMagic
].
wMP
 > 
g_wPœyîMP
)

334 
rgMagicIãm
[
g_iNumMagic
].
fE«bÀd
 = 
FALSE
;

337 
w
 = 
gpGlobÆs
->
g
.
rgObje˘
[
rgMagicIãm
[
g_iNumMagic
].
wMagic
].
magic
.
wFœgs
;

338 i‡(
fInB©ée
)

340 i‡(!(
w
 & 
kMagicFœgUßbÀInB©ée
))

342 
rgMagicIãm
[
g_iNumMagic
].
fE«bÀd
 = 
FALSE
;

347 i‡(!(
w
 & 
kMagicFœgUßbÀOutsideB©ée
))

349 
rgMagicIãm
[
g_iNumMagic
].
fE«bÀd
 = 
FALSE
;

353 
g_iNumMagic
++;

360 
i
 = 0; i < 
g_iNumMagic
 - 1; i++)

362 
BOOL
 
fCom∂ëed
 = 
TRUE
;

364 
j
 = 0; j < 
g_iNumMagic
 - 1 - 
i
; j++)

366 i‡(
rgMagicIãm
[
j
].
wMagic
 >ÑgMagicItem[j + 1].wMagic)

368 
MAGICITEM
 
t
 = 
rgMagicIãm
[
j
];

369 
rgMagicIãm
[
j
] =ÑgMagicItem[j + 1];

370 
rgMagicIãm
[
j
 + 1] = 
t
;

372 
fCom∂ëed
 = 
FALSE
;

376 i‡(
fCom∂ëed
)

385 
i
 = 0; i < 
g_iNumMagic
; i++)

387 i‡(
rgMagicIãm
[
i
].
wMagic
 =
wDeÁu…Magic
)

389 
g_iCuºítIãm
 = 
i
;

393 
	}
}

395 
WORD


396 
	$PAL_MagicSñe˘i⁄Míu
(

397 
WORD
 
wPœyîRﬁe
,

398 
BOOL
 
fInB©ée
,

399 
WORD
 
wDeÁu…Magic


420 
WORD
 
w
;

421 
i
;

422 
DWORD
 
dwTime
;

424 
	`PAL_MagicSñe˘i⁄MíuInô
(
wPœyîRﬁe
, 
fInB©ée
, 
wDeÁu…Magic
);

425 
	`PAL_CÀ¨KeySèã
();

427 
dwTime
 = 
	`SDL_GëTicks
();

429 
TRUE
)

431 
	`PAL_MakeS˚√
();

433 
w
 = 45;

435 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

437 
	`PAL_PœyîInfoBox
(
	`PAL_XY
(
w
, 165), 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
, 100,

438 
TIMEMETER_COLOR_DEFAULT
, 
FALSE
);

439 
w
 += 78;

442 
w
 = 
	`PAL_MagicSñe˘i⁄MíuUpd©e
();

443 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

445 
	`PAL_CÀ¨KeySèã
();

447 i‡(
w
 != 0xFFFF)

449  
w
;

452 
	`PAL_Pro˚ssEvít
();

453 
	`SDL_GëTicks
(Ë< 
dwTime
)

455 
	`PAL_Pro˚ssEvít
();

456 i‡(
g_I≈utSèã
.
dwKeyPªss
 != 0)

460 
	`SDL_Dñay
(5);

463 
dwTime
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

467 
	}
}

	@magicmenu.h

22 #i‚de‡
MAGICMENU_H


23 
	#MAGICMENU_H


	)

25 #ifde‡
__˝lu•lus


30 
WORD


31 
PAL_MagicSñe˘i⁄MíuUpd©e
(

32 
VOID


35 
VOID


36 
PAL_MagicSñe˘i⁄MíuInô
(

37 
WORD
 
wPœyîRﬁe
,

38 
BOOL
 
fInB©ée
,

39 
WORD
 
wDeÁu…Magic


42 
WORD


43 
PAL_MagicSñe˘i⁄Míu
(

44 
WORD
 
wPœyîRﬁe
,

45 
BOOL
 
fInB©ée
,

46 
WORD
 
wDeÁu…Magic


49 #ifde‡
__˝lu•lus


	@main.c

22 
	~"maö.h
"

23 
	~"gë›t.h
"

25 #ifde‡
PSP


26 
	~"maö_PSP.h
"

29 #i‡
deföed
 (
NDS
Ë&& deföed (
GEKKO
)

30 
	~<Át.h
>

33 #ifde‡
PAL_WIN95


34 
	#BITMAPNUM_SPLASH_UP
 3

	)

35 
	#BITMAPNUM_SPLASH_DOWN
 4

	)

36 
	#SPRITENUM_SPLASH_TITLE
 0x47

	)

37 
	#SPRITENUM_SPLASH_CRANE
 0x49

	)

38 
	#NUM_RIX_TITLE
 0x5

	)

40 
	#BITMAPNUM_SPLASH_UP
 0x26

	)

41 
	#BITMAPNUM_SPLASH_DOWN
 0x27

	)

42 
	#SPRITENUM_SPLASH_TITLE
 0x47

	)

43 
	#SPRITENUM_SPLASH_CRANE
 0x49

	)

44 
	#NUM_RIX_TITLE
 0x5

	)

46 
VOID


47 
	$PAL_Inô
(

48 
WORD
 
wS¸ìnWidth
,

49 
WORD
 
wS¸ìnHeight
,

50 
BOOL
 
fFuŒS¸ìn


71 
e
;

73 #i‡
	`deföed
 (
NDS
Ë&& deföed (
GEKKO
)

74 
	`ÁtInôDeÁu…
();

80 #i‡
	`deföed
(
DINGOO
)

81 i‡(
	`SDL_Inô
(
SDL_INIT_VIDEO
 | 
SDL_INIT_AUDIO
 | 
SDL_INIT_JOYSTICK
) == -1)

82 #ñi‡
	`deföed
 (
__WINPHONE__
Ë|| deföed (
__N3DS__
)

83 i‡(
	`SDL_Inô
(
SDL_INIT_VIDEO
 | 
SDL_INIT_AUDIO
) == -1)

85 i‡(
	`SDL_Inô
(
SDL_INIT_VIDEO
 | 
SDL_INIT_AUDIO
 | 
SDL_INIT_CDROM
 | 
SDL_INIT_NOPARACHUTE
 | 
SDL_INIT_JOYSTICK
) == -1)

88 #i‡
	`deföed
 (
_WIN32
Ë&& 
SDL_MAJOR_VERSION
 =1 && 
SDL_MINOR_VERSION
 <= 2

92 
	`puãnv
("SDL_VIDEODRIVER=windib");

93 i‡(
	`SDL_Inô
(
SDL_INIT_VIDEO
 | 
SDL_INIT_AUDIO
 | 
SDL_INIT_NOPARACHUTE
 | 
SDL_INIT_JOYSTICK
) == -1)

95 
	`Tîmö©eOnEº‹
("CouldÇŸ inôülizêSDL: %s.\n", 
	`SDL_GëEº‹
());

98 
	`Tîmö©eOnEº‹
("CouldÇŸ inôülizêSDL: %s.\n", 
	`SDL_GëEº‹
());

105 #ifde‡
GEKKO


106 
e
 = 
	`VIDEO_Inô_GEKKO
(
wS¸ìnWidth
, 
wS¸ìnHeight
, 
fFuŒS¸ìn
);

108 
e
 = 
	`VIDEO_Inô
(
wS¸ìnWidth
, 
wS¸ìnHeight
, 
fFuŒS¸ìn
);

110 i‡(
e
 != 0)

112 
	`Tîmö©eOnEº‹
("CouldÇŸ inôülizêVideo: %d.\n", 
e
);

115 
	`SDL_WM_SëC≠ti⁄
("Lﬂdög...", 
NULL
);

117 
e
 = 
	`PAL_InôGlobÆs
();

118 i‡(
e
 != 0)

120 
	`Tîmö©eOnEº‹
("CouldÇŸ inôülizêglobÆ d©a: %d.\n", 
e
);

123 
e
 = 
	`PAL_InôF⁄t
();

124 i‡(
e
 != 0)

126 
	`Tîmö©eOnEº‹
("CouldÇŸÜﬂd f⁄ts: %d.\n", 
e
);

129 
e
 = 
	`PAL_InôUI
();

130 i‡(
e
 != 0)

132 
	`Tîmö©eOnEº‹
("CouldÇŸ inôülizêUI subsy°em: %d.\n", 
e
);

135 
e
 = 
	`PAL_InôText
();

136 i‡(
e
 != 0)

138 
	`Tîmö©eOnEº‹
("CouldÇŸ inôülizêãxàsubsy°em: %d.\n", 
e
);

142 
	`PAL_InôResour˚s
();

143 
	`SOUND_O≥nAudio
();

145 #ifde‡
PAL_WIN95


146 #ifde‡
_DEBUG


147 
	`SDL_WM_SëC≠ti⁄
("PÆ WIN95 (Debug Buûd)", 
NULL
);

149 
	`SDL_WM_SëC≠ti⁄
("PÆ WIN95", 
NULL
);

152 #ifde‡
_DEBUG


153 
	`SDL_WM_SëC≠ti⁄
("PÆ (Debug Buûd)", 
NULL
);

155 
	`SDL_WM_SëC≠ti⁄
("PÆ", 
NULL
);

158 
	}
}

160 
VOID


161 
	$PAL_Shutdown
(

162 
VOID


179 
	`SOUND_Clo£Audio
();

180 
	`PAL_FªeF⁄t
();

181 
	`PAL_FªeResour˚s
();

182 
	`PAL_FªeGlobÆs
();

183 
	`PAL_FªeUI
();

184 
	`PAL_FªeText
();

185 
	`PAL_ShutdownI≈ut
();

186 
	`VIDEO_Shutdown
();

188 
	`UTIL_Clo£Log
();

190 
	`SDL_Quô
();

191 #i‡
	`deföed
(
GPH
)

192 
	`chdú
("/usr/gp2x");

193 
	`exe˛
("./gp2xmíu", "./gp2xmíu", 
NULL
);

195 
	}
}

197 
VOID


198 
	$PAL_Tødem¨kS¸ìn
(

199 
VOID


216 
	`PAL_SëPÆëã
(3, 
FALSE
);

217 
	`PAL_RNGPœy
(6, 0, 1000, 25);

218 
	`UTIL_Dñay
(1000);

219 
	`PAL_FadeOut
(1);

220 
	}
}

222 
VOID


223 
	$PAL_S∂ashS¸ìn
(

224 
VOID


241 
SDL_Cﬁ‹
 *
∑Àâe
 = 
	`PAL_GëPÆëã
(1, 
FALSE
);

242 
SDL_Cﬁ‹
 
rgCuºítPÆëã
[256];

243 
SDL_SurÁ˚
 *
ÕBôm≠Down
, *
ÕBôm≠Up
;

244 
SDL_Re˘
 
§¸e˘
, 
d°ª˘
;

245 
LPSPRITE
 
ÕS¥ôeCø√
;

246 
LPBITMAPRLE
 
ÕBôm≠TôÀ
;

247 
LPBYTE
 
buf
, 
buf2
;

248 
¸™ïos
[9][3], 
i
, 
iImgPos
 = 200, 
iCø√Føme
 = 0, 
iTôÀHeight
;

249 
DWORD
 
dwTime
, 
dwBegöTime
;

250 
BOOL
 
fU£CD
 = 
TRUE
;

252 i‡(
∑Àâe
 =
NULL
)

254 
	`Ârötf
(
°dîr
, "ERROR: PAL_SplashScreen():Öalette == NULL\n");

261 
buf
 = (
LPBYTE
)
	`UTIL_ˇŒoc
(1, 320 * 200 * 2);

262 
buf2
 = (
LPBYTE
)(
buf
 + 320 * 200);

263 
ÕS¥ôeCø√
 = (
LPSPRITE
)
buf2
 + 32000;

268 
ÕBôm≠Down
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
, 320, 200, 8,

269 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
, gpS¸ìn->f‹m©->
Bmask
,

270 
gpS¸ìn
->
f‹m©
->
Amask
);

271 
ÕBôm≠Up
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
, 320, 200, 8,

272 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
, gpS¸ìn->f‹m©->
Bmask
,

273 
gpS¸ìn
->
f‹m©
->
Amask
);

275 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

276 
	`SDL_SëSurÁ˚PÆëã
(
ÕBôm≠Down
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

277 
	`SDL_SëSurÁ˚PÆëã
(
ÕBôm≠Up
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

279 
	`SDL_SëPÆëã
(
ÕBôm≠Down
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

280 
	`SDL_SëPÆëã
(
ÕBôm≠Up
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

286 
	`PAL_MKFRódChunk
(
buf
, 320 * 200, 
BITMAPNUM_SPLASH_UP
, 
gpGlobÆs
->
f
.
ÂFBP
);

287 
	`Decom¥ess
(
buf
, 
buf2
, 320 * 200);

288 
	`PAL_FBPBlôToSurÁ˚
(
buf2
, 
ÕBôm≠Up
);

289 
	`PAL_MKFRódChunk
(
buf
, 320 * 200, 
BITMAPNUM_SPLASH_DOWN
, 
gpGlobÆs
->
f
.
ÂFBP
);

290 
	`Decom¥ess
(
buf
, 
buf2
, 320 * 200);

291 
	`PAL_FBPBlôToSurÁ˚
(
buf2
, 
ÕBôm≠Down
);

292 
	`PAL_MKFRódChunk
(
buf
, 32000, 
SPRITENUM_SPLASH_TITLE
, 
gpGlobÆs
->
f
.
ÂMGO
);

293 
	`Decom¥ess
(
buf
, 
buf2
, 32000);

294 
ÕBôm≠TôÀ
 = (
LPBITMAPRLE
)
	`PAL_S¥ôeGëFøme
(
buf2
, 0);

295 
	`PAL_MKFRódChunk
(
buf
, 32000, 
SPRITENUM_SPLASH_CRANE
, 
gpGlobÆs
->
f
.
ÂMGO
);

296 
	`Decom¥ess
(
buf
, 
ÕS¥ôeCø√
, 32000);

298 
iTôÀHeight
 = 
	`PAL_RLEGëHeight
(
ÕBôm≠TôÀ
);

299 
ÕBôm≠TôÀ
[2] = 0;

300 
ÕBôm≠TôÀ
[3] = 0;

305 
i
 = 0; i < 9; i++)

307 
¸™ïos
[
i
][0] = 
	`R™domL⁄g
(300, 600);

308 
¸™ïos
[
i
][1] = 
	`R™domL⁄g
(0, 80);

309 
¸™ïos
[
i
][2] = 
	`R™domL⁄g
(0, 8);

315 i‡(!
	`SOUND_PœyCDA
(7))

317 
fU£CD
 = 
FALSE
;

318 
	`PAL_PœyMUS
(
NUM_RIX_TITLE
, 
TRUE
, 2);

324 
	`PAL_Pro˚ssEvít
();

325 
	`PAL_CÀ¨KeySèã
();

327 
dwBegöTime
 = 
	`SDL_GëTicks
();

329 
§¸e˘
.
x
 = 0;

330 
§¸e˘
.
w
 = 320;

331 
d°ª˘
.
x
 = 0;

332 
d°ª˘
.
w
 = 320;

334 
TRUE
)

336 
	`PAL_Pro˚ssEvít
();

337 
dwTime
 = 
	`SDL_GëTicks
(Ë- 
dwBegöTime
;

342 i‡(
dwTime
 < 15000)

344 
i
 = 0; i < 256; i++)

346 
rgCuºítPÆëã
[
i
].
r
 = (
BYTE
)(
∑Àâe
[i].∏* (()
dwTime
 / 15000));

347 
rgCuºítPÆëã
[
i
].
g
 = (
BYTE
)(
∑Àâe
[i].g * (()
dwTime
 / 15000));

348 
rgCuºítPÆëã
[
i
].
b
 = (
BYTE
)(
∑Àâe
[i].b * (()
dwTime
 / 15000));

352 
	`VIDEO_SëPÆëã
(
rgCuºítPÆëã
);

353 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

354 
	`SDL_SëSurÁ˚PÆëã
(
ÕBôm≠Down
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

355 
	`SDL_SëSurÁ˚PÆëã
(
ÕBôm≠Up
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

357 
	`SDL_SëPÆëã
(
ÕBôm≠Down
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

358 
	`SDL_SëPÆëã
(
ÕBôm≠Up
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

364 i‡(
iImgPos
 > 1)

366 
iImgPos
--;

372 
§¸e˘
.
y
 = 
iImgPos
;

373 
§¸e˘
.
h
 = 200 - 
iImgPos
;

375 
d°ª˘
.
y
 = 0;

376 
d°ª˘
.
h
 = 
§¸e˘
.h;

378 
	`SDL_BlôSurÁ˚
(
ÕBôm≠Up
, &
§¸e˘
, 
gpS¸ìn
, &
d°ª˘
);

383 
§¸e˘
.
y
 = 0;

384 
§¸e˘
.
h
 = 
iImgPos
;

386 
d°ª˘
.
y
 = 200 - 
iImgPos
;

387 
d°ª˘
.
h
 = 
§¸e˘
.h;

389 
	`SDL_BlôSurÁ˚
(
ÕBôm≠Down
, &
§¸e˘
, 
gpS¸ìn
, &
d°ª˘
);

394 
i
 = 0; i < 9; i++)

396 
LPCBITMAPRLE
 
ÕFøme
 = 
	`PAL_S¥ôeGëFøme
(
ÕS¥ôeCø√
,

397 
¸™ïos
[
i
][2] = (¸™ïos[i][2] + (
iCø√Føme
 & 1)) % 8);

398 
¸™ïos
[
i
][1] +((
iImgPos
 > 1) && (iImgPos & 1)) ? 1 : 0;

399 
	`PAL_RLEBlôToSurÁ˚
(
ÕFøme
, 
gpS¸ìn
,

400 
	`PAL_XY
(
¸™ïos
[
i
][0], cranepos[i][1]));

401 
¸™ïos
[
i
][0]--;

403 
iCø√Føme
++;

408 i‡(
	`PAL_RLEGëHeight
(
ÕBôm≠TôÀ
Ë< 
iTôÀHeight
)

413 
WORD
 
w
 = 
ÕBôm≠TôÀ
[2] | (lpBitmapTitle[3] << 8);

414 
w
++;

415 
ÕBôm≠TôÀ
[2] = (
w
 & 0xFF);

416 
ÕBôm≠TôÀ
[3] = (
w
 >> 8);

419 
	`PAL_RLEBlôToSurÁ˚
(
ÕBôm≠TôÀ
, 
gpS¸ìn
, 
	`PAL_XY
(255, 10));

420 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

425 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyMíu
 | 
kKeySórch
))

430 
ÕBôm≠TôÀ
[2] = 
iTôÀHeight
 & 0xFF;

431 
ÕBôm≠TôÀ
[3] = 
iTôÀHeight
 >> 8;

433 
	`PAL_RLEBlôToSurÁ˚
(
ÕBôm≠TôÀ
, 
gpS¸ìn
, 
	`PAL_XY
(255, 10));

435 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

437 i‡(
dwTime
 < 15000)

442 
dwTime
 < 15000)

444 
i
 = 0; i < 256; i++)

446 
rgCuºítPÆëã
[
i
].
r
 = (
BYTE
)(
∑Àâe
[i].∏* (()
dwTime
 / 15000));

447 
rgCuºítPÆëã
[
i
].
g
 = (
BYTE
)(
∑Àâe
[i].g * (()
dwTime
 / 15000));

448 
rgCuºítPÆëã
[
i
].
b
 = (
BYTE
)(
∑Àâe
[i].b * (()
dwTime
 / 15000));

450 
	`VIDEO_SëPÆëã
(
rgCuºítPÆëã
);

451 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

452 
	`SDL_SëSurÁ˚PÆëã
(
ÕBôm≠Down
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

453 
	`SDL_SëSurÁ˚PÆëã
(
ÕBôm≠Up
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

455 
	`SDL_SëPÆëã
(
ÕBôm≠Down
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

456 
	`SDL_SëPÆëã
(
ÕBôm≠Up
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

458 
	`UTIL_Dñay
(8);

459 
dwTime
 += 250;

461 
	`UTIL_Dñay
(500);

473 
	`PAL_Pro˚ssEvít
();

474 
	`SDL_GëTicks
(Ë- 
dwBegöTime
 < 
dwTime
 + 85)

476 
	`SDL_Dñay
(1);

477 
	`PAL_Pro˚ssEvít
();

481 
	`SDL_FªeSurÁ˚
(
ÕBôm≠Down
);

482 
	`SDL_FªeSurÁ˚
(
ÕBôm≠Up
);

483 
	`‰ì
(
buf
);

485 i‡(!
fU£CD
)

487 
	`PAL_PœyMUS
(0, 
FALSE
, 1);

490 
	`PAL_FadeOut
(1);

491 
	}
}

494 
	$maö
(

495 
¨gc
,

496 *
¨gv
[]

515 
WORD
 
wS¸ìnWidth
 = 0, 
wS¸ìnHeight
 = 0;

516 
c
;

517 
BOOL
 
fFuŒS¸ìn
 = 
FALSE
;

519 
	`sy°em
("mkdú -∞"
PAL_SAVE_PREFIX
);

520 #i‡
	`deföed
(
__APPLE__
Ë&& !deföed(
__IOS__
)

521 *
p
 = 
	`°r°r
(
¨gv
[0], "/Pal.app/");

523 i‡(
p
 !
NULL
)

525 
buf
[4096];

526 
	`°r˝y
(
buf
, 
¨gv
[0]);

527 
buf
[
p
 - 
¨gv
[0]] = '\0';

528 
	`chdú
(
buf
);

532 #ifde‡
__WINPHONE__


533 
	`SDL_SëHöt
(
SDL_HINT_ORIENTATIONS
, "LandscapeRight");

534 
	`SDL_SëHöt
(
SDL_HINT_WINRT_HANDLE_BACK_BUTTON
, "1");

537 
	`UTIL_O≥nLog
();

539 #ifde‡
_WIN32


540 #i‡
SDL_MAJOR_VERSION
 =1 && 
SDL_MINOR_VERSION
 <= 2

541 
	`puãnv
("SDL_VIDEODRIVER=directx");

545 #i‚de‡
__SYMBIAN32__


549 (
c
 = 
	`gë›t
(
¨gc
, 
¨gv
, "w:h:fjm")) != -1)

551 
c
)

557 
wS¸ìnWidth
 = 
	`©oi
(
›èrg
);

558 i‡(
wS¸ìnHeight
 == 0)

560 
wS¸ìnHeight
 = 
wS¸ìnWidth
 * 200 / 320;

568 
wS¸ìnHeight
 = 
	`©oi
(
›èrg
);

569 i‡(
wS¸ìnWidth
 == 0)

571 
wS¸ìnWidth
 = 
wS¸ìnHeight
 * 320 / 200;

579 
fFuŒS¸ìn
 = 
TRUE
;

586 
g_fU£Joy°ick
 = 
FALSE
;

589 #ifde‡
PAL_HAS_NATIVEMIDI


594 
g_fU£Midi
 = 
TRUE
;

604 i‡(
wS¸ìnWidth
 == 0)

606 #ifde‡
__SYMBIAN32__


607 #ifde‡
__S60_5X__


608 
wS¸ìnWidth
 = 640;

609 
wS¸ìnHeight
 = 360;

611 
wS¸ìnWidth
 = 320;

612 
wS¸ìnHeight
 = 240;

615 #i‡
	`deföed
(
GPH
Ë|| deföed(
DINGOO
Ë|| deföed (
__N3DS__
)

616 
wS¸ìnWidth
 = 320;

617 
wS¸ìnHeight
 = 200;

618 #ñi‡
	`deföed
 (
__IOS__
Ë|| deföed (
__ANDROID__
)

619 
wS¸ìnWidth
 = 320;

620 
wS¸ìnHeight
 = 200;

622 
wS¸ìnWidth
 = 640;

623 
wS¸ìnHeight
 = 
fFuŒS¸ìn
 ? 480 : 400;

628 #ifde‡
__N3DS__


629 
fFuŒS¸ìn
 = 
TRUE
;

635 #ifde‡
PSP


636 
	`sdÕÆ_p•_öô
();

638 
	`PAL_Inô
(
wS¸ìnWidth
, 
wS¸ìnHeight
, 
fFuŒS¸ìn
);

643 
	`PAL_Tødem¨kS¸ìn
();

644 
	`PAL_S∂ashS¸ìn
();

649 
	`PAL_GameMaö
();

654 
	`as£π
(
FALSE
);

656 
	}
}

	@main.h

22 #i‚de‡
MAIN_H


23 
	#MAIN_H


	)

25 
	~"comm⁄.h
"

26 
	~"utû.h
"

27 
	~"∑lcomm⁄.h
"

28 
	~"f⁄t.h
"

29 
	~"globÆ.h
"

30 
	~"m≠.h
"

31 
	~"ªs.h
"

32 
	~"s˚√.h
"

33 
	~"rix∂ay.h
"

34 
	~"sound.h
"

35 
	~"video.h
"

36 
	~"öput.h
"

37 
	~"ãxt.h
"

38 
	~"ui.h
"

39 
	~"uigame.h
"

40 
	~"uib©ée.h
"

41 
	~"magicmíu.h
"

42 
	~"ôemmíu.h
"

43 
	~"∑Àâe.h
"

44 
	~"∫g∂ay.h
"

45 
	~"ídög.h
"

46 
	~"s¸ùt.h
"

47 
	~"b©ée.h
"

48 
	~"fight.h
"

49 
	~"∂ay.h
"

50 
	~"game.h
"

52 #ifde‡
PAL_HAS_NATIVEMIDI


53 
	~"midi.h
"

56 
VOID


57 
PAL_Shutdown
(

58 
VOID


	@map.c

22 
	~"∑lcomm⁄.h
"

23 
	~"m≠.h
"

25 
LPPALMAP


26 
	$PAL_LﬂdM≠
(

27 
INT
 
iM≠Num
,

28 
FILE
 *
ÂM≠MKF
,

29 
FILE
 *
ÂG›MKF


53 
LPBYTE
 
buf
;

54 
INT
 
size
, 
i
, 
j
;

55 
LPPALMAP
 
m≠
;

60 i‡(
iM≠Num
 >
	`PAL_MKFGëChunkCou¡
(
ÂM≠MKF
) ||

61 
iM≠Num
 >
	`PAL_MKFGëChunkCou¡
(
ÂG›MKF
) ||

62 
iM≠Num
 <= 0)

64  
NULL
;

70 
size
 = 
	`PAL_MKFGëChunkSize
(
iM≠Num
, 
ÂM≠MKF
);

75 
buf
 = (
LPBYTE
)
	`mÆloc
(
size
);

76 i‡(
buf
 =
NULL
)

78  
NULL
;

84 
m≠
 = (
LPPALMAP
)
	`mÆloc
((
PALMAP
));

85 i‡(
m≠
 =
NULL
)

87  
NULL
;

93 i‡(
	`PAL_MKFRódChunk
(
buf
, 
size
, 
iM≠Num
, 
ÂM≠MKF
) < 0)

95 
	`‰ì
(
buf
);

96 
	`‰ì
(
m≠
);

97  
NULL
;

103 i‡(
	`Decom¥ess
(
buf
, (
LPBYTE
)(
m≠
->
Tûes
), (map->Tiles)) < 0)

105 
	`‰ì
(
m≠
);

106 
	`‰ì
(
buf
);

107  
NULL
;

113 
	`‰ì
(
buf
);

118 
i
 = 0; i < 128; i++)

120 
j
 = 0; j < 64; j++)

122 
m≠
->
Tûes
[
i
][
j
][0] = 
	`SWAP32
(map->Tiles[i][j][0]);

123 
m≠
->
Tûes
[
i
][
j
][1] = 
	`SWAP32
(map->Tiles[i][j][1]);

130 
size
 = 
	`PAL_MKFGëChunkSize
(
iM≠Num
, 
ÂG›MKF
);

131 i‡(
size
 <= 0)

133 
	`‰ì
(
m≠
);

134  
NULL
;

136 
m≠
->
pTûeS¥ôe
 = (
LPSPRITE
)
	`mÆloc
(
size
);

137 i‡(
m≠
->
pTûeS¥ôe
 =
NULL
)

139 
	`‰ì
(
m≠
);

140  
NULL
;

142 i‡(
	`PAL_MKFRódChunk
(
m≠
->
pTûeS¥ôe
, 
size
, 
iM≠Num
, 
ÂG›MKF
) < 0)

144 
	`‰ì
(
m≠
);

145  
NULL
;

151 
m≠
->
iM≠Num
 = iMapNum;

153  
m≠
;

154 
	}
}

156 
VOID


157 
	$PAL_FªeM≠
(

158 
LPPALMAP
 
ÕM≠


178 i‡(
ÕM≠
 =
NULL
)

186 i‡(
ÕM≠
->
pTûeS¥ôe
 !
NULL
)

188 
	`‰ì
(
ÕM≠
->
pTûeS¥ôe
);

194 
	`‰ì
(
ÕM≠
);

195 
	}
}

197 
LPCBITMAPRLE


198 
	$PAL_M≠GëTûeBôm≠
(

199 
BYTE
 
x
,

200 
BYTE
 
y
,

201 
BYTE
 
h
,

202 
BYTE
 
ucLayî
,

203 
LPCPALMAP
 
ÕM≠


229 
DWORD
 
d
;

234 i‡(
x
 >64 || 
y
 >128 || 
h
 > 1 || 
ÕM≠
 =
NULL
)

236  
NULL
;

242 
d
 = 
ÕM≠
->
Tûes
[
y
][
x
][
h
];

244 i‡(
ucLayî
 == 0)

249  
	`PAL_S¥ôeGëFøme
(
ÕM≠
->
pTûeS¥ôe
, (
d
 & 0xFF) | ((d >> 4) & 0x100));

256 
d
 >>= 16;

257  
	`PAL_S¥ôeGëFøme
(
ÕM≠
->
pTûeS¥ôe
, ((
d
 & 0xFF) | ((d >> 4) & 0x100)) - 1);

259 
	}
}

261 
BOOL


262 
	$PAL_M≠TûeIsBlocked
(

263 
BYTE
 
x
,

264 
BYTE
 
y
,

265 
BYTE
 
h
,

266 
LPCPALMAP
 
ÕM≠


293 i‡(
x
 >64 || 
y
 >128 || 
h
 > 1 || 
ÕM≠
 =
NULL
)

295  
TRUE
;

298  (
ÕM≠
->
Tûes
[
y
][
x
][
h
] & 0x2000) >> 13;

299 
	}
}

301 
BYTE


302 
	$PAL_M≠GëTûeHeight
(

303 
BYTE
 
x
,

304 
BYTE
 
y
,

305 
BYTE
 
h
,

306 
BYTE
 
ucLayî
,

307 
LPCPALMAP
 
ÕM≠


334 
DWORD
 
d
;

339 i‡(
y
 >128 || 
x
 >64 || 
h
 > 1 || 
ÕM≠
 =
NULL
)

344 
d
 = 
ÕM≠
->
Tûes
[
y
][
x
][
h
];

346 i‡(
ucLayî
)

348 
d
 >>= 16;

351 
d
 >>= 8;

352  (
BYTE
)(
d
 & 0xf);

353 
	}
}

355 
VOID


356 
	$PAL_M≠BlôToSurÁ˚
(

357 
LPCPALMAP
 
ÕM≠
,

358 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

359 c⁄° 
SDL_Re˘
 *
ÕSrcRe˘
,

360 
BYTE
 
ucLayî


383 
sx
, 
sy
, 
dx
, 
dy
, 
x
, 
y
, 
h
, 
xPos
, 
yPos
;

384 
LPCBITMAPRLE
 
ÕBôm≠
 = 
NULL
;

389 
sy
 = 
ÕSrcRe˘
->
y
 / 16 - 1;

390 
dy
 = (
ÕSrcRe˘
->
y
 +ÜpSrcRe˘->
h
) / 16 + 2;

391 
sx
 = 
ÕSrcRe˘
->
x
 / 32 - 1;

392 
dx
 = (
ÕSrcRe˘
->
x
 +ÜpSrcRe˘->
w
) / 32 + 2;

397 
yPos
 = 
sy
 * 16 - 8 - 
ÕSrcRe˘
->
y
;

398 
y
 = 
sy
; y < 
dy
; y++)

400 
h
 = 0; h < 2; h++, 
yPos
 += 8)

402 
xPos
 = 
sx
 * 32 + 
h
 * 16 - 16 - 
ÕSrcRe˘
->
x
;

403 
x
 = 
sx
; x < 
dx
; x++, 
xPos
 += 32)

405 
ÕBôm≠
 = 
	`PAL_M≠GëTûeBôm≠
((
BYTE
)
x
, (BYTE)
y
, (BYTE)
h
, 
ucLayî
, 
ÕM≠
);

406 i‡(
ÕBôm≠
 =
NULL
)

408 i‡(
ucLayî
)

412 
ÕBôm≠
 = 
	`PAL_M≠GëTûeBôm≠
(0, 0, 0, 
ucLayî
, 
ÕM≠
);

414 
	`PAL_RLEBlôToSurÁ˚
(
ÕBôm≠
, 
ÕSurÁ˚
, 
	`PAL_XY
(
xPos
, 
yPos
));

418 
	}
}

	@map.h

22 #i‚de‡
_MAP_H


23 
	#_MAP_H


	)

25 #ifde‡
__˝lu•lus


30 
	~"comm⁄.h
"

64 
	sègPALMAP


66 
DWORD
 
Tûes
[128][64][2];

67 
LPSPRITE
 
pTûeS¥ôe
;

68 
INT
 
iM≠Num
;

69 } 
	tPALMAP
, *
	tLPPALMAP
;

71 c⁄° 
	tPALMAP
 *
	tLPCPALMAP
;

73 
LPPALMAP


74 
PAL_LﬂdM≠
(

75 
INT
 
iM≠Num
,

76 
FILE
 *
ÂM≠MKF
,

77 
FILE
 *
ÂG›MKF


80 
VOID


81 
PAL_FªeM≠
(

82 
LPPALMAP
 
ÕM≠


85 
LPCBITMAPRLE


86 
PAL_M≠GëTûeBôm≠
(

87 
BYTE
 
x
,

88 
BYTE
 
y
,

89 
BYTE
 
h
,

90 
BYTE
 
ucLayî
,

91 
LPCPALMAP
 
ÕM≠


94 
BOOL


95 
PAL_M≠TûeIsBlocked
(

96 
BYTE
 
x
,

97 
BYTE
 
y
,

98 
BYTE
 
h
,

99 
LPCPALMAP
 
ÕM≠


102 
BYTE


103 
PAL_M≠GëTûeHeight
(

104 
BYTE
 
x
,

105 
BYTE
 
y
,

106 
BYTE
 
h
,

107 
BYTE
 
ucLayî
,

108 
LPCPALMAP
 
ÕM≠


111 
VOID


112 
PAL_M≠BlôToSurÁ˚
(

113 
LPCPALMAP
 
ÕM≠
,

114 
SDL_SurÁ˚
 *
ÕSurÁ˚
,

115 c⁄° 
SDL_Re˘
 *
ÕSrcRe˘
,

116 
BYTE
 
ucLayî


122 
	#PAL_XYH_TO_POS
(
x
, 
y
, 
h
) \

123 
	`PAL_POS
((
x
Ë* 32 + (
h
Ë* 16, (
y
Ë* 16 + (hË* 8)

	)

128 
	#PAL_POS_TO_XYH
(
pos
, 
x
, 
y
, 
h
) \

130 (
h
Ë(
BYTE
)(((
	`PAL_X
(
pos
) % 32) != 0) ? 1 : 0); \

131 (
x
Ë(
BYTE
)(
	`PAL_X
(
pos
) / 32); \

132 (
y
Ë(
BYTE
)(
	`PAL_Y
(
pos
) / 16); \

133 }

	)

135 #ifde‡
__˝lu•lus


	@midi.c

22 
	~"maö.h
"

24 #i‡!
deföed
 (
CYGWIN
Ë&& !deföed (
DINGOO
Ë&& !deföed (
GEKKO
Ë&& !deföed (
GPH
Ë&& !deföed(
__N3DS__
)

26 
INT
 
	giMidCuºít
 = -1;

27 
BOOL
 
	gfMidLo›
 = 
FALSE
;

29 
N©iveMidiS⁄g
 *
	gg_pMid
 = 
NULL
;

31 
VOID


32 
	$MIDI_Pœy
(

33 
INT
 
iNumRIX
,

34 
BOOL
 
fLo›


53 
FILE
 *
Â
;

54 *
buf
;

55 
size
;

56 
SDL_RW›s
 *
rw
;

57 #ifde‡
PAL_WIN95


58 
fûíame
[1024];

61 i‡(
g_pMid
 !
NULL
 && 
iNumRIX
 =
iMidCuºít
 && 
	`«tive_midi_a˘ive
())

66 
	`SOUND_PœyCDA
(-1);

67 
	`«tive_midi_‰ìs⁄g
(
g_pMid
);

68 
g_pMid
 = 
NULL
;

69 
iMidCuºít
 = -1;

71 i‡(
g_fNoMusic
 || 
iNumRIX
 <= 0)

76 #ifde‡
PAL_WIN95


77 
	`•rötf
(
fûíame
, "%s/musics/%.3d.mid", 
PAL_PREFIX
, 
iNumRIX
);

79 
g_pMid
 = 
	`«tive_midi_lﬂds⁄g
(
fûíame
);

80 i‡(
g_pMid
 !
NULL
)

82 
	`«tive_midi_°¨t
(
g_pMid
);

84 
iMidCuºít
 = 
iNumRIX
;

85 
fMidLo›
 = 
fLo›
;

88 
Â
 = 
	`UTIL_O≥nFûe
("midi.mkf");

89 i‡(
Â
 =
NULL
)

94 i‡(
iNumRIX
 > 
	`PAL_MKFGëChunkCou¡
(
Â
))

96 
	`f˛o£
(
Â
);

100 
size
 = 
	`PAL_MKFGëChunkSize
(
iNumRIX
, 
Â
);

101 i‡(
size
 <= 0)

103 
	`f˛o£
(
Â
);

107 
buf
 = (*)
	`UTIL_mÆloc
(
size
);

109 
	`PAL_MKFRódChunk
((
LPBYTE
)
buf
, 
size
, 
iNumRIX
, 
Â
);

110 
	`f˛o£
(
Â
);

112 
rw
 = 
	`SDL_RWFromC⁄°Mem
((c⁄° *)
buf
, 
size
);

114 
g_pMid
 = 
	`«tive_midi_lﬂds⁄g_RW
(
rw
);

115 i‡(
g_pMid
 !
NULL
)

117 
	`«tive_midi_°¨t
(
g_pMid
);

119 
iMidCuºít
 = 
iNumRIX
;

120 
fMidLo›
 = 
fLo›
;

123 
	`SDL_RW˛o£
(
rw
);

124 
	`‰ì
(
buf
);

126 
	}
}

128 
VOID


129 
	$MIDI_CheckLo›
(

130 
VOID


133 i‡(
fMidLo›
 && 
g_pMid
 !
NULL
 && !
	`«tive_midi_a˘ive
())

135 
	`MIDI_Pœy
(
iMidCuºít
, 
TRUE
);

137 
	}
}

	@midi.h

22 #i‚de‡
PAL_MIDI_H


23 
	#PAL_MIDI_H


	)

25 
	~"comm⁄.h
"

27 #ifde‡
__˝lu•lus


32 
	~"«tive_midi/«tive_midi.h
"

34 
VOID


35 
MIDI_Pœy
(

36 
INT
 
iNumRIX
,

37 
BOOL
 
fLo›


40 
VOID


41 
MIDI_CheckLo›
(

42 
VOID


45 #ifde‡
__˝lu•lus


	@native_midi/native_midi.h

23 #i‚de‡
_NATIVE_MIDI_H_


24 
	#_NATIVE_MIDI_H_


	)

26 
	~<SDL_rw›s.h
>

28 
_N©iveMidiS⁄g
 
	tN©iveMidiS⁄g
;

30 
«tive_midi_dëe˘
();

31 
N©iveMidiS⁄g
 *
«tive_midi_lﬂds⁄g
(c⁄° *
midifûe
);

32 
N©iveMidiS⁄g
 *
«tive_midi_lﬂds⁄g_RW
(
SDL_RW›s
 *
rw
);

33 
«tive_midi_‰ìs⁄g
(
N©iveMidiS⁄g
 *
s⁄g
);

34 
«tive_midi_°¨t
(
N©iveMidiS⁄g
 *
s⁄g
);

35 
«tive_midi_°›
();

36 
«tive_midi_a˘ive
();

37 
«tive_midi_£tvﬁume
(
vﬁume
);

38 c⁄° *
«tive_midi_îr‹
();

	@native_midi/native_midi_common.c

24 
	~"«tive_midi_comm⁄.h
"

26 
	~"SDL.h
"

28 
	~<°dio.h
>

29 
	~<°dlib.h
>

30 
	~<°rög.h
>

31 
	~<limôs.h
>

41 
Uöt8
 *
	md©a
;

42 
	mÀn
;

43 } 
	tMIDITøck
;

48 
	mdivisi⁄
;

49 
	mnTøcks
;

50 
MIDITøck
 *
	måack
;

51 } 
	tMIDIFûe
;

55 #i‡
SDL_BYTEORDER
 =
SDL_BIG_ENDIAN


56 
	#BE_SHORT
(
x
Ë(x)

	)

57 
	#BE_LONG
(
x
Ë(x)

	)

59 
	#BE_SHORT
(
x
Ë((((x)&0xFF)<<8Ë| (((x)>>8)&0xFF))

	)

60 
	#BE_LONG
(
x
) ((((x)&0x0000FF)<<24) | \

61 (((
x
)&0x00FF00)<<8) | \

62 (((
x
)&0xFF0000)>>8) | \

63 (((
x
)>>24)&0xFF))

	)

69 
	$GëVLQ
(
MIDITøck
 *
åack
, *
cuºítPos
)

71 
l
 = 0;

72 
Uöt8
 
c
;

75 
c
 = 
åack
->
d©a
[*
cuºítPos
];

76 (*
cuºítPos
)++;

77 
l
 +(
c
 & 0x7f);

78 i‡(!(
c
 & 0x80))

79  
l
;

80 
l
 <<= 7;

82 
	}
}

85 
MIDIEvít
 *
	$Cª©eEvít
(
Uöt32
 
time
, 
Uöt8
 
evít
, Uöt8 
a
, Uöt8 
b
)

87 
MIDIEvít
 *
√wEvít
;

89 
√wEvít
 = 
	`ˇŒoc
(1, (
MIDIEvít
));

90 i‡(
√wEvít
)

92 
√wEvít
->
time
 =Åime;

93 
√wEvít
->
°©us
 = 
evít
;

94 
√wEvít
->
d©a
[0] = 
a
;

95 
√wEvít
->
d©a
[1] = 
b
;

98 
	`¥ötf
("Out of memory");

100  
√wEvít
;

101 
	}
}

104 
MIDIEvít
 *
	$MIDITøcktoSåóm
(
MIDITøck
 *
åack
)

106 
Uöt32
 
©ime
 = 0;

107 
Uöt32
 
Àn
 = 0;

108 
Uöt8
 
evít
,
ty≥
,
a
,
b
;

109 
Uöt8
 
œ°°©us
 = 0;

110 
Uöt8
 
œ°ch™
 = 0;

111 
cuºítPos
 = 0;

112 
íd
 = 0;

113 
MIDIEvít
 *
hód
 = 
	`Cª©eEvít
(0,0,0,0);

114 
MIDIEvít
 *
cuºítEvít
 = 
hód
;

116 !
íd
)

118 i‡(
cuºítPos
 >
åack
->
Àn
)

121 
©ime
 +
	`GëVLQ
(
åack
, &
cuºítPos
);

122 
evít
 = 
åack
->
d©a
[
cuºítPos
++];

125 i‡(((
evít
>>4Ë& 0x0FË=
MIDI_STATUS_SYSEX
)

127 i‡(
evít
 == 0xFF)

129 
ty≥
 = 
åack
->
d©a
[
cuºítPos
];

130 
cuºítPos
++;

131 
ty≥
)

134 
íd
 = 1;

146 
ty≥
 = 0;

148 
Àn
 = 
	`GëVLQ
(
åack
, &
cuºítPos
);

151 
cuºítEvít
->
√xt
 = 
	`Cª©eEvít
(
©ime
, 
evít
, 
ty≥
, 0);

152 
cuºítEvít
 = cuºítEvít->
√xt
;

153 i‡(
NULL
 =
cuºítEvít
)

155 
	`FªeMIDIEvítLi°
(
hód
);

156  
NULL
;

158 i‡(
Àn
)

160 
cuºítEvít
->
exåaLí
 = 
Àn
;

161 
cuºítEvít
->
exåaD©a
 = 
	`mÆloc
(
Àn
);

162 
	`mem˝y
(
cuºítEvít
->
exåaD©a
, &(
åack
->
d©a
[
cuºítPos
]), 
Àn
);

163 
cuºítPos
 +
Àn
;

168 
a
 = 
evít
;

169 i‡(
a
 & 0x80)

172 
œ°ch™
 = 
a
 & 0x0F;

173 
œ°°©us
 = (
a
>>4) & 0x0F;

176 
a
 = 
åack
->
d©a
[
cuºítPos
++] & 0x7F;

178 
œ°°©us
)

180 
MIDI_STATUS_NOTE_OFF
:

181 
MIDI_STATUS_NOTE_ON
:

182 
MIDI_STATUS_AFTERTOUCH
:

183 
MIDI_STATUS_CONTROLLER
:

184 
MIDI_STATUS_PITCH_WHEEL
:

185 
b
 = 
åack
->
d©a
[
cuºítPos
++] & 0x7F;

186 
cuºítEvít
->
√xt
 = 
	`Cª©eEvít
(
©ime
, (
Uöt8
)((
œ°°©us
<<4)+
œ°ch™
), 
a
, 
b
);

187 
cuºítEvít
 = cuºítEvít->
√xt
;

188 i‡(
NULL
 =
cuºítEvít
)

190 
	`FªeMIDIEvítLi°
(
hód
);

191  
NULL
;

195 
MIDI_STATUS_PROG_CHANGE
:

196 
MIDI_STATUS_PRESSURE
:

197 
a
 &= 0x7f;

198 
cuºítEvít
->
√xt
 = 
	`Cª©eEvít
(
©ime
, (
Uöt8
)((
œ°°©us
<<4)+
œ°ch™
), 
a
, 0);

199 
cuºítEvít
 = cuºítEvít->
√xt
;

200 i‡(
NULL
 =
cuºítEvít
)

202 
	`FªeMIDIEvítLi°
(
hód
);

203  
NULL
;

213 
cuºítEvít
 = 
hód
->
√xt
;

214 
	`‰ì
(
hód
);

215  
cuºítEvít
;

216 
	}
}

223 
MIDIEvít
 *
	$MIDItoSåóm
(
MIDIFûe
 *
midid©a
)

225 
MIDIEvít
 **
åack
;

226 
MIDIEvít
 *
hód
 = 
	`Cª©eEvít
(0,0,0,0);

227 
MIDIEvít
 *
cuºítEvít
 = 
hód
;

228 
åackID
;

230 i‡(
NULL
 =
hód
)

231  
NULL
;

233 
åack
 = (
MIDIEvít
**Ë
	`ˇŒoc
(1, (MIDIEvít*Ë* 
midid©a
->
nTøcks
);

234 i‡(
NULL
 =
hód
)

235  
NULL
;

238 
åackID
 = 0;ÅøckID < 
midid©a
->
nTøcks
;ÅrackID++)

239 
åack
[
åackID
] = 
	`MIDITøcktoSåóm
(&
midid©a
->track[trackID]);

245 
Uöt32
 
lowe°Time
 = 
INT_MAX
;

246 
cuºítTøckID
 = -1;

249 
åackID
 = 0;ÅøckID < 
midid©a
->
nTøcks
;ÅrackID++)

251 i‡(
åack
[
åackID
] && (åack[åackID]->
time
 < 
lowe°Time
))

253 
cuºítTøckID
 = 
åackID
;

254 
lowe°Time
 = 
åack
[
cuºítTøckID
]->
time
;

259 i‡(
cuºítTøckID
 == -1)

262 
cuºítEvít
->
√xt
 = 
åack
[
cuºítTøckID
];

263 
åack
[
cuºítTøckID
] =Åøck[cuºítTøckID]->
√xt
;

265 
cuºítEvít
 = cuºítEvít->
√xt
;

268 
lowe°Time
 = 0;

272 
cuºítEvít
->
√xt
 = 0;

274 
cuºítEvít
 = 
hód
->
√xt
;

275 
	`‰ì
(
åack
);

276 
	`‰ì
(
hód
);

277  
cuºítEvít
;

278 
	}
}

280 
	$RódMIDIFûe
(
MIDIFûe
 *
midid©a
, 
SDL_RW›s
 *
rw
)

282 
i
 = 0;

283 
Uöt32
 
ID
;

284 
Uöt32
 
size
;

285 
Uöt16
 
f‹m©
;

286 
Uöt16
 
åacks
;

287 
Uöt16
 
divisi⁄
;

289 i‡(!
midid©a
)

291 i‡(!
rw
)

295 
	`SDL_RWªad
(
rw
, &
ID
, 1, 4);

296 i‡(
	`BE_LONG
(
ID
) != 'MThd')

300 
	`SDL_RWªad
(
rw
, &
size
, 1, 4);

301 
size
 = 
	`BE_LONG
(size);

302 i‡(
size
 != 6)

306 
	`SDL_RWªad
(
rw
, &
f‹m©
, 1, 2);

307 
f‹m©
 = 
	`BE_SHORT
(format);

308 i‡(
f‹m©
 != 0 && format != 1)

311 
	`SDL_RWªad
(
rw
, &
åacks
, 1, 2);

312 
åacks
 = 
	`BE_SHORT
(tracks);

313 
midid©a
->
nTøcks
 = 
åacks
;

316 
midid©a
->
åack
 = (
MIDITøck
*Ë
	`ˇŒoc
(1, (MIDITøckË* midid©a->
nTøcks
);

317 i‡(
NULL
 =
midid©a
->
åack
)

319 
	`¥ötf
("Out of memory");

320 
baû
;

324 
	`SDL_RWªad
(
rw
, &
divisi⁄
, 1, 2);

325 
midid©a
->
divisi⁄
 = 
	`BE_SHORT
(division);

328 
i
=0; i<
åacks
; i++)

330 
	`SDL_RWªad
(
rw
, &
ID
, 1, 4);

331 
	`SDL_RWªad
(
rw
, &
size
, 1, 4);

332 
size
 = 
	`BE_LONG
(size);

333 
midid©a
->
åack
[
i
].
Àn
 = 
size
;

334 
midid©a
->
åack
[
i
].
d©a
 = 
	`mÆloc
(
size
);

335 i‡(
NULL
 =
midid©a
->
åack
[
i
].
d©a
)

337 
	`¥ötf
("Out of memory");

338 
baû
;

340 
	`SDL_RWªad
(
rw
, 
midid©a
->
åack
[
i
].
d©a
, 1, 
size
);

344 
baû
:

345 ;
i
 >= 0; i--)

347 i‡(
midid©a
->
åack
[
i
].
d©a
)

348 
	`‰ì
(
midid©a
->
åack
[
i
].
d©a
);

352 
	}
}

354 
MIDIEvít
 *
	$Cª©eMIDIEvítLi°
(
SDL_RW›s
 *
rw
, 
Uöt16
 *
divisi⁄
)

356 
MIDIFûe
 *
midid©a
 = 
NULL
;

357 
MIDIEvít
 *
evítLi°
;

358 
åackID
;

360 
midid©a
 = 
	`ˇŒoc
(1, (
MIDIFûe
));

361 i‡(!
midid©a
)

362  
NULL
;

365 i‡–
rw
 !
NULL
 )

368 i‡–! 
	`RódMIDIFûe
(
midid©a
, 
rw
))

370 
	`‰ì
(
midid©a
);

371  
NULL
;

376 
	`‰ì
(
midid©a
);

377  
NULL
;

380 i‡(
divisi⁄
)

381 *
divisi⁄
 = 
midid©a
->division;

383 
evítLi°
 = 
	`MIDItoSåóm
(
midid©a
);

385 
åackID
 = 0;ÅøckID < 
midid©a
->
nTøcks
;ÅrackID++)

387 i‡(
midid©a
->
åack
[
åackID
].
d©a
)

388 
	`‰ì
(
midid©a
->
åack
[
åackID
].
d©a
);

390 
	`‰ì
(
midid©a
->
åack
);

391 
	`‰ì
(
midid©a
);

393  
evítLi°
;

394 
	}
}

396 
	$FªeMIDIEvítLi°
(
MIDIEvít
 *
hód
)

398 
MIDIEvít
 *
cur
, *
√xt
;

400 
cur
 = 
hód
;

402 
cur
)

404 
√xt
 = 
cur
->next;

405 i‡(
cur
->
exåaD©a
)

406 
	`‰ì
 (
cur
->
exåaD©a
);

407 
	`‰ì
 (
cur
);

408 
cur
 = 
√xt
;

410 
	}
}

	@native_midi/native_midi_common.h

26 #i‚de‡
_NATIVE_MIDI_COMMON_H_


27 
	#_NATIVE_MIDI_COMMON_H_


	)

29 
	~"SDL.h
"

32 
	#MIDI_STATUS_NOTE_OFF
 0x8

	)

33 
	#MIDI_STATUS_NOTE_ON
 0x9

	)

34 
	#MIDI_STATUS_AFTERTOUCH
 0xA

	)

35 
	#MIDI_STATUS_CONTROLLER
 0xB

	)

36 
	#MIDI_STATUS_PROG_CHANGE
 0xC

	)

37 
	#MIDI_STATUS_PRESSURE
 0xD

	)

38 
	#MIDI_STATUS_PITCH_WHEEL
 0xE

	)

39 
	#MIDI_STATUS_SYSEX
 0xF

	)

45 
	sMIDIEvít


47 
Uöt32
 
	mtime
;

48 
Uöt8
 
	m°©us
;

49 
Uöt8
 
	md©a
[2];

51 
Uöt32
 
	mexåaLí
;

52 
Uöt8
 *
	mexåaD©a
;

54 
MIDIEvít
 *
	m√xt
;

55 } 
	tMIDIEvít
;

61 
MIDIEvít
 *
Cª©eMIDIEvítLi°
(
SDL_RW›s
 *
rw
, 
Uöt16
 *
divisi⁄
);

64 
FªeMIDIEvítLi°
(
MIDIEvít
 *
hód
);

	@native_midi/native_midi_macosx.c

26 
	~"SDL_c⁄fig.h
"

28 
	~<C¨b⁄/C¨b⁄.h
>

29 
	~<AudioToﬁbox/AudioToﬁbox.h
>

30 
	~<AvaûabûôyMa¸os.h
>

32 
	~"SDL.h
"

33 
	~"SDL_ídün.h
"

34 
	~"«tive_midi.h
"

37 
	s_N©iveMidiS⁄g


39 
MusicPœyî
 
	m∂ayî
;

40 
MusicSequí˚
 
	m£quí˚
;

41 
MusicTimeSèmp
 
	mídTime
;

42 
AudioUnô
 
	maudiounô
;

45 
N©iveMidiS⁄g
 *
	gcuºíts⁄g
 = 
NULL
;

46 
	gœtched_vﬁume
 = 128;

48 
OSSètus


49 
	$GëSequí˚Lígth
(
MusicSequí˚
 
£quí˚
, 
MusicTimeSèmp
 *
_£quí˚Lígth
)

53 
UI¡32
 
¡øcks
, 
i
;

54 
MusicTimeSèmp
 
£quí˚Lígth
 = 0;

55 
OSSètus
 
îr
;

57 
îr
 = 
	`MusicSequí˚GëTøckCou¡
(
£quí˚
, &
¡øcks
);

58 i‡(
îr
 !
noEº
)

59  
îr
;

61 
i
 = 0; i < 
¡øcks
; ++i)

63 
MusicTøck
 
åack
;

64 
MusicTimeSèmp
 
åackÀn
 = 0;

65 
UI¡32
 
åackÀ∆í
 =  (
åackÀn
);

67 
îr
 = 
	`MusicSequí˚GëIndTøck
(
£quí˚
, 
i
, &
åack
);

68 i‡(
îr
 !
noEº
)

69  
îr
;

71 
îr
 = 
	`MusicTøckGëPr›îty
(
åack
, 
kSequí˚TøckPr›îty_TøckLígth
,

72 &
åackÀn
, &
åackÀ∆í
);

73 i‡(
îr
 !
noEº
)

74  
îr
;

76 i‡(
£quí˚Lígth
 < 
åackÀn
)

77 
£quí˚Lígth
 = 
åackÀn
;

80 *
_£quí˚Lígth
 = 
£quí˚Lígth
;

82  
noEº
;

83 
	}
}

87 
OSSètus


88 
	$GëSequí˚AudioUnô
(
MusicSequí˚
 
£quí˚
, 
AudioUnô
 *
aunô
)

90 
AUGøph
 
gøph
;

91 
UI¡32
 
nodecou¡
, 
i
;

92 
OSSètus
 
îr
;

94 
îr
 = 
	`MusicSequí˚GëAUGøph
(
£quí˚
, &
gøph
);

95 i‡(
îr
 !
noEº
)

96  
îr
;

98 
îr
 = 
	`AUGøphGëNodeCou¡
(
gøph
, &
nodecou¡
);

99 i‡(
îr
 !
noEº
)

100  
îr
;

102 
i
 = 0; i < 
nodecou¡
; i++) {

103 
AUNode
 
node
;

105 i‡(
	`AUGøphGëIndNode
(
gøph
, 
i
, &
node
Ë!
noEº
)

108 #i‡
MAC_OS_X_VERSION_MIN_REQUIRED
 < 1060

110 
Comp⁄ítDes¸ùti⁄
 
desc
;

111 
UI¡32
 
˛assd©asize
 = 0;

112 *
˛assd©a
 = 
NULL
;

113 
îr
 = 
	`AUGøphGëNodeInfo
(
gøph
, 
node
, &
desc
, &
˛assd©asize
,

114 &
˛assd©a
, 
aunô
);

115 i‡(
îr
 !
noEº
)

117 i‡(
desc
.
comp⁄ítTy≥
 !
kAudioUnôTy≥_Ouçut
)

119 i‡(
desc
.
comp⁄ítSubTy≥
 !
kAudioUnôSubTy≥_DeÁu…Ouçut
)

124 
AudioComp⁄ítDes¸ùti⁄
 
desc
;

125 i‡(
	`AUGøphNodeInfo
(
gøph
, 
node
, &
desc
, 
aunô
Ë!
noEº
)

127 i‡(
desc
.
comp⁄ítTy≥
 !
kAudioUnôTy≥_Ouçut
)

129 i‡(
desc
.
comp⁄ítSubTy≥
 !
kAudioUnôSubTy≥_DeÁu…Ouçut
)

134  
noEº
;

137  
kAUGøphEº_NodeNŸFound
;

138 
	}
}

141 
	$«tive_midi_dëe˘
()

144 
	}
}

146 
N©iveMidiS⁄g
 *
	$«tive_midi_lﬂds⁄g
(c⁄° *
midifûe
)

148 
N©iveMidiS⁄g
 *
ªtvÆ
 = 
NULL
;

149 
SDL_RW›s
 *
rw
 = 
	`SDL_RWFromFûe
(
midifûe
, "rb");

150 i‡(
rw
 !
NULL
) {

151 
ªtvÆ
 = 
	`«tive_midi_lﬂds⁄g_RW
(
rw
);

152 
	`SDL_RW˛o£
(
rw
);

155  
ªtvÆ
;

156 
	}
}

158 
N©iveMidiS⁄g
 *
	$«tive_midi_lﬂds⁄g_RW
(
SDL_RW›s
 *
rw
)

160 
N©iveMidiS⁄g
 *
ªtvÆ
 = 
NULL
;

161 *
buf
 = 
NULL
;

162 
Àn
 = 0;

163 
CFD©aRef
 
d©a
 = 
NULL
;

165 i‡(
	`SDL_RW£ek
(
rw
, 0, 
RW_SEEK_END
) < 0)

166 
Áû
;

167 
Àn
 = 
	`SDL_RWãŒ
(
rw
);

168 i‡(
Àn
 < 0)

169 
Áû
;

170 i‡(
	`SDL_RW£ek
(
rw
, 0, 
RW_SEEK_SET
) < 0)

171 
Áû
;

173 
buf
 = 
	`mÆloc
(
Àn
);

174 i‡(
buf
 =
NULL
)

175 
Áû
;

177 i‡(
	`SDL_RWªad
(
rw
, 
buf
, 
Àn
, 1) != 1)

178 
Áû
;

180 
ªtvÆ
 = 
	`mÆloc
((
N©iveMidiS⁄g
));

181 i‡(
ªtvÆ
 =
NULL
)

182 
Áû
;

184 
	`mem£t
(
ªtvÆ
, '\0',  (*retval));

186 i‡(
	`NewMusicPœyî
(&
ªtvÆ
->
∂ayî
Ë!
noEº
)

187 
Áû
;

188 i‡(
	`NewMusicSequí˚
(&
ªtvÆ
->
£quí˚
Ë!
noEº
)

189 
Áû
;

191 
d©a
 = 
	`CFD©aCª©e
(
NULL
, (c⁄° 
UI¡8
 *Ë
buf
, 
Àn
);

192 i‡(
d©a
 =
NULL
)

193 
Áû
;

195 
	`‰ì
(
buf
);

196 
buf
 = 
NULL
;

198 #i‡
MAC_OS_X_VERSION_MIN_REQUIRED
 <
MAC_OS_X_VERSION_10_4


199 i‡(
	`MusicSequí˚LﬂdSMFD©aWôhFœgs
(
ªtvÆ
->
£quí˚
, 
d©a
, 0Ë!
noEº
)

200 
Áû
;

202 i‡(
	`MusicSequí˚FûeLﬂdD©a
(
ªtvÆ
->
£quí˚
, 
d©a
, 0, 0Ë!
noEº
)

203 
Áû
;

206 
	`CFRñó£
(
d©a
);

207 
d©a
 = 
NULL
;

209 i‡(
	`GëSequí˚Lígth
(
ªtvÆ
->
£quí˚
, &ªtvÆ->
ídTime
Ë!
noEº
)

210 
Áû
;

212 i‡(
	`MusicPœyîSëSequí˚
(
ªtvÆ
->
∂ayî
,ÑëvÆ->
£quí˚
Ë!
noEº
)

213 
Áû
;

215  
ªtvÆ
;

217 
Áû
:

218 i‡(
ªtvÆ
) {

219 i‡(
ªtvÆ
->
£quí˚
)

220 
	`Di•o£MusicSequí˚
(
ªtvÆ
->
£quí˚
);

221 i‡(
ªtvÆ
->
∂ayî
)

222 
	`Di•o£MusicPœyî
(
ªtvÆ
->
∂ayî
);

223 
	`‰ì
(
ªtvÆ
);

226 i‡(
d©a
)

227 
	`CFRñó£
(
d©a
);

229 i‡(
buf
)

230 
	`‰ì
(
buf
);

232  
NULL
;

233 
	}
}

235 
	$«tive_midi_‰ìs⁄g
(
N©iveMidiS⁄g
 *
s⁄g
)

237 i‡(
s⁄g
 !
NULL
) {

238 i‡(
cuºíts⁄g
 =
s⁄g
)

239 
cuºíts⁄g
 = 
NULL
;

240 
	`MusicPœyîSt›
(
s⁄g
->
∂ayî
);

241 
	`Di•o£MusicSequí˚
(
s⁄g
->
£quí˚
);

242 
	`Di•o£MusicPœyî
(
s⁄g
->
∂ayî
);

243 
	`‰ì
(
s⁄g
);

245 
	}
}

247 
	$«tive_midi_°¨t
(
N©iveMidiS⁄g
 *
s⁄g
)

249 
vﬁ
;

251 i‡(
s⁄g
 =
NULL
)

254 
	`SDL_Pau£Audio
(1);

255 
	`SDL_U∆ockAudio
();

257 i‡(
cuºíts⁄g
)

258 
	`MusicPœyîSt›
(
cuºíts⁄g
->
∂ayî
);

260 
cuºíts⁄g
 = 
s⁄g
;

261 
	`MusicPœyîSèπ
(
s⁄g
->
∂ayî
);

263 
	`GëSequí˚AudioUnô
(
s⁄g
->
£quí˚
, &s⁄g->
audiounô
);

265 
vﬁ
 = 
œtched_vﬁume
;

266 
œtched_vﬁume
++;

267 
	`«tive_midi_£tvﬁume
(
vﬁ
);

269 
	`SDL_LockAudio
();

270 
	`SDL_Pau£Audio
(0);

271 
	}
}

273 
	$«tive_midi_°›
()

275 i‡(
cuºíts⁄g
) {

276 
	`SDL_Pau£Audio
(1);

277 
	`SDL_U∆ockAudio
();

278 
	`MusicPœyîSt›
(
cuºíts⁄g
->
∂ayî
);

279 
cuºíts⁄g
 = 
NULL
;

280 
	`SDL_LockAudio
();

281 
	`SDL_Pau£Audio
(0);

283 
	}
}

285 
	$«tive_midi_a˘ive
()

287 
MusicTimeSèmp
 
cuºítTime
 = 0;

288 i‡(
cuºíts⁄g
 =
NULL
)

291 
	`MusicPœyîGëTime
(
cuºíts⁄g
->
∂ayî
, &
cuºítTime
);

292  ((
cuºítTime
 < 
cuºíts⁄g
->
ídTime
) ||

293 (
cuºítTime
 >
kMusicTimeSèmp_EndOfTøck
));

294 
	}
}

296 
	$«tive_midi_£tvﬁume
(
vﬁume
)

298 i‡(
œtched_vﬁume
 =
vﬁume
)

301 
œtched_vﬁume
 = 
vﬁume
;

302 i‡((
cuºíts⁄g
Ë&& (cuºíts⁄g->
audiounô
)) {

303 c⁄° 
Êﬂtvﬁ
 = ((Ë
vﬁume
) / (() 128);

304 
	`AudioUnôSëP¨amëî
(
cuºíts⁄g
->
audiounô
, 
kHALOuçutP¨am_Vﬁume
,

305 
kAudioUnôSc›e_GlobÆ
, 0, 
Êﬂtvﬁ
, 0);

307 
	}
}

309 c⁄° *
	$«tive_midi_îr‹
()

312 
	}
}

	@native_midi/native_midi_win32.c

23 
	~"SDL.h
"

27 
	#WIN32_LEAN_AND_MEAN


	)

28 
	~<wödows.h
>

29 
	~<wödowsx.h
>

30 
	~<mmsy°em.h
>

31 
	~<°dio.h
>

32 
	~<°dlib.h
>

33 
	~<limôs.h
>

34 
	~"«tive_midi.h
"

35 
	~"«tive_midi_comm⁄.h
"

37 
	s_N©iveMidiS⁄g
 {

38 
	mMusicLﬂded
;

39 
	mMusicPœyög
;

40 
MIDIHDR
 
	mMidiSåómHdr
;

41 
MIDIEVENT
 *
	mNewEvíts
;

42 
Uöt16
 
	mµqn
;

43 
	mSize
;

44 
	mNewPos
;

47 
UINT
 
	gMidiDevi˚
=
MIDI_MAPPER
;

48 
HMIDISTRM
 
	ghMidiSåóm
;

49 
N©iveMidiS⁄g
 *
	gcuºíts⁄g
;

51 
	$BlockOut
(
N©iveMidiS⁄g
 *
s⁄g
)

53 
MMRESULT
 
îr
;

54 
BlockSize
;

56 i‡((
s⁄g
->
MusicLﬂded
Ë&& (s⁄g->
NewEvíts
))

59 
	`midiOutU≈ª∑ªHódî
((
HMIDIOUT
)
hMidiSåóm
,&
s⁄g
->
MidiSåómHdr
,(
MIDIHDR
));

60 i‡(
s⁄g
->
NewPos
>=s⁄g->
Size
)

62 
BlockSize
=(
s⁄g
->
Size
-s⁄g->
NewPos
);

63 i‡(
BlockSize
<=0)

65 i‡(
BlockSize
>36000)

66 
BlockSize
=36000;

67 
s⁄g
->
MidiSåómHdr
.
ÕD©a
=(*)((*)s⁄g->
NewEvíts
+s⁄g->
NewPos
);

68 
s⁄g
->
NewPos
+=
BlockSize
;

69 
s⁄g
->
MidiSåómHdr
.
dwBuf„rLígth
=
BlockSize
;

70 
s⁄g
->
MidiSåómHdr
.
dwByãsRec‹ded
=
BlockSize
;

71 
s⁄g
->
MidiSåómHdr
.
dwFœgs
=0;

72 
îr
=
	`midiOutPª∑ªHódî
((
HMIDIOUT
)
hMidiSåóm
,&
s⁄g
->
MidiSåómHdr
,(
MIDIHDR
));

73 i‡(
îr
!=
MMSYSERR_NOERROR
)

75 
îr
=
	`midiSåómOut
(
hMidiSåóm
,&
s⁄g
->
MidiSåómHdr
,(
MIDIHDR
));

79 
	}
}

81 
	$MIDItoSåóm
(
N©iveMidiS⁄g
 *
s⁄g
, 
MIDIEvít
 *
ev¡li°
)

83 
evítcou¡
;

84 
MIDIEvít
 *
evít
;

85 
MIDIEVENT
 *
√wevít
;

87 
evítcou¡
=0;

88 
evít
=
ev¡li°
;

89 
evít
)

91 
evítcou¡
++;

92 
evít
Ûvít->
√xt
;

94 
s⁄g
->
NewEvíts
=
	`mÆloc
(
evítcou¡
*3*(
DWORD
));

95 i‡(!
s⁄g
->
NewEvíts
)

97 
	`mem£t
(
s⁄g
->
NewEvíts
,0,(
evítcou¡
*3*(
DWORD
)));

99 
evítcou¡
=0;

100 
evít
=
ev¡li°
;

101 
√wevít
=
s⁄g
->
NewEvíts
;

102 
evít
)

104 
°©us
 = (
evít
->status&0xF0)>>4;

105 
°©us
)

107 
MIDI_STATUS_NOTE_OFF
:

108 
MIDI_STATUS_NOTE_ON
:

109 
MIDI_STATUS_AFTERTOUCH
:

110 
MIDI_STATUS_CONTROLLER
:

111 
MIDI_STATUS_PROG_CHANGE
:

112 
MIDI_STATUS_PRESSURE
:

113 
MIDI_STATUS_PITCH_WHEEL
:

114 
√wevít
->
dwDñèTime
=
evít
->
time
;

115 
√wevít
->
dwEvít
=(
evít
->
°©us
|0x80)|”vít->
d©a
[0]<<8)|”vít->d©a[1]<<16)|(
MEVT_SHORTMSG
<<24);

116 
√wevít
=(
MIDIEVENT
*)((*Íewevít+(3*(
DWORD
)));

117 
evítcou¡
++;

120 
MIDI_STATUS_SYSEX
:

121 i‡(
evít
->
°©us
 =0xFF &&Évít->
d©a
[0] == 0x51)

123 
ãmpo
 = (
evít
->
exåaD©a
[0] << 16) |

124 (
evít
->
exåaD©a
[1] << 8) |

125 
evít
->
exåaD©a
[2];

126 
√wevít
->
dwDñèTime
=
evít
->
time
;

127 
√wevít
->
dwEvít
=(
MEVT_TEMPO
<<24Ë| 
ãmpo
;

128 
√wevít
=(
MIDIEVENT
*)((*Íewevít+(3*(
DWORD
)));

129 
evítcou¡
++;

134 
evít
Ûvít->
√xt
;

137 
s⁄g
->
Size
=
evítcou¡
*3*(
DWORD
);

140 
time
;

141 
ãm±ime
;

143 
s⁄g
->
NewPos
=0;

144 
time
=0;

145 
√wevít
=
s⁄g
->
NewEvíts
;

146 
s⁄g
->
NewPos
<s⁄g->
Size
)

148 
ãm±ime
=
√wevít
->
dwDñèTime
;

149 
√wevít
->
dwDñèTime
-=
time
;

150 
time
=
ãm±ime
;

151 i‡((
s⁄g
->
NewPos
+12)>=s⁄g->
Size
)

152 
√wevít
->
dwEvít
 |
MEVT_F_CALLBACK
;

153 
√wevít
=(
MIDIEVENT
*)((*Íewevít+(3*(
DWORD
)));

154 
s⁄g
->
NewPos
+=12;

157 
s⁄g
->
NewPos
=0;

158 
s⁄g
->
MusicLﬂded
=1;

159 
	}
}

161 
CALLBACK
 
	$MidiProc
–
HMIDIIN
 
hMidi
, 
UINT
 
uMsg
, 
dwIn°™˚
,

162 
dwP¨am1
, 
dwP¨am2
 )

164  
uMsg
 )

166 
MOM_DONE
:

167 i‡((
cuºíts⁄g
->
MusicLﬂded
Ë&& (
dwP¨am1
 =()&cuºíts⁄g->
MidiSåómHdr
))

168 
	`BlockOut
(
cuºíts⁄g
);

170 
MOM_POSITIONCB
:

171 i‡((
cuºíts⁄g
->
MusicLﬂded
Ë&& (
dwP¨am1
 =()&cuºíts⁄g->
MidiSåómHdr
))

172 
cuºíts⁄g
->
MusicPœyög
=0;

177 
	}
}

179 
	$«tive_midi_dëe˘
()

181 
MMRESULT
 
mîr
;

182 
HMIDISTRM
 
MidiSåóm
;

184 
mîr
=
	`midiSåómO≥n
(&
MidiSåóm
,&
MidiDevi˚
,(
DWORD
)1,()
MidiProc
,()0,
CALLBACK_FUNCTION
);

185 i‡(
mîr
!=
MMSYSERR_NOERROR
)

187 
	`midiSåómClo£
(
MidiSåóm
);

189 
	}
}

191 
N©iveMidiS⁄g
 *
	$«tive_midi_lﬂds⁄g
(c⁄° *
midifûe
)

193 
N©iveMidiS⁄g
 *
√ws⁄g
;

194 
MIDIEvít
 *
ev¡li°
 = 
NULL
;

195 
SDL_RW›s
 *
rw
;

197 
√ws⁄g
=
	`mÆloc
((
N©iveMidiS⁄g
));

198 i‡(!
√ws⁄g
)

199  
NULL
;

200 
	`mem£t
(
√ws⁄g
,0,(
N©iveMidiS⁄g
));

203 
rw
 = 
	`SDL_RWFromFûe
(
midifûe
, "rb");

204 i‡(
rw
) {

205 
ev¡li°
 = 
	`Cª©eMIDIEvítLi°
(
rw
, &
√ws⁄g
->
µqn
);

206 
	`SDL_RW˛o£
(
rw
);

207 i‡(!
ev¡li°
)

209 
	`‰ì
(
√ws⁄g
);

210  
NULL
;

214 
	`MIDItoSåóm
(
√ws⁄g
, 
ev¡li°
);

216 
	`FªeMIDIEvítLi°
(
ev¡li°
);

218  
√ws⁄g
;

219 
	}
}

221 
N©iveMidiS⁄g
 *
	$«tive_midi_lﬂds⁄g_RW
(
SDL_RW›s
 *
rw
)

223 
N©iveMidiS⁄g
 *
√ws⁄g
;

224 
MIDIEvít
 *
ev¡li°
 = 
NULL
;

226 
√ws⁄g
=
	`mÆloc
((
N©iveMidiS⁄g
));

227 i‡(!
√ws⁄g
)

228  
NULL
;

229 
	`mem£t
(
√ws⁄g
,0,(
N©iveMidiS⁄g
));

232 
ev¡li°
 = 
	`Cª©eMIDIEvítLi°
(
rw
, &
√ws⁄g
->
µqn
);

233 i‡(!
ev¡li°
)

235 
	`‰ì
(
√ws⁄g
);

236  
NULL
;

239 
	`MIDItoSåóm
(
√ws⁄g
, 
ev¡li°
);

241 
	`FªeMIDIEvítLi°
(
ev¡li°
);

243  
√ws⁄g
;

244 
	}
}

246 
	$«tive_midi_‰ìs⁄g
(
N©iveMidiS⁄g
 *
s⁄g
)

248 i‡(
hMidiSåóm
)

250 
	`midiSåómSt›
(
hMidiSåóm
);

251 
	`midiSåómClo£
(
hMidiSåóm
);

253 i‡(
s⁄g
)

255 i‡(
s⁄g
->
NewEvíts
)

256 
	`‰ì
(
s⁄g
->
NewEvíts
);

257 
	`‰ì
(
s⁄g
);

259 
	}
}

261 
	$«tive_midi_°¨t
(
N©iveMidiS⁄g
 *
s⁄g
)

263 
MMRESULT
 
mîr
;

264 
MIDIPROPTIMEDIV
 
m±d
;

266 
	`«tive_midi_°›
();

267 i‡(!
hMidiSåóm
)

269 
mîr
=
	`midiSåómO≥n
(&
hMidiSåóm
,&
MidiDevi˚
,1,(
DWORD
)&
MidiProc
,0,
CALLBACK_FUNCTION
);

270 i‡(
mîr
!=
MMSYSERR_NOERROR
)

272 
hMidiSåóm
=0;

276 
cuºíts⁄g
=
s⁄g
;

277 
cuºíts⁄g
->
NewPos
=0;

278 
cuºíts⁄g
->
MusicPœyög
=1;

279 
m±d
.
cbSåu˘
=(
MIDIPROPTIMEDIV
);

280 
m±d
.
dwTimeDiv
=
cuºíts⁄g
->
µqn
;

281 
mîr
=
	`midiSåómPr›îty
(
hMidiSåóm
,(
LPBYTE
)&
m±d
,
MIDIPROP_SET
 | 
MIDIPROP_TIMEDIV
);

282 
	`BlockOut
(
s⁄g
);

283 
mîr
=
	`midiSåómRe°¨t
(
hMidiSåóm
);

285 
	}
}

287 
	$«tive_midi_°›
()

289 i‡(!
hMidiSåóm
)

291 
	`midiSåómSt›
(
hMidiSåóm
);

292 
	`midiSåómClo£
(
hMidiSåóm
);

293 
cuºíts⁄g
=
NULL
;

294 
hMidiSåóm
 = 0;

295 
	}
}

297 
	$«tive_midi_a˘ive
()

299  
cuºíts⁄g
->
MusicPœyög
;

300 
	}
}

302 
	$«tive_midi_£tvﬁume
(
vﬁume
)

304 
ˇlcVﬁume
;

305 i‡(
vﬁume
 > 128)

306 
vﬁume
 = 128;

307 i‡(
vﬁume
 < 0)

308 
vﬁume
 = 0;

309 
ˇlcVﬁume
 = (65535 * 
vﬁume
 / 128);

311 
	`midiOutSëVﬁume
((
HMIDIOUT
)
hMidiSåóm
, 
	`MAKELONG
(
ˇlcVﬁume
 , calcVolume));

312 
	}
}

314 c⁄° *
	$«tive_midi_îr‹
()

317 
	}
}

	@palcommon.c

24 
	~"∑lcomm⁄.h
"

26 
INT


27 
	$PAL_RLEBlôToSurÁ˚
(

28 
LPCBITMAPRLE
 
ÕBôm≠RLE
,

29 
SDL_SurÁ˚
 *
ÕD°SurÁ˚
,

30 
PAL_POS
 
pos


52 
UINT
 
i
, 
j
;

53 
INT
 
x
, 
y
;

54 
UINT
 
uiLí
 = 0;

55 
UINT
 
uiWidth
 = 0;

56 
UINT
 
uiHeight
 = 0;

57 
BYTE
 
T
;

58 
INT
 
dx
 = 
	`PAL_X
(
pos
);

59 
INT
 
dy
 = 
	`PAL_Y
(
pos
);

64 i‡(
ÕBôm≠RLE
 =
NULL
 || 
ÕD°SurÁ˚
 == NULL)

72 i‡(
ÕBôm≠RLE
[0] == 0x02 &&ÜpBitmapRLE[1] == 0x00 &&

73 
ÕBôm≠RLE
[2] == 0x00 &&ÜpBitmapRLE[3] == 0x00)

75 
ÕBôm≠RLE
 += 4;

81 
uiWidth
 = 
ÕBôm≠RLE
[0] | (lpBitmapRLE[1] << 8);

82 
uiHeight
 = 
ÕBôm≠RLE
[2] | (lpBitmapRLE[3] << 8);

88 
uiLí
 = 
uiWidth
 * 
uiHeight
;

93 
ÕBôm≠RLE
 += 4;

94 
i
 = 0; i < 
uiLí
;)

96 
T
 = *
ÕBôm≠RLE
++;

97 i‡((
T
 & 0x80Ë&& T <0x80 + 
uiWidth
)

99 
i
 +
T
 - 0x80;

103 
j
 = 0; j < 
T
; j++)

109 
y
 = (
i
 + 
j
Ë/ 
uiWidth
 + 
dy
;

110 
x
 = (
i
 + 
j
Ë% 
uiWidth
 + 
dx
;

115 i‡(
x
 < 0)

117 
j
 +-
x
 - 1;

120 i‡(
x
 >
ÕD°SurÁ˚
->
w
)

122 
j
 +
x
 - 
ÕD°SurÁ˚
->
w
;

126 i‡(
y
 < 0)

128 
j
 +-
y
 * 
uiWidth
 - 1;

131 i‡(
y
 >
ÕD°SurÁ˚
->
h
)

133 
íd
;

139 ((
LPBYTE
)
ÕD°SurÁ˚
->
pixñs
)[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
ÕBôm≠RLE
[
j
];

141 
ÕBôm≠RLE
 +
T
;

142 
i
 +
T
;

146 
íd
:

151 
	}
}

153 
INT


154 
	$PAL_RLEBlôWôhCﬁ‹Shi·
(

155 
LPCBITMAPRLE
 
ÕBôm≠RLE
,

156 
SDL_SurÁ˚
 *
ÕD°SurÁ˚
,

157 
PAL_POS
 
pos
,

158 
INT
 
iCﬁ‹Shi·


182 
UINT
 
i
, 
j
;

183 
INT
 
x
, 
y
;

184 
UINT
 
uiLí
 = 0;

185 
UINT
 
uiWidth
 = 0;

186 
UINT
 
uiHeight
 = 0;

187 
BYTE
 
T
;

188 
BYTE
 
shi·èbÀ
[256];

189 
INT
 
dx
 = 
	`PAL_X
(
pos
);

190 
INT
 
dy
 = 
	`PAL_Y
(
pos
);

195 i‡(
ÕBôm≠RLE
 =
NULL
 || 
ÕD°SurÁ˚
 == NULL)

203 i‡(
ÕBôm≠RLE
[0] == 0x02 &&ÜpBitmapRLE[1] == 0x00 &&

204 
ÕBôm≠RLE
[2] == 0x00 &&ÜpBitmapRLE[3] == 0x00)

206 
ÕBôm≠RLE
 += 4;

212 
uiWidth
 = 
ÕBôm≠RLE
[0] | (lpBitmapRLE[1] << 8);

213 
uiHeight
 = 
ÕBôm≠RLE
[2] | (lpBitmapRLE[3] << 8);

219 
uiLí
 = 
uiWidth
 * 
uiHeight
;

224 
	`PAL_MakeCﬁ‹Shi·TabÀ
(
shi·èbÀ
, (
SHORT
)
iCﬁ‹Shi·
);

225 
ÕBôm≠RLE
 += 4;

226 
i
 = 0; i < 
uiLí
;)

228 
T
 = *
ÕBôm≠RLE
++;

229 i‡((
T
 & 0x80Ë&& T <0x80 + 
uiWidth
)

231 
i
 +
T
 - 0x80;

235 
j
 = 0; j < 
T
; j++)

241 
y
 = (
i
 + 
j
Ë/ 
uiWidth
 + 
dy
;

242 
x
 = (
i
 + 
j
Ë% 
uiWidth
 + 
dx
;

247 i‡(
x
 < 0)

249 
j
 +-
x
 - 1;

252 i‡(
x
 >
ÕD°SurÁ˚
->
w
)

254 
j
 +
x
 - 
ÕD°SurÁ˚
->
w
;

258 i‡(
y
 < 0)

260 
j
 +-
y
 * 
uiWidth
 - 1;

263 i‡(
y
 >
ÕD°SurÁ˚
->
h
)

265 
íd
;

272 ((
LPBYTE
)
ÕD°SurÁ˚
->
pixñs
)[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] =

273 
shi·èbÀ
[
ÕBôm≠RLE
[
j
]];

275 
ÕBôm≠RLE
 +
T
;

276 
i
 +
T
;

280 
íd
:

285 
	}
}

287 
INT


288 
	$PAL_RLEBlôM⁄oCﬁ‹
(

289 
LPCBITMAPRLE
 
ÕBôm≠RLE
,

290 
SDL_SurÁ˚
 *
ÕD°SurÁ˚
,

291 
PAL_POS
 
pos
,

292 
BYTE
 
bCﬁ‹
,

293 
INT
 
iCﬁ‹Shi·


319 
UINT
 
i
, 
j
;

320 
INT
 
x
, 
y
;

321 
UINT
 
uiLí
 = 0;

322 
UINT
 
uiWidth
 = 0;

323 
UINT
 
uiHeight
 = 0;

324 
BYTE
 
T
, 
b
;

325 
INT
 
dx
 = 
	`PAL_X
(
pos
);

326 
INT
 
dy
 = 
	`PAL_Y
(
pos
);

331 i‡(
ÕBôm≠RLE
 =
NULL
 || 
ÕD°SurÁ˚
 == NULL)

339 i‡(
ÕBôm≠RLE
[0] == 0x02 &&ÜpBitmapRLE[1] == 0x00 &&

340 
ÕBôm≠RLE
[2] == 0x00 &&ÜpBitmapRLE[3] == 0x00)

342 
ÕBôm≠RLE
 += 4;

348 
uiWidth
 = 
ÕBôm≠RLE
[0] | (lpBitmapRLE[1] << 8);

349 
uiHeight
 = 
ÕBôm≠RLE
[2] | (lpBitmapRLE[3] << 8);

355 
uiLí
 = 
uiWidth
 * 
uiHeight
;

360 
ÕBôm≠RLE
 += 4;

361 
bCﬁ‹
 &= 0xF0;

362 
i
 = 0; i < 
uiLí
;)

364 
T
 = *
ÕBôm≠RLE
++;

365 i‡((
T
 & 0x80Ë&& T <0x80 + 
uiWidth
)

367 
i
 +
T
 - 0x80;

371 
j
 = 0; j < 
T
; j++)

377 
y
 = (
i
 + 
j
Ë/ 
uiWidth
 + 
dy
;

378 
x
 = (
i
 + 
j
Ë% 
uiWidth
 + 
dx
;

383 i‡(
x
 < 0)

385 
j
 +-
x
 - 1;

388 i‡(
x
 >
ÕD°SurÁ˚
->
w
)

390 
j
 +
x
 - 
ÕD°SurÁ˚
->
w
;

394 i‡(
y
 < 0)

396 
j
 +-
y
 * 
uiWidth
 - 1;

399 i‡(
y
 >
ÕD°SurÁ˚
->
h
)

401 
íd
;

407 
b
 = 
ÕBôm≠RLE
[
j
] & 0x0F;

408 i‡((
INT
)
b
 + 
iCﬁ‹Shi·
 > 0x0F)

410 
b
 = 0x0F;

412 i‡((
INT
)
b
 + 
iCﬁ‹Shi·
 < 0)

414 
b
 = 0;

418 
b
 +
iCﬁ‹Shi·
;

420 ((
LPBYTE
)
ÕD°SurÁ˚
->
pixñs
)[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = (
b
 | 
bCﬁ‹
);

422 
ÕBôm≠RLE
 +
T
;

423 
i
 +
T
;

427 
íd
:

432 
	}
}

434 
INT


435 
	$PAL_FBPBlôToSurÁ˚
(

436 
LPBYTE
 
ÕBôm≠FBP
,

437 
SDL_SurÁ˚
 *
ÕD°SurÁ˚


457 
x
, 
y
;

458 
LPBYTE
 
p
;

460 i‡(
ÕBôm≠FBP
 =
NULL
 || 
ÕD°SurÁ˚
 == NULL ||

461 
ÕD°SurÁ˚
->
w
 !320 ||ÜpD°SurÁ˚->
h
 != 200)

469 
y
 = 0; y < 200; y++)

471 
p
 = (
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
Ë+ 
y
 *ÜpD°SurÁ˚->
pôch
;

472 
x
 = 0; x < 320; x++)

474 *(
p
++Ë*(
ÕBôm≠FBP
++);

479 
	}
}

481 
UINT


482 
	$PAL_RLEGëWidth
(

483 
LPCBITMAPRLE
 
ÕBôm≠RLE


500 i‡(
ÕBôm≠RLE
 =
NULL
)

508 i‡(
ÕBôm≠RLE
[0] == 0x02 &&ÜpBitmapRLE[1] == 0x00 &&

509 
ÕBôm≠RLE
[2] == 0x00 &&ÜpBitmapRLE[3] == 0x00)

511 
ÕBôm≠RLE
 += 4;

517  
ÕBôm≠RLE
[0] | (lpBitmapRLE[1] << 8);

518 
	}
}

520 
UINT


521 
	$PAL_RLEGëHeight
(

522 
LPCBITMAPRLE
 
ÕBôm≠RLE


539 i‡(
ÕBôm≠RLE
 =
NULL
)

547 i‡(
ÕBôm≠RLE
[0] == 0x02 &&ÜpBitmapRLE[1] == 0x00 &&

548 
ÕBôm≠RLE
[2] == 0x00 &&ÜpBitmapRLE[3] == 0x00)

550 
ÕBôm≠RLE
 += 4;

556  
ÕBôm≠RLE
[2] | (lpBitmapRLE[3] << 8);

557 
	}
}

559 
WORD


560 
	$PAL_S¥ôeGëNumFømes
(

561 
LPCSPRITE
 
ÕS¥ôe


578 i‡(
ÕS¥ôe
 =
NULL
)

583  (
ÕS¥ôe
[0] | (lpSprite[1] << 8)) - 1;

584 
	}
}

586 
LPCBITMAPRLE


587 
	$PAL_S¥ôeGëFøme
(

588 
LPCSPRITE
 
ÕS¥ôe
,

589 
INT
 
iFømeNum


608 
imagecou¡
, 
off£t
;

610 i‡(
ÕS¥ôe
 =
NULL
)

612  
NULL
;

619 
imagecou¡
 = (
ÕS¥ôe
[0] | (lpSprite[1] << 8));

621 i‡(
iFømeNum
 < 0 || iFømeNum >
imagecou¡
)

626  
NULL
;

632 
iFømeNum
 <<= 1;

633 #ifde‡
PAL_WIN95


634 
off£t
 = ((
ÕS¥ôe
[
iFømeNum
] | (lpSprite[iFrameNum + 1] << 8)) << 1);

636 
off£t
 = (
WORD
)((
ÕS¥ôe
[
iFømeNum
] | (lpSprite[iFrameNum + 1] << 8)) << 1);

638  &
ÕS¥ôe
[
off£t
];

639 
	}
}

641 
INT


642 
	$PAL_MKFGëChunkCou¡
(

643 
FILE
 *
Â


660 
INT
 
iNumChunk
;

661 i‡(
Â
 =
NULL
)

666 
	`f£ek
(
Â
, 0, 
SEEK_SET
);

667 
	`‰ód
(&
iNumChunk
, (
INT
), 1, 
Â
);

669 
iNumChunk
 = (
	`SWAP32
(iNumChunk) - 4) / 4;

670  
iNumChunk
;

671 
	}
}

673 
INT


674 
	$PAL_MKFGëChunkSize
(

675 
UINT
 
uiChunkNum
,

676 
FILE
 *
Â


696 
UINT
 
uiOff£t
 = 0;

697 
UINT
 
uiNextOff£t
 = 0;

698 
UINT
 
uiChunkCou¡
 = 0;

703 
uiChunkCou¡
 = 
	`PAL_MKFGëChunkCou¡
(
Â
);

704 i‡(
uiChunkNum
 >
uiChunkCou¡
)

712 
	`f£ek
(
Â
, 4 * 
uiChunkNum
, 
SEEK_SET
);

713 
	`‰ód
(&
uiOff£t
, (
UINT
), 1, 
Â
);

714 
	`‰ód
(&
uiNextOff£t
, (
UINT
), 1, 
Â
);

715 
uiOff£t
 = 
	`SWAP32
(uiOffset);

716 
uiNextOff£t
 = 
	`SWAP32
(uiNextOffset);

721  
uiNextOff£t
 - 
uiOff£t
;

722 
	}
}

724 
INT


725 
	$PAL_MKFRódChunk
(

726 
LPBYTE
 
ÕBuf„r
,

727 
UINT
 
uiBuf„rSize
,

728 
UINT
 
uiChunkNum
,

729 
FILE
 *
Â


754 
UINT
 
uiOff£t
 = 0;

755 
UINT
 
uiNextOff£t
 = 0;

756 
UINT
 
uiChunkCou¡
;

757 
UINT
 
uiChunkLí
;

759 i‡(
ÕBuf„r
 =
NULL
 || 
Â
 =NULL || 
uiBuf„rSize
 == 0)

767 
uiChunkCou¡
 = 
	`PAL_MKFGëChunkCou¡
(
Â
);

768 i‡(
uiChunkNum
 >
uiChunkCou¡
)

776 
	`f£ek
(
Â
, 4 * 
uiChunkNum
, 
SEEK_SET
);

777 
	`‰ód
(&
uiOff£t
, 4, 1, 
Â
);

778 
	`‰ód
(&
uiNextOff£t
, 4, 1, 
Â
);

779 
uiOff£t
 = 
	`SWAP32
(uiOffset);

780 
uiNextOff£t
 = 
	`SWAP32
(uiNextOffset);

785 
uiChunkLí
 = 
uiNextOff£t
 - 
uiOff£t
;

787 i‡(
uiChunkLí
 > 
uiBuf„rSize
)

792 i‡(
uiChunkLí
 != 0)

794 
	`f£ek
(
Â
, 
uiOff£t
, 
SEEK_SET
);

795 
	`‰ód
(
ÕBuf„r
, 
uiChunkLí
, 1, 
Â
);

802  (
INT
)
uiChunkLí
;

803 
	}
}

805 
INT


806 
	$PAL_MKFGëDecom¥es£dSize
(

807 
UINT
 
uiChunkNum
,

808 
FILE
 *
Â


828 
DWORD
 
buf
[2];

829 
UINT
 
uiOff£t
;

830 
UINT
 
uiChunkCou¡
;

832 i‡(
Â
 =
NULL
)

840 
uiChunkCou¡
 = 
	`PAL_MKFGëChunkCou¡
(
Â
);

841 i‡(
uiChunkNum
 >
uiChunkCou¡
)

849 
	`f£ek
(
Â
, 4 * 
uiChunkNum
, 
SEEK_SET
);

850 
	`‰ód
(&
uiOff£t
, 4, 1, 
Â
);

851 
uiOff£t
 = 
	`SWAP32
(uiOffset);

856 
	`f£ek
(
Â
, 
uiOff£t
, 
SEEK_SET
);

857 #ifde‡
PAL_WIN95


858 
	`‰ód
(
buf
, (
DWORD
), 1, 
Â
);

859 
buf
[0] = 
	`SWAP32
(buf[0]);

861  (
INT
)
buf
[0];

863 
	`‰ód
(
buf
, (
DWORD
), 2, 
Â
);

864 
buf
[0] = 
	`SWAP32
(buf[0]);

865 
buf
[1] = 
	`SWAP32
(buf[1]);

867  (
buf
[0] !0x315f4a59Ë? -1 : (
INT
)buf[1];

869 
	}
}

871 
INT


872 
	$PAL_MKFDecom¥essChunk
(

873 
LPBYTE
 
ÕBuf„r
,

874 
UINT
 
uiBuf„rSize
,

875 
UINT
 
uiChunkNum
,

876 
FILE
 *
Â


901 
LPBYTE
 
buf
;

902 
Àn
;

904 
Àn
 = 
	`PAL_MKFGëChunkSize
(
uiChunkNum
, 
Â
);

906 i‡(
Àn
 <= 0)

908  
Àn
;

911 
buf
 = (
LPBYTE
)
	`mÆloc
(
Àn
);

912 i‡(
buf
 =
NULL
)

917 
	`PAL_MKFRódChunk
(
buf
, 
Àn
, 
uiChunkNum
, 
Â
);

919 
Àn
 = 
	`Decom¥ess
(
buf
, 
ÕBuf„r
, 
uiBuf„rSize
);

920 
	`‰ì
(
buf
);

922  
Àn
;

923 
	}
}

926 
VOID


927 
	$PAL_MakeCﬁ‹Shi·TabÀ
(

928 
LPBYTE
 
ÕTabÀ
,

929 
SHORT
 
iCﬁ‹Shi·


948 
UINT
 
i
;

949 
BYTE
 
b
;

950 
i
 = 0; i < 256; i++) {

951 
b
 = ((
BYTE
)
i
 & 0x0F);

953 
b
 +
iCﬁ‹Shi·
;

955 i‡(
b
 & 0x80)

957 
b
 = 0;

959 i‡(
b
 & 0x70)

961 
b
 = 0x0F;

964 
ÕTabÀ
[
i
] = (
b
 | ((
BYTE
)i & 0xF0));

966 
	}
}

	@palcommon.h

22 #i‚de‡
_PALUTILS_H


23 
	#_PALUTILS_H


	)

25 
	~"comm⁄.h
"

27 #ifde‡
__˝lu•lus


32 
LPBYTE
 
	tLPSPRITE
, 
	tLPBITMAPRLE
;

33 
LPCBYTE
 
	tLPCSPRITE
, 
	tLPCBITMAPRLE
;

35 
DWORD
 
	tPAL_POS
;

37 
	#PAL_XY
(
x
, 
y
Ë(
PAL_POS
)(((((
WORD
)(y)Ë<< 16Ë& 0xFFFF0000Ë| (((WORD)(x)Ë& 0xFFFF))

	)

38 
	#PAL_X
(
xy
Ë(
SHORT
)((xyË& 0xFFFF)

	)

39 
	#PAL_Y
(
xy
Ë(
SHORT
)(((xyË>> 16Ë& 0xFFFF)

	)

41 
	eègPALDIRECTION


43 
kDúSouth
 = 0,

44 
kDúWe°
,

45 
kDúN‹th
,

46 
kDúEa°
,

47 
kDúUnknown


48 } 
	tPALDIRECTION
, *
	tLPPALDIRECTION
;

50 
INT


51 
PAL_RLEBlôToSurÁ˚
(

52 
LPCBITMAPRLE
 
ÕBôm≠RLE
,

53 
SDL_SurÁ˚
 *
ÕD°SurÁ˚
,

54 
PAL_POS
 
pos


57 
INT


58 
PAL_RLEBlôWôhCﬁ‹Shi·
(

59 
LPCBITMAPRLE
 
ÕBôm≠RLE
,

60 
SDL_SurÁ˚
 *
ÕD°SurÁ˚
,

61 
PAL_POS
 
pos
,

62 
INT
 
iCﬁ‹Shi·


65 
INT


66 
PAL_RLEBlôM⁄oCﬁ‹
(

67 
LPCBITMAPRLE
 
ÕBôm≠RLE
,

68 
SDL_SurÁ˚
 *
ÕD°SurÁ˚
,

69 
PAL_POS
 
pos
,

70 
BYTE
 
bCﬁ‹
,

71 
INT
 
iCﬁ‹Shi·


74 
INT


75 
PAL_FBPBlôToSurÁ˚
(

76 
LPBYTE
 
ÕBôm≠FBP
,

77 
SDL_SurÁ˚
 *
ÕD°SurÁ˚


80 
UINT


81 
PAL_RLEGëWidth
(

82 
LPCBITMAPRLE
 
ÕBôm≠RLE


85 
UINT


86 
PAL_RLEGëHeight
(

87 
LPCBITMAPRLE
 
ÕBôm≠RLE


90 
WORD


91 
PAL_S¥ôeGëNumFømes
(

92 
LPCSPRITE
 
ÕS¥ôe


95 
LPCBITMAPRLE


96 
PAL_S¥ôeGëFøme
(

97 
LPCSPRITE
 
ÕS¥ôe
,

98 
INT
 
iFømeNum


101 
INT


102 
PAL_MKFGëChunkCou¡
(

103 
FILE
 *
Â


106 
INT


107 
PAL_MKFGëChunkSize
(

108 
UINT
 
uiChunkNum
,

109 
FILE
 *
Â


112 
INT


113 
PAL_MKFRódChunk
(

114 
LPBYTE
 
ÕBuf„r
,

115 
UINT
 
uiBuf„rSize
,

116 
UINT
 
uiChunkNum
,

117 
FILE
 *
Â


120 
INT


121 
PAL_MKFGëDecom¥es£dSize
(

122 
UINT
 
uiChunkNum
,

123 
FILE
 *
Â


126 
INT


127 
PAL_MKFDecom¥essChunk
(

128 
LPBYTE
 
ÕBuf„r
,

129 
UINT
 
uiBuf„rSize
,

130 
UINT
 
uiChunkNum
,

131 
FILE
 *
Â


134 
VOID


135 
PAL_MakeCﬁ‹Shi·TabÀ
(

136 
LPBYTE
 
ÕTabÀ
,

137 
SHORT
 
iCﬁ‹Shi·


141 
INT


142 
Decom¥ess
(

143 
LPCVOID
 
Sour˚
,

144 
LPVOID
 
De°ö©i⁄
,

145 
INT
 
De°Size


148 #ifde‡
__˝lu•lus


	@palette.c

22 
	~"maö.h
"

24 
SDL_Cﬁ‹
 *

25 
	$PAL_GëPÆëã
(

26 
INT
 
iPÆëãNum
,

27 
BOOL
 
fNight


46 
SDL_Cﬁ‹
 
∑Àâe
[256];

47 
PAL_LARGE
 
BYTE
 
buf
[1536];

48 
INT
 
i
;

49 
FILE
 *
Â
;

51 
Â
 = 
	`UTIL_O≥nRequúedFûe
("pat.mkf");

56 
i
 = 
	`PAL_MKFRódChunk
(
buf
, 1536, 
iPÆëãNum
, 
Â
);

58 
	`f˛o£
(
Â
);

60 i‡(
i
 < 0)

65  
NULL
;

67 i‡(
i
 <= 256 * 3)

72 
fNight
 = 
FALSE
;

75 
i
 = 0; i < 256; i++)

77 
∑Àâe
[
i
].
r
 = 
buf
[(
fNight
 ? 256 * 3 : 0) + i * 3] << 2;

78 
∑Àâe
[
i
].
g
 = 
buf
[(
fNight
 ? 256 * 3 : 0) + i * 3 + 1] << 2;

79 
∑Àâe
[
i
].
b
 = 
buf
[(
fNight
 ? 256 * 3 : 0) + i * 3 + 2] << 2;

81 
∑Àâe
[
i
].
r
 += (255 -Öalette[i].r) / 5;

82 
∑Àâe
[
i
].
g
 += (255 -Öalette[i].g) / 5;

83 
∑Àâe
[
i
].
b
 += (255 -Öalette[i].b) / 5;

87  
∑Àâe
;

88 
	}
}

90 
VOID


91 
	$PAL_SëPÆëã
(

92 
INT
 
iPÆëãNum
,

93 
BOOL
 
fNight


112 
SDL_Cﬁ‹
 *
p
 = 
	`PAL_GëPÆëã
(
iPÆëãNum
, 
fNight
);

114 i‡(
p
 !
NULL
)

116 
	`VIDEO_SëPÆëã
(
p
);

118 
	}
}

120 
VOID


121 
	$PAL_FadeOut
(

122 
INT
 
iDñay


143 
i
, 
j
;

144 
UINT
 
time
;

145 
PAL_LARGE
 
SDL_Cﬁ‹
 
∑Àâe
[256];

146 
PAL_LARGE
 
SDL_Cﬁ‹
 
√w∑Àâe
[256];

151 
i
 = 0; i < 256; i++)

153 
∑Àâe
[
i
] = 
	`VIDEO_GëPÆëã
()[i];

159 
time
 = 
	`SDL_GëTicks
(Ë+ 
iDñay
 * 10 * 60;

161 
TRUE
)

166 
j
 = ()(
time
 - 
	`SDL_GëTicks
()Ë/ 
iDñay
 / 10;

167 i‡(
j
 < 0)

172 
i
 = 0; i < 256; i++)

174 
√w∑Àâe
[
i
].
r
 = (
∑Àâe
[i].∏* 
j
) >> 6;

175 
√w∑Àâe
[
i
].
g
 = (
∑Àâe
[i].g * 
j
) >> 6;

176 
√w∑Àâe
[
i
].
b
 = (
∑Àâe
[i].b * 
j
) >> 6;

179 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

181 
	`UTIL_Dñay
(10);

184 
	`mem£t
(
√w∑Àâe
, 0, (newpalette));

185 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

186 
	}
}

188 
VOID


189 
	$PAL_FadeIn
(

190 
INT
 
iPÆëãNum
,

191 
BOOL
 
fNight
,

192 
INT
 
iDñay


213 
i
, 
j
;

214 
UINT
 
time
;

215 
SDL_Cﬁ‹
 *
∑Àâe
;

216 
PAL_LARGE
 
SDL_Cﬁ‹
 
√w∑Àâe
[256];

221 
∑Àâe
 = 
	`PAL_GëPÆëã
(
iPÆëãNum
, 
fNight
);

226 
time
 = 
	`SDL_GëTicks
(Ë+ 
iDñay
 * 10 * 60;

227 
TRUE
)

232 
j
 = ()(
time
 - 
	`SDL_GëTicks
()Ë/ 
iDñay
 / 10;

233 i‡(
j
 < 0)

238 
j
 = 60 - j;

240 
i
 = 0; i < 256; i++)

242 
√w∑Àâe
[
i
].
r
 = (
∑Àâe
[i].∏* 
j
) >> 6;

243 
√w∑Àâe
[
i
].
g
 = (
∑Àâe
[i].g * 
j
) >> 6;

244 
√w∑Àâe
[
i
].
b
 = (
∑Àâe
[i].b * 
j
) >> 6;

247 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

249 
	`UTIL_Dñay
(10);

252 
	`VIDEO_SëPÆëã
(
∑Àâe
);

253 
	}
}

255 
VOID


256 
	$PAL_S˚√Fade
(

257 
INT
 
iPÆëãNum
,

258 
BOOL
 
fNight
,

259 
INT
 
iSãp


280 
SDL_Cﬁ‹
 *
∑Àâe
, 
√w∑Àâe
[256];

281 
i
, 
j
;

282 
DWORD
 
time
;

284 
∑Àâe
 = 
	`PAL_GëPÆëã
(
iPÆëãNum
, 
fNight
);

286 i‡(
∑Àâe
 =
NULL
)

291 i‡(
iSãp
 == 0)

293 
iSãp
 = 1;

296 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

298 i‡(
iSãp
 > 0)

300 
i
 = 0; i < 64; i +
iSãp
)

302 
time
 = 
	`SDL_GëTicks
() + 100;

307 
	`PAL_CÀ¨KeySèã
();

308 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

309 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

310 
	`PAL_GameUpd©e
(
FALSE
);

311 
	`PAL_MakeS˚√
();

312 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

317 
j
 = 0; j < 256; j++)

319 
√w∑Àâe
[
j
].
r
 = (
∑Àâe
[j].∏* 
i
) >> 6;

320 
√w∑Àâe
[
j
].
g
 = (
∑Àâe
[j].g * 
i
) >> 6;

321 
√w∑Àâe
[
j
].
b
 = (
∑Àâe
[j].b * 
i
) >> 6;

323 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

325 
	`PAL_PﬁlEvít
(
NULL
));

327 
	`SDL_GëTicks
(Ë< 
time
)

329 
	`PAL_PﬁlEvít
(
NULL
));

330 
	`SDL_Dñay
(5);

336 
i
 = 63; i >0; i +
iSãp
)

338 
time
 = 
	`SDL_GëTicks
() + 100;

343 
	`PAL_CÀ¨KeySèã
();

344 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

345 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

346 
	`PAL_GameUpd©e
(
FALSE
);

347 
	`PAL_MakeS˚√
();

348 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

353 
j
 = 0; j < 256; j++)

355 
√w∑Àâe
[
j
].
r
 = (
∑Àâe
[j].∏* 
i
) >> 6;

356 
√w∑Àâe
[
j
].
g
 = (
∑Àâe
[j].g * 
i
) >> 6;

357 
√w∑Àâe
[
j
].
b
 = (
∑Àâe
[j].b * 
i
) >> 6;

359 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

361 
	`PAL_PﬁlEvít
(
NULL
));

363 
	`SDL_GëTicks
(Ë< 
time
)

365 
	`PAL_PﬁlEvít
(
NULL
));

366 
	`SDL_Dñay
(5);

370 
	}
}

372 
VOID


373 
	$PAL_PÆëãFade
(

374 
INT
 
iPÆëãNum
,

375 
BOOL
 
fNight
,

376 
BOOL
 
fUpd©eS˚√


397 
i
, 
j
;

398 
UINT
 
time
;

399 
SDL_Cﬁ‹
 *
√w∑Àâe
 = 
	`PAL_GëPÆëã
(
iPÆëãNum
, 
fNight
);

400 
PAL_LARGE
 
SDL_Cﬁ‹
 
∑Àâe
[256];

401 
PAL_LARGE
 
SDL_Cﬁ‹
 
t
[256];

403 i‡(
√w∑Àâe
 =
NULL
)

408 
i
 = 0; i < 256; i++)

410 
∑Àâe
[
i
] = 
	`VIDEO_GëPÆëã
()[i];

416 
i
 = 0; i < 32; i++)

418 
time
 = 
	`SDL_GëTicks
(Ë+ (
fUpd©eS˚√
 ? 
FRAME_TIME
 : FRAME_TIME / 4);

420 
j
 = 0; j < 256; j++)

422 
t
[
j
].
r
 =

423 (
BYTE
)(((
INT
)(
∑Àâe
[
j
].
r
Ë* (31 - 
i
Ë+ (INT)(
√w∑Àâe
[j].r) * i) / 31);

424 
t
[
j
].
g
 =

425 (
BYTE
)(((
INT
)(
∑Àâe
[
j
].
g
Ë* (31 - 
i
Ë+ (INT)(
√w∑Àâe
[j].g) * i) / 31);

426 
t
[
j
].
b
 =

427 (
BYTE
)(((
INT
)(
∑Àâe
[
j
].
b
Ë* (31 - 
i
Ë+ (INT)(
√w∑Àâe
[j].b) * i) / 31);

429 
	`VIDEO_SëPÆëã
(
t
);

431 i‡(
fUpd©eS˚√
)

433 
	`PAL_CÀ¨KeySèã
();

434 
g_I≈utSèã
.
dú
 = 
kDúUnknown
;

435 
g_I≈utSèã
.
¥evdú
 = 
kDúUnknown
;

436 
	`PAL_GameUpd©e
(
FALSE
);

437 
	`PAL_MakeS˚√
();

438 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

441 
	`PAL_PﬁlEvít
(
NULL
));

443 
	`SDL_GëTicks
(Ë< 
time
)

445 
	`PAL_PﬁlEvít
(
NULL
));

446 
	`SDL_Dñay
(5);

449 
	}
}

451 
VOID


452 
	$PAL_Cﬁ‹Fade
(

453 
INT
 
iDñay
,

454 
BYTE
 
bCﬁ‹
,

455 
BOOL
 
fFrom


476 
SDL_Cﬁ‹
 *
∑Àâe
;

477 
PAL_LARGE
 
SDL_Cﬁ‹
 
√w∑Àâe
[256];

478 
i
, 
j
;

480 
∑Àâe
 = 
	`PAL_GëPÆëã
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
);

482 
iDñay
 *= 10;

483 i‡(
iDñay
 == 0)

485 
iDñay
 = 10;

488 i‡(
fFrom
)

490 
i
 = 0; i < 256; i++)

492 
√w∑Àâe
[
i
] = 
∑Àâe
[
bCﬁ‹
];

495 
i
 = 0; i < 64; i++)

497 
j
 = 0; j < 256; j++)

499 i‡(
√w∑Àâe
[
j
].
r
 > 
∑Àâe
[j].r)

501 
√w∑Àâe
[
j
].
r
 -= 4;

503 i‡(
√w∑Àâe
[
j
].
r
 < 
∑Àâe
[j].r)

505 
√w∑Àâe
[
j
].
r
 += 4;

508 i‡(
√w∑Àâe
[
j
].
g
 > 
∑Àâe
[j].g)

510 
√w∑Àâe
[
j
].
g
 -= 4;

512 i‡(
√w∑Àâe
[
j
].
g
 < 
∑Àâe
[j].g)

514 
√w∑Àâe
[
j
].
g
 += 4;

517 i‡(
√w∑Àâe
[
j
].
b
 > 
∑Àâe
[j].b)

519 
√w∑Àâe
[
j
].
b
 -= 4;

521 i‡(
√w∑Àâe
[
j
].
b
 < 
∑Àâe
[j].b)

523 
√w∑Àâe
[
j
].
b
 += 4;

527 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

528 
	`UTIL_Dñay
(
iDñay
);

531 
	`VIDEO_SëPÆëã
(
∑Àâe
);

535 
	`mem˝y
(
√w∑Àâe
, 
∑Àâe
, (newpalette));

537 
i
 = 0; i < 64; i++)

539 
j
 = 0; j < 256; j++)

541 i‡(
√w∑Àâe
[
j
].
r
 > 
∑Àâe
[
bCﬁ‹
].r)

543 
√w∑Àâe
[
j
].
r
 -= 4;

545 i‡(
√w∑Àâe
[
j
].
r
 < 
∑Àâe
[
bCﬁ‹
].r)

547 
√w∑Àâe
[
j
].
r
 += 4;

550 i‡(
√w∑Àâe
[
j
].
g
 > 
∑Àâe
[
bCﬁ‹
].g)

552 
√w∑Àâe
[
j
].
g
 -= 4;

554 i‡(
√w∑Àâe
[
j
].
g
 < 
∑Àâe
[
bCﬁ‹
].g)

556 
√w∑Àâe
[
j
].
g
 += 4;

559 i‡(
√w∑Àâe
[
j
].
b
 > 
∑Àâe
[
bCﬁ‹
].b)

561 
√w∑Àâe
[
j
].
b
 -= 4;

563 i‡(
√w∑Àâe
[
j
].
b
 < 
∑Àâe
[
bCﬁ‹
].b)

565 
√w∑Àâe
[
j
].
b
 += 4;

569 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

570 
	`UTIL_Dñay
(
iDñay
);

573 
i
 = 0; i < 256; i++)

575 
√w∑Àâe
[
i
] = 
∑Àâe
[
bCﬁ‹
];

578 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

580 
	}
}

582 
VOID


583 
	$PAL_FadeToRed
(

584 
VOID


601 
SDL_Cﬁ‹
 *
∑Àâe
;

602 
PAL_LARGE
 
SDL_Cﬁ‹
 
√w∑Àâe
[256];

603 
i
, 
j
;

604 
BYTE
 
cﬁ‹
;

606 
∑Àâe
 = 
	`PAL_GëPÆëã
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
);

607 
	`mem˝y
(
√w∑Àâe
, 
∑Àâe
, (newpalette));

609 
i
 = 0; i < 
gpS¸ìn
->
pôch
 * gpS¸ìn->
h
; i++)

611 i‡(((
LPBYTE
)(
gpS¸ìn
->
pixñs
))[
i
] == 0x4F)

613 ((
LPBYTE
)(
gpS¸ìn
->
pixñs
))[
i
] = 0x4E;

617 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

619 
i
 = 0; i < 32; i++)

621 
j
 = 0; j < 256; j++)

623 i‡(
j
 == 0x4F)

628 
cﬁ‹
 = ((
INT
)
∑Àâe
[
j
].
r
 + (INTÌÆëã[j].
g
 + (INTÌÆëã[j].
b
) / 4 + 64;

630 i‡(
√w∑Àâe
[
j
].
r
 > 
cﬁ‹
)

632 
√w∑Àâe
[
j
].
r
 -“ew∑Àâe[j].∏- 
cﬁ‹
 > 8 ? 8 :Çewpalette[j].r - color);

634 i‡(
√w∑Àâe
[
j
].
r
 < 
cﬁ‹
)

636 
√w∑Àâe
[
j
].
r
 +(
cﬁ‹
 -Çewpalette[j].r > 8 ? 8 : color -Çewpalette[j].r);

639 i‡(
√w∑Àâe
[
j
].
g
 > 0)

641 
√w∑Àâe
[
j
].
g
 -= (newpalette[j].g > 8 ? 8 :Çewpalette[j].g);

644 i‡(
√w∑Àâe
[
j
].
b
 > 0)

646 
√w∑Àâe
[
j
].
b
 -= (newpalette[j].b > 8 ? 8 :Çewpalette[j].b);

650 
	`VIDEO_SëPÆëã
(
√w∑Àâe
);

651 
	`UTIL_Dñay
(75);

653 
	}
}

	@palette.h

22 #i‚de‡
PALETTE_H


23 
	#PALETTE_H


	)

25 
	~"comm⁄.h
"

27 #ifde‡
__˝lu•lus


32 
SDL_Cﬁ‹
 *

33 
PAL_GëPÆëã
(

34 
INT
 
iPÆëãNum
,

35 
BOOL
 
fNight


38 
VOID


39 
PAL_SëPÆëã
(

40 
INT
 
iPÆëãNum
,

41 
BOOL
 
fNight


44 
VOID


45 
PAL_FadeOut
(

46 
INT
 
iDñay


49 
VOID


50 
PAL_FadeIn
(

51 
INT
 
iPÆëãNum
,

52 
BOOL
 
fNight
,

53 
INT
 
iDñay


56 
VOID


57 
PAL_S˚√Fade
(

58 
INT
 
iPÆëãNum
,

59 
BOOL
 
fNight
,

60 
INT
 
iSãp


63 
VOID


64 
PAL_PÆëãFade
(

65 
INT
 
iPÆëãNum
,

66 
BOOL
 
fNight
,

67 
INT
 
iDñay


70 
VOID


71 
PAL_Cﬁ‹Fade
(

72 
INT
 
iDñay
,

73 
BYTE
 
bCﬁ‹
,

74 
BOOL
 
fFrom


77 
VOID


78 
PAL_FadeToRed
(

79 
VOID


82 #ifde‡
__˝lu•lus


	@play.c

25 
	~"maö.h
"

27 
VOID


28 
	$PAL_GameUpd©e
(

29 
BOOL
 
fTriggî


46 
WORD
 
wEvítObje˘ID
, 
wDú
;

47 
i
;

48 
LPEVENTOBJECT
 
p
;

53 i‡(
fTriggî
)

58 i‡(
gpGlobÆs
->
fE¡îögS˚√
)

63 
gpGlobÆs
->
fE¡îögS˚√
 = 
FALSE
;

65 
i
 = 
gpGlobÆs
->
wNumS˚√
 - 1;

66 
gpGlobÆs
->
g
.
rgS˚√
[
i
].
wS¸ùtOnE¡î
 =

67 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgS˚√
[
i
].
wS¸ùtOnE¡î
, 0xFFFF);

69 i‡(
gpGlobÆs
->
fE¡îögS˚√
 || gpGlobÆs->
fGameSèπ
)

77 
	`PAL_CÀ¨KeySèã
();

78 
	`PAL_MakeS˚√
();

84 
wEvítObje˘ID
 = 0; wEvítObje˘ID < 
gpGlobÆs
->
g
.
nEvítObje˘
; wEventObjectID++)

86 
p
 = &
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
];

88 i‡(
p
->
sV™ishTime
 != 0)

90 
p
->
sV™ishTime
 += ((p->sVanishTime < 0) ? 1 : -1);

97 
wEvítObje˘ID
 = 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
 + 1;

98 
wEvítObje˘ID
 <
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
;

99 
wEvítObje˘ID
++)

101 
p
 = &
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1];

103 i‡(
p
->
sV™ishTime
 != 0)

108 i‡(
p
->
sSèã
 < 0)

110 i‡(
p
->
x
 < 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
) ||

111 
p
->
x
 > 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
) + 320 ||

112 
p
->
y
 < 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
) ||

113 
p
->
y
 > 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
) + 320)

115 
p
->
sSèã
 = 
	`abs
(p->sState);

116 
p
->
wCuºítFømeNum
 = 0;

119 i‡(
p
->
sSèã
 > 0 &&Ö->
wTriggîMode
 >
kTriggîTouchNór
)

124 i‡(
	`abs
(
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
Ë- 
p
->
x
) +

125 
	`abs
(
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
Ë- 
p
->
y
) * 2 <

126 (
p
->
wTriggîMode
 - 
kTriggîTouchNór
) * 32 + 16)

132 i‡(
p
->
nS¥ôeFømes
)

137 
xOff£t
, 
yOff£t
;

139 
p
->
wCuºítFømeNum
 = 0;

141 
xOff£t
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
Ë- 
p
->
x
;

142 
yOff£t
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
Ë- 
p
->
y
;

144 i‡(
xOff£t
 > 0)

146 
p
->
wDúe˘i⁄
 = ((
yOff£t
 > 0Ë? 
kDúEa°
 : 
kDúN‹th
);

150 
p
->
wDúe˘i⁄
 = ((
yOff£t
 > 0Ë? 
kDúSouth
 : 
kDúWe°
);

156 
	`PAL_Upd©eP¨tyGe°uªs
(
FALSE
);

158 
	`PAL_MakeS˚√
();

159 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

165 
p
->
wTriggîS¸ùt
 = 
	`PAL_RunTriggîS¸ùt
’->wTriggîS¸ùt, 
wEvítObje˘ID
);

167 
	`PAL_CÀ¨KeySèã
();

169 i‡(
gpGlobÆs
->
fE¡îögS˚√
 || gpGlobÆs->
fGameSèπ
)

184 
wEvítObje˘ID
 = 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
 + 1;

185 
wEvítObje˘ID
 <
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
;

186 
wEvítObje˘ID
++)

188 
p
 = &
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1];

190 i‡(
p
->
sSèã
 > 0 &&Ö->
sV™ishTime
 == 0)

192 
WORD
 
wS¸ùtE¡ry
 = 
p
->
wAutoS¸ùt
;

193 i‡(
wS¸ùtE¡ry
 != 0)

195 
p
->
wAutoS¸ùt
 = 
	`PAL_RunAutoS¸ùt
(
wS¸ùtE¡ry
, 
wEvítObje˘ID
);

196 i‡(
gpGlobÆs
->
fE¡îögS˚√
 || gpGlobÆs->
fGameSèπ
)

209 i‡(
fTriggî
 && 
p
->
sSèã
 >
kObjSèãBlockî
 &&Ö->
wS¥ôeNum
 != 0 &&

210 
	`abs
(
p
->
x
 - 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë- PAL_X(gpGlobÆs->
∑πyoff£t
)) +

211 
	`abs
(
p
->
y
 - 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë- PAL_Y(gpGlobÆs->
∑πyoff£t
)) * 2 <= 12)

216 
wDú
 = (
p
->
wDúe˘i⁄
 + 1) % 4;

217 
i
 = 0; i < 4; i++)

219 
x
, 
y
;

220 
PAL_POS
 
pos
;

222 
x
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

223 
y
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

225 
x
 +((
wDú
 =
kDúWe°
 || wDú =
kDúSouth
) ? -16 : 16);

226 
y
 +((
wDú
 =
kDúWe°
 || wDú =
kDúN‹th
) ? -8 : 8);

228 
pos
 = 
	`PAL_XY
(
x
, 
y
);

230 i‡(!
	`PAL_CheckOb°a˛e
(
pos
, 
TRUE
, 0))

235 
gpGlobÆs
->
võwp‹t
 = 
	`PAL_XY
(

236 
	`PAL_X
(
pos
Ë- PAL_X(
gpGlobÆs
->
∑πyoff£t
),

237 
	`PAL_Y
(
pos
Ë- PAL_Y(
gpGlobÆs
->
∑πyoff£t
));

242 
wDú
 = (wDir + 1) % 4;

247 
gpGlobÆs
->
dwFømeNum
++;

248 
	}
}

250 
VOID


251 
	$PAL_GameU£Iãm
(

252 
VOID


269 
WORD
 
wObje˘
;

271 
TRUE
)

273 
wObje˘
 = 
	`PAL_IãmSñe˘Míu
(
NULL
, 
kIãmFœgUßbÀ
);

275 i‡(
wObje˘
 == 0)

280 i‡(!(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wFœgs
 & 
kIãmFœgAµlyToAŒ
))

285 
WORD
 
wPœyî
 = 0;

287 
TRUE
)

289 
wPœyî
 = 
	`PAL_IãmU£Míu
(
wObje˘
);

291 i‡(
wPœyî
 =
MENUITEM_VALUE_CANCELLED
)

299 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnU£
 =

300 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnU£
, 
wPœyî
);

305 i‡((
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wFœgs
 & 
kIãmFœgC⁄sumög
) &&

306 
g_fS¸ùtSuc˚ss
)

308 
	`PAL_AddIãmToInvít‹y
(
wObje˘
, -1);

317 
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnU£
 =

318 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wS¸ùtOnU£
, 0xFFFF);

323 i‡((
gpGlobÆs
->
g
.
rgObje˘
[
wObje˘
].
ôem
.
wFœgs
 & 
kIãmFœgC⁄sumög
) &&

324 
g_fS¸ùtSuc˚ss
)

326 
	`PAL_AddIãmToInvít‹y
(
wObje˘
, -1);

332 
	}
}

334 
VOID


335 
	$PAL_GameEquùIãm
(

336 
VOID


353 
WORD
 
wObje˘
;

355 
TRUE
)

357 
wObje˘
 = 
	`PAL_IãmSñe˘Míu
(
NULL
, 
kIãmFœgEquùabÀ
);

359 i‡(
wObje˘
 == 0)

364 
	`PAL_EquùIãmMíu
(
wObje˘
);

366 
	}
}

368 
VOID


369 
	$PAL_Sórch
(

370 
VOID


387 
x
, 
y
, 
xOff£t
, 
yOff£t
, 
dx
, 
dy
, 
dh
, 
ex
, 
ey
, 
eh
, 
i
, 
k
, 
l
;

388 
LPEVENTOBJECT
 
p
;

389 
PAL_POS
 
rgPos
[13];

394 
x
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

395 
y
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

397 i‡(
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúN‹th
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúEa°
)

399 
xOff£t
 = 16;

403 
xOff£t
 = -16;

406 i‡(
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúEa°
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúSouth
)

408 
yOff£t
 = 8;

412 
yOff£t
 = -8;

415 
rgPos
[0] = 
	`PAL_XY
(
x
, 
y
);

417 
i
 = 0; i < 4; i++)

419 
rgPos
[
i
 * 3 + 1] = 
	`PAL_XY
(
x
 + 
xOff£t
, 
y
 + 
yOff£t
);

420 
rgPos
[
i
 * 3 + 2] = 
	`PAL_XY
(
x
, 
y
 + 
yOff£t
 * 2);

421 
rgPos
[
i
 * 3 + 3] = 
	`PAL_XY
(
x
 + 
xOff£t
, 
y
);

422 
x
 +
xOff£t
;

423 
y
 +
yOff£t
;

426 
i
 = 0; i < 13; i++)

431 
dh
 = ((
	`PAL_X
(
rgPos
[
i
]) % 32) ? 1 : 0);

432 
dx
 = 
	`PAL_X
(
rgPos
[
i
]) / 32;

433 
dy
 = 
	`PAL_Y
(
rgPos
[
i
]) / 16;

438 
k
 = 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
;

439 
k
 < 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
; k++)

441 
p
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
k
]);

442 
ex
 = 
p
->
x
 / 32;

443 
ey
 = 
p
->
y
 / 16;

444 
eh
 = ((
p
->
x
 % 32) ? 1 : 0);

446 i‡(
p
->
sSèã
 <0 ||Ö->
wTriggîMode
 >
kTriggîTouchNór
 ||

447 
p
->
wTriggîMode
 * 6 - 4 < 
i
 || 
dx
 !
ex
 || 
dy
 !
ey
 || 
dh
 !
eh
)

455 i‡(
p
->
nS¥ôeFømes
 * 4 >Ö->
wCuºítFømeNum
)

457 
p
->
wCuºítFømeNum
 = 0;

458 
p
->
wDúe˘i⁄
 = (
gpGlobÆs
->
wP¨tyDúe˘i⁄
 + 2) % 4;

460 
l
 = 0;Ü <
gpGlobÆs
->
wMaxP¨tyMembîIndex
;Ü++)

465 
gpGlobÆs
->
rgP¨ty
[
l
].
wFøme
 = gpGlobÆs->
wP¨tyDúe˘i⁄
 * 3;

471 
	`PAL_MakeS˚√
();

472 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

478 
p
->
wTriggîS¸ùt
 = 
	`PAL_RunTriggîS¸ùt
’->wTriggîS¸ùt, 
k
 + 1);

483 
	`UTIL_Dñay
(50);

484 
	`PAL_CÀ¨KeySèã
();

489 
	}
}

491 
VOID


492 
	$PAL_SèπFøme
(

493 
VOID


513 
	`PAL_GameUpd©e
(
TRUE
);

514 i‡(
gpGlobÆs
->
fE¡îögS˚√
)

522 
	`PAL_Upd©eP¨ty
();

527 
	`PAL_MakeS˚√
();

528 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

530 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

535 
	`PAL_InGameMíu
();

537 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyU£Iãm
)

542 
	`PAL_GameU£Iãm
();

544 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyThrowIãm
)

549 
	`PAL_GameEquùIãm
();

551 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyF‹˚
)

556 
	`PAL_InGameMagicMíu
();

558 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySètus
)

563 
	`PAL_PœyîSètus
();

565 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

570 
	`PAL_Sórch
();

572 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyFÀe
)

577 i‡(
	`PAL_C⁄fúmMíu
())

579 
	`PAL_PœyMUS
(0, 
FALSE
, 2);

580 
	`PAL_FadeOut
(2);

581 
	`PAL_Shutdown
();

582 
	`exô
(0);

586 i‡(--
gpGlobÆs
->
wCha£•ìdCh™geCy˛es
 == 0)

588 
gpGlobÆs
->
wCha£R™ge
 = 1;

590 
	}
}

592 
VOID


593 
	$PAL_WaôF‹Key
(

594 
WORD
 
wTimeOut


611 
DWORD
 
dwTimeOut
 = 
	`SDL_GëTicks
(Ë+ 
wTimeOut
;

613 
	`PAL_CÀ¨KeySèã
();

615 
wTimeOut
 =0 || 
	`SDL_GëTicks
(Ë< 
dwTimeOut
)

617 
	`UTIL_Dñay
(5);

619 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeySórch
 | 
kKeyMíu
))

624 
	}
}

	@play.h

22 #i‚de‡
PLAY_H


23 
	#PLAY_H


	)

25 #ifde‡
__˝lu•lus


30 
VOID


31 
PAL_GameUpd©e
(

32 
BOOL
 
fTriggî


35 
VOID


36 
PAL_GameU£Iãm
(

37 
VOID


40 
VOID


41 
PAL_GameEquùIãm
(

42 
VOID


45 
VOID


46 
PAL_SèπFøme
(

47 
VOID


50 
VOID


51 
PAL_WaôF‹Key
(

52 
WORD
 
wTimeOut


55 #ifde‡
__˝lu•lus


	@private.c

1 #ifde‡
CYGWIN


2 
SDLPAL_ICON
 
ICON
 
	gDISCARDABLE
 "sdlpal.ico"

	@res.c

22 
	~"maö.h
"

24 
	sègRESOURCES


26 
BYTE
 
	mbLﬂdFœgs
;

28 
LPPALMAP
 
	mÕM≠
;

29 
LPSPRITE
 *
	mÕpEvítObje˘S¥ôes
;

30 
	mnEvítObje˘
;

32 
LPSPRITE
 
	mrgÕPœyîS¥ôe
[
MAX_PLAYERS_IN_PARTY
 + 1];

33 } 
	tRESOURCES
, *
	tLPRESOURCES
;

35 
LPRESOURCES
 
	ggpResour˚s
 = 
NULL
;

37 
VOID


38 
	$PAL_FªeEvítObje˘S¥ôes
(

39 
VOID


56 
i
;

58 i‡(
gpResour˚s
->
ÕpEvítObje˘S¥ôes
 !
NULL
)

60 
i
 = 0; i < 
gpResour˚s
->
nEvítObje˘
; i++)

62 
	`‰ì
(
gpResour˚s
->
ÕpEvítObje˘S¥ôes
[
i
]);

65 
	`‰ì
(
gpResour˚s
->
ÕpEvítObje˘S¥ôes
);

67 
gpResour˚s
->
ÕpEvítObje˘S¥ôes
 = 
NULL
;

68 
gpResour˚s
->
nEvítObje˘
 = 0;

70 
	}
}

72 
VOID


73 
	$PAL_FªePœyîS¥ôes
(

74 
VOID


91 
i
;

93 
i
 = 0; i < 
MAX_PLAYERS_IN_PARTY
 + 1; i++)

95 
	`‰ì
(
gpResour˚s
->
rgÕPœyîS¥ôe
[
i
]);

96 
gpResour˚s
->
rgÕPœyîS¥ôe
[
i
] = 
NULL
;

98 
	}
}

100 
VOID


101 
	$PAL_InôResour˚s
(

102 
VOID


119 
gpResour˚s
 = (
LPRESOURCES
)
	`UTIL_ˇŒoc
(1, (
RESOURCES
));

120 
	}
}

122 
VOID


123 
	$PAL_FªeResour˚s
(

124 
VOID


141 i‡(
gpResour˚s
 !
NULL
)

146 
	`PAL_FªePœyîS¥ôes
();

147 
	`PAL_FªeEvítObje˘S¥ôes
();

152 
	`PAL_FªeM≠
(
gpResour˚s
->
ÕM≠
);

157 
	`‰ì
(
gpResour˚s
);

160 
gpResour˚s
 = 
NULL
;

161 
	}
}

163 
VOID


164 
	$PAL_SëLﬂdFœgs
(

165 
BYTE
 
bFœgs


182 i‡(
gpResour˚s
 =
NULL
)

187 
gpResour˚s
->
bLﬂdFœgs
 |
bFœgs
;

188 
	}
}

190 
VOID


191 
	$PAL_LﬂdResour˚s
(

192 
VOID


209 
i
, 
ödex
, 
l
, 
n
;

210 
WORD
 
wPœyîID
, 
wS¥ôeNum
;

212 i‡(
gpResour˚s
 =
NULL
 || gpResour˚s->
bLﬂdFœgs
 == 0)

220 i‡(
gpResour˚s
->
bLﬂdFœgs
 & 
kLﬂdS˚√
)

222 
FILE
 *
ÂMAP
, *
ÂGOP
;

224 
ÂMAP
 = 
	`UTIL_O≥nRequúedFûe
("map.mkf");

225 
ÂGOP
 = 
	`UTIL_O≥nRequúedFûe
("gop.mkf");

227 i‡(
gpGlobÆs
->
fE¡îögS˚√
)

229 
gpGlobÆs
->
wS¸ìnWave
 = 0;

230 
gpGlobÆs
->
sWaveProgªssi⁄
 = 0;

236 
	`PAL_FªeEvítObje˘S¥ôes
();

237 
	`PAL_FªeM≠
(
gpResour˚s
->
ÕM≠
);

242 
i
 = 
gpGlobÆs
->
wNumS˚√
 - 1;

243 
gpResour˚s
->
ÕM≠
 = 
	`PAL_LﬂdM≠
(
gpGlobÆs
->
g
.
rgS˚√
[
i
].
wM≠Num
,

244 
ÂMAP
, 
ÂGOP
);

246 i‡(
gpResour˚s
->
ÕM≠
 =
NULL
)

248 
	`f˛o£
(
ÂMAP
);

249 
	`f˛o£
(
ÂGOP
);

251 
	`Tîmö©eOnEº‹
("PAL_LoadResources(): FailÅoÜoad map #%d (scene #%d) !",

252 
gpGlobÆs
->
g
.
rgS˚√
[
i
].
wM≠Num
, gpGlobÆs->
wNumS˚√
);

258 
ödex
 = 
gpGlobÆs
->
g
.
rgS˚√
[
i
].
wEvítObje˘Index
;

259 
gpResour˚s
->
nEvítObje˘
 = 
gpGlobÆs
->
g
.
rgS˚√
[
i
 + 1].
wEvítObje˘Index
;

260 
gpResour˚s
->
nEvítObje˘
 -
ödex
;

262 i‡(
gpResour˚s
->
nEvítObje˘
 > 0)

264 
gpResour˚s
->
ÕpEvítObje˘S¥ôes
 =

265 (
LPSPRITE
 *)
	`UTIL_ˇŒoc
(
gpResour˚s
->
nEvítObje˘
, (LPSPRITE));

268 
i
 = 0; i < 
gpResour˚s
->
nEvítObje˘
; i++, 
ödex
++)

270 
n
 = 
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
ödex
].
wS¥ôeNum
;

271 i‡(
n
 == 0)

276 
gpResour˚s
->
ÕpEvítObje˘S¥ôes
[
i
] = 
NULL
;

280 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(
n
, 
gpGlobÆs
->
f
.
ÂMGO
);

282 
gpResour˚s
->
ÕpEvítObje˘S¥ôes
[
i
] = (
LPSPRITE
)
	`UTIL_mÆloc
(
l
);

284 i‡(
	`PAL_MKFDecom¥essChunk
(
gpResour˚s
->
ÕpEvítObje˘S¥ôes
[
i
], 
l
,

285 
n
, 
gpGlobÆs
->
f
.
ÂMGO
) > 0)

287 
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
ödex
].
nS¥ôeFømesAuto
 =

288 
	`PAL_S¥ôeGëNumFømes
(
gpResour˚s
->
ÕpEvítObje˘S¥ôes
[
i
]);

292 
gpGlobÆs
->
∑πyoff£t
 = 
	`PAL_XY
(160, 112);

294 
	`f˛o£
(
ÂGOP
);

295 
	`f˛o£
(
ÂMAP
);

301 i‡(
gpResour˚s
->
bLﬂdFœgs
 & 
kLﬂdPœyîS¥ôe
)

306 
	`PAL_FªePœyîS¥ôes
();

308 
i
 = 0; i <()
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

310 
wPœyîID
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

311 
	`as£π
(
wPœyîID
 < 
MAX_PLAYER_ROLES
);

316 
wS¥ôeNum
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwS¥ôeNum
[
wPœyîID
];

318 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(
wS¥ôeNum
, 
gpGlobÆs
->
f
.
ÂMGO
);

320 
gpResour˚s
->
rgÕPœyîS¥ôe
[
i
] = (
LPSPRITE
)
	`UTIL_mÆloc
(
l
);

322 
	`PAL_MKFDecom¥essChunk
(
gpResour˚s
->
rgÕPœyîS¥ôe
[
i
], 
l
, 
wS¥ôeNum
,

323 
gpGlobÆs
->
f
.
ÂMGO
);

326 i‡(
gpGlobÆs
->
nFﬁlowî
 > 0)

331 
wS¥ôeNum
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

333 
l
 = 
	`PAL_MKFGëDecom¥es£dSize
(
wS¥ôeNum
, 
gpGlobÆs
->
f
.
ÂMGO
);

335 
gpResour˚s
->
rgÕPœyîS¥ôe
[
i
] = (
LPSPRITE
)
	`UTIL_mÆloc
(
l
);

337 
	`PAL_MKFDecom¥essChunk
(
gpResour˚s
->
rgÕPœyîS¥ôe
[
i
], 
l
, 
wS¥ôeNum
,

338 
gpGlobÆs
->
f
.
ÂMGO
);

345 
gpResour˚s
->
bLﬂdFœgs
 = 0;

346 
	}
}

348 
LPPALMAP


349 
	$PAL_GëCuºítM≠
(

350 
VOID


367 i‡(
gpResour˚s
 =
NULL
)

369  
NULL
;

372  
gpResour˚s
->
ÕM≠
;

373 
	}
}

375 
LPSPRITE


376 
	$PAL_GëPœyîS¥ôe
(

377 
BYTE
 
bPœyîIndex


394 i‡(
gpResour˚s
 =
NULL
 || 
bPœyîIndex
 > 
MAX_PLAYERS_IN_PARTY
)

396  
NULL
;

399  
gpResour˚s
->
rgÕPœyîS¥ôe
[
bPœyîIndex
];

400 
	}
}

402 
LPSPRITE


403 
	$PAL_GëEvítObje˘S¥ôe
(

404 
WORD
 
wEvítObje˘ID


421 
wEvítObje˘ID
 -
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
;

422 
wEvítObje˘ID
--;

424 i‡(
gpResour˚s
 =
NULL
 || 
wEvítObje˘ID
 >gpResour˚s->
nEvítObje˘
)

426  
NULL
;

429  
gpResour˚s
->
ÕpEvítObje˘S¥ôes
[
wEvítObje˘ID
];

430 
	}
}

	@res.h

22 #i‚de‡
RES_H


23 
	#RES_H


	)

25 #ifde‡
__˝lu•lus


30 
	eègLOADRESFLAG


32 
kLﬂdS˚√
 = (1 << 0),

33 
kLﬂdPœyîS¥ôe
 = (1 << 1),

34 } 
	tLOADRESFLAG
, *
	tLPLOADRESFLAG
;

36 
VOID


37 
PAL_InôResour˚s
(

38 
VOID


41 
VOID


42 
PAL_FªeResour˚s
(

43 
VOID


46 
VOID


47 
PAL_SëLﬂdFœgs
(

48 
BYTE
 
bFœgs


51 
VOID


52 
PAL_LﬂdResour˚s
(

53 
VOID


56 
LPPALMAP


57 
PAL_GëCuºítM≠
(

58 
VOID


61 
LPSPRITE


62 
PAL_GëPœyîS¥ôe
(

63 
BYTE
 
bPœyîIndex


66 
LPSPRITE


67 
PAL_GëB©éeS¥ôe
(

68 
BYTE
 
bPœyîIndex


71 
LPSPRITE


72 
PAL_GëEvítObje˘S¥ôe
(

73 
WORD
 
wEvítObje˘ID


76 #ifde‡
__˝lu•lus


	@rixplay.cpp

20 
	~"rix∂ay.h
"

22 
	#USE_SURROUNDOPL
 0

	)

23 
	#USE_DEMUOPL
 0

	)

25 
	~"ad∂ug/›l.h
"

26 
	~"ad∂ug/emu›l.h
"

27 
	~"ad∂ug/demu›l.h
"

28 
	~"ad∂ug/suºound›l.h
"

29 
	~"ad∂ug/rix.h
"

31 "C" 
BOOL
 
g_fNoMusic
;

32 "C" 
INT
 
g_iVﬁume
;

34 
	~"sound.h
"

36 
	sègRIXPLAYER


38 
ègRIXPLAYER
(Ë: 
iCuºítMusic
(-1) {}

39 
C›l
 *
›l
;

40 
CrixPœyî
 *
	mrix
;

41 
INT
 
	miCuºítMusic
;

42 
INT
 
	miNextMusic
;

43 
DWORD
 
	mdwSèπFadeTime
;

44 
DWORD
 
	mdwEndFadeTime
;

45 íum { 
	mFADE_IN
, 
	mFADE_OUT
 } 
	mFadeTy≥
;

46 
BOOL
 
	mfLo›
;

47 
BOOL
 
	mfNextLo›
;

48 
BYTE
 
	mbuf
[
PAL_SAMPLE_RATE
 / 70 * 2 * 
PAL_CHANNELS
];

49 
LPBYTE
 
	mpos
;

50 } 
	tRIXPLAYER
, *
	tLPRIXPLAYER
;

52 
LPRIXPLAYER
 
	ggpRixPœyî
 = 
NULL
;

54 
VOID


55 
	$RIX_FûlBuf„r
(

56 
LPBYTE
 
°ªam
,

57 
INT
 
Àn


77 
INT
 
i
, 
l
, 
ﬁdÀn
, 
vﬁume
 = 
SDL_MIX_MAXVOLUME
 / 2;

78 
UINT
 
t
 = 
	`SDL_GëTicks
();

80 #ifde‡
__SYMBIAN32__


81 
vﬁume
 = 
g_iVﬁume
 / 2;

84 
ﬁdÀn
 = 
Àn
;

86 i‡(
gpRixPœyî
 =
NULL
)

97 i‡(
gpRixPœyî
->
dwEndFadeTime
 > 0)

99 
gpRixPœyî
->
FadeTy≥
)

101 
RIXPLAYER
::
FADE_IN
:

102 i‡(
t
 >
gpRixPœyî
->
dwEndFadeTime
)

104 
gpRixPœyî
->
dwEndFadeTime
 = 0;

108 
vﬁume
 = (
INT
)(vﬁumê* (
t
 - 
gpRixPœyî
->
dwSèπFadeTime
) /

109 (
FLOAT
)(
gpRixPœyî
->
dwEndFadeTime
 - gpRixPœyî->
dwSèπFadeTime
));

113 
RIXPLAYER
::
FADE_OUT
:

114 i‡(
gpRixPœyî
->
iCuºítMusic
 == -1)

119 
gpRixPœyî
->
iCuºítMusic
 = gpRixPœyî->
iNextMusic
;

120 
gpRixPœyî
->
fLo›
 = gpRixPœyî->
fNextLo›
;

121 
gpRixPœyî
->
FadeTy≥
 = 
RIXPLAYER
::
FADE_IN
;

122 
gpRixPœyî
->
dwEndFadeTime
 = 
t
 +

123 (
gpRixPœyî
->
dwEndFadeTime
 - gpRixPœyî->
dwSèπFadeTime
);

124 
gpRixPœyî
->
dwSèπFadeTime
 = 
t
;

125 
gpRixPœyî
->
rix
->
	`ªwöd
(gpRixPœyî->
iCuºítMusic
);

128 i‡(
t
 >
gpRixPœyî
->
dwEndFadeTime
)

130 i‡(
gpRixPœyî
->
iNextMusic
 <= 0)

132 
gpRixPœyî
->
iCuºítMusic
 = -1;

133 
gpRixPœyî
->
dwEndFadeTime
 = 0;

140 
gpRixPœyî
->
iCuºítMusic
 = gpRixPœyî->
iNextMusic
;

141 
gpRixPœyî
->
fLo›
 = gpRixPœyî->
fNextLo›
;

142 
gpRixPœyî
->
FadeTy≥
 = 
RIXPLAYER
::
FADE_IN
;

143 
gpRixPœyî
->
dwEndFadeTime
 = 
t
 +

144 (
gpRixPœyî
->
dwEndFadeTime
 - gpRixPœyî->
dwSèπFadeTime
);

145 
gpRixPœyî
->
dwSèπFadeTime
 = 
t
;

146 
gpRixPœyî
->
rix
->
	`ªwöd
(gpRixPœyî->
iCuºítMusic
);

150 
vﬁume
 = (
INT
)(vﬁumê* (1.0‡- (
t
 - 
gpRixPœyî
->
dwSèπFadeTime
) /

151 (
FLOAT
)(
gpRixPœyî
->
dwEndFadeTime
 - gpRixPœyî->
dwSèπFadeTime
)));

156 i‡(
gpRixPœyî
->
iCuºítMusic
 <= 0)

167 
Àn
 > 0)

169 i‡(
gpRixPœyî
->
pos
 =
NULL
 ||

170 
gpRixPœyî
->
pos
 - gpRixPœyî->
buf
 >= ()(gpRixPlayer->buf))

172 
gpRixPœyî
->
pos
 = gpRixPœyî->
buf
;

173 i‡(!
gpRixPœyî
->
rix
->
	`upd©e
())

175 i‡(!
gpRixPœyî
->
fLo›
)

180 
gpRixPœyî
->
iCuºítMusic
 = -1;

183 
gpRixPœyî
->
rix
->
	`ªwöd
(gpRixPœyî->
iCuºítMusic
);

184 i‡(!
gpRixPœyî
->
rix
->
	`upd©e
())

189 
gpRixPœyî
->
iCuºítMusic
 = -1;

193 
gpRixPœyî
->
›l
->
	`upd©e
((*)(gpRixPœyî->
buf
), 
PAL_SAMPLE_RATE
 / 70);

196 
l
 = (
gpRixPœyî
->
buf
Ë- (gpRixPœyî->
pos
 - gpRixPlayer->buf);

197 i‡(
Àn
 < 
l
)

199 
l
 = 
Àn
;

206 
i
 = 0; i < ()(
l
 / (
SHORT
)); i++)

208 
SHORT
 
s
 = 
	`SWAP16
(()(*(SHORT *)(
gpRixPœyî
->
pos
)Ë* 
vﬁume
 / 
SDL_MIX_MAXVOLUME
);

210 #i‡!
USE_SURROUNDOPL


211 
j
 = 0; j < 
PAL_CHANNELS
; j++)

214 *(
SHORT
 *)(
°ªam
Ë
s
;

215 
°ªam
 +(
SHORT
);

218 
gpRixPœyî
->
pos
 +(
SHORT
);

221 
Àn
 -
l
;

224 
°ªam
 -
ﬁdÀn
;

225 
	}
}

227 
INT


228 
	$RIX_Inô
(

229 
LPCSTR
 
szFûeName


246 
gpRixPœyî
 = 
√w
 
RIXPLAYER
;

247 i‡(
gpRixPœyî
 =
NULL
)

251 #i‡
USE_SURROUNDOPL
 && (
PAL_CHANNELS
 == 2)

252 #i‡
USE_DEMUOPL


253 
gpRixPœyî
->
›l
 = 
√w
 
	`CSuºound›l
“ew 
	`CDemu›l
(
PAL_SAMPLE_RATE
, 
åue
, 
Ál£
),

254 
√w
 
	`CDemu›l
(
PAL_SAMPLE_RATE
, 
åue
, 
Ál£
),Årue);

256 
gpRixPœyî
->
›l
 = 
√w
 
	`CSuºound›l
“ew 
	`CEmu›l
(
PAL_SAMPLE_RATE
, 
åue
, 
Ál£
),

257 
√w
 
	`CEmu›l
(
PAL_SAMPLE_RATE
, 
åue
, 
Ál£
),Årue);

260 #i‡
USE_DEMUOPL


261 
gpRixPœyî
->
›l
 = 
√w
 
	`CDemu›l
(
PAL_SAMPLE_RATE
, 
åue
, 
Ál£
);

263 
gpRixPœyî
->
›l
 = 
√w
 
	`CEmu›l
(
PAL_SAMPLE_RATE
, 
åue
, 
Ál£
);

267 i‡(
gpRixPœyî
->
›l
 =
NULL
)

269 
dñëe
 
gpRixPœyî
;

273 
gpRixPœyî
->
rix
 = 
√w
 
	`CrixPœyî
(gpRixPœyî->
›l
);

274 i‡(
gpRixPœyî
->
rix
 =
NULL
)

276 
dñëe
 
gpRixPœyî
->
›l
;

277 
dñëe
 
gpRixPœyî
;

284 i‡(!
gpRixPœyî
->
rix
->
	`lﬂd
(
szFûeName
, 
	`CProvidî_Fûesy°em
()))

286 
dñëe
 
gpRixPœyî
->
rix
;

287 
dñëe
 
gpRixPœyî
->
›l
;

288 
dñëe
 
gpRixPœyî
;

289 
gpRixPœyî
 = 
NULL
;

296 
gpRixPœyî
->
iCuºítMusic
 = -1;

297 
gpRixPœyî
->
dwEndFadeTime
 = 0;

298 
gpRixPœyî
->
pos
 = 
NULL
;

299 
gpRixPœyî
->
fLo›
 = 
FALSE
;

300 
gpRixPœyî
->
fNextLo›
 = 
FALSE
;

303 
	}
}

305 
VOID


306 
	$RIX_Shutdown
(

307 
VOID


324 i‡(
gpRixPœyî
 !
NULL
)

326 
dñëe
 
gpRixPœyî
->
rix
;

327 
dñëe
 
gpRixPœyî
->
›l
;

328 
dñëe
 
gpRixPœyî
;

330 
gpRixPœyî
 = 
NULL
;

332 
	}
}

334 
VOID


335 
	$RIX_Pœy
(

336 
INT
 
iNumRIX
,

337 
BOOL
 
fLo›
,

338 
FLOAT
 
ÊFadeTime


362 i‡(
gpRixPœyî
 =
NULL
)

370 
	`SOUND_PœyCDA
(-1);

372 
DWORD
 
t
 = 
	`SDL_GëTicks
();

373 
gpRixPœyî
->
fNextLo›
 = 
fLo›
;

375 i‡(
iNumRIX
 =
gpRixPœyî
->
iCuºítMusic
 && !
g_fNoMusic
)

380 
gpRixPœyî
->
iNextMusic
 = 
iNumRIX
;

381 
gpRixPœyî
->
dwSèπFadeTime
 = 
t
;

382 
gpRixPœyî
->
dwEndFadeTime
 = 
t
 + (
DWORD
)(
ÊFadeTime
 * 1000) / 2;

383 
gpRixPœyî
->
FadeTy≥
 = 
RIXPLAYER
::
FADE_OUT
;

384 
	}
}

	@rixplay.h

22 #i‚de‡
RIX_PLAY_H


23 
	#RIX_PLAY_H


	)

25 
	~"comm⁄.h
"

27 #ifde‡
__˝lu•lus


33 
VOID


34 
RIX_FûlBuf„r
(

35 
LPBYTE
 
°ªam
,

36 
INT
 
Àn


39 
INT


40 
RIX_Inô
(

41 
LPCSTR
 
szFûeName


44 
VOID


45 
RIX_Shutdown
(

46 
VOID


49 
VOID


50 
RIX_Pœy
(

51 
INT
 
iNumRIX
,

52 
BOOL
 
fLo›
,

53 
FLOAT
 
ÊFadeTime


56 #ifde‡
__˝lu•lus


	@rngplay.c

25 
	~"maö.h
"

27 
INT


28 
	$PAL_RNGRódFøme
(

29 
LPBYTE
 
ÕBuf„r
,

30 
UINT
 
uiBuf„rSize
,

31 
UINT
 
uiRngNum
,

32 
UINT
 
uiFømeNum
,

33 
FILE
 *
ÂRngMKF


60 
UINT
 
uiOff£t
 = 0;

61 
UINT
 
uiSubOff£t
 = 0;

62 
UINT
 
uiNextOff£t
 = 0;

63 
UINT
 
uiChunkCou¡
 = 0;

64 
INT
 
iChunkLí
 = 0;

66 i‡(
ÕBuf„r
 =
NULL
 || 
ÂRngMKF
 =NULL || 
uiBuf„rSize
 == 0)

74 
uiChunkCou¡
 = 
	`PAL_MKFGëChunkCou¡
(
ÂRngMKF
);

75 i‡(
uiRngNum
 >
uiChunkCou¡
)

83 
	`f£ek
(
ÂRngMKF
, 4 * 
uiRngNum
, 
SEEK_SET
);

84 
	`‰ód
(&
uiOff£t
, (
UINT
), 1, 
ÂRngMKF
);

85 
	`‰ód
(&
uiNextOff£t
, (
UINT
), 1, 
ÂRngMKF
);

86 
uiOff£t
 = 
	`SWAP32
(uiOffset);

87 
uiNextOff£t
 = 
	`SWAP32
(uiNextOffset);

92 
iChunkLí
 = 
uiNextOff£t
 - 
uiOff£t
;

93 i‡(
iChunkLí
 != 0)

95 
	`f£ek
(
ÂRngMKF
, 
uiOff£t
, 
SEEK_SET
);

105 
	`‰ód
(&
uiChunkCou¡
, (
UINT
), 1, 
ÂRngMKF
);

106 
uiChunkCou¡
 = (
	`SWAP32
(uiChunkCount) - 4) / 4;

107 i‡(
uiFømeNum
 >
uiChunkCou¡
)

115 
	`f£ek
(
ÂRngMKF
, 
uiOff£t
 + 4 * 
uiFømeNum
, 
SEEK_SET
);

116 
	`‰ód
(&
uiSubOff£t
, (
UINT
), 1, 
ÂRngMKF
);

117 
	`‰ód
(&
uiNextOff£t
, (
UINT
), 1, 
ÂRngMKF
);

118 
uiSubOff£t
 = 
	`SWAP32
(uiSubOffset);

119 
uiNextOff£t
 = 
	`SWAP32
(uiNextOffset);

124 
iChunkLí
 = 
uiNextOff£t
 - 
uiSubOff£t
;

125 i‡((
UINT
)
iChunkLí
 > 
uiBuf„rSize
)

130 i‡(
iChunkLí
 != 0)

132 
	`f£ek
(
ÂRngMKF
, 
uiOff£t
 + 
uiSubOff£t
, 
SEEK_SET
);

133 
	`‰ód
(
ÕBuf„r
, 
iChunkLí
, 1, 
ÂRngMKF
);

140  
iChunkLí
;

141 
	}
}

143 
INT


144 
	$PAL_RNGBlôToSurÁ˚
(

145 
INT
 
iNumRNG
,

146 
INT
 
iNumFøme
,

147 
SDL_SurÁ˚
 *
ÕD°SurÁ˚
,

148 
FILE
 *
ÂRngMKF


175 
INT
 
±r
 = 0;

176 
INT
 
d°_±r
 = 0;

177 
BYTE
 
d©a
 = 0;

178 
WORD
 
wd©a
 = 0;

179 
INT
 
x
, 
y
, 
i
, 
n
;

180 
LPBYTE
 
∫g
 = 
NULL
;

181 
LPBYTE
 
buf
 = 
NULL
;

186 i‡(
ÕD°SurÁ˚
 =
NULL
 || 
iNumRNG
 < 0 || 
iNumFøme
 < 0)

191 
buf
 = (
LPBYTE
)
	`ˇŒoc
(1, 65000);

192 i‡(
buf
 =
NULL
)

200 i‡(
	`PAL_RNGRódFøme
(
buf
, 65000, 
iNumRNG
, 
iNumFøme
, 
ÂRngMKF
) < 0)

202 
	`‰ì
(
buf
);

209 
∫g
 = (
LPBYTE
)
	`ˇŒoc
(1, 65000);

210 i‡(
∫g
 =
NULL
)

212 
	`‰ì
(
buf
);

215 
	`Decom¥ess
(
buf
, 
∫g
, 65000);

216 
	`‰ì
(
buf
);

222 
TRUE
)

224 
d©a
 = 
∫g
[
±r
++];

225 
d©a
)

232 
íd
;

235 
d°_±r
 += 2;

239 
d©a
 = 
∫g
[
±r
++];

240 
d°_±r
 +(
d©a
 + 1) * 2;

244 
wd©a
 = 
∫g
[
±r
] | (rng[ptr + 1] << 8);

245 
±r
 += 2;

246 
d°_±r
 +(()
wd©a
 + 1) * 2;

250 
x
 = 
d°_±r
 % 320;

251 
y
 = 
d°_±r
 / 320;

252 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

253 i‡(++
x
 >= 320)

255 
x
 = 0;

256 ++
y
;

258 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

259 
d°_±r
 += 2;

262 
x
 = 
d°_±r
 % 320;

263 
y
 = 
d°_±r
 / 320;

264 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

265 i‡(++
x
 >= 320)

267 
x
 = 0;

268 ++
y
;

270 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

271 
d°_±r
 += 2;

274 
x
 = 
d°_±r
 % 320;

275 
y
 = 
d°_±r
 / 320;

276 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

277 i‡(++
x
 >= 320)

279 
x
 = 0;

280 ++
y
;

282 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

283 
d°_±r
 += 2;

286 
x
 = 
d°_±r
 % 320;

287 
y
 = 
d°_±r
 / 320;

288 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

289 i‡(++
x
 >= 320)

291 
x
 = 0;

292 ++
y
;

294 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

295 
d°_±r
 += 2;

298 
x
 = 
d°_±r
 % 320;

299 
y
 = 
d°_±r
 / 320;

300 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

301 i‡(++
x
 >= 320)

303 
x
 = 0;

304 ++
y
;

306 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

307 
d°_±r
 += 2;

311 
d©a
 = *(
∫g
 + 
±r
++);

312 
i
 = 0; i <
d©a
; i++)

314 
x
 = 
d°_±r
 % 320;

315 
y
 = 
d°_±r
 / 320;

316 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

317 i‡(++
x
 >= 320)

319 
x
 = 0;

320 ++
y
;

322 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

323 
d°_±r
 += 2;

328 
wd©a
 = 
∫g
[
±r
] | (rng[ptr + 1] << 8);

329 
±r
 += 2;

330 
i
 = 0; i <
wd©a
; i++)

332 
x
 = 
d°_±r
 % 320;

333 
y
 = 
d°_±r
 / 320;

334 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

335 i‡(++
x
 >= 320)

337 
x
 = 0;

338 ++
y
;

340 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
++];

341 
d°_±r
 += 2;

349 
i
 = 0; i < 
d©a
 - (0x0d - 2); i++)

351 
x
 = 
d°_±r
 % 320;

352 
y
 = 
d°_±r
 / 320;

353 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
];

354 i‡(++
x
 >= 320)

356 
x
 = 0;

357 ++
y
;

359 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
 + 1];

360 
d°_±r
 += 2;

362 
±r
 += 2;

366 
d©a
 = *(
∫g
 + 
±r
++);

367 
i
 = 0; i <
d©a
; i++)

369 
x
 = 
d°_±r
 % 320;

370 
y
 = 
d°_±r
 / 320;

371 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
];

372 i‡(++
x
 >= 320)

374 
x
 = 0;

375 ++
y
;

377 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
 + 1];

378 
d°_±r
 += 2;

380 
±r
 += 2;

384 
n
 = (
∫g
[
±r
] | (rng[ptr + 1] << 8)) + 1;

385 
±r
 += 2;

386 
i
 = 0; i < 
n
; i++)

388 
x
 = 
d°_±r
 % 320;

389 
y
 = 
d°_±r
 / 320;

390 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
];

391 i‡(++
x
 >= 320)

393 
x
 = 0;

394 ++
y
;

396 ((
LPBYTE
)(
ÕD°SurÁ˚
->
pixñs
))[
y
 *ÜpD°SurÁ˚->
pôch
 + 
x
] = 
∫g
[
±r
 + 1];

397 
d°_±r
 += 2;

399 
±r
 += 2;

404 
íd
:

405 
	`‰ì
(
∫g
);

407 
	}
}

409 
VOID


410 
	$PAL_RNGPœy
(

411 
INT
 
iNumRNG
,

412 
INT
 
iSèπFøme
,

413 
INT
 
iEndFøme
,

414 
INT
 
iS≥ed


437 
UINT
 
iTime
;

438 
iDñay
 = 800 / (
iS≥ed
 == 0 ? 16 : iSpeed);

439 
FILE
 *
Â
;

441 
Â
 = 
	`UTIL_O≥nRequúedFûe
("rng.mkf");

443 ; 
iSèπFøme
 <
iEndFøme
; iStartFrame++)

445 
iTime
 = 
	`SDL_GëTicks
(Ë+ 
iDñay
;

447 i‡(
	`PAL_RNGBlôToSurÁ˚
(
iNumRNG
, 
iSèπFøme
, 
gpS¸ìn
, 
Â
) == -1)

452 
	`f˛o£
(
Â
);

459 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

464 i‡(
gpGlobÆs
->
fNìdToFadeIn
)

466 
	`PAL_FadeIn
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
, 1);

467 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

473 
	`PAL_Pro˚ssEvít
();

474 
	`SDL_GëTicks
(Ë<
iTime
)

476 
	`PAL_Pro˚ssEvít
();

477 
	`SDL_Dñay
(1);

481 
	`f˛o£
(
Â
);

482 
	}
}

	@rngplay.h

22 #i‚de‡
RNGPLAY_H


23 
	#RNGPLAY_H


	)

25 #ifde‡
__˝lu•lus


30 
	~"comm⁄.h
"

32 
VOID


33 
PAL_RNGPœy
(

34 
INT
 
iNumRNG
,

35 
INT
 
iSèπFøme
,

36 
INT
 
iNumFømes
,

37 
INT
 
iS≥ed


40 #ifde‡
__˝lu•lus


	@scene.c

25 
	~"maö.h
"

27 
	#MAX_SPRITE_TO_DRAW
 2048

	)

29 
	sègSPRITE_TO_DRAW


31 
LPCBITMAPRLE
 
	mÕS¥ôeFøme
;

32 
PAL_POS
 
	mpos
;

33 
	miLayî
;

34 } 
	tSPRITE_TO_DRAW
;

36 
SPRITE_TO_DRAW
 
	gg_rgS¥ôeToDøw
[
MAX_SPRITE_TO_DRAW
];

37 
	gg_nS¥ôeToDøw
;

39 
VOID


40 
	$PAL_AddS¥ôeToDøw
(

41 
LPCBITMAPRLE
 
ÕS¥ôeFøme
,

42 
x
,

43 
y
,

44 
iLayî


67 
	`as£π
(
g_nS¥ôeToDøw
 < 
MAX_SPRITE_TO_DRAW
);

69 
g_rgS¥ôeToDøw
[
g_nS¥ôeToDøw
].
ÕS¥ôeFøme
 =ÜpSpriteFrame;

70 
g_rgS¥ôeToDøw
[
g_nS¥ôeToDøw
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

71 
g_rgS¥ôeToDøw
[
g_nS¥ôeToDøw
].
iLayî
 = iLayer;

73 
g_nS¥ôeToDøw
++;

74 
	}
}

76 
VOID


77 
	$PAL_CÆcCovîTûes
(

78 
SPRITE_TO_DRAW
 *
ÕS¥ôeToDøw


96 
x
, 
y
, 
i
, 
l
, 
iTûeHeight
;

97 
LPCBITMAPRLE
 
ÕTûe
;

99 c⁄° 
sx
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(
ÕS¥ôeToDøw
->
pos
);

100 c⁄° 
sy
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(
ÕS¥ôeToDøw
->
pos
);

101 c⁄° 
sh
 = ((
sx
 % 32) ? 1 : 0);

103 c⁄° 
width
 = 
	`PAL_RLEGëWidth
(
ÕS¥ôeToDøw
->
ÕS¥ôeFøme
);

104 c⁄° 
height
 = 
	`PAL_RLEGëHeight
(
ÕS¥ôeToDøw
->
ÕS¥ôeFøme
);

106 
dx
 = 0;

107 
dy
 = 0;

108 
dh
 = 0;

113 
y
 = (
sy
 - 
height
 - 15) / 16; y <= sy / 16; y++)

115 
x
 = (
sx
 - 
width
 / 2) / 32; x <= (sx + width / 2) / 32; x++)

117 
i
 = ((
x
 =(
sx
 - 
width
 / 2) / 32) ? 0 : 3); i < 5; i++)

125 
i
)

128 
dx
 = 
x
;

129 
dy
 = 
y
;

130 
dh
 = 
sh
;

134 
dx
 = 
x
 - 1;

138 
dx
 = (
sh
 ? 
x
 : (x - 1));

139 
dy
 = (
sh
 ? (
y
 + 1) : y);

140 
dh
 = 1 - 
sh
;

144 
dx
 = 
x
 + 1;

145 
dy
 = 
y
;

146 
dh
 = 
sh
;

150 
dx
 = (
sh
 ? (
x
 + 1) : x);

151 
dy
 = (
sh
 ? (
y
 + 1) : y);

152 
dh
 = 1 - 
sh
;

156 
l
 = 0;Ü < 2;Ü++)

158 
ÕTûe
 = 
	`PAL_M≠GëTûeBôm≠
(
dx
, 
dy
, 
dh
, 
l
, 
	`PAL_GëCuºítM≠
());

159 
iTûeHeight
 = (sig√d )
	`PAL_M≠GëTûeHeight
(
dx
, 
dy
, 
dh
, 
l
, 
	`PAL_GëCuºítM≠
());

164 i‡(
ÕTûe
 !
NULL
 && 
iTûeHeight
 > 0 && (
dy
 + iTûeHeightË* 16 + 
dh
 * 8 >
sy
)

169 
	`PAL_AddS¥ôeToDøw
(
ÕTûe
,

170 
dx
 * 32 + 
dh
 * 16 - 16 - 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
),

171 
dy
 * 16 + 
dh
 * 8 + 7 + 
l
 + 
iTûeHeight
 * 8 - 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
),

172 
iTûeHeight
 * 8 + 
l
);

178 
	}
}

180 
VOID


181 
	$PAL_S˚√DøwS¥ôes
(

182 
VOID


199 
i
, 
x
, 
y
, 
vy
;

201 
g_nS¥ôeToDøw
 = 0;

210 
i
 = 0; i <()
gpGlobÆs
->
wMaxP¨tyMembîIndex
 + gpGlobÆs->
nFﬁlowî
; i++)

212 
LPCBITMAPRLE
 
ÕBôm≠
 =

213 
	`PAL_S¥ôeGëFøme
(
	`PAL_GëPœyîS¥ôe
((
BYTE
)
i
), 
gpGlobÆs
->
rgP¨ty
[i].
wFøme
);

215 i‡(
ÕBôm≠
 =
NULL
)

223 
	`PAL_AddS¥ôeToDøw
(
ÕBôm≠
,

224 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 - 
	`PAL_RLEGëWidth
(
ÕBôm≠
) / 2,

225 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 + gpGlobÆs->
wLayî
 + 10,

226 
gpGlobÆs
->
wLayî
 + 6);

231 
	`PAL_CÆcCovîTûes
(&
g_rgS¥ôeToDøw
[
g_nS¥ôeToDøw
 - 1]);

237 
i
 = 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
;

238 
i
 < 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
; i++)

240 
LPCBITMAPRLE
 
ÕFøme
;

241 
LPCSPRITE
 
ÕS¥ôe
;

243 
LPEVENTOBJECT
 
ÕEvtObj
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
i
]);

245 
iFøme
;

247 i‡(
ÕEvtObj
->
sSèã
 =
kObjSèãHiddí
 ||ÜpEvtObj->
sV™ishTime
 > 0 ||

248 
ÕEvtObj
->
sSèã
 < 0)

256 
ÕS¥ôe
 = 
	`PAL_GëEvítObje˘S¥ôe
((
WORD
)
i
 + 1);

257 i‡(
ÕS¥ôe
 =
NULL
)

262 
iFøme
 = 
ÕEvtObj
->
wCuºítFømeNum
;

263 i‡(
ÕEvtObj
->
nS¥ôeFømes
 == 3)

268 i‡(
iFøme
 == 2)

270 
iFøme
 = 0;

273 i‡(
iFøme
 == 3)

275 
iFøme
 = 2;

279 
ÕFøme
 = 
	`PAL_S¥ôeGëFøme
(
ÕS¥ôe
,

280 
ÕEvtObj
->
wDúe˘i⁄
 *ÜpEvtObj->
nS¥ôeFømes
 + 
iFøme
);

282 i‡(
ÕFøme
 =
NULL
)

290 
x
 = (
SHORT
)
ÕEvtObj
->x - 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
);

291 
x
 -
	`PAL_RLEGëWidth
(
ÕFøme
) / 2;

293 i‡(
x
 >320 || x < -()
	`PAL_RLEGëWidth
(
ÕFøme
))

301 
y
 = (
SHORT
)
ÕEvtObj
->y - 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
);

302 
y
 +
ÕEvtObj
->
sLayî
 * 8 + 9;

304 
vy
 = 
y
 - 
	`PAL_RLEGëHeight
(
ÕFøme
Ë- 
ÕEvtObj
->
sLayî
 * 8 + 2;

305 i‡(
vy
 >200 || vy < -()
	`PAL_RLEGëHeight
(
ÕFøme
))

316 
	`PAL_AddS¥ôeToDøw
(
ÕFøme
, 
x
, 
y
, 
ÕEvtObj
->
sLayî
 * 8 + 2);

321 
	`PAL_CÆcCovîTûes
(&
g_rgS¥ôeToDøw
[
g_nS¥ôeToDøw
 - 1]);

327 
x
 = 0; x < 
g_nS¥ôeToDøw
 - 1; x++)

329 
SPRITE_TO_DRAW
 
tmp
;

330 
BOOL
 
fSw≠
 = 
FALSE
;

332 
y
 = 0; y < 
g_nS¥ôeToDøw
 - 1 - 
x
; y++)

334 i‡(
	`PAL_Y
(
g_rgS¥ôeToDøw
[
y
].
pos
) > PAL_Y(g_rgSpriteToDraw[y + 1].pos))

336 
fSw≠
 = 
TRUE
;

338 
tmp
 = 
g_rgS¥ôeToDøw
[
y
];

339 
g_rgS¥ôeToDøw
[
y
] = g_rgSpriteToDraw[y + 1];

340 
g_rgS¥ôeToDøw
[
y
 + 1] = 
tmp
;

344 i‡(!
fSw≠
)

353 
i
 = 0; i < 
g_nS¥ôeToDøw
; i++)

355 
SPRITE_TO_DRAW
 *
p
 = &
g_rgS¥ôeToDøw
[
i
];

357 
x
 = 
	`PAL_X
(
p
->
pos
);

358 
y
 = 
	`PAL_Y
(
p
->
pos
Ë- 
	`PAL_RLEGëHeight
’->
ÕS¥ôeFøme
Ë-Ö->
iLayî
;

360 
	`PAL_RLEBlôToSurÁ˚
(
p
->
ÕS¥ôeFøme
, 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
));

362 
	}
}

364 
VOID


365 
	$PAL_AµlyWave
(

366 
SDL_SurÁ˚
 *
ÕSurÁ˚


383 
wave
[32];

384 
i
, 
a
, 
b
;

385 
ödex
 = 0;

386 
LPBYTE
 
p
;

387 
BYTE
 
buf
[320];

389 
gpGlobÆs
->
wS¸ìnWave
 +gpGlobÆs->
sWaveProgªssi⁄
;

391 i‡(
gpGlobÆs
->
wS¸ìnWave
 == 0 || gpGlobals->wScreenWave >= 256)

396 
gpGlobÆs
->
wS¸ìnWave
 = 0;

397 
gpGlobÆs
->
sWaveProgªssi⁄
 = 0;

404 
a
 = 0;

405 
b
 = 60 + 8;

407 
i
 = 0; i < 16; i++)

409 
b
 -= 8;

410 
a
 +
b
;

415 
wave
[
i
] = 
a
 * 
gpGlobÆs
->
wS¸ìnWave
 / 256;

416 
wave
[
i
 + 16] = 320 - wave[i];

423 
a
 = 
ödex
;

424 
p
 = (
LPBYTE
)(
ÕSurÁ˚
->
pixñs
);

429 
i
 = 0; i < 200; i++)

431 
b
 = 
wave
[
a
];

433 i‡(
b
 > 0)

438 
	`mem˝y
(
buf
, 
p
, 
b
);

440 
	`memmove
(
p
, &p[
b
], 320 - b);

442 
	`mem˝y
(&
p
[320 - 
b
], 
buf
, b);

445 
a
 = (a + 1) % 32;

446 
p
 +
ÕSurÁ˚
->
pôch
;

449 
ödex
 = (index + 1) % 32;

450 
	}
}

452 
VOID


453 
	$PAL_MakeS˚√
(

454 
VOID


472 
SDL_Re˘
 
ª˘
 = {0, 0, 320, 200};

477 
ª˘
.
x
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
);

478 
ª˘
.
y
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
);

480 
	`PAL_M≠BlôToSurÁ˚
(
	`PAL_GëCuºítM≠
(), 
gpS¸ìn
, &
ª˘
, 0);

481 
	`PAL_M≠BlôToSurÁ˚
(
	`PAL_GëCuºítM≠
(), 
gpS¸ìn
, &
ª˘
, 1);

486 
	`PAL_AµlyWave
(
gpS¸ìn
);

491 
	`PAL_S˚√DøwS¥ôes
();

496 i‡(
gpGlobÆs
->
fNìdToFadeIn
)

498 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

499 
	`PAL_FadeIn
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
, 1);

500 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

502 
	}
}

504 
BOOL


505 
	$PAL_CheckOb°a˛e
(

506 
PAL_POS
 
pos
,

507 
BOOL
 
fCheckEvítObje˘s
,

508 
WORD
 
wSñfObje˘


530 
x
, 
y
, 
h
, 
xr
, 
yr
;

532 i‡(
	`PAL_X
(
pos
Ë< 0 || PAL_X’osË>2048 || 
	`PAL_Y
(pos) < 0 || PAL_Y(pos) >= 2048)

534  
TRUE
;

540 
x
 = 
	`PAL_X
(
pos
) / 32;

541 
y
 = 
	`PAL_Y
(
pos
) / 16;

542 
h
 = 0;

544 
xr
 = 
	`PAL_X
(
pos
) % 32;

545 
yr
 = 
	`PAL_Y
(
pos
) % 16;

547 i‡(
xr
 + 
yr
 * 2 >= 16)

549 i‡(
xr
 + 
yr
 * 2 >= 48)

551 
x
++;

552 
y
++;

554 i‡(32 - 
xr
 + 
yr
 * 2 < 16)

556 
x
++;

558 i‡(32 - 
xr
 + 
yr
 * 2 < 48)

560 
h
 = 1;

564 
y
++;

568 i‡(
	`PAL_M≠TûeIsBlocked
(
x
, 
y
, 
h
, 
	`PAL_GëCuºítM≠
()))

570  
TRUE
;

573 i‡(
fCheckEvítObje˘s
)

578 
i
;

579 
i
 = 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
;

580 
i
 < 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
; i++)

582 
LPEVENTOBJECT
 
p
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
i
]);

583 i‡(
i
 =
wSñfObje˘
 - 1)

594 i‡(
p
->
sSèã
 >
kObjSèãBlockî
)

599 i‡(
	`abs
(
p
->
x
 - 
	`PAL_X
(
pos
)Ë+ábs’->
y
 - 
	`PAL_Y
(pos)) * 2 < 16)

601  
TRUE
;

607  
FALSE
;

608 
	}
}

610 
VOID


611 
	$PAL_Upd©eP¨tyGe°uªs
(

612 
BOOL
 
fWÆkög


629 
s_iThisSãpFøme
 = 0;

630 
iSãpFømeFﬁlowî
 = 0, 
iSãpFømeLódî
 = 0;

631 
i
;

633 i‡(
fWÆkög
)

638 
s_iThisSãpFøme
 = (s_iThisStepFrame + 1) % 4;

639 i‡(
s_iThisSãpFøme
 & 1)

641 
iSãpFømeLódî
 = (
s_iThisSãpFøme
 + 1) / 2;

642 
iSãpFømeFﬁlowî
 = 3 - 
iSãpFømeLódî
;

646 
iSãpFømeLódî
 = 0;

647 
iSãpFømeFﬁlowî
 = 0;

650 
gpGlobÆs
->
rgP¨ty
[0].
x
 = 
	`PAL_X
(gpGlobÆs->
∑πyoff£t
);

651 
gpGlobÆs
->
rgP¨ty
[0].
y
 = 
	`PAL_Y
(gpGlobÆs->
∑πyoff£t
);

653 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwWÆkFømes
[gpGlobÆs->
rgP¨ty
[0].
wPœyîRﬁe
] == 4)

655 
gpGlobÆs
->
rgP¨ty
[0].
wFøme
 = gpGlobÆs->
wP¨tyDúe˘i⁄
 * 4 + 
s_iThisSãpFøme
;

659 
gpGlobÆs
->
rgP¨ty
[0].
wFøme
 = gpGlobÆs->
wP¨tyDúe˘i⁄
 * 3 + 
iSãpFømeLódî
;

665 
i
 = 1; i <()
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

667 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 = gpGlobÆs->
rgTøû
[1].x - 
	`PAL_X
(gpGlobÆs->
võwp‹t
);

668 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 = gpGlobÆs->
rgTøû
[1].y - 
	`PAL_Y
(gpGlobÆs->
võwp‹t
);

670 i‡(
i
 == 2)

672 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 +=

673 (
gpGlobÆs
->
rgTøû
[1].
wDúe˘i⁄
 =
kDúEa°
 || gpGlobÆs->rgTøû[1].wDúe˘i⁄ =
kDúWe°
) ? -16 : 16;

674 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 += 8;

678 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 +=

679 ((
gpGlobÆs
->
rgTøû
[1].
wDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->rgTøû[1].wDúe˘i⁄ =
kDúSouth
) ? 16 : -16);

680 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 +=

681 ((
gpGlobÆs
->
rgTøû
[1].
wDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->rgTøû[1].wDúe˘i⁄ =
kDúN‹th
) ? 8 : -8);

687 i‡(
	`PAL_CheckOb°a˛e
(
	`PAL_XY
(
gpGlobÆs
->
rgP¨ty
[
i
].
x
 + 
	`PAL_X
(gpGlobÆs->
võwp‹t
),

688 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 + 
	`PAL_Y
(gpGlobÆs->
võwp‹t
)), 
TRUE
, 0))

690 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 = gpGlobÆs->
rgTøû
[1].x - 
	`PAL_X
(gpGlobÆs->
võwp‹t
);

691 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 = gpGlobÆs->
rgTøû
[1].y - 
	`PAL_Y
(gpGlobÆs->
võwp‹t
);

697 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwWÆkFømes
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] == 4)

699 
gpGlobÆs
->
rgP¨ty
[
i
].
wFøme
 = gpGlobÆs->
rgTøû
[2].
wDúe˘i⁄
 * 4 + 
s_iThisSãpFøme
;

703 
gpGlobÆs
->
rgP¨ty
[
i
].
wFøme
 = gpGlobÆs->
rgTøû
[2].
wDúe˘i⁄
 * 3 + 
iSãpFømeLódî
;

707 i‡(
gpGlobÆs
->
nFﬁlowî
 > 0)

712 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
x
 =

713 
gpGlobÆs
->
rgTøû
[3].
x
 - 
	`PAL_X
(gpGlobÆs->
võwp‹t
);

714 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
y
 =

715 
gpGlobÆs
->
rgTøû
[3].
y
 - 
	`PAL_Y
(gpGlobÆs->
võwp‹t
);

716 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
wFøme
 =

717 
gpGlobÆs
->
rgTøû
[3].
wDúe˘i⁄
 * 3 + 
iSãpFømeFﬁlowî
;

725 
i
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwWÆkFømes
[gpGlobÆs->
rgP¨ty
[0].
wPœyîRﬁe
];

726 i‡(
i
 == 0)

728 
i
 = 3;

730 
gpGlobÆs
->
rgP¨ty
[0].
wFøme
 = gpGlobÆs->
wP¨tyDúe˘i⁄
 * 
i
;

732 
i
 = 1; i <()
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

734 
f
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwWÆkFømes
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
];

735 i‡(
f
 == 0)

737 
f
 = 3;

739 
gpGlobÆs
->
rgP¨ty
[
i
].
wFøme
 = gpGlobÆs->
rgTøû
[2].
wDúe˘i⁄
 * 
f
;

742 i‡(
gpGlobÆs
->
nFﬁlowî
 > 0)

744 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
wFøme
 =

745 
gpGlobÆs
->
rgTøû
[3].
wDúe˘i⁄
 * 3;

748 
s_iThisSãpFøme
 &= 2;

749 
s_iThisSãpFøme
 ^= 2;

751 
	}
}

753 
VOID


754 
	$PAL_Upd©eP¨ty
(

755 
VOID


772 
xSour˚
, 
ySour˚
, 
xT¨gë
, 
yT¨gë
, 
xOff£t
, 
yOff£t
, 
i
;

777 i‡(
g_I≈utSèã
.
dú
 !
kDúUnknown
)

779 
xOff£t
 = ((
g_I≈utSèã
.
dú
 =
kDúWe°
 || g_I≈utSèã.dú =
kDúSouth
) ? -16 : 16);

780 
yOff£t
 = ((
g_I≈utSèã
.
dú
 =
kDúWe°
 || g_I≈utSèã.dú =
kDúN‹th
) ? -8 : 8);

782 
xSour˚
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

783 
ySour˚
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

785 
xT¨gë
 = 
xSour˚
 + 
xOff£t
;

786 
yT¨gë
 = 
ySour˚
 + 
yOff£t
;

788 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 = 
g_I≈utSèã
.
dú
;

793 i‡(!
	`PAL_CheckOb°a˛e
(
	`PAL_XY
(
xT¨gë
, 
yT¨gë
), 
TRUE
, 0))

798 
i
 = 3; i >= 0; i--)

800 
gpGlobÆs
->
rgTøû
[
i
 + 1] = gpGlobals->rgTrail[i];

803 
gpGlobÆs
->
rgTøû
[0].
wDúe˘i⁄
 = 
g_I≈utSèã
.
dú
;

804 
gpGlobÆs
->
rgTøû
[0].
x
 = 
xSour˚
;

805 
gpGlobÆs
->
rgTøû
[0].
y
 = 
ySour˚
;

810 
gpGlobÆs
->
võwp‹t
 =

811 
	`PAL_XY
(
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ 
xOff£t
, 
	`PAL_Y
(gpGlobÆs->võwp‹tË+ 
yOff£t
);

816 
	`PAL_Upd©eP¨tyGe°uªs
(
TRUE
);

822 
	`PAL_Upd©eP¨tyGe°uªs
(
FALSE
);

823 
	}
}

825 
VOID


826 
	$PAL_NPCWÆkO√Sãp
(

827 
WORD
 
wEvítObje˘ID
,

828 
INT
 
iS≥ed


847 
LPEVENTOBJECT
 
p
;

852 i‡(
wEvítObje˘ID
 =0 || wEvítObje˘ID > 
gpGlobÆs
->
g
.
nEvítObje˘
)

857 
p
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1]);

862 
p
->
x
 +(’->
wDúe˘i⁄
 =
kDúWe°
 ||Ö->wDúe˘i⁄ =
kDúSouth
Ë? -2 : 2Ë* 
iS≥ed
;

863 
p
->
y
 +(’->
wDúe˘i⁄
 =
kDúWe°
 ||Ö->wDúe˘i⁄ =
kDúN‹th
Ë? -1 : 1Ë* 
iS≥ed
;

868 i‡(
p
->
nS¥ôeFømes
 > 0)

870 
p
->
wCuºítFømeNum
++;

871 
p
->
wCuºítFømeNum
 %’->
nS¥ôeFømes
 == 3 ? 4 :Ö->nSpriteFrames);

873 i‡(
p
->
nS¥ôeFømesAuto
 > 0)

875 
p
->
wCuºítFømeNum
++;

876 
p
->
wCuºítFømeNum
 %p->
nS¥ôeFømesAuto
;

878 
	}
}

	@scene.h

22 #i‚de‡
_SCENE_H


23 
	#_SCENE_H


	)

25 #ifdef 
__˝lu•lus


30 
VOID


31 
PAL_AµlyWave
(

32 
SDL_SurÁ˚
 *
ÕSurÁ˚


35 
VOID


36 
PAL_MakeS˚√
(

37 
VOID


40 
BOOL


41 
PAL_CheckOb°a˛e
(

42 
PAL_POS
 
pos
,

43 
BOOL
 
fCheckEvítObje˘s
,

44 
WORD
 
wSñfObje˘


47 
VOID


48 
PAL_Upd©eP¨tyGe°uªs
(

49 
BOOL
 
fWÆkög


52 
VOID


53 
PAL_Upd©eP¨ty
(

54 
VOID


57 
VOID


58 
PAL_NPCWÆkO√Sãp
(

59 
WORD
 
wEvítObje˘ID
,

60 
INT
 
iS≥ed


63 #ifdef 
__˝lu•lus


	@script.c

25 
	~"maö.h
"

27 
BOOL
 
	gg_fS¸ùtSuc˚ss
 = 
TRUE
;

28 
	gg_iCurEquùP¨t
 = -1;

30 
BOOL


31 
	$PAL_NPCWÆkTo
(

32 
WORD
 
wEvítObje˘ID
,

33 
INT
 
x
,

34 
INT
 
y
,

35 
INT
 
h
,

36 
INT
 
iS≥ed


64 
LPEVENTOBJECT
 
pEvtObj
;

65 
xOff£t
, 
yOff£t
;

67 
pEvtObj
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1]);

69 
xOff£t
 = (
x
 * 32 + 
h
 * 16Ë- 
pEvtObj
->x;

70 
yOff£t
 = (
y
 * 16 + 
h
 * 8Ë- 
pEvtObj
->y;

72 i‡(
yOff£t
 < 0)

74 
pEvtObj
->
wDúe˘i⁄
 = ((
xOff£t
 < 0Ë? 
kDúWe°
 : 
kDúN‹th
);

78 
pEvtObj
->
wDúe˘i⁄
 = ((
xOff£t
 < 0Ë? 
kDúSouth
: 
kDúEa°
);

81 i‡(
	`abs
(
xOff£t
Ë< 
iS≥ed
 * 2 ||ábs(
yOff£t
) < iSpeed * 2)

83 
pEvtObj
->
x
 = x * 32 + 
h
 * 16;

84 
pEvtObj
->
y
 = y * 16 + 
h
 * 8;

88 
	`PAL_NPCWÆkO√Sãp
(
wEvítObje˘ID
, 
iS≥ed
);

91 i‡(
pEvtObj
->
x
 =x * 32 + 
h
 * 16 &&ÖEvtObj->
y
 == y * 16 + h * 8)

93 
pEvtObj
->
wCuºítFømeNum
 = 0;

94  
TRUE
;

97  
FALSE
;

98 
	}
}

100 
VOID


101 
	$PAL_P¨tyWÆkTo
(

102 
INT
 
x
,

103 
INT
 
y
,

104 
INT
 
h
,

105 
INT
 
iS≥ed


130 
xOff£t
, 
yOff£t
, 
i
, 
dx
, 
dy
;

131 
DWORD
 
t
;

133 
xOff£t
 = 
x
 * 32 + 
h
 * 16 - 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë- PAL_X(gpGlobÆs->
∑πyoff£t
);

134 
yOff£t
 = 
y
 * 16 + 
h
 * 8 - 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë- PAL_Y(gpGlobÆs->
∑πyoff£t
);

136 
t
 = 0;

138 
xOff£t
 !0 || 
yOff£t
 != 0)

140 
	`PAL_Pro˚ssEvít
();

141 
	`SDL_GëTicks
(Ë<
t
)

143 
	`PAL_Pro˚ssEvít
();

144 
	`SDL_Dñay
(1);

147 
t
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

152 
i
 = 3; i >= 0; i--)

154 
gpGlobÆs
->
rgTøû
[
i
 + 1] = gpGlobals->rgTrail[i];

156 
gpGlobÆs
->
rgTøû
[0].
wDúe˘i⁄
 = gpGlobÆs->
wP¨tyDúe˘i⁄
;

157 
gpGlobÆs
->
rgTøû
[0].
x
 = 
	`PAL_X
(gpGlobÆs->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

158 
gpGlobÆs
->
rgTøû
[0].
y
 = 
	`PAL_Y
(gpGlobÆs->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

160 i‡(
yOff£t
 < 0)

162 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 = ((
xOff£t
 < 0Ë? 
kDúWe°
 : 
kDúN‹th
);

166 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 = ((
xOff£t
 < 0Ë? 
kDúSouth
: 
kDúEa°
);

169 
dx
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
);

170 
dy
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
);

172 i‡(
	`abs
(
xOff£t
Ë<
iS≥ed
 * 2)

174 
dx
 +
xOff£t
;

178 
dx
 +
iS≥ed
 * (
xOff£t
 < 0 ? -2 : 2);

181 i‡(
	`abs
(
yOff£t
Ë<
iS≥ed
)

183 
dy
 +
yOff£t
;

187 
dy
 +
iS≥ed
 * (
yOff£t
 < 0 ? -1 : 1);

193 
gpGlobÆs
->
võwp‹t
 = 
	`PAL_XY
(
dx
, 
dy
);

195 
	`PAL_Upd©eP¨tyGe°uªs
(
TRUE
);

196 
	`PAL_GameUpd©e
(
FALSE
);

197 
	`PAL_MakeS˚√
();

198 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

200 
xOff£t
 = 
x
 * 32 + 
h
 * 16 - 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë- PAL_X(gpGlobÆs->
∑πyoff£t
);

201 
yOff£t
 = 
y
 * 16 + 
h
 * 8 - 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë- PAL_Y(gpGlobÆs->
∑πyoff£t
);

204 
	`PAL_Upd©eP¨tyGe°uªs
(
FALSE
);

205 
	}
}

207 
VOID


208 
	$PAL_P¨tyRideEvítObje˘
(

209 
WORD
 
wEvítObje˘ID
,

210 
INT
 
x
,

211 
INT
 
y
,

212 
INT
 
h
,

213 
INT
 
iS≥ed


240 
xOff£t
, 
yOff£t
, 
dx
, 
dy
, 
i
;

241 
DWORD
 
t
;

242 
LPEVENTOBJECT
 
p
;

244 
p
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1]);

246 
xOff£t
 = 
x
 * 32 + 
h
 * 16 - 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë- PAL_X(gpGlobÆs->
∑πyoff£t
);

247 
yOff£t
 = 
y
 * 16 + 
h
 * 8 - 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë- PAL_Y(gpGlobÆs->
∑πyoff£t
);

249 
t
 = 0;

251 
xOff£t
 !0 || 
yOff£t
 != 0)

253 
	`PAL_Pro˚ssEvít
();

254 
	`SDL_GëTicks
(Ë<
t
)

256 
	`PAL_Pro˚ssEvít
();

257 
	`SDL_Dñay
(1);

260 
t
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

262 i‡(
yOff£t
 < 0)

264 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 = ((
xOff£t
 < 0Ë? 
kDúWe°
 : 
kDúN‹th
);

268 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 = ((
xOff£t
 < 0Ë? 
kDúSouth
: 
kDúEa°
);

271 i‡(
	`abs
(
xOff£t
Ë> 
iS≥ed
 * 2)

273 
dx
 = 
iS≥ed
 * (
xOff£t
 < 0 ? -2 : 2);

277 
dx
 = 
xOff£t
;

280 i‡(
	`abs
(
yOff£t
Ë> 
iS≥ed
)

282 
dy
 = 
iS≥ed
 * (
yOff£t
 < 0 ? -1 : 1);

286 
dy
 = 
yOff£t
;

292 
i
 = 3; i >= 0; i--)

294 
gpGlobÆs
->
rgTøû
[
i
 + 1] = gpGlobals->rgTrail[i];

297 
gpGlobÆs
->
rgTøû
[0].
wDúe˘i⁄
 = gpGlobÆs->
wP¨tyDúe˘i⁄
;

298 
gpGlobÆs
->
rgTøû
[0].
x
 = 
	`PAL_X
(gpGlobÆs->
võwp‹t
Ë+ 
dx
 + PAL_X(gpGlobÆs->
∑πyoff£t
);

299 
gpGlobÆs
->
rgTøû
[0].
y
 = 
	`PAL_Y
(gpGlobÆs->
võwp‹t
Ë+ 
dy
 + PAL_Y(gpGlobÆs->
∑πyoff£t
);

304 
gpGlobÆs
->
võwp‹t
 =

305 
	`PAL_XY
(
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ 
dx
, 
	`PAL_Y
(gpGlobÆs->võwp‹tË+ 
dy
);

307 
p
->
x
 +
dx
;

308 
p
->
y
 +
dy
;

310 
	`PAL_GameUpd©e
(
FALSE
);

311 
	`PAL_MakeS˚√
();

312 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

314 
xOff£t
 = 
x
 * 32 + 
h
 * 16 - 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë- PAL_X(gpGlobÆs->
∑πyoff£t
);

315 
yOff£t
 = 
y
 * 16 + 
h
 * 8 - 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë- PAL_Y(gpGlobÆs->
∑πyoff£t
);

317 
	}
}

319 
VOID


320 
	$PAL_M⁄°îCha£Pœyî
(

321 
WORD
 
wEvítObje˘ID
,

322 
WORD
 
wS≥ed
,

323 
WORD
 
wCha£R™ge
,

324 
BOOL
 
fFlﬂtög


347 
LPEVENTOBJECT
 
pEvtObj
 = &
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1];

348 
WORD
 
wM⁄°îS≥ed
 = 0, 
¥evx
, 
¥evy
;

349 
x
, 
y
, 
i
, 
j
, 
l
;

351 i‡(
gpGlobÆs
->
wCha£R™ge
 != 0)

353 
x
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
Ë- 
pEvtObj
->x;

354 
y
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
Ë- 
pEvtObj
->y;

356 i‡(
x
 == 0)

358 
x
 = 
	`R™domL⁄g
(0, 1) ? -1 : 1;

361 i‡(
y
 == 0)

363 
y
 = 
	`R™domL⁄g
(0, 1) ? -1 : 1;

366 
¥evx
 = 
pEvtObj
->
x
;

367 
¥evy
 = 
pEvtObj
->
y
;

369 
i
 = 
¥evx
 % 32;

370 
j
 = 
¥evy
 % 16;

372 
¥evx
 /= 32;

373 
¥evy
 /= 16;

374 
l
 = 0;

376 i‡(
i
 + 
j
 * 2 >= 16)

378 i‡(
i
 + 
j
 * 2 >= 48)

380 
¥evx
++;

381 
¥evy
++;

383 i‡(32 - 
i
 + 
j
 * 2 < 16)

385 
¥evx
++;

387 i‡(32 - 
i
 + 
j
 * 2 < 48)

389 
l
 = 1;

393 
¥evy
++;

397 
¥evx
 =Öªvx * 32 + 
l
 * 16;

398 
¥evy
 =Öªvy * 16 + 
l
 * 8;

403 i‡(
	`abs
(
x
Ë+ábs(
y
Ë* 2 < 
wCha£R™ge
 * 32 * 
gpGlobÆs
->wChaseRange)

405 i‡(
x
 < 0)

407 i‡(
y
 < 0)

409 
pEvtObj
->
wDúe˘i⁄
 = 
kDúWe°
;

413 
pEvtObj
->
wDúe˘i⁄
 = 
kDúSouth
;

418 i‡(
y
 < 0)

420 
pEvtObj
->
wDúe˘i⁄
 = 
kDúN‹th
;

424 
pEvtObj
->
wDúe˘i⁄
 = 
kDúEa°
;

428 i‡(
x
 != 0)

430 
x
 = 
pEvtObj
->x + x / 
	`abs
(x) * 16;

434 
x
 = 
pEvtObj
->x;

437 i‡(
y
 != 0)

439 
y
 = 
pEvtObj
->y + y / 
	`abs
(y) * 8;

443 
y
 = 
pEvtObj
->y;

446 i‡(
fFlﬂtög
)

448 
wM⁄°îS≥ed
 = 
wS≥ed
;

452 i‡(!
	`PAL_CheckOb°a˛e
(
	`PAL_XY
(
x
, 
y
), 
TRUE
, 
wEvítObje˘ID
))

454 
wM⁄°îS≥ed
 = 
wS≥ed
;

458 
pEvtObj
->
x
 = 
¥evx
;

459 
pEvtObj
->
y
 = 
¥evy
;

462 
l
 = 0;Ü < 4;Ü++)

464 
l
)

467 
pEvtObj
->
x
 -= 4;

468 
pEvtObj
->
y
 += 2;

472 
pEvtObj
->
x
 -= 4;

473 
pEvtObj
->
y
 -= 2;

477 
pEvtObj
->
x
 += 4;

478 
pEvtObj
->
y
 -= 2;

482 
pEvtObj
->
x
 += 4;

483 
pEvtObj
->
y
 += 2;

487 i‡(
	`PAL_CheckOb°a˛e
(
	`PAL_XY
(
pEvtObj
->
x
,ÖEvtObj->
y
), 
FALSE
, 0))

489 
pEvtObj
->
x
 = 
¥evx
;

490 
pEvtObj
->
y
 = 
¥evy
;

497 
	`PAL_NPCWÆkO√Sãp
(
wEvítObje˘ID
, 
wM⁄°îS≥ed
);

498 
	}
}

500 
VOID


501 
	$PAL_Addôi⁄ÆCªdôs
(

502 
VOID


519 
LPCSTR
 
rgszSåögs
[] = {

521 #ifde‡
PAL_CLASSIC


522 " (\xB8\x67\xA8\xE5\xAF\x53\xA7\x4F\xBD\x67 " 
__DATE__
 ")",

524 " (" 
__DATE__
 ")",

529 #ifde‡
__SYMBIAN32__


532 #ifde‡
GPH


535 #ifde‡
GEKKO


538 #ifde‡
DINGOO


550 
i
 = 0;

552 #ifde‡
PAL_WIN95


553 
BOOL
 
fIsBig5
;

554 
fIsBig5
 = 
TRUE
;

557 
	`PAL_DøwO≥nögMíuBackground
();

559 
rgszSåögs
[
i
][0] != '\0')

561 
	`PAL_DøwText
(
rgszSåögs
[
i
], 
	`PAL_XY
(25, 20 + i * 16), 
DESCTEXT_COLOR
, 
TRUE
, 
FALSE
);

562 
i
++;

565 
	`PAL_SëPÆëã
(0, 
FALSE
);

566 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

568 
	`PAL_WaôF‹Key
(0);

569 
	}
}

571 
WORD


572 
	$PAL_I¡î¥ëIn°ru˘i⁄
(

573 
WORD
 
wS¸ùtE¡ry
,

574 
WORD
 
wEvítObje˘ID


593 
LPEVENTOBJECT
 
pEvtObj
, 
pCuºít
;

594 
LPSCRIPTENTRY
 
pS¸ùt
;

595 
iPœyîRﬁe
, 
i
, 
j
, 
x
, 
y
;

596 
WORD
 
w
, 
wCurEvítObje˘ID
;

598 
pS¸ùt
 = &(
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
[
wS¸ùtE¡ry
]);

600 i‡(
wEvítObje˘ID
 != 0)

602 
pEvtObj
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1]);

606 
pEvtObj
 = 
NULL
;

609 i‡(
pS¸ùt
->
rgwO≥ønd
[0] == 0 ||ÖScript->rgwOperand[0] == 0xFFFF)

611 
pCuºít
 = 
pEvtObj
;

612 
wCurEvítObje˘ID
 = 
wEvítObje˘ID
;

616 
i
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

617 i‡(
i
 > 0x9000)

620 
i
 -= 0x9000;

622 
pCuºít
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
i
]);

623 
wCurEvítObje˘ID
 = 
pS¸ùt
->
rgwO≥ønd
[0];

626 i‡(
pS¸ùt
->
rgwO≥ønd
[0] < 
MAX_PLAYABLE_PLAYER_ROLES
)

628 
iPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
pS¸ùt
->
rgwO≥ønd
[0]].
wPœyîRﬁe
;

632 
iPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[0].
wPœyîRﬁe
;

635 
pS¸ùt
->
wO≥øti⁄
)

644 
pEvtObj
->
wDúe˘i⁄
 = 
pS¸ùt
->
wO≥øti⁄
 - 0x000B;

645 
	`PAL_NPCWÆkO√Sãp
(
wEvítObje˘ID
, 2);

652 i‡(
pS¸ùt
->
rgwO≥ønd
[0] != 0xFFFF)

654 
pEvtObj
->
wDúe˘i⁄
 = 
pS¸ùt
->
rgwO≥ønd
[0];

656 i‡(
pS¸ùt
->
rgwO≥ønd
[1] != 0xFFFF)

658 
pEvtObj
->
wCuºítFømeNum
 = 
pS¸ùt
->
rgwO≥ønd
[1];

666 i‡(!
	`PAL_NPCWÆkTo
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

667 
pS¸ùt
->
rgwO≥ønd
[2], 3))

669 
wS¸ùtE¡ry
--;

677 i‡((
wEvítObje˘ID
 & 1Ë^ (
gpGlobÆs
->
dwFømeNum
 & 1))

679 i‡(!
	`PAL_NPCWÆkTo
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

680 
pS¸ùt
->
rgwO≥ønd
[2], 2))

682 
wS¸ùtE¡ry
--;

687 
wS¸ùtE¡ry
--;

695 
pCuºít
->
x
 =

696 
pS¸ùt
->
rgwO≥ønd
[1] + 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

697 
pCuºít
->
y
 =

698 
pS¸ùt
->
rgwO≥ønd
[2] + 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

705 
pCuºít
->
x
 = 
pS¸ùt
->
rgwO≥ønd
[1];

706 
pCuºít
->
y
 = 
pS¸ùt
->
rgwO≥ønd
[2];

713 
pEvtObj
->
wCuºítFømeNum
 = 
pS¸ùt
->
rgwO≥ønd
[0];

714 
pEvtObj
->
wDúe˘i⁄
 = 
kDúSouth
;

721 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 = 
pS¸ùt
->
rgwO≥ønd
[0];

722 
gpGlobÆs
->
rgP¨ty
[
pS¸ùt
->
rgwO≥ønd
[2]].
wFøme
 =

723 
gpGlobÆs
->
wP¨tyDúe˘i⁄
 * 3 + 
pS¸ùt
->
rgwO≥ønd
[1];

730 i‡(
pS¸ùt
->
rgwO≥ønd
[0] != 0)

732 
pCuºít
->
wDúe˘i⁄
 = 
pS¸ùt
->
rgwO≥ønd
[1];

733 
pCuºít
->
wCuºítFømeNum
 = 
pS¸ùt
->
rgwO≥ønd
[2];

742 
WORD
 *
p
;

744 
i
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 0xB;

746 
p
 = (
WORD
 *)(&
gpGlobÆs
->
rgEquùmítEf„˘
[
i
]);

748 
p
[
pS¸ùt
->
rgwO≥ønd
[1] * 
MAX_PLAYER_ROLES
 + 
wEvítObje˘ID
] =

749 (
SHORT
)
pS¸ùt
->
rgwO≥ønd
[2];

757 
i
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 0x0B;

758 
g_iCurEquùP¨t
 = 
i
;

763 
	`PAL_RemoveEquùmítEf„˘
(
wEvítObje˘ID
, 
i
);

765 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
wEvítObje˘ID
] !
pS¸ùt
->
rgwO≥ønd
[1])

767 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
wEvítObje˘ID
];

768 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
wEvítObje˘ID
] = 
pS¸ùt
->
rgwO≥ønd
[1];

770 
	`PAL_AddIãmToInvít‹y
(
pS¸ùt
->
rgwO≥ønd
[1], -1);

772 i‡(
w
 != 0)

774 
	`PAL_AddIãmToInvít‹y
(
w
, 1);

777 
gpGlobÆs
->
wLa°U√quù≥dIãm
 = 
w
;

786 
WORD
 *
p
 = (WORD *)(&
gpGlobÆs
->
g
.
PœyîRﬁes
);

788 i‡(
pS¸ùt
->
rgwO≥ønd
[2] == 0)

790 
iPœyîRﬁe
 = 
wEvítObje˘ID
;

794 
iPœyîRﬁe
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

797 
p
[
pS¸ùt
->
rgwO≥ønd
[0] * 
MAX_PLAYER_ROLES
 + 
iPœyîRﬁe
] +=

798 (
SHORT
)
pS¸ùt
->
rgwO≥ønd
[1];

807 
WORD
 *
p
 = (WORD *)(&
gpGlobÆs
->
g
.
PœyîRﬁes
);

809 i‡(
g_iCurEquùP¨t
 != -1)

814 
p
 = (
WORD
 *)&(
gpGlobÆs
->
rgEquùmítEf„˘
[
g_iCurEquùP¨t
]);

817 i‡(
pS¸ùt
->
rgwO≥ønd
[2] == 0)

823 
iPœyîRﬁe
 = 
wEvítObje˘ID
;

827 
iPœyîRﬁe
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

830 
p
[
pS¸ùt
->
rgwO≥ønd
[0] * 
MAX_PLAYER_ROLES
 + 
iPœyîRﬁe
] =

831 (
SHORT
)
pS¸ùt
->
rgwO≥ønd
[1];

839 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

844 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

846 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

847 
	`PAL_In¸ó£HPMP
(
w
, (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]), 0);

855 i‡(!
	`PAL_In¸ó£HPMP
(
wEvítObje˘ID
, (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]), 0))

857 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

866 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

871 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

873 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

874 
	`PAL_In¸ó£HPMP
(
w
, 0, (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]));

882 i‡(!
	`PAL_In¸ó£HPMP
(
wEvítObje˘ID
, 0, (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1])))

884 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

893 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

898 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

900 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

901 
	`PAL_In¸ó£HPMP
(
w
,

902 (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]), (SHORT)(pScript->rgwOperand[1]));

910 i‡(!
	`PAL_In¸ó£HPMP
(
wEvítObje˘ID
,

911 (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]), (SHORT)(pScript->rgwOperand[1])))

913 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

922 i‡((
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]) < 0 &&

923 
gpGlobÆs
->
dwCash
 < (
WORD
)(-(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0])))

928 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1] - 1;

932 
gpGlobÆs
->
dwCash
 +(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]);

940 
	`PAL_AddIãmToInvít‹y
(
pS¸ùt
->
rgwO≥ønd
[0], (
SHORT
)(pScript->rgwOperand[1]));

947 i‡(!
	`PAL_AddIãmToInvít‹y
(
pS¸ùt
->
rgwO≥ønd
[0],

948 -((
pS¸ùt
->
rgwO≥ønd
[1] == 0) ? 1 :ÖScript->rgwOperand[1])))

953 
x
 = 
pS¸ùt
->
rgwO≥ønd
[1];

954 i‡(
x
 == 0)

956 
x
 = 1;

959 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

961 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

963 
j
 = 0; j < 
MAX_PLAYER_EQUIPMENTS
; j++)

965 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
j
][
w
] =
pS¸ùt
->
rgwO≥ønd
[0])

967 
	`PAL_RemoveEquùmítEf„˘
(
w
, 
j
);

968 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
j
][
w
] = 0;

970 i‡(--
x
 == 0)

972 
i
 = 9999;

979 i‡(
x
 > 0 && 
pS¸ùt
->
rgwO≥ønd
[2] != 0)

981 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

990 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

995 
i
 = 0;ò<
g_B©ée
.
wMaxE√myIndex
; i++)

997 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0)

999 
g_B©ée
.
rgE√my
[
i
].
e
.
wHó…h
 -
pS¸ùt
->
rgwO≥ønd
[1];

1008 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
 -
pS¸ùt
->
rgwO≥ønd
[1];

1016 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

1021 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

1023 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1025 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

1026 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] == 0)

1028 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] =

1029 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
w
] * 
pS¸ùt
->
rgwO≥ønd
[1] / 10;

1031 
	`PAL_CuªPois⁄ByLevñ
(
w
, 3);

1032 
x
 = 0; x < 
kSètusAŒ
; x++)

1034 
	`PAL_RemovePœyîSètus
(
w
, 
x
);

1037 
g_fS¸ùtSuc˚ss
 = 
TRUE
;

1046 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wEvítObje˘ID
] == 0)

1048 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wEvítObje˘ID
] =

1049 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
wEvítObje˘ID
] * 
pS¸ùt
->
rgwO≥ønd
[1] / 10;

1051 
	`PAL_CuªPois⁄ByLevñ
(
wEvítObje˘ID
, 3);

1052 
x
 = 0; x < 
kSètusAŒ
; x++)

1054 
	`PAL_RemovePœyîSètus
(
wEvítObje˘ID
, 
x
);

1059 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

1068 i‡(
pS¸ùt
->
rgwO≥ønd
[1] == 0)

1073 
i
 = 0; i < 
MAX_PLAYER_EQUIPMENTS
; i++)

1075 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
iPœyîRﬁe
];

1076 i‡(
w
 != 0)

1078 
	`PAL_AddIãmToInvít‹y
(
w
, 1);

1079 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
iPœyîRﬁe
] = 0;

1081 
	`PAL_RemoveEquùmítEf„˘
(
iPœyîRﬁe
, 
i
);

1086 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
pS¸ùt
->
rgwO≥ønd
[1] - 1][
iPœyîRﬁe
];

1087 i‡(
w
 != 0)

1089 
	`PAL_RemoveEquùmítEf„˘
(
iPœyîRﬁe
, 
pS¸ùt
->
rgwO≥ønd
[1] - 1);

1090 
	`PAL_AddIãmToInvít‹y
(
w
, 1);

1091 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
pS¸ùt
->
rgwO≥ønd
[1] - 1][
iPœyîRﬁe
] = 0;

1100 i‡(
pS¸ùt
->
rgwO≥ønd
[0] != 0)

1102 
pCuºít
->
wAutoS¸ùt
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1110 i‡(
pS¸ùt
->
rgwO≥ønd
[0] != 0)

1112 
pCuºít
->
wTriggîS¸ùt
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1120 
	`PAL_MakeS˚√
();

1121 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1122 
	`PAL_BuyMíu
(
pS¸ùt
->
rgwO≥ønd
[0]);

1129 
	`PAL_MakeS˚√
();

1130 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1131 
	`PAL_SñlMíu
();

1138 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

1143 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1145 
w
 = 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
;

1147 i‡(
w
 == 0)

1152 i‡(
	`R™domL⁄g
(0, 9) >=

1153 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.
wResi°™˚ToS‹˚ry
)

1155 
j
 = 0; j < 
MAX_POISONS
; j++)

1157 i‡(
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄ID
 ==

1158 
pS¸ùt
->
rgwO≥ønd
[1])

1164 i‡(
j
 >
MAX_POISONS
)

1166 
j
 = 0; j < 
MAX_POISONS
; j++)

1168 i‡(
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄ID
 == 0)

1170 
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄ID
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1171 
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄S¸ùt
 =

1172 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
pS¸ùt
->
rgwO≥ønd
[1]].
pois⁄
.
wE√myS¸ùt
, 
wEvítObje˘ID
);

1185 
w
 = 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
wObje˘ID
;

1187 i‡(
	`R™domL⁄g
(0, 9) >=

1188 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.
wResi°™˚ToS‹˚ry
)

1190 
j
 = 0; j < 
MAX_POISONS
; j++)

1192 i‡(
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
j
].
wPois⁄ID
 ==

1193 
pS¸ùt
->
rgwO≥ønd
[1])

1199 i‡(
j
 >
MAX_POISONS
)

1201 
j
 = 0; j < 
MAX_POISONS
; j++)

1203 i‡(
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
j
].
wPois⁄ID
 == 0)

1205 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
j
].
wPois⁄ID
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1206 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
j
].
wPois⁄S¸ùt
 =

1207 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
pS¸ùt
->
rgwO≥ønd
[1]].
pois⁄
.
wE√myS¸ùt
, 
wEvítObje˘ID
);

1220 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

1225 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1227 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

1228 i‡(
	`R™domL⁄g
(1, 100Ë> 
	`PAL_GëPœyîPois⁄Resi°™˚
(
w
))

1230 
	`PAL_AddPois⁄F‹Pœyî
(
w
, 
pS¸ùt
->
rgwO≥ønd
[1]);

1239 i‡(
	`R™domL⁄g
(1, 100Ë> 
	`PAL_GëPœyîPois⁄Resi°™˚
(
wEvítObje˘ID
))

1241 
	`PAL_AddPois⁄F‹Pœyî
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[1]);

1250 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

1255 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1257 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

1262 
j
 = 0; j < 
MAX_POISONS
; j++)

1264 i‡(
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄ID
 =
pS¸ùt
->
rgwO≥ønd
[1])

1266 
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄ID
 = 0;

1267 
g_B©ée
.
rgE√my
[
i
].
rgPois⁄s
[
j
].
wPois⁄S¸ùt
 = 0;

1278 
j
 = 0; j < 
MAX_POISONS
; j++)

1280 i‡(
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
j
].
wPois⁄ID
 =
pS¸ùt
->
rgwO≥ønd
[1])

1282 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
j
].
wPois⁄ID
 = 0;

1283 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
j
].
wPois⁄S¸ùt
 = 0;

1294 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

1296 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1298 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

1299 
	`PAL_CuªPois⁄ByKöd
(
w
, 
pS¸ùt
->
rgwO≥ønd
[1]);

1304 
	`PAL_CuªPois⁄ByKöd
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[1]);

1312 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

1314 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1316 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

1317 
	`PAL_CuªPois⁄ByLevñ
(
w
, 
pS¸ùt
->
rgwO≥ønd
[1]);

1322 
	`PAL_CuªPois⁄ByLevñ
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[1]);

1330 
	`PAL_SëPœyîSètus
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1]);

1337 
w
 = 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
wObje˘ID
;

1339 #ifde‡
PAL_CLASSIC


1340 
i
 = 9;

1342 
i
 = ((
pS¸ùt
->
rgwO≥ønd
[0] =
kSètusSlow
) ? 14 : 9);

1345 i‡(
	`R™domL⁄g
(0, 
i
Ë>
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.
wResi°™˚ToS‹˚ry
 &&

1346 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
pS¸ùt
->
rgwO≥ønd
[0]] == 0)

1348 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
pS¸ùt
->
rgwO≥ønd
[0]] =ÖScript->rgwOperand[1];

1352 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

1360 
	`PAL_RemovePœyîSètus
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0]);

1368 
WORD
 *
p
 = (WORD *)(&
gpGlobÆs
->
rgEquùmítEf„˘
[
kBodyP¨tExåa
]);

1369 
WORD
 *
p1
 = (WORD *)(&
gpGlobÆs
->
g
.
PœyîRﬁes
);

1371 i‡(
pS¸ùt
->
rgwO≥ønd
[2] == 0)

1373 
iPœyîRﬁe
 = 
wEvítObje˘ID
;

1377 
iPœyîRﬁe
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

1380 
p
[
pS¸ùt
->
rgwO≥ønd
[0] * 
MAX_PLAYER_ROLES
 + 
iPœyîRﬁe
] =

1381 
p1
[
pS¸ùt
->
rgwO≥ønd
[0] * 
MAX_PLAYER_ROLES
 + 
iPœyîRﬁe
] *

1382 (
SHORT
)
pS¸ùt
->
rgwO≥ønd
[1] / 100;

1390 
gpGlobÆs
->
rgEquùmítEf„˘
[
kBodyP¨tExåa
].
rgwS¥ôeNumInB©ée
[
wEvítObje˘ID
] =

1391 
pS¸ùt
->
rgwO≥ønd
[0];

1398 i‡(
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wCﬁÀ˘VÆue
 != 0)

1400 
gpGlobÆs
->
wCﬁÀ˘VÆue
 +=

1401 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wCﬁÀ˘VÆue
;

1405 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

1413 i‡(
gpGlobÆs
->
wCﬁÀ˘VÆue
 > 0)

1415 
s
[256];

1417 #ifde‡
PAL_CLASSIC


1418 
i
 = 
	`R™domL⁄g
(1, 
gpGlobÆs
->
wCﬁÀ˘VÆue
);

1419 i‡(
i
 > 9)

1421 
i
 = 9;

1424 
i
 = 
	`R™domL⁄g
(1, 9);

1425 i‡(
i
 > 
gpGlobÆs
->
wCﬁÀ˘VÆue
)

1427 
i
 = 
gpGlobÆs
->
wCﬁÀ˘VÆue
;

1431 
gpGlobÆs
->
wCﬁÀ˘VÆue
 -
i
;

1432 
i
--;

1434 
	`PAL_AddIãmToInvít‹y
(
gpGlobÆs
->
g
.
ÕrgSt‹e
[0].
rgwIãms
[
i
], 1);

1436 
	`PAL_SèπDülog
(
kDülogCíãrWödow
, 0, 0, 
FALSE
);

1437 
	`°r˝y
(
s
, 
	`PAL_GëW‹d
(42));

1438 
	`°rˇt
(
s
, 
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
ÕrgSt‹e
[0].
rgwIãms
[
i
]));

1439 
	`PAL_ShowDülogText
(
s
);

1443 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

1451 
i
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1452 i‡(
i
 == 0)

1454 
i
 = 4;

1456 
	`VIDEO_ShakeS¸ìn
(
pS¸ùt
->
rgwO≥ønd
[0], 
i
);

1457 i‡(!
pS¸ùt
->
rgwO≥ønd
[0])

1459 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1467 
gpGlobÆs
->
iCurPœyögRNG
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1474 
	`PAL_RNGPœy
(
gpGlobÆs
->
iCurPœyögRNG
,

1475 
pS¸ùt
->
rgwO≥ønd
[0],

1476 
pS¸ùt
->
rgwO≥ønd
[1] > 0 ?ÖScript->rgwOperand[1] : 999,

1477 
pS¸ùt
->
rgwO≥ønd
[2] > 0 ?ÖScript->rgwOperand[2] : 16);

1484 i‡(!
gpGlobÆs
->
fInB©ée
 &&

1485 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wS¸ùtOnTñï‹t
 != 0)

1487 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wS¸ùtOnTñï‹t
 =

1488 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wS¸ùtOnTñï‹t
, 0xFFFF);

1495 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

1496 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

1504 
w
 = 
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
wMovögPœyîIndex
].
wPœyîRﬁe
;

1506 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
 -
pS¸ùt
->
rgwO≥ønd
[0];

1507 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] +
pS¸ùt
->
rgwO≥ønd
[0];

1509 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] > gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[w])

1511 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] = gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[w];

1519 i‡(
g_B©ée
.
fIsBoss
)

1524 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

1528 
	`PAL_B©éePœyîEsˇ≥
();

1536 
	`PAL_P¨tyRideEvítObje˘
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

1537 
pS¸ùt
->
rgwO≥ønd
[2], 2);

1544 i‡(
pS¸ùt
->
rgwO≥ønd
[0] != 0)

1546 
pCuºít
->
wTriggîMode
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1554 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

1561 
i
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[2]) - 1;

1562 i‡(
i
 < 0)

1564 
i
 = 
wEvítObje˘ID
;

1566 
	`PAL_B©éeSimuœãMagic
(
i
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1]);

1573 
gpGlobÆs
->
wNumMusic
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1574 
	`PAL_PœyMUS
(
pS¸ùt
->
rgwO≥ønd
[0], (pScript->rgwOperand[0] != 0x3D),ÖScript->rgwOperand[1]);

1581 
	`PAL_P¨tyRideEvítObje˘
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

1582 
pS¸ùt
->
rgwO≥ønd
[2], 4);

1589 
gpGlobÆs
->
wNumB©éeMusic
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1597 
xOff£t
, 
yOff£t
, 
x
, 
y
;

1599 
xOff£t
 =

1600 ((
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúSouth
)

1602 
yOff£t
 =

1603 ((
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúN‹th
)

1606 
x
 = 
pS¸ùt
->
rgwO≥ønd
[0] * 32 +ÖScript->rgwOperand[2] * 16;

1607 
y
 = 
pS¸ùt
->
rgwO≥ønd
[1] * 16 +ÖScript->rgwOperand[2] * 8;

1609 
x
 -
	`PAL_X
(
gpGlobÆs
->
∑πyoff£t
);

1610 
y
 -
	`PAL_Y
(
gpGlobÆs
->
∑πyoff£t
);

1612 
gpGlobÆs
->
võwp‹t
 = 
	`PAL_XY
(
x
, 
y
);

1614 
x
 = 
	`PAL_X
(
gpGlobÆs
->
∑πyoff£t
);

1615 
y
 = 
	`PAL_Y
(
gpGlobÆs
->
∑πyoff£t
);

1617 
i
 = 0; i < 
MAX_PLAYABLE_PLAYER_ROLES
; i++)

1619 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 = x;

1620 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 = y;

1621 
gpGlobÆs
->
rgTøû
[
i
].
x
 = x + 
	`PAL_X
(gpGlobÆs->
võwp‹t
);

1622 
gpGlobÆs
->
rgTøû
[
i
].
y
 = y + 
	`PAL_Y
(gpGlobÆs->
võwp‹t
);

1623 
gpGlobÆs
->
rgTøû
[
i
].
wDúe˘i⁄
 = gpGlobÆs->
wP¨tyDúe˘i⁄
;

1625 
x
 +
xOff£t
;

1626 
y
 +
yOff£t
;

1635 
	`SOUND_Pœy
(
pS¸ùt
->
rgwO≥ønd
[0]);

1642 
pCuºít
->
sSèã
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1649 
gpGlobÆs
->
wNumB©éeFõld
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1656 
pEvtObj
->
sV™ishTime
 = -15;

1663 
i
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1664 
j
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1666 i‡(
i
 == 0)

1668 
i
 = 8;

1671 i‡(
j
 == 0)

1673 
j
 = 4;

1676 
	`PAL_M⁄°îCha£Pœyî
(
wEvítObje˘ID
, 
j
, 
i
, 
pS¸ùt
->
rgwO≥ønd
[2]);

1683 
	`PAL_WaôF‹Key
(0);

1690 
	`PAL_FadeOut
(1);

1691 
	`PAL_InôGameD©a
(
gpGlobÆs
->
bCuºítSaveSlŸ
);

1698 
	`PAL_FadeToRed
();

1705 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1706 
	`PAL_FadeOut
(
pS¸ùt
->
rgwO≥ønd
[0] ?ÖScript->rgwOperand[0] : 1);

1707 
gpGlobÆs
->
fNìdToFadeIn
 = 
TRUE
;

1714 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1715 
	`PAL_FadeIn
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
,

1716 ((
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]) > 0) ?ÖScript->rgwOperand[0] : 1);

1717 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

1724 
pEvtObj
->
sSèã
 *= -1;

1725 
pEvtObj
->
sV™ishTime
 = (
pS¸ùt
->
rgwO≥ønd
[0] ?ÖScript->rgwOperand[0] : 800);

1732 
gpGlobÆs
->
fNightPÆëã
 = 
FALSE
;

1739 
gpGlobÆs
->
fNightPÆëã
 = 
TRUE
;

1746 
i
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1747 i‡(
i
 == 0)

1749 
i
 = 
wEvítObje˘ID
;

1753 
i
--;

1755 
	`PAL_AddMagic
(
i
, 
pS¸ùt
->
rgwO≥ønd
[0]);

1762 
i
 = 
pS¸ùt
->
rgwO≥ønd
[1];

1763 i‡(
i
 == 0)

1765 
i
 = 
wEvítObje˘ID
;

1769 
i
--;

1771 
	`PAL_RemoveMagic
(
i
, 
pS¸ùt
->
rgwO≥ønd
[0]);

1778 
i
 = ((
pS¸ùt
->
rgwO≥ønd
[1] == 0) ? 8 :ÖScript->rgwOperand[1]);

1779 
j
 = 
gpGlobÆs
->
g
.
rgObje˘
[
pS¸ùt
->
rgwO≥ønd
[0]].
magic
.
wMagicNumbî
;

1780 
gpGlobÆs
->
g
.
ÕrgMagic
[
j
].
wBa£Damage
 =

1781 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wEvítObje˘ID
] * 
i
;

1782 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wEvítObje˘ID
] = 0;

1790 i‡(
	`PAL_GëIãmAmou¡
(
pS¸ùt
->
rgwO≥ønd
[0]Ë< (
SHORT
)(pScript->rgwOperand[1]))

1792 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

1800 i‡(
pS¸ùt
->
rgwO≥ønd
[0] > 0 &&ÖS¸ùt->rgwO≥ønd[0] <
MAX_SCENES
 &&

1801 
gpGlobÆs
->
wNumS˚√
 !
pS¸ùt
->
rgwO≥ønd
[0])

1806 
gpGlobÆs
->
wNumS˚√
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1807 
	`PAL_SëLﬂdFœgs
(
kLﬂdS˚√
);

1808 
gpGlobÆs
->
fE¡îögS˚√
 = 
TRUE
;

1809 
gpGlobÆs
->
wLayî
 = 0;

1818 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wEvítObje˘ID
] /= 2;

1825 
w
 = 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
 / 2 + 1;

1826 i‡(
w
 > 
pS¸ùt
->
rgwO≥ønd
[0])

1828 
w
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1830 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
 -
w
;

1837 
g_B©ée
.
iHidögTime
 = -(
INT
)(
pS¸ùt
->
rgwO≥ønd
[0]);

1844 i‡(!
	`PAL_IsPœyîPois⁄edByKöd
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0]))

1846 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1] - 1;

1854 
i
 = 0; i < 
MAX_POISONS
; i++)

1856 i‡(
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgPois⁄s
[
i
].
wPois⁄ID
 =
pS¸ùt
->
rgwO≥ønd
[0])

1862 i‡(
i
 >
MAX_POISONS
)

1864 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1] - 1;

1873 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wEvítObje˘ID
] = 0;

1880 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
 = 0;

1887 i‡(!
	`PAL_IsPœyîPois⁄edByLevñ
(
wEvítObje˘ID
, 1))

1889 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

1897 
gpGlobÆs
->
wCha£•ìdCh™geCy˛es
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1898 
gpGlobÆs
->
wCha£R™ge
 = 0;

1905 
gpGlobÆs
->
wCha£•ìdCh™geCy˛es
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1906 
gpGlobÆs
->
wCha£R™ge
 = 3;

1913 
i
 = 
gpGlobÆs
->
g
.
rgObje˘
[
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
wObje˘ID
].
íemy
.
wE√myID
;

1914 i‡((
INT
)(
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
) * 100 >

1915 (
INT
)(
gpGlobÆs
->
g
.
ÕrgE√my
[
i
].
wHó…h
Ë* 
pS¸ùt
->
rgwO≥ønd
[0])

1917 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1] - 1;

1925 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwS¥ôeNum
[
pS¸ùt
->
rgwO≥ønd
[0]] =ÖScript->rgwOperand[1];

1926 i‡(!
gpGlobÆs
->
fInB©ée
 && 
pS¸ùt
->
rgwO≥ønd
[2])

1928 
	`PAL_SëLﬂdFœgs
(
kLﬂdPœyîS¥ôe
);

1929 
	`PAL_LﬂdResour˚s
();

1937 
w
 = 
pS¸ùt
->
rgwO≥ønd
[1] * 5;

1938 
w
 +
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwAâackSåígth
[gpGlobÆs->
rgP¨ty
[
g_B©ée
.
wMovögPœyîIndex
].
wPœyîRﬁe
];

1939 
w
 +
	`R™domL⁄g
(0, 4);

1940 
	`PAL_B©éeSimuœãMagic
((
SHORT
)
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0], 
w
);

1947 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wMagic
 = 
pS¸ùt
->
rgwO≥ønd
[0];

1948 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wMagicR©e
 =

1949 ((
pS¸ùt
->
rgwO≥ønd
[1] == 0) ? 10 :ÖScript->rgwOperand[1]);

1956 i‡(
g_B©ée
.
fE√myMovög
)

1958 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

1966 
	`PAL_B©éeE√myEsˇ≥
();

1973 
	`PAL_B©éeSãÆFromE√my
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0]);

1980 
g_B©ée
.
iBlow
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]);

1987 
pCuºít
->
x
 +(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]);

1988 
pCuºít
->
y
 +(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[2]);

1989 
	`PAL_NPCWÆkO√Sãp
(
wCurEvítObje˘ID
, 0);

1996 i‡(
pS¸ùt
->
rgwO≥ønd
[0])

1998 i‡(
pS¸ùt
->
rgwO≥ønd
[1])

2000 
gpGlobÆs
->
g
.
rgS˚√
[
pS¸ùt
->
rgwO≥ønd
[0] - 1].
wS¸ùtOnE¡î
 =

2001 
pS¸ùt
->
rgwO≥ønd
[1];

2004 i‡(
pS¸ùt
->
rgwO≥ønd
[2])

2006 
gpGlobÆs
->
g
.
rgS˚√
[
pS¸ùt
->
rgwO≥ønd
[0] - 1].
wS¸ùtOnTñï‹t
 =

2007 
pS¸ùt
->
rgwO≥ønd
[2];

2010 i‡(
pS¸ùt
->
rgwO≥ønd
[1] == 0 &&ÖScript->rgwOperand[2] == 0)

2012 
gpGlobÆs
->
g
.
rgS˚√
[
pS¸ùt
->
rgwO≥ønd
[0] - 1].
wS¸ùtOnE¡î
 = 0;

2013 
gpGlobÆs
->
g
.
rgS˚√
[
pS¸ùt
->
rgwO≥ønd
[0] - 1].
wS¸ùtOnTñï‹t
 = 0;

2022 
i
 = 3; i >= 0; i--)

2024 
gpGlobÆs
->
rgTøû
[
i
 + 1] = gpGlobals->rgTrail[i];

2026 
gpGlobÆs
->
rgTøû
[0].
wDúe˘i⁄
 = gpGlobÆs->
wP¨tyDúe˘i⁄
;

2027 
gpGlobÆs
->
rgTøû
[0].
x
 = 
	`PAL_X
(gpGlobÆs->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

2028 
gpGlobÆs
->
rgTøû
[0].
y
 = 
	`PAL_Y
(gpGlobÆs->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

2030 
gpGlobÆs
->
võwp‹t
 = 
	`PAL_XY
(

2031 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]),

2032 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]));

2034 
gpGlobÆs
->
wLayî
 = 
pS¸ùt
->
rgwO≥ønd
[2] * 8;

2036 i‡(
pS¸ùt
->
rgwO≥ønd
[0] != 0 ||ÖScript->rgwOperand[1] != 0)

2038 
	`PAL_Upd©eP¨tyGe°uªs
(
TRUE
);

2046 i‡(
pCuºít
->
sSèã
 =(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]))

2048 
pEvtObj
->
sSèã
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]);

2056 
	`PAL_P¨tyWÆkTo
(
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],ÖScript->rgwOperand[2], 2);

2063 
gpGlobÆs
->
wS¸ìnWave
 = 
pS¸ùt
->
rgwO≥ønd
[0];

2064 
gpGlobÆs
->
sWaveProgªssi⁄
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]);

2071 
	`VIDEO_BackupS¸ìn
();

2072 
	`PAL_MakeS˚√
();

2073 
	`VIDEO_FadeS¸ìn
(
pS¸ùt
->
rgwO≥ønd
[0]);

2080 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

2082 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

2083 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] < gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[w])

2085 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

2095 
gpGlobÆs
->
wMaxP¨tyMembîIndex
 = 0;

2096 
i
 = 0; i < 3; i++)

2098 i‡(
pS¸ùt
->
rgwO≥ønd
[
i
] != 0)

2100 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
].
wPœyîRﬁe
 =

2101 
pS¸ùt
->
rgwO≥ønd
[
i
] - 1;

2103 
g_B©ée
.
rgPœyî
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 =

2104 
kB©éeA˘i⁄Aâack
;

2106 
gpGlobÆs
->
wMaxP¨tyMembîIndex
++;

2110 i‡(
gpGlobÆs
->
wMaxP¨tyMembîIndex
 == 0)

2113 
gpGlobÆs
->
rgP¨ty
[0].
wPœyîRﬁe
 = 0;

2114 
gpGlobÆs
->
wMaxP¨tyMembîIndex
 = 1;

2117 
gpGlobÆs
->
wMaxP¨tyMembîIndex
--;

2122 
	`PAL_SëLﬂdFœgs
(
kLﬂdPœyîS¥ôe
);

2123 
	`PAL_LﬂdResour˚s
();

2125 
	`mem£t
(
gpGlobÆs
->
rgPois⁄Sètus
, 0, (gpGlobals->rgPoisonStatus));

2126 
	`PAL_Upd©eEquùmíts
();

2133 #ifde‡
PAL_WIN95


2134 
	`SDL_FûlRe˘
(
gpS¸ìn
, 
NULL
, 0);

2135 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2137 
	`PAL_EndögSëEf„˘S¥ôe
(0);

2138 
	`PAL_ShowFBP
(
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1]);

2146 
	`PAL_PœyMUS
(0, 
FALSE
,

2147 (
pS¸ùt
->
rgwO≥ønd
[0] =0Ë? 2.0‡: (
FLOAT
)(pScript->rgwOperand[0]) * 2);

2148 
gpGlobÆs
->
wNumMusic
 = 0;

2161 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

2163 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] ==

2164 
pS¸ùt
->
rgwO≥ønd
[0])

2166 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1] - 1;

2176 
	`PAL_P¨tyWÆkTo
(
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],ÖScript->rgwOperand[2], 4);

2183 
	`PAL_P¨tyWÆkTo
(
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],ÖScript->rgwOperand[2], 8);

2190 i‡((
wEvítObje˘ID
 & 1Ë^ (
gpGlobÆs
->
dwFømeNum
 & 1))

2192 i‡(!
	`PAL_NPCWÆkTo
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

2193 
pS¸ùt
->
rgwO≥ønd
[2], 4))

2195 
wS¸ùtE¡ry
--;

2200 
wS¸ùtE¡ry
--;

2208 
pCuºít
->
x
 +(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]);

2209 
pCuºít
->
y
 +(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[2]);

2216 
pCuºít
->
sLayî
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]);

2223 i‡(
pS¸ùt
->
rgwO≥ønd
[0] == 0 &&ÖScript->rgwOperand[1] == 0)

2228 
x
 = 
gpGlobÆs
->
rgP¨ty
[0].x - 160;

2229 
y
 = 
gpGlobÆs
->
rgP¨ty
[0].y - 112;

2231 
gpGlobÆs
->
võwp‹t
 =

2232 
	`PAL_XY
(
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ 
x
, 
	`PAL_Y
(gpGlobÆs->võwp‹tË+ 
y
);

2233 
gpGlobÆs
->
∑πyoff£t
 = 
	`PAL_XY
(160, 112);

2235 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

2237 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 -= x;

2238 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 -= y;

2241 i‡(
pS¸ùt
->
rgwO≥ønd
[2] != 0xFFFF)

2243 
	`PAL_MakeS˚√
();

2244 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2249 
DWORD
 
time
;

2251 
i
 = 0;

2253 
x
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]);

2254 
y
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]);

2256 
time
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

2260 i‡(
pS¸ùt
->
rgwO≥ønd
[2] == 0xFFFF)

2262 
x
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
);

2263 
y
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
);

2265 
gpGlobÆs
->
võwp‹t
 =

2266 
	`PAL_XY
(
pS¸ùt
->
rgwO≥ønd
[0] * 32 - 160,ÖScript->rgwOperand[1] * 16 - 112);

2268 
x
 -
	`PAL_X
(
gpGlobÆs
->
võwp‹t
);

2269 
y
 -
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
);

2271 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2273 
gpGlobÆs
->
rgP¨ty
[
j
].
x
 += x;

2274 
gpGlobÆs
->
rgP¨ty
[
j
].
y
 += y;

2279 
gpGlobÆs
->
võwp‹t
 =

2280 
	`PAL_XY
(
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ 
x
, 
	`PAL_Y
(gpGlobÆs->võwp‹tË+ 
y
);

2281 
gpGlobÆs
->
∑πyoff£t
 =

2282 
	`PAL_XY
(
	`PAL_X
(
gpGlobÆs
->
∑πyoff£t
Ë- 
x
, 
	`PAL_Y
(gpGlobÆs->∑πyoff£tË- 
y
);

2284 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2286 
gpGlobÆs
->
rgP¨ty
[
j
].
x
 -= x;

2287 
gpGlobÆs
->
rgP¨ty
[
j
].
y
 -= y;

2291 i‡(
pS¸ùt
->
rgwO≥ønd
[2] != 0xFFFF)

2293 
	`PAL_GameUpd©e
(
FALSE
);

2296 
	`PAL_MakeS˚√
();

2297 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

2302 
	`PAL_Pro˚ssEvít
();

2303 
	`SDL_GëTicks
(Ë< 
time
)

2305 
	`PAL_Pro˚ssEvít
();

2306 
	`SDL_Dñay
(1);

2308 
time
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

2309 } ++
i
 < (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[2]));

2317 
gpGlobÆs
->
fNightPÆëã
 = !(gpGlobals->fNightPalette);

2318 
	`PAL_PÆëãFade
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
,

2319 !(
pS¸ùt
->
rgwO≥ønd
[0]));

2327 i‡(
pS¸ùt
->
rgwO≥ønd
[0] <
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
 ||

2328 
pS¸ùt
->
rgwO≥ønd
[0] > 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
)

2333 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2334 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

2338 
x
 = 
pCuºít
->x;

2339 
y
 = 
pCuºít
->y;

2341 
x
 +=

2342 ((
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúSouth
)

2344 
y
 +=

2345 ((
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúN‹th
)

2348 
x
 -
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

2349 
y
 -
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

2351 i‡(
	`abs
(
x
Ë+ábs(
y
 * 2Ë< 
pS¸ùt
->
rgwO≥ønd
[1] * 32 + 16)

2353 i‡(
pS¸ùt
->
rgwO≥ønd
[1] > 0)

2358 
pCuºít
->
wTriggîMode
 = 
kTriggîTouchN‹mÆ
 + 
pS¸ùt
->
rgwO≥ønd
[1];

2363 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2364 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

2373 i‡(!
	`PAL_NPCWÆkTo
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

2374 
pS¸ùt
->
rgwO≥ønd
[2], 8))

2376 
wS¸ùtE¡ry
--;

2384 i‡(
pS¸ùt
->
rgwO≥ønd
[0] <
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
 ||

2385 
pS¸ùt
->
rgwO≥ønd
[0] > 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
)

2390 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2391 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

2395 
x
 = 
pEvtObj
->x - 
pCuºít
->x;

2396 
y
 = 
pEvtObj
->y - 
pCuºít
->y;

2398 i‡(
	`abs
(
x
Ë+ábs(
y
 * 2Ë>
pS¸ùt
->
rgwO≥ønd
[1] * 32 + 16)

2400 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2401 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

2409 i‡(
pS¸ùt
->
rgwO≥ønd
[0] <
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wEvítObje˘Index
 ||

2410 
pS¸ùt
->
rgwO≥ønd
[0] > 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
].
wEvítObje˘Index
)

2415 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2416 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

2420 
x
 = 
	`PAL_X
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_X(gpGlobÆs->
∑πyoff£t
);

2421 
y
 = 
	`PAL_Y
(
gpGlobÆs
->
võwp‹t
Ë+ PAL_Y(gpGlobÆs->
∑πyoff£t
);

2423 
x
 +=

2424 ((
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúSouth
)

2426 
y
 +=

2427 ((
gpGlobÆs
->
wP¨tyDúe˘i⁄
 =
kDúWe°
 || gpGlobÆs->wP¨tyDúe˘i⁄ =
kDúN‹th
)

2430 i‡(
	`PAL_CheckOb°a˛e
(
	`PAL_XY
(
x
, 
y
), 
FALSE
, 0))

2432 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2433 
g_fS¸ùtSuc˚ss
 = 
FALSE
;

2437 
pCuºít
->
x
 = x;

2438 
pCuºít
->
y
 = y;

2439 
pCuºít
->
sSèã
 = (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]);

2447 
	`UTIL_Dñay
(
pS¸ùt
->
rgwO≥ønd
[0] * 80);

2454 
y
 = 
FALSE
;

2455 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

2457 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

2458 
x
 = 0; x < 
MAX_PLAYER_EQUIPMENTS
; x++)

2460 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
x
][
w
] =
pS¸ùt
->
rgwO≥ønd
[0])

2462 
y
 = 
TRUE
;

2463 
i
 = 999;

2468 i‡(!
y
)

2470 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2478 
	`PAL_NPCWÆkO√Sãp
(
wCurEvítObje˘ID
, 0);

2485 
i
 = ((
gpGlobÆs
->
dwCash
 > 5000) ? 5000 : gpGlobals->dwCash);

2486 
gpGlobÆs
->
dwCash
 -
i
;

2487 
j
 = 
gpGlobÆs
->
g
.
rgObje˘
[
pS¸ùt
->
rgwO≥ønd
[0]].
magic
.
wMagicNumbî
;

2488 
gpGlobÆs
->
g
.
ÕrgMagic
[
j
].
wBa£Damage
 = 
i
 * 2 / 5;

2495 
g_B©ée
.
B©éeResu…
 = 
pS¸ùt
->
rgwO≥ønd
[0];

2502 
gpGlobÆs
->
fAutoB©ée
 = 
TRUE
;

2509 
gpGlobÆs
->
wNumPÆëã
 = 
pS¸ùt
->
rgwO≥ønd
[0];

2510 i‡(!
gpGlobÆs
->
fNìdToFadeIn
)

2512 
	`PAL_SëPÆëã
(
gpGlobÆs
->
wNumPÆëã
, 
FALSE
);

2520 
	`PAL_Cﬁ‹Fade
(
pS¸ùt
->
rgwO≥ønd
[1], (
BYTE
)(pScript->rgwOperand[0]),

2521 
pS¸ùt
->
rgwO≥ønd
[2]);

2522 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

2529 
	`PAL_PœyîLevñUp
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0]);

2536 
gpGlobÆs
->
dwCash
 /= 2;

2543 
gpGlobÆs
->
g
.
rgObje˘
[
pS¸ùt
->
rgwO≥ønd
[0]].
rgwD©a
[2 +ÖScript->rgwOperand[2]] =

2544 
pS¸ùt
->
rgwO≥ønd
[1];

2551 i‡(
gpGlobÆs
->
fInB©ée
)

2553 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2555 i‡(
i
 !
wEvítObje˘ID
 &&

2556 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 =g_B©ée.rgE√my[
wEvítObje˘ID
].wObjectID)

2558 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0] - 1;

2569 i‡(
gpGlobÆs
->
fInB©ée
)

2571 i‡(
pS¸ùt
->
rgwO≥ønd
[0] != 0)

2573 
	`PAL_B©éeShowPœyîPªMagicAnim
(
pS¸ùt
->
rgwO≥ønd
[0] - 1, 
FALSE
);

2574 
g_B©ée
.
rgPœyî
[
pS¸ùt
->
rgwO≥ønd
[0] - 1].
wCuºítFøme
 = 6;

2577 
i
 = 0; i < 5; i++)

2579 
j
 = 0; j <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; j++)

2581 
g_B©ée
.
rgPœyî
[
j
].
iCﬁ‹Shi·
 = 
i
 * 2;

2583 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2585 
	`PAL_B©éeBackupS˚√
();

2586 
	`PAL_B©éeUpd©eFighãrs
();

2587 
	`PAL_B©éeMakeS˚√
();

2588 
	`PAL_B©éeFadeS˚√
();

2596 
	`PAL_S˚√Fade
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
,

2597 (
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]));

2598 
gpGlobÆs
->
fNìdToFadeIn
 = ((
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[0]) < 0);

2605 i‡(
pCuºít
->
sSèã
 =(
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]))

2607 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2615 i‡(
gpGlobÆs
->
wNumS˚√
 =
pS¸ùt
->
rgwO≥ønd
[0])

2617 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1] - 1;

2625 #i‚de‡
PAL_WIN95


2626 
	`PAL_EndögAnim©i⁄
();

2634 
	`PAL_P¨tyRideEvítObje˘
(
wEvítObje˘ID
, 
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

2635 
pS¸ùt
->
rgwO≥ønd
[2], 8);

2642 i‡(
pS¸ùt
->
rgwO≥ønd
[0] > 0)

2644 
gpGlobÆs
->
nFﬁlowî
 = 1;

2645 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
wPœyîRﬁe
 = 
pS¸ùt
->
rgwO≥ønd
[0];

2647 
	`PAL_SëLﬂdFœgs
(
kLﬂdPœyîS¥ôe
);

2648 
	`PAL_LﬂdResour˚s
();

2653 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
x
 =

2654 
gpGlobÆs
->
rgTøû
[3].
x
 - 
	`PAL_X
(gpGlobÆs->
võwp‹t
);

2655 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
y
 =

2656 
gpGlobÆs
->
rgTøû
[3].
y
 - 
	`PAL_Y
(gpGlobÆs->
võwp‹t
);

2657 
gpGlobÆs
->
rgP¨ty
[gpGlobÆs->
wMaxP¨tyMembîIndex
 + 1].
wFøme
 =

2658 
gpGlobÆs
->
rgTøû
[3].
wDúe˘i⁄
 * 3;

2662 
gpGlobÆs
->
nFﬁlowî
 = 0;

2670 i‡(
pS¸ùt
->
rgwO≥ønd
[0] == 0xFFFF)

2672 
gpGlobÆs
->
g
.
rgS˚√
[gpGlobÆs->
wNumS˚√
 - 1].
wM≠Num
 = 
pS¸ùt
->
rgwO≥ønd
[1];

2673 
	`PAL_SëLﬂdFœgs
(
kLﬂdS˚√
);

2674 
	`PAL_LﬂdResour˚s
();

2678 
gpGlobÆs
->
g
.
rgS˚√
[
pS¸ùt
->
rgwO≥ønd
[0] - 1].
wM≠Num
 =ÖScript->rgwOperand[1];

2686 
i
 = 
pS¸ùt
->
rgwO≥ønd
[0]; i <=ÖScript->rgwOperand[1]; i++)

2688 
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
i
 - 1].
sSèã
 = 
pS¸ùt
->
rgwO≥ønd
[2];

2697 
	`VIDEO_BackupS¸ìn
();

2698 
	`PAL_MakeS˚√
();

2699 
	`VIDEO_FadeS¸ìn
(2);

2706 
w
 = 0;

2708 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2710 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0)

2712 
w
++;

2716 i‡(
w
 != 1)

2721 i‡(
pS¸ùt
->
rgwO≥ønd
[1] != 0)

2723 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1] - 1;

2728 
w
 = 
pS¸ùt
->
rgwO≥ønd
[0];

2729 i‡(
w
 == 0)

2731 
w
 = 1;

2734 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2736 i‡(
w
 > 0 && 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

2738 
w
--;

2740 
	`mem£t
(&(
g_B©ée
.
rgE√my
[
i
]), 0, (
BATTLEENEMY
));

2742 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 = g_B©ée.rgE√my[
wEvítObje˘ID
].wObjectID;

2743 
g_B©ée
.
rgE√my
[
i
].
e
 = g_B©ée.rgE√my[
wEvítObje˘ID
].e;

2744 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
 = g_B©ée.rgE√my[
wEvítObje˘ID
].wScriptOnTurnStart;

2745 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnB©éeEnd
 = g_B©ée.rgE√my[
wEvítObje˘ID
].wScriptOnBattleEnd;

2746 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnRódy
 = g_B©ée.rgE√my[
wEvítObje˘ID
].wScriptOnReady;

2748 
g_B©ée
.
rgE√my
[
i
].
°©e
 = 
kFighãrWaô
;

2749 
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 = 50;

2750 
g_B©ée
.
rgE√my
[
i
].
iCﬁ‹Shi·
 = 0;

2754 
	`PAL_LﬂdB©éeS¥ôes
();

2756 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2758 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

2762 
g_B©ée
.
rgE√my
[
i
].
pos
 = g_B©ée.rgE√my[
wEvítObje˘ID
].pos;

2765 
i
 = 0; i < 10; i++)

2767 
j
 = 0; j <
g_B©ée
.
wMaxE√myIndex
; j++)

2769 
x
 = (
	`PAL_X
(
g_B©ée
.
rgE√my
[
j
].
pos
Ë+ PAL_X(g_B©ée.rgE√my[j].
posOrigöÆ
)) / 2;

2770 
y
 = (
	`PAL_Y
(
g_B©ée
.
rgE√my
[
j
].
pos
Ë+ PAL_Y(g_B©ée.rgE√my[j].
posOrigöÆ
)) / 2;

2772 
g_B©ée
.
rgE√my
[
j
].
pos
 = 
	`PAL_XY
(
x
, 
y
);

2775 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2778 
	`PAL_B©éeUpd©eFighãrs
();

2779 
	`PAL_B©éeDñay
(1, 0, 
TRUE
);

2786 
x
 = 0;

2787 
w
 = 
pS¸ùt
->
rgwO≥ønd
[0];

2788 
y
 = (((
SHORT
)(
pS¸ùt
->
rgwO≥ønd
[1]) <= 0) ? 1 : (SHORT)pScript->rgwOperand[1]);

2790 i‡(
w
 == 0 || w == 0xFFFF)

2792 
w
 = 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
wObje˘ID
;

2795 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2797 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

2799 
x
++;

2803 i‡(
x
 < 
y
 || 
g_B©ée
.
iHidögTime
 > 0 ||

2804 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
kSètusSÀï
] != 0 ||

2805 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
kSètusP¨Æyzed
] != 0 ||

2806 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
kSètusC⁄fu£d
] != 0)

2808 i‡(
pS¸ùt
->
rgwO≥ønd
[2] != 0)

2810 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2] - 1;

2815 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2817 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

2819 
	`mem£t
(&(
g_B©ée
.
rgE√my
[
i
]), 0, (
BATTLEENEMY
));

2821 
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 = 
w
;

2822 
g_B©ée
.
rgE√my
[
i
].
e
 = 
gpGlobÆs
->
g
.
ÕrgE√my
[gpGlobÆs->g.
rgObje˘
[
w
].
íemy
.
wE√myID
];

2824 
g_B©ée
.
rgE√my
[
i
].
°©e
 = 
kFighãrWaô
;

2825 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnTu∫Sèπ
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.wScriptOnTurnStart;

2826 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnB©éeEnd
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.wScriptOnBattleEnd;

2827 
g_B©ée
.
rgE√my
[
i
].
wS¸ùtOnRódy
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
íemy
.wScriptOnReady;

2828 
g_B©ée
.
rgE√my
[
i
].
ÊTimeMëî
 = 50;

2829 
g_B©ée
.
rgE√my
[
i
].
iCﬁ‹Shi·
 = 8;

2831 
y
--;

2832 i‡(
y
 <= 0)

2839 
	`PAL_B©éeDñay
(2, 0, 
TRUE
);

2841 
	`PAL_B©éeBackupS˚√
();

2842 
	`PAL_LﬂdB©éeS¥ôes
();

2843 
	`PAL_B©éeMakeS˚√
();

2844 
	`SOUND_Pœy
(212);

2845 
	`PAL_B©éeFadeS˚√
();

2847 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

2849 
g_B©ée
.
rgE√my
[
i
].
iCﬁ‹Shi·
 = 0;

2852 
	`PAL_B©éeBackupS˚√
();

2853 
	`PAL_B©éeMakeS˚√
();

2854 
	`PAL_B©éeFadeS˚√
();

2862 i‡(
g_B©ée
.
iHidögTime
 <= 0 &&

2863 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
kSètusSÀï
] == 0 &&

2864 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
kSètusP¨Æyzed
] == 0 &&

2865 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
rgwSètus
[
kSètusC⁄fu£d
] == 0)

2867 
w
 = 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
;

2869 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
wObje˘ID
 = 
pS¸ùt
->
rgwO≥ønd
[0];

2870 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
 =

2871 
gpGlobÆs
->
g
.
ÕrgE√my
[gpGlobÆs->g.
rgObje˘
[
pS¸ùt
->
rgwO≥ønd
[0]].
íemy
.
wE√myID
];

2873 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
e
.
wHó…h
 = 
w
;

2874 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
wCuºítFøme
 = 0;

2876 
i
 = 0; i < 6; i++)

2878 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
iCﬁ‹Shi·
 = 
i
;

2879 
	`PAL_B©éeDñay
(1, 0, 
FALSE
);

2882 
g_B©ée
.
rgE√my
[
wEvítObje˘ID
].
iCﬁ‹Shi·
 = 0;

2884 
	`SOUND_Pœy
(47);

2885 
	`PAL_B©éeBackupS˚√
();

2886 
	`PAL_LﬂdB©éeS¥ôes
();

2887 
	`PAL_B©éeMakeS˚√
();

2888 
	`PAL_B©éeFadeS˚√
();

2896 #ifde‡
PAL_WIN95


2897 
	`PAL_EndögS¸ìn
();

2899 
	`PAL_Addôi⁄ÆCªdôs
();

2900 
	`PAL_Shutdown
();

2901 
	`exô
(0);

2908 
i
 = 0; i < 
MAX_PLAYABLE_PLAYER_ROLES
; i++)

2910 
gpGlobÆs
->
rgTøû
[
i
].
wDúe˘i⁄
 = gpGlobÆs->
wP¨tyDúe˘i⁄
;

2911 
gpGlobÆs
->
rgTøû
[
i
].
x
 = gpGlobÆs->
rgP¨ty
[0].x + 
	`PAL_X
(gpGlobÆs->
võwp‹t
);

2912 
gpGlobÆs
->
rgTøû
[
i
].
y
 = gpGlobÆs->
rgP¨ty
[0].y + 
	`PAL_Y
(gpGlobÆs->
võwp‹t
);

2914 
i
 = 1; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

2916 
gpGlobÆs
->
rgP¨ty
[
i
].
x
 = gpGlobals->rgParty[0].x;

2917 
gpGlobÆs
->
rgP¨ty
[
i
].
y
 = gpGlobals->rgParty[0].y - 1;

2919 
	`PAL_Upd©eP¨tyGe°uªs
(
FALSE
);

2926 
wS¸ùtE¡ry
 +
	`R™domL⁄g
(0, 
pS¸ùt
->
rgwO≥ønd
[0] - 1);

2933 i‡(!
	`SOUND_PœyCDA
(
pS¸ùt
->
rgwO≥ønd
[0]))

2935 
	`PAL_PœyMUS
(
pS¸ùt
->
rgwO≥ønd
[1], 
TRUE
, 0);

2943 #i‚de‡
PAL_WIN95


2944 i‡(
pS¸ùt
->
rgwO≥ønd
[0] == 68)

2949 
	`PAL_ShowFBP
(69, 0);

2950 
	`PAL_S¸ﬁlFBP
(
pS¸ùt
->
rgwO≥ønd
[0],ÖS¸ùt->rgwO≥ønd[2], 
TRUE
);

2954 
	`PAL_S¸ﬁlFBP
(
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[2],ÖScript->rgwOperand[1]);

2963 #i‚de‡
PAL_WIN95


2964 i‡(
pS¸ùt
->
rgwO≥ønd
[1] != 0xFFFF)

2966 
	`PAL_EndögSëEf„˘S¥ôe
(
pS¸ùt
->
rgwO≥ønd
[1]);

2968 
	`PAL_ShowFBP
(
pS¸ùt
->
rgwO≥ønd
[0],ÖScript->rgwOperand[2]);

2976 
	`VIDEO_BackupS¸ìn
();

2980 
	`Tîmö©eOnEº‹
("SCRIPT: Invalid Instructionát %4x: (%4x - %4x, %4x, %4x)",

2981 
wS¸ùtE¡ry
, 
pS¸ùt
->
wO≥øti⁄
,ÖS¸ùt->
rgwO≥ønd
[0],

2982 
pS¸ùt
->
rgwO≥ønd
[1],ÖScript->rgwOperand[2]);

2986  
wS¸ùtE¡ry
 + 1;

2987 
	}
}

2989 
WORD


2990 
	$PAL_RunTriggîS¸ùt
(

2991 
WORD
 
wS¸ùtE¡ry
,

2992 
WORD
 
wEvítObje˘ID


3011 
WORD
 
wLa°EvítObje˘
 = 0;

3013 
WORD
 
wNextS¸ùtE¡ry
;

3014 
BOOL
 
fEnded
;

3015 
LPSCRIPTENTRY
 
pS¸ùt
;

3016 
LPEVENTOBJECT
 
pEvtObj
 = 
NULL
;

3017 
i
;

3019 
BOOL
 
g_fUpd©edInB©ée
;

3021 
wNextS¸ùtE¡ry
 = 
wS¸ùtE¡ry
;

3022 
fEnded
 = 
FALSE
;

3023 
g_fUpd©edInB©ée
 = 
FALSE
;

3025 i‡(
wEvítObje˘ID
 == 0xFFFF)

3027 
wEvítObje˘ID
 = 
wLa°EvítObje˘
;

3030 
wLa°EvítObje˘
 = 
wEvítObje˘ID
;

3032 i‡(
wEvítObje˘ID
 != 0)

3034 
pEvtObj
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1]);

3037 
g_fS¸ùtSuc˚ss
 = 
TRUE
;

3042 
	`PAL_DülogSëDñayTime
(3);

3044 
wS¸ùtE¡ry
 !0 && !
fEnded
)

3046 
pS¸ùt
 = &(
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
[
wS¸ùtE¡ry
]);

3048 
	`UTIL_WrôeLog
(
LOG_DEBUG
, "[SCRIPT] %.4x: %.4x %.4x %.4x %.4x\n", 
wS¸ùtE¡ry
,

3049 
pS¸ùt
->
wO≥øti⁄
,ÖS¸ùt->
rgwO≥ønd
[0],ÖScript->rgwOperand[1],

3050 
pS¸ùt
->
rgwO≥ønd
[2],ÖScript->rgwOperand[3]);

3052 
pS¸ùt
->
wO≥øti⁄
)

3058 
fEnded
 = 
TRUE
;

3065 
fEnded
 = 
TRUE
;

3066 
wNextS¸ùtE¡ry
 = 
wS¸ùtE¡ry
 + 1;

3073 i‡(
pS¸ùt
->
rgwO≥ønd
[1] == 0 ||

3074 ++(
pEvtObj
->
nS¸ùtIdÀFøme
Ë< 
pS¸ùt
->
rgwO≥ønd
[1])

3076 
fEnded
 = 
TRUE
;

3077 
wNextS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0];

3084 
pEvtObj
->
nS¸ùtIdÀFøme
 = 0;

3085 
wS¸ùtE¡ry
++;

3093 i‡(
pS¸ùt
->
rgwO≥ønd
[1] == 0 ||

3094 ++(
pEvtObj
->
nS¸ùtIdÀFøme
Ë< 
pS¸ùt
->
rgwO≥ønd
[1])

3096 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0];

3103 
pEvtObj
->
nS¸ùtIdÀFøme
 = 0;

3104 
wS¸ùtE¡ry
++;

3112 
	`PAL_RunTriggîS¸ùt
(
pS¸ùt
->
rgwO≥ønd
[0],

3113 ((
pS¸ùt
->
rgwO≥ønd
[1] =0Ë? 
wEvítObje˘ID
 :ÖScript->rgwOperand[1]));

3114 
wS¸ùtE¡ry
++;

3121 
	`PAL_CÀ¨Dülog
(
TRUE
);

3123 i‡(
	`PAL_DülogIsPœyögRNG
())

3125 
	`VIDEO_Re°‹eS¸ìn
();

3127 i‡(
gpGlobÆs
->
fInB©ée
)

3129 
	`PAL_B©éeMakeS˚√
();

3130 
	`SDL_BlôSurÁ˚
(
g_B©ée
.
ÕS˚√Buf
, 
NULL
, 
gpS¸ìn
, NULL);

3131 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

3135 i‡(
pS¸ùt
->
rgwO≥ønd
[2])

3137 
	`PAL_Upd©eP¨tyGe°uªs
(
FALSE
);

3140 
	`PAL_MakeS˚√
();

3142 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

3143 
	`UTIL_Dñay
((
pS¸ùt
->
rgwO≥ønd
[1] == 0) ? 60 : (pScript->rgwOperand[1] * 60));

3146 
wS¸ùtE¡ry
++;

3153 i‡(
	`R™domL⁄g
(1, 100Ë>
pS¸ùt
->
rgwO≥ønd
[0])

3155 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1];

3160 
wS¸ùtE¡ry
++;

3168 
i
 = 
	`PAL_SèπB©ée
(
pS¸ùt
->
rgwO≥ønd
[0], !pScript->rgwOperand[2]);

3170 i‡(
i
 =
kB©éeResu…Lo°
 && 
pS¸ùt
->
rgwO≥ønd
[1] != 0)

3172 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1];

3174 i‡(
i
 =
kB©éeResu…FÀed
 && 
pS¸ùt
->
rgwO≥ønd
[2] != 0)

3176 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[2];

3180 
wS¸ùtE¡ry
++;

3182 
gpGlobÆs
->
fAutoB©ée
 = 
FALSE
;

3189 
wS¸ùtE¡ry
++;

3190 
wNextS¸ùtE¡ry
 = 
wS¸ùtE¡ry
;

3198 
DWORD
 
time
;

3200 
	`PAL_CÀ¨Dülog
(
TRUE
);

3202 
time
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

3204 
i
 = 0; i < (
pS¸ùt
->
rgwO≥ønd
[0] ?ÖScript->rgwOperand[0] : 1); i++)

3206 
	`PAL_Pro˚ssEvít
();

3207 
	`SDL_GëTicks
(Ë< 
time
)

3209 
	`PAL_Pro˚ssEvít
();

3210 
	`SDL_Dñay
(1);

3213 
time
 = 
	`SDL_GëTicks
(Ë+ 
FRAME_TIME
;

3215 i‡(
pS¸ùt
->
rgwO≥ønd
[2])

3217 
	`PAL_Upd©eP¨tyGe°uªs
(
FALSE
);

3220 
	`PAL_GameUpd©e
(
pS¸ùt
->
rgwO≥ønd
[1] ? 
TRUE
 : 
FALSE
);

3221 
	`PAL_MakeS˚√
();

3222 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

3225 
wS¸ùtE¡ry
++;

3232 
	`PAL_CÀ¨Dülog
(
FALSE
);

3234 i‡(!
	`PAL_C⁄fúmMíu
())

3236 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0];

3240 
wS¸ùtE¡ry
++;

3248 
	`PAL_CÀ¨Dülog
(
TRUE
);

3249 
	`PAL_SèπDülog
(
kDülogCíãr
, (
BYTE
)
pS¸ùt
->
rgwO≥ønd
[0], 0,

3250 
pS¸ùt
->
rgwO≥ønd
[2] ? 
TRUE
 : 
FALSE
);

3251 
wS¸ùtE¡ry
++;

3258 
	`PAL_CÀ¨Dülog
(
TRUE
);

3259 
	`PAL_SèπDülog
(
kDülogUµî
, (
BYTE
)
pS¸ùt
->
rgwO≥ønd
[1],

3260 
pS¸ùt
->
rgwO≥ønd
[0],ÖS¸ùt->rgwO≥ønd[2] ? 
TRUE
 : 
FALSE
);

3261 
wS¸ùtE¡ry
++;

3268 
	`PAL_CÀ¨Dülog
(
TRUE
);

3269 
	`PAL_SèπDülog
(
kDülogLowî
, (
BYTE
)
pS¸ùt
->
rgwO≥ønd
[1],

3270 
pS¸ùt
->
rgwO≥ønd
[0],ÖS¸ùt->rgwO≥ønd[2] ? 
TRUE
 : 
FALSE
);

3271 
wS¸ùtE¡ry
++;

3278 
	`PAL_CÀ¨Dülog
(
TRUE
);

3279 
	`PAL_SèπDülog
(
kDülogCíãrWödow
, (
BYTE
)
pS¸ùt
->
rgwO≥ønd
[0], 0, 
FALSE
);

3280 
wS¸ùtE¡ry
++;

3287 
	`PAL_CÀ¨Dülog
(
TRUE
);

3288 
	`VIDEO_Re°‹eS¸ìn
();

3289 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

3290 
wS¸ùtE¡ry
++;

3297 
	`PAL_ShowDülogText
(
	`PAL_GëMsg
(
pS¸ùt
->
rgwO≥ønd
[0]));

3298 
wS¸ùtE¡ry
++;

3302 
	`PAL_CÀ¨Dülog
(
TRUE
);

3303 
wS¸ùtE¡ry
 = 
	`PAL_I¡î¥ëIn°ru˘i⁄
(wS¸ùtE¡ry, 
wEvítObje˘ID
);

3308 
	`PAL_EndDülog
();

3309 
g_iCurEquùP¨t
 = -1;

3311  
wNextS¸ùtE¡ry
;

3312 
	}
}

3314 
WORD


3315 
	$PAL_RunAutoS¸ùt
(

3316 
WORD
 
wS¸ùtE¡ry
,

3317 
WORD
 
wEvítObje˘ID


3336 
LPSCRIPTENTRY
 
pS¸ùt
;

3337 
LPEVENTOBJECT
 
pEvtObj
;

3338 #ifde‡
PAL_WIN95


3339 
iDescLöe
 = 0;

3342 
begö
:

3343 
pS¸ùt
 = &(
gpGlobÆs
->
g
.
ÕrgS¸ùtE¡ry
[
wS¸ùtE¡ry
]);

3344 
pEvtObj
 = &(
gpGlobÆs
->
g
.
ÕrgEvítObje˘
[
wEvítObje˘ID
 - 1]);

3350 
pS¸ùt
->
wO≥øti⁄
)

3362 
wS¸ùtE¡ry
++;

3369 i‡(
pS¸ùt
->
rgwO≥ønd
[1] == 0 ||

3370 ++(
pEvtObj
->
wS¸ùtIdÀFømeCou¡Auto
Ë< 
pS¸ùt
->
rgwO≥ønd
[1])

3372 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0];

3376 
pEvtObj
->
wS¸ùtIdÀFømeCou¡Auto
 = 0;

3377 
wS¸ùtE¡ry
++;

3385 i‡(
pS¸ùt
->
rgwO≥ønd
[1] == 0 ||

3386 ++(
pEvtObj
->
wS¸ùtIdÀFømeCou¡Auto
Ë< 
pS¸ùt
->
rgwO≥ønd
[1])

3388 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[0];

3389 
begö
;

3393 
pEvtObj
->
wS¸ùtIdÀFømeCou¡Auto
 = 0;

3394 
wS¸ùtE¡ry
++;

3402 
	`PAL_RunTriggîS¸ùt
(
pS¸ùt
->
rgwO≥ønd
[0],

3403 
pS¸ùt
->
rgwO≥ønd
[1] ?ÖS¸ùt->rgwO≥ønd[1] : 
wEvítObje˘ID
);

3404 
wS¸ùtE¡ry
++;

3411 i‡(
	`R™domL⁄g
(1, 100Ë>
pS¸ùt
->
rgwO≥ønd
[0] )

3413 if–
pS¸ùt
->
rgwO≥ønd
[1] != 0 ) {

3414 
wS¸ùtE¡ry
 = 
pS¸ùt
->
rgwO≥ønd
[1];

3415 
begö
;

3420 
wS¸ùtE¡ry
++;

3428 i‡(++(
pEvtObj
->
wS¸ùtIdÀFømeCou¡Auto
Ë>
pS¸ùt
->
rgwO≥ønd
[0])

3433 
pEvtObj
->
wS¸ùtIdÀFømeCou¡Auto
 = 0;

3434 
wS¸ùtE¡ry
++;

3439 #ifde‡
PAL_WIN95


3440 
iDescLöe
 = (
wEvítObje˘ID
 & ~(1 << 15));

3441 i‡(
wEvítObje˘ID
 & (1 << 15))

3443 
	`PAL_DøwText
(
	`PAL_GëMsg
(
pS¸ùt
->
rgwO≥ønd
[0]), 
	`PAL_XY
(75, 
iDescLöe
 * 16 + 150), 
DESCTEXT_COLOR
, 
TRUE
, 
FALSE
);

3447 
	`PAL_DøwText
(
	`PAL_GëMsg
(
pS¸ùt
->
rgwO≥ønd
[0]), 
	`PAL_XY
(100, 
iDescLöe
 * 16 + 3), 
DESCTEXT_COLOR
, 
TRUE
, 
FALSE
);

3449 
iDescLöe
++;

3451 
wS¸ùtE¡ry
++;

3454 #ifde‡
PAL_WIN95


3456 
wS¸ùtE¡ry
++;

3464 
wS¸ùtE¡ry
 = 
	`PAL_I¡î¥ëIn°ru˘i⁄
(wS¸ùtE¡ry, 
wEvítObje˘ID
);

3468  
wS¸ùtE¡ry
;

3469 
	}
}

	@script.h

22 #i‚de‡
SCRIPT_H


23 
	#SCRIPT_H


	)

25 #ifde‡
__˝lu•lus


30 
WORD


31 
PAL_RunTriggîS¸ùt
(

32 
WORD
 
wS¸ùtE¡ry
,

33 
WORD
 
wEvítObje˘ID


36 
WORD


37 
PAL_RunAutoS¸ùt
(

38 
WORD
 
wS¸ùtE¡ry
,

39 
WORD
 
wEvítObje˘ID


42 
BOOL
 
g_fS¸ùtSuc˚ss
;

44 #ifde‡
__˝lu•lus


	@sound.c

22 
	~"∑lcomm⁄.h
"

23 
	~"comm⁄.h
"

24 
	~"sound.h
"

25 
	~"rix∂ay.h
"

26 
	~"utû.h
"

28 #ifde‡
PAL_HAS_NATIVEMIDI


29 
	~"midi.h
"

32 #ifde‡
PAL_HAS_MP3


33 
	~"libmad/music_mad.h
"

36 
BOOL
 
	ggSndO≥√d
 = 
FALSE
;

38 
BOOL
 
	gg_fNoSound
 = 
FALSE
;

39 
BOOL
 
	gg_fNoMusic
 = 
FALSE
;

41 #ifde‡
PAL_HAS_NATIVEMIDI


42 
BOOL
 
	gg_fU£Midi
 = 
FALSE
;

45 
BOOL
 
	gg_fU£Wav
 = 
FALSE
;

47 #ifde‡
__SYMBIAN32__


48 
INT
 
	gg_iVﬁume
 = 
SDL_MIX_MAXVOLUME
 * 0.1;

51 #ifde‡
PAL_CLASSIC


52 
	gg_iCuºCh™√l
 = 0;

55 
	sègSNDPLAYER


57 
FILE
 *
	mmkf
;

58 
SDL_AudioS≥c
 
	m•ec
;

59 
SDL_muãx
 *
	mmtx
;

60 
LPBYTE
 
	mbuf
[2], 
	mpos
[2];

61 
INT
 
	maudio_Àn
[2];

62 #ifde‡
PAL_HAS_CD


63 
SDL_CD
 *
	mpCD
;

65 #ifde‡
PAL_HAS_MP3


66 
mad_d©a
 *
	mpMP3
;

67 
BOOL
 
	mfMP3Lo›
;

68 
INT
 
	miCuºítMP3
;

69 
SDL_muãx
 *
	mlock
;

71 } 
	tSNDPLAYER
;

73 
SNDPLAYER
 
	ggSndPœyî
;

75 
SDL_AudioS≥c
 *

76 
	$SOUND_LﬂdVOCFromBuf„r
(

77 
LPCBYTE
 
ÕVOC
,

78 
DWORD
 
dwLí
,

79 
SDL_AudioS≥c
 *
ÕS≥c
,

80 
LPBYTE
 *
ÕpBuf„r


104 
INT
 
‰eq
, 
Àn
, 
x
, 
i
, 
l
;

105 
SDL_RW›s
 *
rw
;

107 i‡(
g_fU£Wav
)

109 
rw
 = 
	`SDL_RWFromC⁄°Mem
(
ÕVOC
, 
dwLí
);

110 i‡(
rw
 =
NULL
)  NULL;

112 
Àn
 = 
dwLí
;

114 
	`SDL_LﬂdWAV_RW
(
rw
, 1, 
ÕS≥c
, 
ÕpBuf„r
, (
Uöt32
 *)&
Àn
);

115 
ÕS≥c
->
size
 = 
Àn
;

117  
ÕS≥c
;

124 
ÕVOC
 += 0x1B;

129 
Àn
 = (
ÕVOC
[0] | (lpVOC[1] << 8) | (lpVOC[2] << 16)) - 2;

130 
ÕVOC
 += 3;

135 
‰eq
 = 1000000 / (256 - *
ÕVOC
);

139 
ÕVOC
 += 2;

144 
x
 = (
INT
)(
Àn
 * ((
FLOAT
)
PAL_SAMPLE_RATE
 / 
‰eq
));

146 *
ÕpBuf„r
 = (
LPBYTE
)
	`ˇŒoc
(1, 
x
);

147 i‡(*
ÕpBuf„r
 =
NULL
)

149  
NULL
;

151 
i
 = 0; i < 
x
; i++)

153 
l
 = (
INT
)(
i
 * (
‰eq
 / (
FLOAT
)
PAL_SAMPLE_RATE
));

154 i‡(
l
 >
Àn
)

156 
l
 = 
Àn
 - 1;

158 (*
ÕpBuf„r
)[
i
] = 
ÕVOC
[
l
];

161 
ÕS≥c
->
ch™√ls
 = 1;

162 
ÕS≥c
->
f‹m©
 = 
AUDIO_U8
;

163 
ÕS≥c
->
‰eq
 = 
PAL_SAMPLE_RATE
;

164 
ÕS≥c
->
size
 = 
x
;

168 *
ÕpBuf„r
 = (*)
	`mÆloc
(
Àn
);

169 i‡(*
ÕpBuf„r
 =
NULL
)

171  
NULL
;

174 
ÕS≥c
->
ch™√ls
 = 1;

175 
ÕS≥c
->
f‹m©
 = 
AUDIO_U8
;

176 
ÕS≥c
->
‰eq
 = freq;

177 
ÕS≥c
->
size
 = 
Àn
;

179 
ÕVOC
 += 2;

180 
	`mem˝y
(*
ÕpBuf„r
, 
ÕVOC
, 
Àn
);

184  
ÕS≥c
;

186 
	}
}

188 
VOID
 
SDLCALL


189 
	$SOUND_FûlAudio
(

190 
LPVOID
 
ud©a
,

191 
LPBYTE
 
°ªam
,

192 
INT
 
Àn


213 
i
;

215 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

216 
	`mem£t
(
°ªam
, 0, 
Àn
);

222 i‡(!
g_fNoMusic
)

224 #ifde‡
PAL_HAS_MP3


225 
	`SDL_muãxP
(
gSndPœyî
.
lock
);

227 i‡(
gSndPœyî
.
pMP3
 !
NULL
)

229 
	`mad_gëSam∂es
(
gSndPœyî
.
pMP3
, 
°ªam
, 
Àn
);

231 i‡(!
	`mad_isPœyög
(
gSndPœyî
.
pMP3
Ë&& gSndPœyî.
fMP3Lo›
)

233 
	`mad_£ek
(
gSndPœyî
.
pMP3
, 0);

234 
	`mad_°¨t
(
gSndPœyî
.
pMP3
);

236 
	`mad_gëSam∂es
(
gSndPœyî
.
pMP3
, 
°ªam
, 
Àn
);

240 
	`SDL_muãxV
(
gSndPœyî
.
lock
);

242 
	`RIX_FûlBuf„r
(
°ªam
, 
Àn
);

248 i‡(
g_fNoSound
)

253 
	`SDL_muãxP
(
gSndPœyî
.
mtx
);

255 
i
 = 0; i < 2; i++)

260 i‡(
gSndPœyî
.
buf
[
i
] =
NULL
)

265 i‡(
gSndPœyî
.
audio_Àn
[
i
] == 0)

270 
	`‰ì
(
gSndPœyî
.
buf
[
i
]);

271 
gSndPœyî
.
buf
[
i
] = 
NULL
;

278 
Àn
 = (À¿> 
gSndPœyî
.
audio_Àn
[
i
]) ? gSndPlayer.audio_len[i] :Üen;

279 #ifde‡
__SYMBIAN32__


280 
	`SDL_MixAudio
(
°ªam
, 
gSndPœyî
.
pos
[
i
], 
Àn
, 
g_iVﬁume
);

282 
	`SDL_MixAudio
(
°ªam
, 
gSndPœyî
.
pos
[
i
], 
Àn
, 
SDL_MIX_MAXVOLUME
 * 2 / 3);

284 
gSndPœyî
.
pos
[
i
] +
Àn
;

285 
gSndPœyî
.
audio_Àn
[
i
] -
Àn
;

287 
	`SDL_muãxV
(
gSndPœyî
.
mtx
);

288 
	}
}

290 
INT


291 
	$SOUND_O≥nAudio
(

292 
VOID


309 
SDL_AudioS≥c
 
•ec
;

311 i‡(
gSndO≥√d
)

319 
gSndO≥√d
 = 
FALSE
;

324 
gSndPœyî
.
mkf
 = 
	`UTIL_O≥nFûe
("voc.mkf");

325 i‡(
gSndPœyî
.
mkf
 =
NULL
)

327 
gSndPœyî
.
mkf
 = 
	`UTIL_O≥nFûe
("sounds.mkf");

328 i‡(
gSndPœyî
.
mkf
 =
NULL
)

332 
g_fU£Wav
 = 
TRUE
;

336 
g_fU£Wav
 = 
FALSE
;

342 
gSndPœyî
.
•ec
.
‰eq
 = 
PAL_SAMPLE_RATE
;

343 
gSndPœyî
.
•ec
.
f‹m©
 = 
AUDIO_S16
;

344 
gSndPœyî
.
•ec
.
ch™√ls
 = 
PAL_CHANNELS
;

345 #ifde‡
__N3DS__


346 
gSndPœyî
.
•ec
.
ßm∂es
 = 2048;

348 
gSndPœyî
.
•ec
.
ßm∂es
 = 1024;

350 
gSndPœyî
.
•ec
.
ˇŒback
 = 
SOUND_FûlAudio
;

352 i‡(
	`SDL_O≥nAudio
(&
gSndPœyî
.
•ec
, &spec) < 0)

360 
	`mem˝y
(&
gSndPœyî
.
•ec
, &•ec, (
SDL_AudioS≥c
));

362 
gSndPœyî
.
buf
[0] = 
NULL
;

363 
gSndPœyî
.
pos
[0] = 
NULL
;

364 
gSndPœyî
.
audio_Àn
[0] = 0;

366 
gSndPœyî
.
buf
[1] = 
NULL
;

367 
gSndPœyî
.
pos
[1] = 
NULL
;

368 
gSndPœyî
.
audio_Àn
[1] = 0;

370 
gSndPœyî
.
mtx
 = 
	`SDL_Cª©eMuãx
();

371 
gSndO≥√d
 = 
TRUE
;

376 i‡(
	`RIX_Inô
(
	`va
("%s%s", 
PAL_PREFIX
, "mus.mkf")) < 0)

378 
	`RIX_Inô
(
	`va
("%s%s", 
PAL_PREFIX
, "MUS.MKF"));

381 #ifde‡
PAL_HAS_CD


386 
i
;

387 
gSndPœyî
.
pCD
 = 
NULL
;

389 
i
 = 0; i < 
	`SDL_CDNumDrives
(); i++)

391 
gSndPœyî
.
pCD
 = 
	`SDL_CDO≥n
(
i
);

392 i‡(
gSndPœyî
.
pCD
 !
NULL
)

394 i‡(!
	`CD_INDRIVE
(
	`SDL_CDSètus
(
gSndPœyî
.
pCD
)))

396 
	`SDL_CDClo£
(
gSndPœyî
.
pCD
);

397 
gSndPœyî
.
pCD
 = 
NULL
;

408 #ifde‡
PAL_HAS_MP3


409 
gSndPœyî
.
iCuºítMP3
 = -1;

410 
gSndPœyî
.
lock
 = 
	`SDL_Cª©eMuãx
();

416 
	`SDL_Pau£Audio
(0);

419 
	}
}

421 #ifde‡
PSP


423 
	$SOUND_RñﬂdVOC
(

427 
	`f˛o£
(
gSndPœyî
.
mkf
);

428 
gSndPœyî
.
mkf
 = 
	`UTIL_O≥nFûe
("voc.mkf");

429 
g_fU£Wav
 = 
FALSE
;

430 
	}
}

433 
VOID


434 
	$SOUND_Clo£Audio
(

435 
VOID


452 
	`SDL_muãxP
(
gSndPœyî
.
mtx
);

453 
	`SDL_Clo£Audio
();

455 i‡(
gSndPœyî
.
buf
[0] !
NULL
)

457 
	`‰ì
(
gSndPœyî
.
buf
[0]);

458 
gSndPœyî
.
buf
[0] = 
NULL
;

461 i‡(
gSndPœyî
.
buf
[1] !
NULL
)

463 
	`‰ì
(
gSndPœyî
.
buf
[1]);

464 
gSndPœyî
.
buf
[1] = 
NULL
;

467 i‡(
gSndPœyî
.
mkf
 !
NULL
)

469 
	`f˛o£
(
gSndPœyî
.
mkf
);

470 
gSndPœyî
.
mkf
 = 
NULL
;

473 
	`SDL_De°royMuãx
(
gSndPœyî
.
mtx
);

475 #ifde‡
PAL_HAS_MP3


476 
	`SDL_muãxP
(
gSndPœyî
.
lock
);

478 i‡(
gSndPœyî
.
pMP3
 !
NULL
)

480 
	`mad_°›
(
gSndPœyî
.
pMP3
);

481 
	`mad_˛o£Fûe
(
gSndPœyî
.
pMP3
);

482 
gSndPœyî
.
pMP3
 = 
NULL
;

485 
	`SDL_De°royMuãx
(
gSndPœyî
.
lock
);

488 
	`RIX_Shutdown
();

490 #ifde‡
PAL_HAS_CD


491 i‡(
gSndPœyî
.
pCD
 !
NULL
)

493 
	`SOUND_PœyCDA
(-1);

494 
	`SDL_CDClo£
(
gSndPœyî
.
pCD
);

498 #ifde‡
PAL_HAS_NATIVEMIDI


499 
	`MIDI_Pœy
(0, 
FALSE
);

501 
	}
}

503 #ifde‡
__SYMBIAN32__


505 
VOID


506 
	$SOUND_Adju°Vﬁume
(

507 
INT
 
iDúe˘‹y


524 i‡(
iDúe˘‹y
 > 0)

526 i‡(
g_iVﬁume
 <
SDL_MIX_MAXVOLUME
)

528 
g_iVﬁume
 +
SDL_MIX_MAXVOLUME
 * 0.03;

532 
g_iVﬁume
 = 
SDL_MIX_MAXVOLUME
;

537 i‡(
g_iVﬁume
 > 0)

539 
g_iVﬁume
 -
SDL_MIX_MAXVOLUME
 * 0.03;

543 
g_iVﬁume
 = 0;

546 
	}
}

550 
VOID


551 
	$SOUND_PœyCh™√l
(

552 
INT
 
iSoundNum
,

553 
INT
 
iCh™√l


572 
SDL_AudioCVT
 
wavecvt
;

573 
SDL_AudioS≥c
 
wave•ec
;

574 
LPBYTE
 
buf
, 
bufdec
;

575 
UINT
 
ßm∂esize
;

576 
Àn
;

578 i‡(!
gSndO≥√d
 || 
g_fNoSound
)

586 
	`SDL_muãxP
(
gSndPœyî
.
mtx
);

587 i‡(
gSndPœyî
.
buf
[
iCh™√l
] !
NULL
)

589 
LPBYTE
 
p
 = 
gSndPœyî
.
buf
[
iCh™√l
];

590 
gSndPœyî
.
buf
[
iCh™√l
] = 
NULL
;

591 
	`‰ì
(
p
);

593 
	`SDL_muãxV
(
gSndPœyî
.
mtx
);

595 i‡(
iSoundNum
 < 0)

603 
Àn
 = 
	`PAL_MKFGëChunkSize
(
iSoundNum
, 
gSndPœyî
.
mkf
);

604 i‡(
Àn
 <= 0)

609 
buf
 = (
LPBYTE
)
	`ˇŒoc
(
Àn
, 1);

610 i‡(
buf
 =
NULL
)

618 
	`PAL_MKFRódChunk
(
buf
, 
Àn
, 
iSoundNum
, 
gSndPœyî
.
mkf
);

620 
	`SOUND_LﬂdVOCFromBuf„r
(
buf
, 
Àn
, &
wave•ec
, &
bufdec
);

621 
	`‰ì
(
buf
);

626 i‡(
	`SDL_BuûdAudioCVT
(&
wavecvt
, 
wave•ec
.
f‹m©
, wave•ec.
ch™√ls
, wave•ec.
‰eq
,

627 
gSndPœyî
.
•ec
.
f‹m©
, gSndPœyî.•ec.
ch™√ls
, gSndPœyî.•ec.
‰eq
) < 0)

629 
	`‰ì
(
bufdec
);

633 
ßm∂esize
 = ((
wave•ec
.
f‹m©
 & 0xFFË/ 8Ë* wave•ec.
ch™√ls
;

634 
wavecvt
.
Àn
 = 
wave•ec
.
size
 & ~(
ßm∂esize
 - 1);

635 
wavecvt
.
buf
 = (
LPBYTE
)
	`mÆloc
(wavecvt.
Àn
 * wavecvt.
Àn_mu…
);

636 i‡(
wavecvt
.
buf
 =
NULL
)

638 
	`‰ì
(
bufdec
);

641 
	`mem˝y
(
wavecvt
.
buf
, 
bufdec
, 
wave•ec
.
size
);

642 i‡(
g_fU£Wav
)

644 
	`SDL_FªeWAV
(
bufdec
);

648 
	`‰ì
(
bufdec
);

654 i‡(
	`SDL_C⁄vîtAudio
(&
wavecvt
) < 0)

659 
	`SDL_muãxP
(
gSndPœyî
.
mtx
);

660 i‡(
gSndPœyî
.
buf
[
iCh™√l
] !
NULL
)

662 
LPBYTE
 
p
 = 
gSndPœyî
.
buf
[
iCh™√l
];

663 
gSndPœyî
.
buf
[
iCh™√l
] = 
NULL
;

664 
	`‰ì
(
p
);

666 
gSndPœyî
.
buf
[
iCh™√l
] = 
wavecvt
.buf;

667 
gSndPœyî
.
audio_Àn
[
iCh™√l
] = 
wavecvt
.
Àn
 * wavecvt.
Àn_mu…
;

668 
gSndPœyî
.
pos
[
iCh™√l
] = 
wavecvt
.
buf
;

669 
	`SDL_muãxV
(
gSndPœyî
.
mtx
);

670 
	}
}

672 
VOID


673 
	$PAL_PœyMUS
(

674 
INT
 
iNumRIX
,

675 
BOOL
 
fLo›
,

676 
FLOAT
 
ÊFadeTime


679 #ifde‡
PAL_HAS_NATIVEMIDI


680 i‡(
g_fU£Midi
)

682 
	`MIDI_Pœy
(
iNumRIX
, 
fLo›
);

687 #ifde‡
PAL_HAS_MP3


688 
	`SDL_muãxP
(
gSndPœyî
.
lock
);

690 i‡(
gSndPœyî
.
pMP3
 !
NULL
)

692 i‡(
iNumRIX
 =
gSndPœyî
.
iCuºítMP3
 && !
g_fNoMusic
)

694 
	`SDL_muãxV
(
gSndPœyî
.
lock
);

698 
	`mad_°›
(
gSndPœyî
.
pMP3
);

699 
	`mad_˛o£Fûe
(
gSndPœyî
.
pMP3
);

701 
gSndPœyî
.
pMP3
 = 
NULL
;

704 
	`SDL_muãxV
(
gSndPœyî
.
lock
);

706 
gSndPœyî
.
iCuºítMP3
 = -1;

708 i‡(
iNumRIX
 > 0)

710 
	`SDL_muãxP
(
gSndPœyî
.
lock
);

712 
gSndPœyî
.
pMP3
 = 
	`mad_›íFûe
(
	`va
("%s/mp3/%.2d.mp3", 
PAL_PREFIX
, 
iNumRIX
), &gSndPœyî.
•ec
);

713 i‡(
gSndPœyî
.
pMP3
 !
NULL
)

715 
	`RIX_Pœy
(0, 
FALSE
, 
ÊFadeTime
);

717 
	`mad_°¨t
(
gSndPœyî
.
pMP3
);

718 
gSndPœyî
.
fMP3Lo›
 = 
fLo›
;

719 
gSndPœyî
.
iCuºítMP3
 = 
iNumRIX
;

720 
	`SDL_muãxV
(
gSndPœyî
.
lock
);

725 
	`SDL_muãxV
(
gSndPœyî
.
lock
);

729 
	`RIX_Pœy
(
iNumRIX
, 
fLo›
, 
ÊFadeTime
);

730 
	}
}

732 
BOOL


733 
	$SOUND_PœyCDA
(

734 
INT
 
iNumTøck


751 #ifde‡
PAL_HAS_CD


752 i‡(
gSndPœyî
.
pCD
 !
NULL
)

754 i‡(
	`CD_INDRIVE
(
	`SDL_CDSètus
(
gSndPœyî
.
pCD
)))

756 
	`SDL_CDSt›
(
gSndPœyî
.
pCD
);

758 i‡(
iNumTøck
 != -1)

760 
	`PAL_PœyMUS
(-1, 
FALSE
, 0);

762 i‡(
	`SDL_CDPœyTøcks
(
gSndPœyî
.
pCD
, 
iNumTøck
 - 1, 0, 1, 0) == 0)

764  
TRUE
;

771  
FALSE
;

772 
	}
}

	@sound.h

22 #i‚de‡
SOUND_H


23 
	#SOUND_H


	)

25 
	~"comm⁄.h
"

27 #i‚de‡
PAL_SAMPLE_RATE


28 
	#PAL_SAMPLE_RATE
 44100

	)

31 #i‚de‡
PAL_CHANNELS


32 
	#PAL_CHANNELS
 1

	)

35 #ifde‡
__˝lu•lus


40 
INT


41 
SOUND_O≥nAudio
(

42 
VOID


45 
VOID


46 
SOUND_Clo£Audio
(

47 
VOID


50 
VOID


51 
SOUND_PœyCh™√l
(

52 
INT
 
iSoundNum
,

53 
INT
 
iCh™√l


56 #ifde‡
__SYMBIAN32__


57 
VOID


58 
SOUND_Adju°Vﬁume
(

59 
INT
 
iDúe˘‹y


63 
VOID


64 
PAL_PœyMUS
(

65 
INT
 
iNumRIX
,

66 
BOOL
 
fLo›
,

67 
FLOAT
 
ÊFadeTime


70 
BOOL


71 
SOUND_PœyCDA
(

72 
INT
 
iNumTøck


75 #ifde‡
PAL_CLASSIC


76 
g_iCuºCh™√l
;

77 
	#SOUND_Pœy
(
i
Ë
	`SOUND_PœyCh™√l
((i), (
g_iCuºCh™√l
 ^1))

	)

79 
	#SOUND_Pœy
(
i
Ë
	`SOUND_PœyCh™√l
((i), 0)

	)

82 
BOOL
 
g_fNoSound
;

83 
BOOL
 
g_fNoMusic
;

84 #ifde‡
PAL_HAS_NATIVEMIDI


85 
BOOL
 
g_fU£Midi
;

88 #ifde‡
__˝lu•lus


	@text.c

25 
	~"maö.h
"

27 
	#WORD_LENGTH
 10

	)

29 
	#FONT_COLOR_DEFAULT
 0x4F

	)

30 
	#FONT_COLOR_YELLOW
 0x2D

	)

31 
	#FONT_COLOR_RED
 0x1A

	)

32 
	#FONT_COLOR_CYAN
 0x8D

	)

33 
	#FONT_COLOR_CYAN_ALT
 0x8C

	)

35 
BOOL
 
	gg_fUpd©edInB©ée
 = 
FALSE
;

37 c⁄° 
	gg_rgszAddôi⁄ÆW‹ds
[][
WORD_LENGTH
 + 1] = {

46 
	sègTEXTLIB


48 
LPBYTE
 
	mÕW‹dBuf
;

49 
LPBYTE
 
	mÕMsgBuf
;

50 
LPDWORD
 
	mÕMsgOff£t
;

52 
	mnW‹ds
;

53 
	mnMsgs
;

55 
	mnCuºítDülogLöe
;

56 
BYTE
 
	mbCuºítF⁄tCﬁ‹
;

57 
PAL_POS
 
	mposIc⁄
;

58 
PAL_POS
 
	mposDülogTôÀ
;

59 
PAL_POS
 
	mposDülogText
;

60 
BYTE
 
	mbDülogPosôi⁄
;

61 
BYTE
 
	mbIc⁄
;

62 
	miDñayTime
;

63 
BOOL
 
	mfU£rSkù
;

64 
BOOL
 
	mfPœyögRNG
;

66 
BYTE
 
	mbufDülogIc⁄s
[282];

67 } 
	tTEXTLIB
, *
	tLPTEXTLIB
;

69 
TEXTLIB
 
	gg_TextLib
;

71 
INT


72 
	$PAL_InôText
(

73 
VOID


91 
FILE
 *
ÂMsg
, *
ÂW‹d
;

92 
i
;

97 
ÂMsg
 = 
	`UTIL_O≥nRequúedFûe
("m.msg");

98 
ÂW‹d
 = 
	`UTIL_O≥nRequúedFûe
("word.dat");

103 
	`f£ek
(
ÂW‹d
, 0, 
SEEK_END
);

104 
i
 = 
	`·ñl
(
ÂW‹d
);

109 
g_TextLib
.
nW‹ds
 = (
i
 + (
WORD_LENGTH
 - 1)) / WORD_LENGTH;

114 
g_TextLib
.
ÕW‹dBuf
 = (
LPBYTE
)
	`mÆloc
(
i
);

115 i‡(
g_TextLib
.
ÕW‹dBuf
 =
NULL
)

117 
	`f˛o£
(
ÂW‹d
);

118 
	`f˛o£
(
ÂMsg
);

121 
	`f£ek
(
ÂW‹d
, 0, 
SEEK_SET
);

122 
	`‰ód
(
g_TextLib
.
ÕW‹dBuf
, 
i
, 1, 
ÂW‹d
);

127 
	`f˛o£
(
ÂW‹d
);

132 
i
 = 
	`PAL_MKFGëChunkSize
(3, 
gpGlobÆs
->
f
.
ÂSSS
Ë/ (
DWORD
);

133 
g_TextLib
.
nMsgs
 = 
i
 - 1;

135 
g_TextLib
.
ÕMsgOff£t
 = (
LPDWORD
)
	`mÆloc
(
i
 * (
DWORD
));

136 i‡(
g_TextLib
.
ÕMsgOff£t
 =
NULL
)

138 
	`‰ì
(
g_TextLib
.
ÕW‹dBuf
);

139 
	`f˛o£
(
ÂMsg
);

143 
	`PAL_MKFRódChunk
((
LPBYTE
)(
g_TextLib
.
ÕMsgOff£t
), 
i
 * (
DWORD
), 3,

144 
gpGlobÆs
->
f
.
ÂSSS
);

149 
	`f£ek
(
ÂMsg
, 0, 
SEEK_END
);

150 
i
 = 
	`·ñl
(
ÂMsg
);

152 
g_TextLib
.
ÕMsgBuf
 = (
LPBYTE
)
	`mÆloc
(
i
);

153 i‡(
g_TextLib
.
ÕMsgBuf
 =
NULL
)

155 
	`‰ì
(
g_TextLib
.
ÕMsgOff£t
);

156 
	`‰ì
(
g_TextLib
.
ÕW‹dBuf
);

157 
	`f˛o£
(
ÂMsg
);

161 
	`f£ek
(
ÂMsg
, 0, 
SEEK_SET
);

162 
	`‰ód
(
g_TextLib
.
ÕMsgBuf
, 1, 
i
, 
ÂMsg
);

164 
	`f˛o£
(
ÂMsg
);

166 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_DEFAULT
;

167 
g_TextLib
.
bIc⁄
 = 0;

168 
g_TextLib
.
posIc⁄
 = 0;

169 
g_TextLib
.
nCuºítDülogLöe
 = 0;

170 
g_TextLib
.
iDñayTime
 = 3;

171 
g_TextLib
.
posDülogTôÀ
 = 
	`PAL_XY
(12, 8);

172 
g_TextLib
.
posDülogText
 = 
	`PAL_XY
(44, 26);

173 
g_TextLib
.
bDülogPosôi⁄
 = 
kDülogUµî
;

174 
g_TextLib
.
fU£rSkù
 = 
FALSE
;

176 
	`PAL_MKFRódChunk
(
g_TextLib
.
bufDülogIc⁄s
, 282, 12, 
gpGlobÆs
->
f
.
ÂDATA
);

179 
	}
}

181 
VOID


182 
	$PAL_FªeText
(

183 
VOID


200 i‡(
g_TextLib
.
ÕMsgBuf
 !
NULL
)

202 
	`‰ì
(
g_TextLib
.
ÕMsgBuf
);

203 
g_TextLib
.
ÕMsgBuf
 = 
NULL
;

206 i‡(
g_TextLib
.
ÕMsgOff£t
 !
NULL
)

208 
	`‰ì
(
g_TextLib
.
ÕMsgOff£t
);

209 
g_TextLib
.
ÕMsgOff£t
 = 
NULL
;

212 i‡(
g_TextLib
.
ÕW‹dBuf
 !
NULL
)

214 
	`‰ì
(
g_TextLib
.
ÕW‹dBuf
);

215 
g_TextLib
.
ÕW‹dBuf
 = 
NULL
;

217 
	}
}

219 
LPCSTR


220 
	$PAL_GëW‹d
(

221 
WORD
 
wNumW‹d


238 
buf
[
WORD_LENGTH
 + 1];

240 i‡(
wNumW‹d
 >
PAL_ADDITIONAL_WORD_FIRST
)

242  
g_rgszAddôi⁄ÆW‹ds
[
wNumW‹d
 - 
PAL_ADDITIONAL_WORD_FIRST
];

245 i‡(
wNumW‹d
 >
g_TextLib
.
nW‹ds
)

247  
NULL
;

250 
	`mem˝y
(
buf
, &
g_TextLib
.
ÕW‹dBuf
[
wNumW‹d
 * 
WORD_LENGTH
], WORD_LENGTH);

251 
buf
[
WORD_LENGTH
] = '\0';

256 
	`åim
(
buf
);

258 i‡((
	`°æí
(
buf
) & 1) != 0 && buf[strlen(buf) - 1] == '1')

260 
buf
[
	`°æí
(buf) - 1] = '\0';

263  
buf
;

264 
	}
}

266 
LPCSTR


267 
	$PAL_GëMsg
(

268 
WORD
 
wNumMsg


285 
buf
[256];

286 
DWORD
 
dwOff£t
, 
dwSize
;

288 i‡(
wNumMsg
 >
g_TextLib
.
nMsgs
)

290  
NULL
;

293 
dwOff£t
 = 
	`SWAP32
(
g_TextLib
.
ÕMsgOff£t
[
wNumMsg
]);

294 
dwSize
 = 
	`SWAP32
(
g_TextLib
.
ÕMsgOff£t
[
wNumMsg
 + 1]Ë- 
dwOff£t
;

295 
	`as£π
(
dwSize
 < 255);

297 
	`mem˝y
(
buf
, &
g_TextLib
.
ÕMsgBuf
[
dwOff£t
], 
dwSize
);

298 
buf
[
dwSize
] = '\0';

300  
buf
;

301 
	}
}

303 
VOID


304 
	$PAL_DøwText
(

305 
LPCSTR
 
ÕszText
,

306 
PAL_POS
 
pos
,

307 
BYTE
 
bCﬁ‹
,

308 
BOOL
 
fShadow
,

309 
BOOL
 
fUpd©e


334 
SDL_Re˘
 
ª˘
, 
uª˘
;

335 
WORD
 
wCh¨
;

337 
ª˘
.
x
 = 
	`PAL_X
(
pos
);

338 
ª˘
.
y
 = 
	`PAL_Y
(
pos
);

340 
uª˘
.
x
 = 
ª˘
.x;

341 
uª˘
.
y
 = 
ª˘
.y;

342 #ifde‡
PAL_WIN95


343 
uª˘
.
h
 = 17;

345 
uª˘
.
h
 = 16;

347 
uª˘
.
w
 = 0;

349 *
ÕszText
)

354 i‡(*
ÕszText
 & 0x80)

359 
wCh¨
 = 
	`SWAP16
(((
LPBYTE
)
ÕszText
)[0] | (((LPBYTE)lpszText)[1] << 8));

360 i‡(
fShadow
)

362 
	`PAL_DøwCh¨OnSurÁ˚
(
wCh¨
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
 + 1,Ñe˘.
y
 + 1), 0);

363 
	`PAL_DøwCh¨OnSurÁ˚
(
wCh¨
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
 + 1,Ñe˘.
y
), 0);

365 
	`PAL_DøwCh¨OnSurÁ˚
(
wCh¨
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
,Ñe˘.
y
), 
bCﬁ‹
);

366 
ÕszText
 += 2;

367 
ª˘
.
x
 += 16;

368 
uª˘
.
w
 += 16;

375 i‡(
fShadow
)

377 
	`PAL_DøwASCIICh¨OnSurÁ˚
(*
ÕszText
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
 + 1,Ñe˘.
y
 + 1), 0);

378 
	`PAL_DøwASCIICh¨OnSurÁ˚
(*
ÕszText
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
 + 1,Ñe˘.
y
), 0);

380 
	`PAL_DøwASCIICh¨OnSurÁ˚
(*
ÕszText
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
,Ñe˘.
y
), 
bCﬁ‹
);

381 
ÕszText
++;

382 
ª˘
.
x
 += 8;

383 
uª˘
.
w
 += 8;

390 i‡(
fUpd©e
 && 
uª˘
.
w
 > 0)

392 #ifde‡
PAL_WIN95


393 
uª˘
.
w
++;

394 i‡(
uª˘
.
x
 + uª˘.
w
 > 320)

396 
uª˘
.
w
 = 320 - uª˘.
x
;

399 
	`VIDEO_Upd©eS¸ìn
(&
uª˘
);

401 
	}
}

403 
VOID


404 
	$PAL_DülogSëDñayTime
(

405 
INT
 
iDñayTime


422 
g_TextLib
.
iDñayTime
 = iDelayTime;

423 
	}
}

425 
VOID


426 
	$PAL_SèπDülog
(

427 
BYTE
 
bDülogLoˇti⁄
,

428 
BYTE
 
bF⁄tCﬁ‹
,

429 
INT
 
iNumCh¨Fa˚
,

430 
BOOL
 
fPœyögRNG


453 
PAL_LARGE
 
BYTE
 
buf
[16384];

454 
SDL_Re˘
 
ª˘
;

456 i‡(
gpGlobÆs
->
fInB©ée
 && !
g_fUpd©edInB©ée
)

461 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

462 
g_fUpd©edInB©ée
 = 
TRUE
;

465 
g_TextLib
.
bIc⁄
 = 0;

466 
g_TextLib
.
posIc⁄
 = 0;

467 
g_TextLib
.
nCuºítDülogLöe
 = 0;

468 
g_TextLib
.
posDülogTôÀ
 = 
	`PAL_XY
(12, 8);

469 
g_TextLib
.
fU£rSkù
 = 
FALSE
;

471 i‡(
bF⁄tCﬁ‹
 != 0)

473 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
bF⁄tCﬁ‹
;

476 i‡(
fPœyögRNG
 && 
iNumCh¨Fa˚
)

478 
	`VIDEO_BackupS¸ìn
();

479 
g_TextLib
.
fPœyögRNG
 = 
TRUE
;

482 
bDülogLoˇti⁄
)

484 
kDülogUµî
:

485 i‡(
iNumCh¨Fa˚
 > 0)

490 i‡(
	`PAL_MKFRódChunk
(
buf
, 16384, 
iNumCh¨Fa˚
, 
gpGlobÆs
->
f
.
ÂRGM
) > 0)

492 
ª˘
.
w
 = 
	`PAL_RLEGëWidth
((
LPCBITMAPRLE
)
buf
);

493 
ª˘
.
h
 = 
	`PAL_RLEGëHeight
((
LPCBITMAPRLE
)
buf
);

494 
ª˘
.
x
 = 48 -Ñe˘.
w
 / 2;

495 
ª˘
.
y
 = 55 -Ñe˘.
h
 / 2;

497 i‡(
ª˘
.
x
 < 0)

499 
ª˘
.
x
 = 0;

502 i‡(
ª˘
.
y
 < 0)

504 
ª˘
.
y
 = 0;

507 
	`PAL_RLEBlôToSurÁ˚
((
LPCBITMAPRLE
)
buf
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
,Ñe˘.
y
));

509 i‡(
ª˘
.
x
 < 0)

511 
ª˘
.
x
 = 0;

513 i‡(
ª˘
.
y
 < 0)

515 
ª˘
.
y
 = 0;

518 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

521 
g_TextLib
.
posDülogTôÀ
 = 
	`PAL_XY
(
iNumCh¨Fa˚
 > 0 ? 80 : 12, 8);

522 
g_TextLib
.
posDülogText
 = 
	`PAL_XY
(
iNumCh¨Fa˚
 > 0 ? 96 : 44, 26);

525 
kDülogCíãr
:

526 
g_TextLib
.
posDülogText
 = 
	`PAL_XY
(80, 40);

529 
kDülogLowî
:

530 i‡(
iNumCh¨Fa˚
 > 0)

535 i‡(
	`PAL_MKFRódChunk
(
buf
, 16384, 
iNumCh¨Fa˚
, 
gpGlobÆs
->
f
.
ÂRGM
) > 0)

537 
ª˘
.
x
 = 270 - 
	`PAL_RLEGëWidth
((
LPCBITMAPRLE
)
buf
) / 2;

538 
ª˘
.
y
 = 144 - 
	`PAL_RLEGëHeight
((
LPCBITMAPRLE
)
buf
) / 2;

540 
	`PAL_RLEBlôToSurÁ˚
((
LPCBITMAPRLE
)
buf
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
,Ñe˘.
y
));

542 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

545 
g_TextLib
.
posDülogTôÀ
 = 
	`PAL_XY
(
iNumCh¨Fa˚
 > 0 ? 4 : 12, 108);

546 
g_TextLib
.
posDülogText
 = 
	`PAL_XY
(
iNumCh¨Fa˚
 > 0 ? 20 : 44, 126);

549 
kDülogCíãrWödow
:

550 
g_TextLib
.
posDülogText
 = 
	`PAL_XY
(160, 40);

554 
g_TextLib
.
bDülogPosôi⁄
 = 
bDülogLoˇti⁄
;

555 
	}
}

557 
VOID


558 
	$PAL_DülogWaôF‹Key
(

559 
VOID


576 
PAL_LARGE
 
SDL_Cﬁ‹
 
∑Àâe
[256];

577 
SDL_Cﬁ‹
 *
pCuºítPÆëã
, 
t
;

578 
i
;

583 
pCuºítPÆëã
 = 
	`PAL_GëPÆëã
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
);

584 
	`mem˝y
(
∑Àâe
, 
pCuºítPÆëã
, (palette));

586 i‡(
g_TextLib
.
bDülogPosôi⁄
 !
kDülogCíãrWödow
 &&

587 
g_TextLib
.
bDülogPosôi⁄
 !
kDülogCíãr
)

592 
LPCBITMAPRLE
 
p
 = 
	`PAL_S¥ôeGëFøme
(
g_TextLib
.
bufDülogIc⁄s
, g_TextLib.
bIc⁄
);

593 i‡(
p
 !
NULL
)

595 
SDL_Re˘
 
ª˘
;

597 
ª˘
.
x
 = 
	`PAL_X
(
g_TextLib
.
posIc⁄
);

598 
ª˘
.
y
 = 
	`PAL_Y
(
g_TextLib
.
posIc⁄
);

599 
ª˘
.
w
 = 16;

600 
ª˘
.
h
 = 16;

602 
	`PAL_RLEBlôToSurÁ˚
(
p
, 
gpS¸ìn
, 
g_TextLib
.
posIc⁄
);

603 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

607 
	`PAL_CÀ¨KeySèã
();

609 
TRUE
)

611 
	`UTIL_Dñay
(100);

613 i‡(
g_TextLib
.
bDülogPosôi⁄
 !
kDülogCíãrWödow
 &&

614 
g_TextLib
.
bDülogPosôi⁄
 !
kDülogCíãr
)

619 
t
 = 
∑Àâe
[0xF9];

620 
i
 = 0xF9; i < 0xFE; i++)

622 
∑Àâe
[
i
] =Öalette[i + 1];

624 
∑Àâe
[0xFE] = 
t
;

626 
	`VIDEO_SëPÆëã
(
∑Àâe
);

629 i‡(
g_I≈utSèã
.
dwKeyPªss
 != 0)

635 i‡(
g_TextLib
.
bDülogPosôi⁄
 !
kDülogCíãrWödow
 &&

636 
g_TextLib
.
bDülogPosôi⁄
 !
kDülogCíãr
)

638 
	`PAL_SëPÆëã
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
);

641 
	`PAL_CÀ¨KeySèã
();

643 
g_TextLib
.
fU£rSkù
 = 
FALSE
;

644 
	}
}

646 
VOID


647 
	$PAL_ShowDülogText
(

648 
LPCSTR
 
ÕszText


665 
SDL_Re˘
 
ª˘
;

666 
x
, 
y
, 
Àn
 = 
	`°æí
(
ÕszText
);

668 
	`PAL_CÀ¨KeySèã
();

669 
g_TextLib
.
bIc⁄
 = 0;

671 i‡(
gpGlobÆs
->
fInB©ée
 && !
g_fUpd©edInB©ée
)

676 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

677 
g_fUpd©edInB©ée
 = 
TRUE
;

680 i‡(
g_TextLib
.
nCuºítDülogLöe
 > 3)

685 
	`PAL_DülogWaôF‹Key
();

686 
g_TextLib
.
nCuºítDülogLöe
 = 0;

687 
	`VIDEO_Re°‹eS¸ìn
();

688 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

691 
x
 = 
	`PAL_X
(
g_TextLib
.
posDülogText
);

692 
y
 = 
	`PAL_Y
(
g_TextLib
.
posDülogText
Ë+ g_TextLib.
nCuºítDülogLöe
 * 18;

694 i‡(
g_TextLib
.
bDülogPosôi⁄
 =
kDülogCíãrWödow
)

699 #i‚de‡
PAL_CLASSIC


700 i‡(
gpGlobÆs
->
fInB©ée
 && 
g_B©ée
.
B©éeResu…
 =
kB©éeResu…OnGoög
)

702 
	`PAL_B©éeUIShowText
(
ÕszText
, 1400);

707 
PAL_POS
 
pos
;

708 
LPBOX
 
ÕBox
;

713 
pos
 = 
	`PAL_XY
(
	`PAL_X
(
g_TextLib
.
posDülogText
Ë- 
Àn
 * 4, 
	`PAL_Y
(g_TextLib.posDialogText));

714 
ÕBox
 = 
	`PAL_Cª©eSögÀLöeBox
(
pos
, (
Àn
 + 1Ë/ 2, 
TRUE
);

716 
ª˘
.
x
 = 
	`PAL_X
(
pos
);

717 
ª˘
.
y
 = 
	`PAL_Y
(
pos
);

718 
ª˘
.
w
 = 320 -Ñe˘.
x
 * 2 + 32;

719 
ª˘
.
h
 = 64;

724 
pos
 = 
	`PAL_XY
(
	`PAL_X
’osË+ 8 + ((
Àn
 & 1Ë<< 2), 
	`PAL_Y
(pos) + 10);

725 
	`PAL_DøwText
(
ÕszText
, 
pos
, 0, 
FALSE
, FALSE);

726 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

728 
	`PAL_DülogWaôF‹Key
();

733 
	`PAL_DñëeBox
(
ÕBox
);

734 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

736 
	`PAL_EndDülog
();

741 i‡(
g_TextLib
.
nCuºítDülogLöe
 == 0 &&

742 
g_TextLib
.
bDülogPosôi⁄
 !
kDülogCíãr
 &&

743 (((
BYTE
)
ÕszText
[
Àn
 - 1] == 0x47 && (BYTE)lpszText[len - 2] == 0xA1) ||

744 ((
BYTE
)
ÕszText
[
Àn
 - 1] == 0xBA && (BYTE)lpszText[len - 2] == 0xA3) ||

745 ((
BYTE
)
ÕszText
[
Àn
 - 1] == 0xC3 && (BYTE)lpszText[len - 2] == 0xA1) ||

746 ((
BYTE
)
ÕszText
[
Àn
 - 1] == ':')))

751 
	`PAL_DøwText
(
ÕszText
, 
g_TextLib
.
posDülogTôÀ
, 
FONT_COLOR_CYAN_ALT
, 
TRUE
, TRUE);

758 
ãxt
[3];

760 i‡(!
g_TextLib
.
fPœyögRNG
 && g_TextLib.
nCuºítDülogLöe
 == 0)

765 
	`VIDEO_BackupS¸ìn
();

768 
ÕszText
 !
NULL
 && *lpszText != '\0')

770 *
ÕszText
)

776 i‡(
g_TextLib
.
bCuºítF⁄tCﬁ‹
 =
FONT_COLOR_CYAN
)

778 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_DEFAULT
;

782 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_CYAN
;

784 
ÕszText
++;

786 #i‚de‡
PAL_WIN95


791 i‡(
g_TextLib
.
bCuºítF⁄tCﬁ‹
 =
FONT_COLOR_RED
)

793 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_DEFAULT
;

797 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_RED
;

799 
ÕszText
++;

806 i‡(
g_TextLib
.
bCuºítF⁄tCﬁ‹
 =
FONT_COLOR_YELLOW
)

808 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_DEFAULT
;

812 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_YELLOW
;

814 
ÕszText
++;

821 
g_TextLib
.
iDñayTime
 = 
	`©oi
(
ÕszText
 + 1) * 10 / 7;

822 
ÕszText
 += 3;

829 
	`UTIL_Dñay
(
	`©oi
(
ÕszText
 + 1) * 80 / 7);

830 
g_TextLib
.
nCuºítDülogLöe
 = 0;

831 
g_TextLib
.
fU£rSkù
 = 
FALSE
;

838 
g_TextLib
.
bIc⁄
 = 1;

839 
ÕszText
++;

846 
g_TextLib
.
bIc⁄
 = 2;

847 
ÕszText
++;

851 
ÕszText
++;

854 i‡(*
ÕszText
 & 0x80)

856 
ãxt
[0] = 
ÕszText
[0];

857 
ãxt
[1] = 
ÕszText
[1];

858 
ãxt
[2] = '\0';

859 
ÕszText
 += 2;

863 
ãxt
[0] = *
ÕszText
;

864 
ãxt
[1] = '\0';

865 
ÕszText
++;

868 
	`PAL_DøwText
(
ãxt
, 
	`PAL_XY
(
x
, 
y
), 
g_TextLib
.
bCuºítF⁄tCﬁ‹
, 
TRUE
, TRUE);

869 
x
 +((
ãxt
[0] & 0x80) ? 16 : 8);

871 i‡(!
g_TextLib
.
fU£rSkù
)

873 
	`PAL_CÀ¨KeySèã
();

874 
	`UTIL_Dñay
(
g_TextLib
.
iDñayTime
 * 8);

876 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeySórch
 | 
kKeyMíu
))

881 
g_TextLib
.
fU£rSkù
 = 
TRUE
;

887 
g_TextLib
.
posIc⁄
 = 
	`PAL_XY
(
x
, 
y
);

888 
g_TextLib
.
nCuºítDülogLöe
++;

891 
	}
}

893 
VOID


894 
	$PAL_CÀ¨Dülog
(

895 
BOOL
 
fWaôF‹Key


912 i‡(
g_TextLib
.
nCuºítDülogLöe
 > 0 && 
fWaôF‹Key
)

914 
	`PAL_DülogWaôF‹Key
();

917 
g_TextLib
.
nCuºítDülogLöe
 = 0;

919 i‡(
g_TextLib
.
bDülogPosôi⁄
 =
kDülogCíãr
)

921 
g_TextLib
.
posDülogTôÀ
 = 
	`PAL_XY
(12, 8);

922 
g_TextLib
.
posDülogText
 = 
	`PAL_XY
(44, 26);

923 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_DEFAULT
;

924 
g_TextLib
.
bDülogPosôi⁄
 = 
kDülogUµî
;

926 
	}
}

928 
VOID


929 
	$PAL_EndDülog
(

930 
VOID


947 
	`PAL_CÀ¨Dülog
(
TRUE
);

953 
g_TextLib
.
posDülogTôÀ
 = 
	`PAL_XY
(12, 8);

954 
g_TextLib
.
posDülogText
 = 
	`PAL_XY
(44, 26);

955 
g_TextLib
.
bCuºítF⁄tCﬁ‹
 = 
FONT_COLOR_DEFAULT
;

956 
g_TextLib
.
bDülogPosôi⁄
 = 
kDülogUµî
;

957 
g_TextLib
.
fU£rSkù
 = 
FALSE
;

958 
g_TextLib
.
fPœyögRNG
 = 
FALSE
;

959 
	}
}

961 
BOOL


962 
	$PAL_IsInDülog
(

963 
VOID


980  (
g_TextLib
.
nCuºítDülogLöe
 != 0);

981 
	}
}

983 
BOOL


984 
	$PAL_DülogIsPœyögRNG
(

985 
VOID


1002  
g_TextLib
.
fPœyögRNG
;

1003 
	}
}

	@text.h

22 #i‚de‡
_TEXT_H


23 
	#_TEXT_H


	)

25 
	eègDIALOGPOSITION


27 
	mkDülogUµî
 = 0,

28 
	mkDülogCíãr
,

29 
	mkDülogLowî
,

30 
	mkDülogCíãrWödow


31 } 
	tDIALOGLOCATION
;

33 
	#PAL_ADDITIONAL_WORD_FIRST
 10000

	)

35 
INT


36 
PAL_InôText
(

37 
VOID


40 
VOID


41 
PAL_FªeText
(

42 
VOID


45 
LPCSTR


46 
PAL_GëW‹d
(

47 
WORD
 
wNumW‹d


50 
LPCSTR


51 
PAL_GëMsg
(

52 
WORD
 
wNumMsg


55 
VOID


56 
PAL_DøwText
(

57 
LPCSTR
 
ÕszText
,

58 
PAL_POS
 
pos
,

59 
BYTE
 
bCﬁ‹
,

60 
BOOL
 
fShadow
,

61 
BOOL
 
fUpd©e


64 
VOID


65 
PAL_DülogSëDñayTime
(

66 
INT
 
iDñayTime


69 
VOID


70 
PAL_SèπDülog
(

71 
BYTE
 
bDülogLoˇti⁄
,

72 
BYTE
 
bF⁄tCﬁ‹
,

73 
INT
 
iNumCh¨Fa˚
,

74 
BOOL
 
fPœyögRNG


77 
VOID


78 
PAL_ShowDülogText
(

79 
LPCSTR
 
szText


82 
VOID


83 
PAL_CÀ¨Dülog
(

84 
BOOL
 
fWaôF‹Key


87 
VOID


88 
PAL_EndDülog
(

89 
VOID


92 
BOOL


93 
PAL_IsInDülog
(

94 
VOID


97 
BOOL


98 
PAL_DülogIsPœyögRNG
(

99 
VOID


	@ui.c

22 
	~"maö.h
"

24 
LPSPRITE
 
	ggpS¥ôeUI
 = 
NULL
;

26 
INT


27 
	$PAL_InôUI
(

28 
VOID


45 
iSize
;

50 
iSize
 = 
	`PAL_MKFGëChunkSize
(
CHUNKNUM_SPRITEUI
, 
gpGlobÆs
->
f
.
ÂDATA
);

51 i‡(
iSize
 < 0)

56 
gpS¥ôeUI
 = (
LPSPRITE
)
	`ˇŒoc
(1, 
iSize
);

57 i‡(
gpS¥ôeUI
 =
NULL
)

62 
	`PAL_MKFRódChunk
(
gpS¥ôeUI
, 
iSize
, 
CHUNKNUM_SPRITEUI
, 
gpGlobÆs
->
f
.
ÂDATA
);

65 
	}
}

67 
VOID


68 
	$PAL_FªeUI
(

69 
VOID


86 i‡(
gpS¥ôeUI
 !
NULL
)

88 
	`‰ì
(
gpS¥ôeUI
);

89 
gpS¥ôeUI
 = 
NULL
;

91 
	}
}

93 
LPBOX


94 
	$PAL_Cª©eBox
(

95 
PAL_POS
 
pos
,

96 
INT
 
nRows
,

97 
INT
 
nCﬁumns
,

98 
INT
 
iStyÀ
,

99 
BOOL
 
fSaveS¸ìn


125 
i
, 
j
, 
x
, 
m
, 
n
;

126 
LPCBITMAPRLE
 
rgÕB‹dîBôm≠
[3][3];

127 
LPBOX
 
ÕBox
 = 
NULL
;

128 
SDL_SurÁ˚
 *
ßve
;

129 
SDL_Re˘
 
ª˘
;

134 
i
 = 0; i < 3; i++)

136 
j
 = 0; j < 3; j++)

138 
rgÕB‹dîBôm≠
[
i
][
j
] = 
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, i * 3 + j + 
iStyÀ
 * 9);

142 
ª˘
.
x
 = 
	`PAL_X
(
pos
);

143 
ª˘
.
y
 = 
	`PAL_Y
(
pos
);

144 
ª˘
.
w
 = 0;

145 
ª˘
.
h
 = 0;

150 
i
 = 0; i < 3; i++)

152 i‡(
i
 == 1)

154 
ª˘
.
w
 +
	`PAL_RLEGëWidth
(
rgÕB‹dîBôm≠
[0][
i
]Ë* 
nCﬁumns
;

155 
ª˘
.
h
 +
	`PAL_RLEGëHeight
(
rgÕB‹dîBôm≠
[
i
][0]Ë* 
nRows
;

159 
ª˘
.
w
 +
	`PAL_RLEGëWidth
(
rgÕB‹dîBôm≠
[0][
i
]);

160 
ª˘
.
h
 +
	`PAL_RLEGëHeight
(
rgÕB‹dîBôm≠
[
i
][0]);

164 i‡(
fSaveS¸ìn
)

169 
ßve
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
, 
ª˘
.
w
,Ñe˘.
h
, 8,

170 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

171 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

173 i‡(
ßve
 =
NULL
)

175  
NULL
;

178 
ÕBox
 = (
LPBOX
)
	`ˇŒoc
(1, (
BOX
));

179 i‡(
ÕBox
 =
NULL
)

181 
	`SDL_FªeSurÁ˚
(
ßve
);

182  
NULL
;

185 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

186 
	`SDL_SëSurÁ˚PÆëã
(
ßve
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

188 
	`SDL_SëPÆëã
(
ßve
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

190 
	`SDL_BlôSurÁ˚
(
gpS¸ìn
, &
ª˘
, 
ßve
, 
NULL
);

192 
ÕBox
->
ÕSavedAªa
 = 
ßve
;

193 
ÕBox
->
pos
 =Öos;

194 
ÕBox
->
wWidth
 = 
ª˘
.
w
;

195 
ÕBox
->
wHeight
 = 
ª˘
.
h
;

201 
nRows
 += 2;

202 
nCﬁumns
 += 2;

207 
i
 = 0; i < 
nRows
; i++)

209 
x
 = 
ª˘
.x;

210 
m
 = (
i
 =0Ë? 0 : ((ò=
nRows
 - 1) ? 2 : 1);

212 
j
 = 0; j < 
nCﬁumns
; j++)

214 
n
 = (
j
 =0Ë? 0 : ((j =
nCﬁumns
 - 1) ? 2 : 1);

215 
	`PAL_RLEBlôToSurÁ˚
(
rgÕB‹dîBôm≠
[
m
][
n
], 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
ª˘
.
y
));

216 
x
 +
	`PAL_RLEGëWidth
(
rgÕB‹dîBôm≠
[
m
][
n
]);

219 
ª˘
.
y
 +
	`PAL_RLEGëHeight
(
rgÕB‹dîBôm≠
[
m
][0]);

222  
ÕBox
;

223 
	}
}

225 
LPBOX


226 
	$PAL_Cª©eSögÀLöeBox
(

227 
PAL_POS
 
pos
,

228 
INT
 
nLí
,

229 
BOOL
 
fSaveS¸ìn


251 c⁄° 
iNumLe·S¥ôe
 = 44;

252 c⁄° 
iNumMidS¥ôe
 = 45;

253 c⁄° 
iNumRightS¥ôe
 = 46;

255 
LPCBITMAPRLE
 
ÕBôm≠Le·
;

256 
LPCBITMAPRLE
 
ÕBôm≠Mid
;

257 
LPCBITMAPRLE
 
ÕBôm≠Right
;

258 
SDL_SurÁ˚
 *
ßve
;

259 
SDL_Re˘
 
ª˘
;

260 
LPBOX
 
ÕBox
 = 
NULL
;

261 
i
;

266 
ÕBôm≠Le·
 = 
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
iNumLe·S¥ôe
);

267 
ÕBôm≠Mid
 = 
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
iNumMidS¥ôe
);

268 
ÕBôm≠Right
 = 
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
iNumRightS¥ôe
);

270 
ª˘
.
x
 = 
	`PAL_X
(
pos
);

271 
ª˘
.
y
 = 
	`PAL_Y
(
pos
);

276 
ª˘
.
w
 = 
	`PAL_RLEGëWidth
(
ÕBôm≠Le·
Ë+ PAL_RLEGëWidth(
ÕBôm≠Right
);

277 
ª˘
.
w
 +
	`PAL_RLEGëWidth
(
ÕBôm≠Mid
Ë* 
nLí
;

278 
ª˘
.
h
 = 
	`PAL_RLEGëHeight
(
ÕBôm≠Le·
);

280 i‡(
fSaveS¸ìn
)

285 
ßve
 = 
	`SDL_Cª©eRGBSurÁ˚
(
gpS¸ìn
->
Êags
, 
ª˘
.
w
,Ñe˘.
h
, 8,

286 
gpS¸ìn
->
f‹m©
->
Rmask
, gpS¸ìn->f‹m©->
Gmask
,

287 
gpS¸ìn
->
f‹m©
->
Bmask
, gpS¸ìn->f‹m©->
Amask
);

289 i‡(
ßve
 =
NULL
)

291  
NULL
;

294 
ÕBox
 = (
LPBOX
)
	`ˇŒoc
(1, (
BOX
));

295 i‡(
ÕBox
 =
NULL
)

297 
	`SDL_FªeSurÁ˚
(
gpS¸ìn
);

298  
NULL
;

301 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

302 
	`SDL_SëSurÁ˚PÆëã
(
ßve
, 
gpS¸ìn
->
f‹m©
->
∑Àâe
);

304 
	`SDL_SëPÆëã
(
ßve
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
	`VIDEO_GëPÆëã
(), 0, 256);

306 
	`SDL_BlôSurÁ˚
(
gpS¸ìn
, &
ª˘
, 
ßve
, 
NULL
);

308 
ÕBox
->
pos
 =Öos;

309 
ÕBox
->
ÕSavedAªa
 = 
ßve
;

310 
ÕBox
->
wHeight
 = (
WORD
)
ª˘
.
w
;

311 
ÕBox
->
wWidth
 = (
WORD
)
ª˘
.
h
;

317 
	`PAL_RLEBlôToSurÁ˚
(
ÕBôm≠Le·
, 
gpS¸ìn
, 
pos
);

319 
ª˘
.
x
 +
	`PAL_RLEGëWidth
(
ÕBôm≠Le·
);

321 
i
 = 0; i < 
nLí
; i++)

323 
	`PAL_RLEBlôToSurÁ˚
(
ÕBôm≠Mid
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
,Ñe˘.
y
));

324 
ª˘
.
x
 +
	`PAL_RLEGëWidth
(
ÕBôm≠Mid
);

327 
	`PAL_RLEBlôToSurÁ˚
(
ÕBôm≠Right
, 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
,Ñe˘.
y
));

329  
ÕBox
;

330 
	}
}

332 
VOID


333 
	$PAL_DñëeBox
(

334 
LPBOX
 
ÕBox


351 
SDL_Re˘
 
ª˘
;

356 i‡(
ÕBox
 =
NULL
)

364 
ª˘
.
x
 = 
	`PAL_X
(
ÕBox
->
pos
);

365 
ª˘
.
y
 = 
	`PAL_Y
(
ÕBox
->
pos
);

366 
ª˘
.
w
 = 
ÕBox
->
wWidth
;

367 
ª˘
.
h
 = 
ÕBox
->
wHeight
;

369 
	`SDL_BlôSurÁ˚
(
ÕBox
->
ÕSavedAªa
, 
NULL
, 
gpS¸ìn
, &
ª˘
);

374 
	`SDL_FªeSurÁ˚
(
ÕBox
->
ÕSavedAªa
);

375 
	`‰ì
(
ÕBox
);

376 
	}
}

378 
WORD


379 
	$PAL_RódMíu
(

380 
LPITEMCHANGED_CALLBACK
 
Õ‚MíuIãmCh™ged
,

381 
LPMENUITEM
 
rgMíuIãm
,

382 
INT
 
nMíuIãm
,

383 
WORD
 
wDeÁu…Iãm
,

384 
BYTE
 
bLabñCﬁ‹


410 
i
;

411 
WORD
 
wCuºítIãm
 = (
wDeÁu…Iãm
 < 
nMíuIãm
) ? wDefaultItem : 0;

416 
i
 = 0; i < 
nMíuIãm
; i++)

418 
BYTE
 
bCﬁ‹
 = 
bLabñCﬁ‹
;

420 i‡(!
rgMíuIãm
[
i
].
fE«bÀd
)

422 i‡(
i
 =
wCuºítIãm
)

424 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_INACTIVE
;

428 
bCﬁ‹
 = 
MENUITEM_COLOR_INACTIVE
;

432 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
i
].
wNumW‹d
),ÑgMíuIãm[i].
pos
,

433 
bCﬁ‹
, 
TRUE
, TRUE);

436 i‡(
Õ‚MíuIãmCh™ged
 !
NULL
)

438 (*
Õ‚MíuIãmCh™ged
)(
rgMíuIãm
[
wDeÁu…Iãm
].
wVÆue
);

441 
TRUE
)

443 
	`PAL_CÀ¨KeySèã
();

448 i‡(
rgMíuIãm
[
wCuºítIãm
].
fE«bÀd
)

450 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

451 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_SELECTED
, 
FALSE
, 
TRUE
);

454 
	`PAL_Pro˚ssEvít
();

456 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyDown
 | 
kKeyRight
))

461 i‡(
rgMíuIãm
[
wCuºítIãm
].
fE«bÀd
)

466 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

467 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
bLabñCﬁ‹
, 
FALSE
, 
TRUE
);

471 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

472 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_INACTIVE
, 
FALSE
, 
TRUE
);

475 
wCuºítIãm
++;

477 i‡(
wCuºítIãm
 >
nMíuIãm
)

479 
wCuºítIãm
 = 0;

485 i‡(
rgMíuIãm
[
wCuºítIãm
].
fE«bÀd
)

487 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

488 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_SELECTED
, 
FALSE
, 
TRUE
);

492 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

493 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_SELECTED_INACTIVE
, 
FALSE
, 
TRUE
);

496 i‡(
Õ‚MíuIãmCh™ged
 !
NULL
)

498 (*
Õ‚MíuIãmCh™ged
)(
rgMíuIãm
[
wCuºítIãm
].
wVÆue
);

501 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyUp
 | 
kKeyLe·
))

506 i‡(
rgMíuIãm
[
wCuºítIãm
].
fE«bÀd
)

511 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

512 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
bLabñCﬁ‹
, 
FALSE
, 
TRUE
);

516 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

517 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_INACTIVE
, 
FALSE
, 
TRUE
);

520 i‡(
wCuºítIãm
 > 0)

522 
wCuºítIãm
--;

526 
wCuºítIãm
 = 
nMíuIãm
 - 1;

532 i‡(
rgMíuIãm
[
wCuºítIãm
].
fE«bÀd
)

534 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

535 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_SELECTED
, 
FALSE
, 
TRUE
);

539 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

540 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_SELECTED_INACTIVE
, 
FALSE
, 
TRUE
);

543 i‡(
Õ‚MíuIãmCh™ged
 !
NULL
)

545 (*
Õ‚MíuIãmCh™ged
)(
rgMíuIãm
[
wCuºítIãm
].
wVÆue
);

548 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

553 i‡(
rgMíuIãm
[
wCuºítIãm
].
fE«bÀd
)

555 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

556 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
bLabñCﬁ‹
, 
FALSE
, 
TRUE
);

560 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

561 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_INACTIVE
, 
FALSE
, 
TRUE
);

566 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

571 i‡(
rgMíuIãm
[
wCuºítIãm
].
fE«bÀd
)

573 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
wCuºítIãm
].
wNumW‹d
),

574 
rgMíuIãm
[
wCuºítIãm
].
pos
, 
MENUITEM_COLOR_CONFIRMED
, 
FALSE
, 
TRUE
);

576  
rgMíuIãm
[
wCuºítIãm
].
wVÆue
;

583 
	`SDL_Dñay
(50);

586  
MENUITEM_VALUE_CANCELLED
;

587 
	}
}

589 
VOID


590 
	$PAL_DøwNumbî
(

591 
UINT
 
iNum
,

592 
UINT
 
nLígth
,

593 
PAL_POS
 
pos
,

594 
NUMCOLOR
 
cﬁ‹
,

595 
NUMALIGN
 
Æign


620 
UINT
 
nA˘uÆLígth
, 
i
;

621 
x
, 
y
;

622 
LPCBITMAPRLE
 
rgÕBôm≠
[10];

627 
x
 = (
cﬁ‹
 =
kNumCﬁ‹Blue
Ë? 29 : ((cﬁ‹ =
kNumCﬁ‹Cy™
) ? 56 : 19);

629 
i
 = 0; i < 10; i++)

631 
rgÕBôm≠
[
i
] = 
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, (
UINT
)
x
 + i);

634 
i
 = 
iNum
;

635 
nA˘uÆLígth
 = 0;

640 
i
 > 0)

642 
i
 /= 10;

643 
nA˘uÆLígth
++;

646 i‡(
nA˘uÆLígth
 > 
nLígth
)

648 
nA˘uÆLígth
 = 
nLígth
;

650 i‡(
nA˘uÆLígth
 == 0)

652 
nA˘uÆLígth
 = 1;

655 
x
 = 
	`PAL_X
(
pos
) - 6;

656 
y
 = 
	`PAL_Y
(
pos
);

658 
Æign
)

660 
kNumAlignLe·
:

661 
x
 +6 * 
nA˘uÆLígth
;

664 
kNumAlignMid
:

665 
x
 +3 * (
nLígth
 + 
nA˘uÆLígth
);

668 
kNumAlignRight
:

669 
x
 +6 * 
nLígth
;

676 
nA˘uÆLígth
-- > 0)

678 
	`PAL_RLEBlôToSurÁ˚
(
rgÕBôm≠
[
iNum
 % 10], 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
));

679 
x
 -= 6;

680 
iNum
 /= 10;

682 
	}
}

684 #i‚de‡
PAL_WIN95


686 
LPOBJECTDESC


687 
	$PAL_LﬂdObje˘Desc
(

688 
LPCSTR
 
ÕszFûeName


705 
FILE
 *
Â
;

706 
PAL_LARGE
 
buf
[512];

707 *
p
;

708 
LPOBJECTDESC
 
ÕDesc
 = 
NULL
, 
pNew
 = NULL;

709 
i
;

711 
Â
 = 
	`f›í
(
ÕszFûeName
, "r");

713 i‡(
Â
 =
NULL
)

715  
NULL
;

721 
	`fgës
(
buf
, 512, 
Â
Ë!
NULL
)

723 
p
 = 
	`°rchr
(
buf
, '=');

724 i‡(
p
 =
NULL
)

729 *
p
 = '\0';

730 
p
++;

732 
pNew
 = 
	`UTIL_ˇŒoc
(1, (
OBJECTDESC
));

734 
	`ssˇnf
(
buf
, "%x", &
i
);

735 
pNew
->
wObje˘ID
 = 
i
;

736 
pNew
->
ÕDesc
 = 
	`°rdup
(
p
);

738 
pNew
->
√xt
 = 
ÕDesc
;

739 
ÕDesc
 = 
pNew
;

742 
	`f˛o£
(
Â
);

743  
ÕDesc
;

744 
	}
}

746 
VOID


747 
	$PAL_FªeObje˘Desc
(

748 
LPOBJECTDESC
 
ÕObje˘Desc


765 
LPOBJECTDESC
 
p
;

767 
ÕObje˘Desc
 !
NULL
)

769 
p
 = 
ÕObje˘Desc
->
√xt
;

770 
	`‰ì
(
ÕObje˘Desc
->
ÕDesc
);

771 
	`‰ì
(
ÕObje˘Desc
);

772 
ÕObje˘Desc
 = 
p
;

774 
	}
}

776 
LPCSTR


777 
	$PAL_GëObje˘Desc
(

778 
LPOBJECTDESC
 
ÕObje˘Desc
,

779 
WORD
 
wObje˘ID


799 
ÕObje˘Desc
 !
NULL
)

801 i‡(
ÕObje˘Desc
->
wObje˘ID
 == wObjectID)

803  
ÕObje˘Desc
->
ÕDesc
;

806 
ÕObje˘Desc
 =ÜpObje˘Desc->
√xt
;

809  
NULL
;

810 
	}
}

	@ui.h

22 #i‚de‡
UI_H


23 
	#UI_H


	)

25 #ifde‡
__˝lu•lus


30 
	~"comm⁄.h
"

32 
	#CHUNKNUM_SPRITEUI
 9

	)

34 
	#MENUITEM_COLOR
 0x4F

	)

35 
	#MENUITEM_COLOR_INACTIVE
 0x1C

	)

36 
	#MENUITEM_COLOR_CONFIRMED
 0x2C

	)

37 
	#MENUITEM_COLOR_SELECTED_INACTIVE
 0x1F

	)

38 
	#MENUITEM_COLOR_SELECTED_FIRST
 0xF9

	)

39 
	#MENUITEM_COLOR_SELECTED_TOTALNUM
 6

	)

41 
	#MENUITEM_COLOR_SELECTED
 \

42 (
MENUITEM_COLOR_SELECTED_FIRST
 + \

43 
	`SDL_GëTicks
(Ë/ (600 / 
MENUITEM_COLOR_SELECTED_TOTALNUM
) \

44 % 
MENUITEM_COLOR_SELECTED_TOTALNUM
)

	)

46 
	#MENUITEM_COLOR_EQUIPPEDITEM
 0xC8

	)

48 
	#DESCTEXT_COLOR
 0x2E

	)

50 #ifde‡
PAL_WIN95


51 
	#MAINMENU_BACKGROUND_FBPNUM
 2

	)

53 
	#MAINMENU_BACKGROUND_FBPNUM
 60

	)

55 
	#RIX_NUM_OPENINGMENU
 4

	)

56 
	#MAINMENU_LABEL_NEWGAME
 7

	)

57 
	#MAINMENU_LABEL_LOADGAME
 8

	)

59 
	#LOADMENU_LABEL_SLOT_FIRST
 43

	)

61 
	#CONFIRMMENU_LABEL_NO
 19

	)

62 
	#CONFIRMMENU_LABEL_YES
 20

	)

64 
	#CASH_LABEL
 21

	)

66 
	#SWITCHMENU_LABEL_DISABLE
 17

	)

67 
	#SWITCHMENU_LABEL_ENABLE
 18

	)

69 
	#GAMEMENU_LABEL_STATUS
 3

	)

70 
	#GAMEMENU_LABEL_MAGIC
 4

	)

71 
	#GAMEMENU_LABEL_INVENTORY
 5

	)

72 
	#GAMEMENU_LABEL_SYSTEM
 6

	)

74 
	#SYSMENU_LABEL_SAVE
 11

	)

75 
	#SYSMENU_LABEL_LOAD
 12

	)

76 
	#SYSMENU_LABEL_MUSIC
 13

	)

77 
	#SYSMENU_LABEL_SOUND
 14

	)

78 
	#SYSMENU_LABEL_QUIT
 15

	)

79 
	#SYSMENU_LABEL_BATTLEMODE
 (
PAL_ADDITIONAL_WORD_FIRST
)

	)

81 
	#BATTLESPEEDMENU_LABEL_1
 (
PAL_ADDITIONAL_WORD_FIRST
 + 1)

	)

82 
	#BATTLESPEEDMENU_LABEL_2
 (
PAL_ADDITIONAL_WORD_FIRST
 + 2)

	)

83 
	#BATTLESPEEDMENU_LABEL_3
 (
PAL_ADDITIONAL_WORD_FIRST
 + 3)

	)

84 
	#BATTLESPEEDMENU_LABEL_4
 (
PAL_ADDITIONAL_WORD_FIRST
 + 4)

	)

85 
	#BATTLESPEEDMENU_LABEL_5
 (
PAL_ADDITIONAL_WORD_FIRST
 + 5)

	)

87 
	#INVMENU_LABEL_USE
 23

	)

88 
	#INVMENU_LABEL_EQUIP
 22

	)

90 
	#STATUS_BACKGROUND_FBPNUM
 0

	)

91 
	#STATUS_LABEL_EXP
 2

	)

92 
	#STATUS_LABEL_LEVEL
 48

	)

93 
	#STATUS_LABEL_HP
 49

	)

94 
	#STATUS_LABEL_MP
 50

	)

95 
	#STATUS_LABEL_ATTACKPOWER
 51

	)

96 
	#STATUS_LABEL_MAGICPOWER
 52

	)

97 
	#STATUS_LABEL_RESISTANCE
 53

	)

98 
	#STATUS_LABEL_DEXTERITY
 54

	)

99 
	#STATUS_LABEL_FLEERATE
 55

	)

100 
	#STATUS_COLOR_EQUIPMENT
 0xBE

	)

102 
	#BUYMENU_LABEL_CURRENT
 35

	)

103 
	#SELLMENU_LABEL_PRICE
 25

	)

105 
	#SPRITENUM_SLASH
 39

	)

106 
	#SPRITENUM_ITEMBOX
 70

	)

107 
	#SPRITENUM_CURSOR_YELLOW
 68

	)

108 
	#SPRITENUM_CURSOR
 69

	)

109 
	#SPRITENUM_PLAYERINFOBOX
 18

	)

110 
	#SPRITENUM_PLAYERFACE_FIRST
 48

	)

112 
	#EQUIPMENU_BACKGROUND_FBPNUM
 1

	)

114 
	#ITEMUSEMENU_COLOR_STATLABEL
 0xBB

	)

116 
	#BATTLEWIN_GETEXP_LABEL
 30

	)

117 
	#BATTLEWIN_BEATENEMY_LABEL
 9

	)

118 
	#BATTLEWIN_DOLLAR_LABEL
 10

	)

119 
	#BATTLEWIN_LEVELUP_LABEL
 32

	)

120 
	#BATTLEWIN_ADDMAGIC_LABEL
 33

	)

121 
	#BATTLEWIN_LEVELUP_LABEL_COLOR
 0x39

	)

122 
	#SPRITENUM_ARROW
 47

	)

124 
	#BATTLE_LABEL_ESCAPEFAIL
 31

	)

126 
	sègBOX


128 
PAL_POS
 
pos
;

129 
WORD
 
wWidth
, 
wHeight
;

130 
SDL_SurÁ˚
 *
ÕSavedAªa
;

131 } 
	tBOX
, *
	tLPBOX
;

133 
	sègMENUITEM


135 
WORD
 
wVÆue
;

136 
WORD
 
wNumW‹d
;

137 
BOOL
 
fE«bÀd
;

138 
PAL_POS
 
pos
;

139 } 
	tMENUITEM
, *
	tLPMENUITEM
;

141 
	sègOBJECTDESC


143 
WORD
 
wObje˘ID
;

144 
LPSTR
 
ÕDesc
;

145 
ègOBJECTDESC
 *
√xt
;

146 } 
	tOBJECTDESC
, *
	tLPOBJECTDESC
;

148 
VOID
 (*
	tLPITEMCHANGED_CALLBACK
)(
	tWORD
);

150 
	#MENUITEM_VALUE_CANCELLED
 0xFFFF

	)

152 
	eègNUMCOLOR


154 
kNumCﬁ‹Yñlow
,

155 
kNumCﬁ‹Blue
,

156 
kNumCﬁ‹Cy™


157 } 
	tNUMCOLOR
;

159 
	eègNUMALIGN


161 
kNumAlignLe·
,

162 
kNumAlignMid
,

163 
kNumAlignRight


164 } 
	tNUMALIGN
;

166 
INT


167 
PAL_InôUI
(

168 
VOID


171 
VOID


172 
PAL_FªeUI
(

173 
VOID


176 
LPBOX


177 
PAL_Cª©eBox
(

178 
PAL_POS
 
pos
,

179 
INT
 
nRows
,

180 
INT
 
nCﬁumns
,

181 
INT
 
iStyÀ
,

182 
BOOL
 
fSaveS¸ìn


185 
LPBOX


186 
PAL_Cª©eSögÀLöeBox
(

187 
PAL_POS
 
pos
,

188 
INT
 
nLí
,

189 
BOOL
 
fSaveS¸ìn


192 
VOID


193 
PAL_DñëeBox
(

194 
LPBOX
 
ÕBox


197 
WORD


198 
PAL_RódMíu
(

199 
LPITEMCHANGED_CALLBACK
 
Õ‚MíuIãmCh™ged
,

200 
LPMENUITEM
 
rgMíuIãm
,

201 
INT
 
nMíuIãm
,

202 
WORD
 
wDeÁu…Iãm
,

203 
BYTE
 
bLabñCﬁ‹


206 
VOID


207 
PAL_DøwNumbî
(

208 
UINT
 
iNum
,

209 
UINT
 
nLígth
,

210 
PAL_POS
 
pos
,

211 
NUMCOLOR
 
cﬁ‹
,

212 
NUMALIGN
 
Æign


215 
LPOBJECTDESC


216 
PAL_LﬂdObje˘Desc
(

217 
LPCSTR
 
ÕszFûeName


220 
VOID


221 
PAL_FªeObje˘Desc
(

222 
LPOBJECTDESC
 
ÕObje˘Desc


225 
LPCSTR


226 
PAL_GëObje˘Desc
(

227 
LPOBJECTDESC
 
ÕObje˘Desc
,

228 
WORD
 
wObje˘ID


231 
LPSPRITE
 
gpS¥ôeUI
;

233 #ifde‡
__˝lu•lus


	@uibattle.c

22 
	~"maö.h
"

24 
WORD
 
g_rgPœyîPos
[3][3][2];

26 
	gg_iCurMiscMíuIãm
 = 0;

27 
	gg_iCurSubMíuIãm
 = 0;

29 
VOID


30 
	$PAL_PœyîInfoBox
(

31 
PAL_POS
 
pos
,

32 
WORD
 
wPœyîRﬁe
,

33 
INT
 
iTimeMëî
,

34 
BYTE
 
bTimeMëîCﬁ‹
,

35 
BOOL
 
fUpd©e


60 
SDL_Re˘
 
ª˘
;

61 
BYTE
 
bPois⁄Cﬁ‹
;

62 
i
, 
iP¨tyIndex
;

63 
WORD
 
wMaxLevñ
, 
w
;

65 c⁄° 
BYTE
 
rgSètusPos
[
kSètusAŒ
][2] =

78 c⁄° 
WORD
 
rgwSètusW‹d
[
kSètusAŒ
] =

91 c⁄° 
BYTE
 
rgbSètusCﬁ‹
[
kSètusAŒ
] =

107 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_PLAYERINFOBOX
),

108 
gpS¸ìn
, 
pos
);

113 
wMaxLevñ
 = 0;

114 
bPois⁄Cﬁ‹
 = 0xFF;

116 
iP¨tyIndex
 = 0; iP¨tyIndex <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; iPartyIndex++)

118 i‡(
gpGlobÆs
->
rgP¨ty
[
iP¨tyIndex
].
wPœyîRﬁe
 == wPlayerRole)

124 i‡(
iP¨tyIndex
 <
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

126 
i
 = 0; i < 
MAX_POISONS
; i++)

128 
w
 = 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
iP¨tyIndex
].
wPois⁄ID
;

130 i‡(
w
 != 0 &&

131 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wPois⁄Levñ
 <= 3)

133 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wPois⁄Levñ
 >
wMaxLevñ
)

135 
wMaxLevñ
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wPois⁄Levñ
;

136 
bPois⁄Cﬁ‹
 = (
BYTE
)(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wCﬁ‹
);

142 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0)

148 
bPois⁄Cﬁ‹
 = 0;

149 
iTimeMëî
 = 0;

152 i‡(
bPois⁄Cﬁ‹
 == 0xFF)

154 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_PLAYERFACE_FIRST
 + 
wPœyîRﬁe
),

155 
gpS¸ìn
, 
	`PAL_XY
(
	`PAL_X
(
pos
Ë- 2, 
	`PAL_Y
(pos) - 4));

159 
	`PAL_RLEBlôM⁄oCﬁ‹
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_PLAYERFACE_FIRST
 + 
wPœyîRﬁe
),

160 
gpS¸ìn
, 
	`PAL_XY
(
	`PAL_X
(
pos
Ë- 2, 
	`PAL_Y
’osË- 4), 
bPois⁄Cﬁ‹
, 0);

163 #i‚de‡
PAL_CLASSIC


167 
ª˘
.
x
 = 
	`PAL_X
(
pos
) + 31;

168 
ª˘
.
y
 = 
	`PAL_Y
(
pos
) + 4;

169 
ª˘
.
w
 = 1;

170 
ª˘
.
h
 = 6;

171 
	`SDL_FûlRe˘
(
gpS¸ìn
, &
ª˘
, 0xBD);

173 
ª˘
.
x
 += 39;

174 
	`SDL_FûlRe˘
(
gpS¸ìn
, &
ª˘
, 0xBD);

176 
ª˘
.
x
 = 
	`PAL_X
(
pos
) + 32;

177 
ª˘
.
y
 = 
	`PAL_Y
(
pos
) + 3;

178 
ª˘
.
w
 = 38;

179 
ª˘
.
h
 = 1;

180 
	`SDL_FûlRe˘
(
gpS¸ìn
, &
ª˘
, 0xBD);

182 
ª˘
.
y
 += 7;

183 
	`SDL_FûlRe˘
(
gpS¸ìn
, &
ª˘
, 0xBD);

188 i‡(
iTimeMëî
 >= 100)

190 
ª˘
.
x
 = 
	`PAL_X
(
pos
) + 33;

191 
ª˘
.
y
 = 
	`PAL_Y
(
pos
) + 6;

192 
ª˘
.
w
 = 36;

193 
ª˘
.
h
 = 2;

194 
	`SDL_FûlRe˘
(
gpS¸ìn
, &
ª˘
, 0x2C);

196 i‡(
iTimeMëî
 > 0)

198 
ª˘
.
x
 = 
	`PAL_X
(
pos
) + 33;

199 
ª˘
.
y
 = 
	`PAL_Y
(
pos
) + 5;

200 
ª˘
.
w
 = 
iTimeMëî
 * 36 / 100;

201 
ª˘
.
h
 = 4;

202 
	`SDL_FûlRe˘
(
gpS¸ìn
, &
ª˘
, 
bTimeMëîCﬁ‹
);

209 #ifde‡
PAL_CLASSIC


210 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

211 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 49, 
	`PAL_Y
(pos) + 6));

212 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
wPœyîRﬁe
], 4,

213 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 47, 
	`PAL_Y
’osË+ 8), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

214 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
], 4,

215 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 26, 
	`PAL_Y
’osË+ 5), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

217 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

218 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 49, 
	`PAL_Y
(pos) + 22));

219 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
wPœyîRﬁe
], 4,

220 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 47, 
	`PAL_Y
’osË+ 24), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

221 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
], 4,

222 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 26, 
	`PAL_Y
’osË+ 21), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

224 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

225 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 49, 
	`PAL_Y
(pos) + 14));

226 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
wPœyîRﬁe
], 4,

227 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 47, 
	`PAL_Y
’osË+ 16), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

228 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
], 4,

229 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 26, 
	`PAL_Y
’osË+ 13), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

231 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

232 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 49, 
	`PAL_Y
(pos) + 24));

233 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
wPœyîRﬁe
], 4,

234 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 47, 
	`PAL_Y
’osË+ 26), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

235 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
], 4,

236 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 26, 
	`PAL_Y
’osË+ 23), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

242 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] > 0)

244 
i
 = 0; i < 
kSètusAŒ
; i++)

246 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
i
] > 0 &&

247 
rgwSètusW‹d
[
i
] != 0)

249 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgwSètusW‹d
[
i
]),

250 
	`PAL_XY
(
	`PAL_X
(
pos
Ë+ 
rgSètusPos
[
i
][0], 
	`PAL_Y
(pos) +ÑgStatusPos[i][1]),

251 
rgbSètusCﬁ‹
[
i
], 
TRUE
, 
FALSE
);

259 i‡(
fUpd©e
)

261 
ª˘
.
x
 = 
	`PAL_X
(
pos
) - 2;

262 
ª˘
.
y
 = 
	`PAL_Y
(
pos
) - 4;

263 
ª˘
.
w
 = 77;

264 
ª˘
.
h
 = 39;

266 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

268 
	}
}

270 
BOOL


271 
	$PAL_B©éeUIIsA˘i⁄VÆid
(

272 
BATTLEUIACTION
 
A˘i⁄Ty≥


289 
WORD
 
wPœyîRﬁe
, 
w
;

290 
i
;

292 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].wPlayerRole;

294 
A˘i⁄Ty≥
)

296 
kB©éeUIA˘i⁄Aâack
:

297 
kB©éeUIA˘i⁄Misc
:

300 
kB©éeUIA˘i⁄Magic
:

301 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSûí˚
] != 0)

303  
FALSE
;

307 
kB©éeUIA˘i⁄Co›Magic
:

308 i‡(
gpGlobÆs
->
wMaxP¨tyMembîIndex
 == 0)

310  
FALSE
;

312 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

314 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

316 #i‚de‡
PAL_CLASSIC


317 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] < gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[w] / 5 ||

318 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] != 0 ||

319 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] != 0 ||

320 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSûí˚
] != 0 ||

321 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 < 100 ||

322 
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrA˘
)

324 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
w
] < gpGlobÆs->g.PœyîRﬁes.
rgwMaxHP
[w] / 5 ||

325 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] != 0 ||

326 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] != 0 ||

327 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSûí˚
] != 0)

330  
FALSE
;

336  
TRUE
;

337 
	}
}

339 
VOID


340 
	$PAL_B©éeUIDøwMiscMíu
(

341 
WORD
 
wCuºítIãm
,

342 
BOOL
 
fC⁄fúmed


361 
i
;

362 
BYTE
 
bCﬁ‹
;

364 #ifde‡
PAL_CLASSIC


365 
MENUITEM
 
rgMíuIãm
[] = {

367 { 0, 
BATTLEUI_LABEL_AUTO
, 
TRUE
, 
	`PAL_XY
(16, 32) },

368 { 1, 
BATTLEUI_LABEL_INVENTORY
, 
TRUE
, 
	`PAL_XY
(16, 50) },

369 { 2, 
BATTLEUI_LABEL_DEFEND
, 
TRUE
, 
	`PAL_XY
(16, 68) },

370 { 3, 
BATTLEUI_LABEL_FLEE
, 
TRUE
, 
	`PAL_XY
(16, 86) },

371 { 4, 
BATTLEUI_LABEL_STATUS
, 
TRUE
, 
	`PAL_XY
(16, 104) }

374 
MENUITEM
 
rgMíuIãm
[] = {

376 { 0, 
BATTLEUI_LABEL_ITEM
, 
TRUE
, 
	`PAL_XY
(16, 32) },

377 { 1, 
BATTLEUI_LABEL_DEFEND
, 
TRUE
, 
	`PAL_XY
(16, 50) },

378 { 2, 
BATTLEUI_LABEL_AUTO
, 
TRUE
, 
	`PAL_XY
(16, 68) },

379 { 3, 
BATTLEUI_LABEL_FLEE
, 
TRUE
, 
	`PAL_XY
(16, 86) },

380 { 4, 
BATTLEUI_LABEL_STATUS
, 
TRUE
, 
	`PAL_XY
(16, 104) }

387 
	`PAL_Cª©eBox
(
	`PAL_XY
(2, 20), 4, 1, 0, 
FALSE
);

392 
i
 = 0; i < 5; i++)

394 
bCﬁ‹
 = 
MENUITEM_COLOR
;

396 i‡(
i
 =
wCuºítIãm
)

398 i‡(
fC⁄fúmed
)

400 
bCﬁ‹
 = 
MENUITEM_COLOR_CONFIRMED
;

404 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED
;

408 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
i
].
wNumW‹d
),ÑgMíuIãm[i].
pos
, 
bCﬁ‹
,

409 
TRUE
, 
FALSE
);

411 
	}
}

413 
WORD


414 
	$PAL_B©éeUIMiscMíuUpd©e
(

415 
VOID


435 
	`PAL_B©éeUIDøwMiscMíu
(
g_iCurMiscMíuIãm
, 
FALSE
);

440 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyUp
 | 
kKeyLe·
))

442 
g_iCurMiscMíuIãm
--;

443 i‡(
g_iCurMiscMíuIãm
 < 0)

445 
g_iCurMiscMíuIãm
 = 4;

448 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyDown
 | 
kKeyRight
))

450 
g_iCurMiscMíuIãm
++;

451 i‡(
g_iCurMiscMíuIãm
 > 4)

453 
g_iCurMiscMíuIãm
 = 0;

456 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

458  
g_iCurMiscMíuIãm
 + 1;

460 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

466 
	}
}

468 
WORD


469 
	$PAL_B©éeUIMiscIãmSubMíuUpd©e
(

470 
VOID


487 
i
;

488 
BYTE
 
bCﬁ‹
;

490 
MENUITEM
 
rgMíuIãm
[] = {

492 { 0, 
BATTLEUI_LABEL_USEITEM
, 
TRUE
, 
	`PAL_XY
(44, 62) },

493 { 1, 
BATTLEUI_LABEL_THROWITEM
, 
TRUE
, 
	`PAL_XY
(44, 80) },

499 #ifde‡
PAL_CLASSIC


500 
	`PAL_B©éeUIDøwMiscMíu
(1, 
TRUE
);

502 
	`PAL_B©éeUIDøwMiscMíu
(0, 
TRUE
);

504 
	`PAL_Cª©eBox
(
	`PAL_XY
(30, 50), 1, 1, 0, 
FALSE
);

509 
i
 = 0; i < 2; i++)

511 
bCﬁ‹
 = 
MENUITEM_COLOR
;

513 i‡(
i
 =
g_iCurSubMíuIãm
)

515 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED
;

518 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
rgMíuIãm
[
i
].
wNumW‹d
),ÑgMíuIãm[i].
pos
, 
bCﬁ‹
,

519 
TRUE
, 
FALSE
);

525 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyUp
 | 
kKeyLe·
))

527 
g_iCurSubMíuIãm
 = 0;

529 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyDown
 | 
kKeyRight
))

531 
g_iCurSubMíuIãm
 = 1;

533 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

535  
g_iCurSubMíuIãm
 + 1;

537 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

543 
	}
}

545 
VOID


546 
	$PAL_B©éeUIShowText
(

547 
LPCSTR
 
ÕszText
,

548 
WORD
 
wDuøti⁄


567 i‡(
	`SDL_GëTicks
(Ë< 
g_B©ée
.
UI
.
dwMsgShowTime
)

569 
	`°r˝y
(
g_B©ée
.
UI
.
szNextMsg
, 
ÕszText
);

570 
g_B©ée
.
UI
.
wNextMsgDuøti⁄
 = 
wDuøti⁄
;

574 
	`°r˝y
(
g_B©ée
.
UI
.
szMsg
, 
ÕszText
);

575 
g_B©ée
.
UI
.
dwMsgShowTime
 = 
	`SDL_GëTicks
(Ë+ 
wDuøti⁄
;

577 
	}
}

579 
VOID


580 
	$PAL_B©éeUIPœyîRódy
(

581 
WORD
 
wPœyîIndex


598 #i‚de‡
PAL_CLASSIC


599 
WORD
 
w
 = 
gpGlobÆs
->
rgP¨ty
[
wPœyîIndex
].
wPœyîRﬁe
;

602 
g_B©ée
.
UI
.
wCurPœyîIndex
 = 
wPœyîIndex
;

603 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

604 
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
 = 0;

605 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMaö
;

607 #i‚de‡
PAL_CLASSIC


611 i‡(
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusPuµë
] == 0 &&

612 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusSÀï
] == 0 &&

613 
gpGlobÆs
->
rgPœyîSètus
[
w
][
kSètusC⁄fu£d
] == 0 &&

614 !
g_B©ée
.
UI
.
fAutoAâack
 && !
gpGlobÆs
->
fAutoB©ée
)

616 
	`SOUND_PœyCh™√l
(78, 1);

619 
	}
}

621 
VOID


622 
	$PAL_B©éeUIU£Iãm
(

623 
VOID


640 
WORD
 
wSñe˘edIãm
;

642 
wSñe˘edIãm
 = 
	`PAL_IãmSñe˘MíuUpd©e
();

644 i‡(
wSñe˘edIãm
 != 0xFFFF)

646 i‡(
wSñe˘edIãm
 != 0)

648 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄U£Iãm
;

649 
g_B©ée
.
UI
.
wObje˘ID
 = 
wSñe˘edIãm
;

651 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wSñe˘edIãm
].
ôem
.
wFœgs
 & 
kIãmFœgAµlyToAŒ
)

653 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëPœyîAŒ
;

657 #ifde‡
PAL_CLASSIC


658 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 0;

660 
g_B©ée
.
UI
.
wSñe˘edIndex
 = g_B©ée.UI.
wCurPœyîIndex
;

662 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëPœyî
;

667 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMaö
;

670 
	}
}

672 
VOID


673 
	$PAL_B©éeUIThrowIãm
(

674 
VOID


691 
WORD
 
wSñe˘edIãm
 = 
	`PAL_IãmSñe˘MíuUpd©e
();

693 i‡(
wSñe˘edIãm
 != 0xFFFF)

695 i‡(
wSñe˘edIãm
 != 0)

697 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄ThrowIãm
;

698 
g_B©ée
.
UI
.
wObje˘ID
 = 
wSñe˘edIãm
;

700 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wSñe˘edIãm
].
ôem
.
wFœgs
 & 
kIãmFœgAµlyToAŒ
)

702 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√myAŒ
;

706 
g_B©ée
.
UI
.
wSñe˘edIndex
 = g_B©ée.UI.
wPªvE√myT¨gë
;

707 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√my
;

712 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMaö
;

715 
	}
}

717 
WORD


718 
	$PAL_B©éeUIPickAutoMagic
(

719 
WORD
 
wPœyîRﬁe
,

720 
WORD
 
wR™domR™ge


739 
WORD
 
wMagic
 = 0, 
w
, 
wMagicNum
;

740 
i
, 
iMaxPowî
 = 0, 
iPowî
;

742 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSûí˚
] != 0)

747 
i
 = 0; i < 
MAX_PLAYER_MAGICS
; i++)

749 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMagic
[
i
][
wPœyîRﬁe
];

750 i‡(
w
 == 0)

755 
wMagicNum
 = 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wMagicNumbî
;

760 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wCo°MP
 == 1 ||

761 
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wCo°MP
 > gpGlobÆs->g.
PœyîRﬁes
.
rgwMP
[
wPœyîRﬁe
] ||

762 (
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wBa£Damage
) <= 0)

767 
iPowî
 = (
SHORT
)(
gpGlobÆs
->
g
.
ÕrgMagic
[
wMagicNum
].
wBa£Damage
) +

768 
	`R™domL⁄g
(0, 
wR™domR™ge
);

770 i‡(
iPowî
 > 
iMaxPowî
)

772 
iMaxPowî
 = 
iPowî
;

773 
wMagic
 = 
w
;

777  
wMagic
;

778 
	}
}

780 
VOID


781 
	$PAL_B©éeUIUpd©e
(

782 
VOID


799 
i
, 
j
, 
x
, 
y
;

800 
WORD
 
wPœyîRﬁe
, 
w
;

801 
s_iFøme
 = 0;

803 
s_iFøme
++;

805 i‡(
g_B©ée
.
UI
.
fAutoAâack
 && !
gpGlobÆs
->
fAutoB©ée
)

810 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

812 
g_B©ée
.
UI
.
fAutoAâack
 = 
FALSE
;

816 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BATTLEUI_LABEL_AUTO
), 
	`PAL_XY
(280, 10),

817 
MENUITEM_COLOR_CONFIRMED
, 
TRUE
, 
FALSE
);

821 i‡(
gpGlobÆs
->
fAutoB©ée
)

823 
	`PAL_B©éePœyîCheckRódy
();

825 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

827 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrCom
)

829 
	`PAL_B©éeUIPœyîRódy
(
i
);

834 i‡(
g_B©ée
.
UI
.
°©e
 !
kB©éeUIWaô
)

836 
w
 = 
	`PAL_B©éeUIPickAutoMagic
(
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
, 9999);

838 i‡(
w
 == 0)

840 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

841 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

845 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Magic
;

846 
g_B©ée
.
UI
.
wObje˘ID
 = 
w
;

848 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

850 
g_B©ée
.
UI
.
wSñe˘edIndex
 = -1;

854 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

858 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

861 
íd
;

864 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyAuto
)

866 
g_B©ée
.
UI
.
fAutoAâack
 = !g_Battle.UI.fAutoAttack;

867 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMaö
;

870 #ifde‡
PAL_CLASSIC


871 i‡(
g_B©ée
.
Pha£
 =
kB©éePha£Pîf‹mA˘i⁄
)

873 
íd
;

876 i‡(!
g_B©ée
.
UI
.
fAutoAâack
)

882 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

884 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
i
].wPlayerRole;

885 
w
 = (
WORD
)(
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
);

887 
j
 = 
TIMEMETER_COLOR_DEFAULT
;

889 #i‚de‡
PAL_CLASSIC


890 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusHa°e
] > 0)

892 
j
 = 
TIMEMETER_COLOR_HASTE
;

894 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSlow
] > 0)

896 
j
 = 
TIMEMETER_COLOR_SLOW
;

900 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] != 0 ||

901 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] != 0 ||

902 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPuµë
] != 0)

904 
w
 = 0;

907 
	`PAL_PœyîInfoBox
(
	`PAL_XY
(91 + 77 * 
i
, 165), 
wPœyîRﬁe
,

908 
w
, 
j
, 
FALSE
);

912 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySètus
)

914 
	`PAL_PœyîSètus
();

915 
íd
;

918 i‡(
g_B©ée
.
UI
.
°©e
 !
kB©éeUIWaô
)

920 
wPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].wPlayerRole;

922 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0 &&

923 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusPuµë
])

925 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

927 i‡(
	`PAL_PœyîC™AâackAŒ
(
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
))

929 
g_B©ée
.
UI
.
wSñe˘edIndex
 = -1;

933 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

936 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

937 
íd
;

943 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
wPœyîRﬁe
] == 0 ||

944 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusSÀï
] != 0 ||

945 
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusP¨Æyzed
] != 0)

947 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Pass
;

948 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

949 
íd
;

952 i‡(
gpGlobÆs
->
rgPœyîSètus
[
wPœyîRﬁe
][
kSètusC⁄fu£d
] != 0)

954 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄AâackM©e
;

955 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

956 
íd
;

959 i‡(
g_B©ée
.
UI
.
fAutoAâack
)

961 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

963 i‡(
	`PAL_PœyîC™AâackAŒ
(
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
))

965 
g_B©ée
.
UI
.
wSñe˘edIndex
 = -1;

969 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

972 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

973 
íd
;

979 
i
 = 
SPRITENUM_BATTLE_ARROW_CURRENTPLAYER_RED
;

980 i‡(
s_iFøme
 & 1)

982 
i
 = 
SPRITENUM_BATTLE_ARROW_CURRENTPLAYER
;

985 
x
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
g_B©ée
.
UI
.
wCurPœyîIndex
][0] - 8;

986 
y
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
g_B©ée
.
UI
.
wCurPœyîIndex
][1] - 74;

988 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
i
), 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
));

991 
g_B©ée
.
UI
.
°©e
)

993 
kB©éeUIWaô
:

994 i‡(!
g_B©ée
.
fE√myCÀ¨ed
)

996 
	`PAL_B©éePœyîCheckRódy
();

998 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1000 i‡(
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrCom
)

1002 
	`PAL_B©éeUIPœyîRódy
(
i
);

1009 
kB©éeUISñe˘Move
:

1015 
iS¥ôeNum
;

1016 
PAL_POS
 
pos
;

1017 
BATTLEUIACTION
 
a˘i⁄
;

1018 } 
rgIãms
[] =

1020 {
SPRITENUM_BATTLEICON_ATTACK
, 
	`PAL_XY
(27, 140), 
kB©éeUIA˘i⁄Aâack
},

1021 {
SPRITENUM_BATTLEICON_MAGIC
, 
	`PAL_XY
(0, 155), 
kB©éeUIA˘i⁄Magic
},

1022 {
SPRITENUM_BATTLEICON_COOPMAGIC
, 
	`PAL_XY
(54, 155), 
kB©éeUIA˘i⁄Co›Magic
},

1023 {
SPRITENUM_BATTLEICON_MISCMENU
, 
	`PAL_XY
(27, 170), 
kB©éeUIA˘i⁄Misc
}

1026 i‡(
g_B©ée
.
UI
.
MíuSèã
 =
kB©éeMíuMaö
)

1028 i‡(
g_I≈utSèã
.
dú
 =
kDúN‹th
)

1030 
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
 = 0;

1032 i‡(
g_I≈utSèã
.
dú
 =
kDúSouth
)

1034 
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
 = 3;

1036 i‡(
g_I≈utSèã
.
dú
 =
kDúWe°
)

1038 i‡(
	`PAL_B©éeUIIsA˘i⁄VÆid
(
kB©éeUIA˘i⁄Magic
))

1040 
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
 = 1;

1043 i‡(
g_I≈utSèã
.
dú
 =
kDúEa°
)

1045 i‡(
	`PAL_B©éeUIIsA˘i⁄VÆid
(
kB©éeUIA˘i⁄Co›Magic
))

1047 
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
 = 2;

1052 i‡(!
	`PAL_B©éeUIIsA˘i⁄VÆid
(
rgIãms
[
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
].
a˘i⁄
))

1054 
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
 = 0;

1057 
i
 = 0; i < 4; i++)

1059 i‡(
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
 =
i
)

1061 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
rgIãms
[
i
].
iS¥ôeNum
),

1062 
gpS¸ìn
, 
rgIãms
[
i
].
pos
);

1064 i‡(
	`PAL_B©éeUIIsA˘i⁄VÆid
(
rgIãms
[
i
].
a˘i⁄
))

1066 
	`PAL_RLEBlôM⁄oCﬁ‹
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
rgIãms
[
i
].
iS¥ôeNum
),

1067 
gpS¸ìn
, 
rgIãms
[
i
].
pos
, 0, -4);

1071 
	`PAL_RLEBlôM⁄oCﬁ‹
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
rgIãms
[
i
].
iS¥ôeNum
),

1072 
gpS¸ìn
, 
rgIãms
[
i
].
pos
, 0x10, -4);

1076 
g_B©ée
.
UI
.
MíuSèã
)

1078 
kB©éeMíuMaö
:

1079 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

1081 
g_B©ée
.
UI
.
wSñe˘edA˘i⁄
)

1087 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

1088 i‡(
	`PAL_PœyîC™AâackAŒ
(
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
))

1090 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√myAŒ
;

1094 
g_B©ée
.
UI
.
wSñe˘edIndex
 = g_B©ée.UI.
wPªvE√myT¨gë
;

1095 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√my
;

1103 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMagicSñe˘
;

1104 
	`PAL_MagicSñe˘i⁄MíuInô
(
wPœyîRﬁe
, 
TRUE
, 0);

1111 
w
 = 
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
;

1112 
w
 = 
	`PAL_GëPœyîCo›î©iveMagic
(w);

1114 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Co›Magic
;

1115 
g_B©ée
.
UI
.
wObje˘ID
 = 
w
;

1117 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgUßbÀToE√my
)

1119 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

1121 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√myAŒ
;

1125 
g_B©ée
.
UI
.
wSñe˘edIndex
 = g_B©ée.UI.
wPªvE√myT¨gë
;

1126 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√my
;

1131 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

1133 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëPœyîAŒ
;

1137 #ifde‡
PAL_CLASSIC


1138 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 0;

1140 
g_B©ée
.
UI
.
wSñe˘edIndex
 = g_B©ée.UI.
wCurPœyîIndex
;

1142 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëPœyî
;

1151 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMisc
;

1152 
g_iCurMiscMíuIãm
 = 0;

1156 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyDe„nd
)

1158 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄De„nd
;

1159 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1161 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyF‹˚
)

1163 
w
 = 
	`PAL_B©éeUIPickAutoMagic
(
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
, 60);

1165 i‡(
w
 == 0)

1167 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Aâack
;

1169 i‡(
	`PAL_PœyîC™AâackAŒ
(
gpGlobÆs
->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
))

1171 
g_B©ée
.
UI
.
wSñe˘edIndex
 = -1;

1175 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

1180 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Magic
;

1181 
g_B©ée
.
UI
.
wObje˘ID
 = 
w
;

1183 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

1185 
g_B©ée
.
UI
.
wSñe˘edIndex
 = -1;

1189 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
	`PAL_B©éeSñe˘AutoT¨gë
();

1193 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1195 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyFÀe
)

1197 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄FÀe
;

1198 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1200 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyU£Iãm
)

1202 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuU£IãmSñe˘
;

1203 
	`PAL_IãmSñe˘MíuInô
(
kIãmFœgUßbÀ
);

1205 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyThrowIãm
)

1207 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuThrowIãmSñe˘
;

1208 
	`PAL_IãmSñe˘MíuInô
(
kIãmFœgThrowabÀ
);

1210 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyRïót
)

1212 
	`PAL_B©éeCommôA˘i⁄
(
TRUE
);

1214 #ifde‡
PAL_CLASSIC


1215 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1217 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
°©e
 = 
kFighãrWaô
;

1218 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUIWaô
;

1220 i‡(
g_B©ée
.
UI
.
wCurPœyîIndex
 > 0)

1227 
g_B©ée
.
rgPœyî
[--g_B©ée.
UI
.
wCurPœyîIndex
].
°©e
 = 
kFighãrWaô
;

1229 i‡(
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄ThrowIãm
)

1231 
i
 = 0; i < 
MAX_INVENTORY
; i++)

1233 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
 ==

1234 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
)

1236 
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡InU£
--;

1241 i‡(
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
A˘i⁄Ty≥
 =
kB©éeA˘i⁄U£Iãm
)

1243 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
].
ôem
.
wFœgs
 & 
kIãmFœgC⁄sumög
)

1245 
i
 = 0; i < 
MAX_INVENTORY
; i++)

1247 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
 ==

1248 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
a˘i⁄
.
wA˘i⁄ID
)

1250 
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡InU£
--;

1256 } 
g_B©ée
.
UI
.
wCurPœyîIndex
 > 0 &&

1257 (
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
] == 0 ||

1258 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
][
kSètusC⁄fu£d
] > 0 ||

1259 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
][
kSètusSÀï
] > 0 ||

1260 
gpGlobÆs
->
rgPœyîSètus
[gpGlobÆs->
rgP¨ty
[
g_B©ée
.
UI
.
wCurPœyîIndex
].
wPœyîRﬁe
][
kSètusP¨Æyzed
] > 0));

1264 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1266 
ÊMö
 = -1;

1267 
j
 = -1;

1269 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1271 i‡(
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 >= 100)

1273 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 += 100;

1275 i‡((
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
 < 
ÊMö
 || flMin < 0) &&

1276 
i
 !()
g_B©ée
.
UI
.
wCurPœyîIndex
 &&

1277 
g_B©ée
.
rgPœyî
[
i
].
°©e
 =
kFighãrWaô
)

1279 
ÊMö
 = 
g_B©ée
.
rgPœyî
[
i
].
ÊTimeMëî
;

1280 
j
 = 
i
;

1285 i‡(
j
 != -1)

1287 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
ÊTimeMëî
 = 
ÊMö
 - 99;

1288 
g_B©ée
.
rgPœyî
[g_B©ée.
UI
.
wCurPœyîIndex
].
°©e
 = 
kFighãrWaô
;

1289 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUIWaô
;

1295 
kB©éeMíuMagicSñe˘
:

1296 
w
 = 
	`PAL_MagicSñe˘i⁄MíuUpd©e
();

1298 i‡(
w
 != 0xFFFF)

1300 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMaö
;

1302 i‡(
w
 != 0)

1304 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄Magic
;

1305 
g_B©ée
.
UI
.
wObje˘ID
 = 
w
;

1307 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgUßbÀToE√my
)

1309 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

1311 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√myAŒ
;

1315 
g_B©ée
.
UI
.
wSñe˘edIndex
 = g_B©ée.UI.
wPªvE√myT¨gë
;

1316 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëE√my
;

1321 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

1323 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëPœyîAŒ
;

1327 #ifde‡
PAL_CLASSIC


1328 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 0;

1330 
g_B©ée
.
UI
.
wSñe˘edIndex
 = g_B©ée.UI.
wCurPœyîIndex
;

1332 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘T¨gëPœyî
;

1339 
kB©éeMíuU£IãmSñe˘
:

1340 
	`PAL_B©éeUIU£Iãm
();

1343 
kB©éeMíuThrowIãmSñe˘
:

1344 
	`PAL_B©éeUIThrowIãm
();

1347 
kB©éeMíuMisc
:

1348 
w
 = 
	`PAL_B©éeUIMiscMíuUpd©e
();

1350 i‡(
w
 != 0xFFFF)

1352 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMaö
;

1354 
w
)

1356 #ifde‡
PAL_CLASSIC


1361 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMiscIãmSubMíu
;

1362 
g_iCurSubMíuIãm
 = 0;

1365 #ifde‡
PAL_CLASSIC


1370 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄De„nd
;

1371 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1374 #ifde‡
PAL_CLASSIC


1379 
g_B©ée
.
UI
.
fAutoAâack
 = 
TRUE
;

1383 
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 = 
kB©éeA˘i⁄FÀe
;

1384 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1388 
	`PAL_PœyîSètus
();

1394 
kB©éeMíuMiscIãmSubMíu
:

1395 
w
 = 
	`PAL_B©éeUIMiscIãmSubMíuUpd©e
();

1397 i‡(
w
 != 0xFFFF)

1399 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuMaö
;

1401 
w
)

1404 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuU£IãmSñe˘
;

1405 
	`PAL_IãmSñe˘MíuInô
(
kIãmFœgUßbÀ
);

1409 
g_B©ée
.
UI
.
MíuSèã
 = 
kB©éeMíuThrowIãmSñe˘
;

1410 
	`PAL_IãmSñe˘MíuInô
(
kIãmFœgThrowabÀ
);

1419 
kB©éeUISñe˘T¨gëE√my
:

1420 
x
 = -1;

1421 
y
 = 0;

1423 
i
 = 0; i <
g_B©ée
.
wMaxE√myIndex
; i++)

1425 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 != 0)

1427 
x
 = 
i
;

1428 
y
++;

1432 i‡(
x
 == -1)

1434 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

1438 i‡(
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 =
kB©éeA˘i⁄Co›Magic
)

1440 i‡(!
	`PAL_B©éeUIIsA˘i⁄VÆid
(
kB©éeA˘i⁄Co›Magic
))

1442 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

1447 #ifde‡
PAL_CLASSIC


1451 i‡(
y
 == 1)

1453 
g_B©ée
.
UI
.
wPªvE√myT¨gë
 = (
WORD
)
x
;

1454 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1458 i‡(
g_B©ée
.
UI
.
wSñe˘edIndex
 > 
x
)

1460 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
x
;

1463 
i
 = 0; i <
x
; i++)

1465 i‡(
g_B©ée
.
rgE√my
[g_B©ée.
UI
.
wSñe˘edIndex
].
wObje˘ID
 != 0)

1469 
g_B©ée
.
UI
.
wSñe˘edIndex
++;

1470 
g_B©ée
.
UI
.
wSñe˘edIndex
 %
x
 + 1;

1476 i‡(
s_iFøme
 & 1)

1478 
i
 = 
g_B©ée
.
UI
.
wSñe˘edIndex
;

1480 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
i
].
pos
);

1481 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
i
].
pos
);

1483 
x
 -
	`PAL_RLEGëWidth
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
)) / 2;

1484 
y
 -
	`PAL_RLEGëHeight
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
));

1486 
	`PAL_RLEBlôWôhCﬁ‹Shi·
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
),

1487 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
), 7);

1490 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1492 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

1494 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

1496 
g_B©ée
.
UI
.
wPªvE√myT¨gë
 = g_B©ée.UI.
wSñe˘edIndex
;

1497 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1499 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyLe·
 | 
kKeyDown
))

1501 i‡(
g_B©ée
.
UI
.
wSñe˘edIndex
 != 0)

1503 
g_B©ée
.
UI
.
wSñe˘edIndex
--;

1504 
g_B©ée
.
UI
.
wSñe˘edIndex
 != 0 &&

1505 
g_B©ée
.
rgE√my
[g_B©ée.
UI
.
wSñe˘edIndex
].
wObje˘ID
 == 0)

1507 
g_B©ée
.
UI
.
wSñe˘edIndex
--;

1511 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyRight
 | 
kKeyUp
))

1513 i‡(
g_B©ée
.
UI
.
wSñe˘edIndex
 < 
x
)

1515 
g_B©ée
.
UI
.
wSñe˘edIndex
++;

1516 
g_B©ée
.
UI
.
wSñe˘edIndex
 < 
x
 &&

1517 
g_B©ée
.
rgE√my
[g_B©ée.
UI
.
wSñe˘edIndex
].
wObje˘ID
 == 0)

1519 
g_B©ée
.
UI
.
wSñe˘edIndex
++;

1525 
kB©éeUISñe˘T¨gëPœyî
:

1526 #ifde‡
PAL_CLASSIC


1530 i‡(
gpGlobÆs
->
wMaxP¨tyMembîIndex
 == 0)

1532 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 0;

1533 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1537 
j
 = 
SPRITENUM_BATTLE_ARROW_SELECTEDPLAYER
;

1538 i‡(
s_iFøme
 & 1)

1540 
j
 = 
SPRITENUM_BATTLE_ARROW_SELECTEDPLAYER_RED
;

1546 
x
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
g_B©ée
.
UI
.
wSñe˘edIndex
][0] - 8;

1547 
y
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
g_B©ée
.
UI
.
wSñe˘edIndex
][1] - 67;

1549 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
j
), 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
));

1551 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1553 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

1555 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

1557 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1559 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyLe·
 | 
kKeyDown
))

1561 i‡(
g_B©ée
.
UI
.
wSñe˘edIndex
 != 0)

1563 
g_B©ée
.
UI
.
wSñe˘edIndex
--;

1567 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 
gpGlobÆs
->
wMaxP¨tyMembîIndex
;

1570 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyRight
 | 
kKeyUp
))

1572 i‡(
g_B©ée
.
UI
.
wSñe˘edIndex
 < 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1574 
g_B©ée
.
UI
.
wSñe˘edIndex
++;

1578 
g_B©ée
.
UI
.
wSñe˘edIndex
 = 0;

1584 
kB©éeUISñe˘T¨gëE√myAŒ
:

1585 #ifde‡
PAL_CLASSIC


1589 
g_B©ée
.
UI
.
wSñe˘edIndex
 = (
WORD
)-1;

1590 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1592 i‡(
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 =
kB©éeA˘i⁄Co›Magic
)

1594 i‡(!
	`PAL_B©éeUIIsA˘i⁄VÆid
(
kB©éeA˘i⁄Co›Magic
))

1596 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

1601 i‡(
s_iFøme
 & 1)

1606 
i
 = 
g_B©ée
.
wMaxE√myIndex
; i >= 0; i--)

1608 i‡(
g_B©ée
.
rgE√my
[
i
].
wObje˘ID
 == 0)

1613 
x
 = 
	`PAL_X
(
g_B©ée
.
rgE√my
[
i
].
pos
);

1614 
y
 = 
	`PAL_Y
(
g_B©ée
.
rgE√my
[
i
].
pos
);

1616 
x
 -
	`PAL_RLEGëWidth
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
)) / 2;

1617 
y
 -
	`PAL_RLEGëHeight
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
));

1619 
	`PAL_RLEBlôWôhCﬁ‹Shi·
(
	`PAL_S¥ôeGëFøme
(
g_B©ée
.
rgE√my
[
i
].
ÕS¥ôe
, g_B©ée.rgE√my[i].
wCuºítFøme
),

1620 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
), 7);

1623 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1625 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

1627 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

1629 
g_B©ée
.
UI
.
wSñe˘edIndex
 = (
WORD
)-1;

1630 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1635 
kB©éeUISñe˘T¨gëPœyîAŒ
:

1636 #ifde‡
PAL_CLASSIC


1640 
g_B©ée
.
UI
.
wSñe˘edIndex
 = (
WORD
)-1;

1641 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1643 
j
 = 
SPRITENUM_BATTLE_ARROW_SELECTEDPLAYER
;

1644 i‡(
s_iFøme
 & 1)

1646 
j
 = 
SPRITENUM_BATTLE_ARROW_SELECTEDPLAYER_RED
;

1648 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1650 i‡(
g_B©ée
.
UI
.
wA˘i⁄Ty≥
 =
kB©éeA˘i⁄Magic
)

1652 
w
 = 
gpGlobÆs
->
g
.
rgObje˘
[
g_B©ée
.
UI
.
wObje˘ID
].
magic
.
wMagicNumbî
;

1654 i‡(
gpGlobÆs
->
g
.
ÕrgMagic
[
w
].
wTy≥
 =
kMagicTy≥Tøn˚
)

1656 i‡(
i
 !
g_B©ée
.
UI
.
wCurPœyîIndex
)

1664 
x
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
i
][0] - 8;

1665 
y
 = 
g_rgPœyîPos
[
gpGlobÆs
->
wMaxP¨tyMembîIndex
][
i
][1] - 67;

1667 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
j
), 
gpS¸ìn
, 
	`PAL_XY
(
x
, 
y
));

1670 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1672 
g_B©ée
.
UI
.
°©e
 = 
kB©éeUISñe˘Move
;

1674 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

1676 
g_B©ée
.
UI
.
wSñe˘edIndex
 = (
WORD
)-1;

1677 
	`PAL_B©éeCommôA˘i⁄
(
FALSE
);

1683 
íd
:

1687 #i‚de‡
PAL_CLASSIC


1688 i‡(
	`SDL_GëTicks
(Ë< 
g_B©ée
.
UI
.
dwMsgShowTime
)

1693 
PAL_POS
 
pos
;

1694 
Àn
 = 
	`°æí
(
g_B©ée
.
UI
.
szMsg
);

1699 
pos
 = 
	`PAL_XY
(160 - 
Àn
 * 4, 40);

1700 
	`PAL_Cª©eSögÀLöeBox
(
pos
, (
Àn
 + 1Ë/ 2, 
FALSE
);

1705 
pos
 = 
	`PAL_XY
(
	`PAL_X
’osË+ 8 + ((
Àn
 & 1Ë<< 2), 
	`PAL_Y
(pos) + 10);

1706 
	`PAL_DøwText
(
g_B©ée
.
UI
.
szMsg
, 
pos
, 0, 
FALSE
, FALSE);

1708 i‡(
g_B©ée
.
UI
.
szNextMsg
[0] != '\0')

1710 
	`°r˝y
(
g_B©ée
.
UI
.
szMsg
, g_B©ée.UI.
szNextMsg
);

1711 
g_B©ée
.
UI
.
dwMsgShowTime
 = 
	`SDL_GëTicks
(Ë+ g_B©ée.UI.
wNextMsgDuøti⁄
;

1712 
g_B©ée
.
UI
.
szNextMsg
[0] = '\0';

1719 
i
 = 0; i < 
BATTLEUI_MAX_SHOWNUM
; i++)

1721 i‡(
g_B©ée
.
UI
.
rgShowNum
[
i
].
wNum
 > 0)

1723 i‡((
	`SDL_GëTicks
(Ë- 
g_B©ée
.
UI
.
rgShowNum
[
i
].
dwTime
Ë/ 
BATTLE_FRAME_TIME
 > 10)

1725 
g_B©ée
.
UI
.
rgShowNum
[
i
].
wNum
 = 0;

1729 
	`PAL_DøwNumbî
(
g_B©ée
.
UI
.
rgShowNum
[
i
].
wNum
, 5,

1730 
	`PAL_XY
(
	`PAL_X
(
g_B©ée
.
UI
.
rgShowNum
[
i
].
pos
), 
	`PAL_Y
(g_B©ée.UI.rgShowNum[i].posË- (
	`SDL_GëTicks
(Ë- g_B©ée.UI.rgShowNum[i].
dwTime
Ë/ 
BATTLE_FRAME_TIME
),

1731 
g_B©ée
.
UI
.
rgShowNum
[
i
].
cﬁ‹
, 
kNumAlignRight
);

1736 
	`PAL_CÀ¨KeySèã
();

1737 
	}
}

1739 
VOID


1740 
	$PAL_B©éeUIShowNum
(

1741 
WORD
 
wNum
,

1742 
PAL_POS
 
pos
,

1743 
NUMCOLOR
 
cﬁ‹


1764 
i
;

1766 
i
 = 0; i < 
BATTLEUI_MAX_SHOWNUM
; i++)

1768 i‡(
g_B©ée
.
UI
.
rgShowNum
[
i
].
wNum
 == 0)

1770 
g_B©ée
.
UI
.
rgShowNum
[
i
].
wNum
 = wNum;

1771 
g_B©ée
.
UI
.
rgShowNum
[
i
].
pos
 = 
	`PAL_XY
(
	`PAL_X
’osË- 15, 
	`PAL_Y
(pos));

1772 
g_B©ée
.
UI
.
rgShowNum
[
i
].
cﬁ‹
 = color;

1773 
g_B©ée
.
UI
.
rgShowNum
[
i
].
dwTime
 = 
	`SDL_GëTicks
();

1778 
	}
}

	@uibattle.h

22 #i‚de‡
UIBATTLE_H


23 
	#UIBATTLE_H


	)

25 #ifde‡
__˝lu•lus


30 
	~"ui.h
"

32 
	eègBATTLEUISTATE


34 
kB©éeUIWaô
,

35 
kB©éeUISñe˘Move
,

36 
kB©éeUISñe˘T¨gëE√my
,

37 
kB©éeUISñe˘T¨gëPœyî
,

38 
kB©éeUISñe˘T¨gëE√myAŒ
,

39 
kB©éeUISñe˘T¨gëPœyîAŒ
,

40 } 
	tBATTLEUISTATE
;

42 
	eègBATTLEMENUSTATE


44 
kB©éeMíuMaö
,

45 
kB©éeMíuMagicSñe˘
,

46 
kB©éeMíuU£IãmSñe˘
,

47 
kB©éeMíuThrowIãmSñe˘
,

48 
kB©éeMíuMisc
,

49 
kB©éeMíuMiscIãmSubMíu
,

50 } 
	tBATTLEMENUSTATE
;

52 
	eègBATTLEUIACTION


54 
kB©éeUIA˘i⁄Aâack
,

55 
kB©éeUIA˘i⁄Magic
,

56 
kB©éeUIA˘i⁄Co›Magic
,

57 
kB©éeUIA˘i⁄Misc
,

58 } 
	tBATTLEUIACTION
;

60 
	#SPRITENUM_BATTLEICON_ATTACK
 40

	)

61 
	#SPRITENUM_BATTLEICON_MAGIC
 41

	)

62 
	#SPRITENUM_BATTLEICON_COOPMAGIC
 42

	)

63 
	#SPRITENUM_BATTLEICON_MISCMENU
 43

	)

65 
	#SPRITENUM_BATTLE_ARROW_CURRENTPLAYER
 69

	)

66 
	#SPRITENUM_BATTLE_ARROW_CURRENTPLAYER_RED
 68

	)

68 
	#SPRITENUM_BATTLE_ARROW_SELECTEDPLAYER
 67

	)

69 
	#SPRITENUM_BATTLE_ARROW_SELECTEDPLAYER_RED
 66

	)

71 
	#BATTLEUI_LABEL_ITEM
 5

	)

72 
	#BATTLEUI_LABEL_DEFEND
 58

	)

73 
	#BATTLEUI_LABEL_AUTO
 56

	)

74 
	#BATTLEUI_LABEL_INVENTORY
 57

	)

75 
	#BATTLEUI_LABEL_FLEE
 59

	)

76 
	#BATTLEUI_LABEL_STATUS
 60

	)

78 
	#BATTLEUI_LABEL_USEITEM
 23

	)

79 
	#BATTLEUI_LABEL_THROWITEM
 24

	)

81 
	#TIMEMETER_COLOR_DEFAULT
 0x1B

	)

82 
	#TIMEMETER_COLOR_SLOW
 0x5B

	)

83 
	#TIMEMETER_COLOR_HASTE
 0x2A

	)

85 
	#BATTLEUI_MAX_SHOWNUM
 16

	)

87 
	sègSHOWNUM


89 
WORD
 
wNum
;

90 
PAL_POS
 
pos
;

91 
DWORD
 
dwTime
;

92 
NUMCOLOR
 
cﬁ‹
;

93 } 
	tSHOWNUM
;

95 
	sègBATTLEUI


97 
BATTLEUISTATE
 
°©e
;

98 
BATTLEMENUSTATE
 
MíuSèã
;

100 
CHAR
 
szMsg
[256];

101 
CHAR
 
szNextMsg
[256];

102 
DWORD
 
dwMsgShowTime
;

103 
WORD
 
wNextMsgDuøti⁄
;

105 
WORD
 
wCurPœyîIndex
;

106 
WORD
 
wSñe˘edA˘i⁄
;

107 
WORD
 
wSñe˘edIndex
;

108 
WORD
 
wPªvE√myT¨gë
;

110 
WORD
 
wA˘i⁄Ty≥
;

111 
WORD
 
wObje˘ID
;

113 
BOOL
 
fAutoAâack
;

115 
SHOWNUM
 
rgShowNum
[
BATTLEUI_MAX_SHOWNUM
];

116 } 
	tBATTLEUI
;

118 
VOID


119 
PAL_PœyîInfoBox
(

120 
PAL_POS
 
pos
,

121 
WORD
 
wPœyîRﬁe
,

122 
INT
 
iTimeMëî
,

123 
BYTE
 
bTimeMëîCﬁ‹
,

124 
BOOL
 
fUpd©e


127 
VOID


128 
PAL_B©éeUIShowText
(

129 
LPCSTR
 
ÕszText
,

130 
WORD
 
wDuøti⁄


133 
VOID


134 
PAL_B©éeUIPœyîRódy
(

135 
WORD
 
wPœyîIndex


138 
VOID


139 
PAL_B©éeUIUpd©e
(

140 
VOID


143 
VOID


144 
PAL_B©éeUIShowNum
(

145 
WORD
 
wNum
,

146 
PAL_POS
 
pos
,

147 
NUMCOLOR
 
cﬁ‹


150 #ifde‡
__˝lu•lus


	@uigame.c

22 
	~"maö.h
"

24 
VOID


25 
	$PAL_DøwO≥nögMíuBackground
(

26 
VOID


43 
LPBYTE
 
buf
;

45 
buf
 = (
LPBYTE
)
	`mÆloc
(320 * 200);

46 i‡(
buf
 =
NULL
)

54 
	`PAL_MKFDecom¥essChunk
(
buf
, 320 * 200, 
MAINMENU_BACKGROUND_FBPNUM
, 
gpGlobÆs
->
f
.
ÂFBP
);

59 
	`PAL_FBPBlôToSurÁ˚
(
buf
, 
gpS¸ìn
);

60 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

62 
	`‰ì
(
buf
);

63 
	}
}

65 
INT


66 
	$PAL_O≥nögMíu
(

67 
VOID


84 
WORD
 
wIãmSñe˘ed
;

85 
WORD
 
wDeÁu…Iãm
 = 0;

87 
MENUITEM
 
rgMaöMíuIãm
[2] = {

89 { 0, 
MAINMENU_LABEL_NEWGAME
, 
TRUE
, 
	`PAL_XY
(125, 95) },

90 { 1, 
MAINMENU_LABEL_LOADGAME
, 
TRUE
, 
	`PAL_XY
(125, 112) }

96 
	`PAL_PœyMUS
(
RIX_NUM_OPENINGMENU
, 
TRUE
, 1);

101 
	`PAL_DøwO≥nögMíuBackground
();

102 
	`PAL_FadeIn
(0, 
FALSE
, 1);

104 
TRUE
)

109 
wIãmSñe˘ed
 = 
	`PAL_RódMíu
(
NULL
, 
rgMaöMíuIãm
, 2, 
wDeÁu…Iãm
, 
MENUITEM_COLOR
);

111 i‡(
wIãmSñe˘ed
 =0 || wIãmSñe˘ed =
MENUITEM_VALUE_CANCELLED
)

116 
wIãmSñe˘ed
 = 0;

124 
wIãmSñe˘ed
 = 
	`PAL_SaveSlŸMíu
(1);

125 i‡(
wIãmSñe˘ed
 !
MENUITEM_VALUE_CANCELLED
)

129 
wDeÁu…Iãm
 = 1;

136 
	`PAL_PœyMUS
(0, 
FALSE
, 1);

137 
	`PAL_FadeOut
(1);

139  (
INT
)
wIãmSñe˘ed
;

140 
	}
}

142 
INT


143 
	$PAL_SaveSlŸMíu
(

144 
WORD
 
wDeÁu…SlŸ


161 
LPBOX
 
rgpBox
[5];

162 
i
;

163 
FILE
 *
Â
;

164 
WORD
 
wIãmSñe˘ed
;

165 
WORD
 
wSavedTimes
;

167 
MENUITEM
 
rgMíuIãm
[5];

169 c⁄° 
SDL_Re˘
 
ª˘
 = {195, 7, 120, 190};

174 
i
 = 0; i < 5; i++)

176 
rgpBox
[
i
] = 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(195, 7 + 38 * i), 6, 
TRUE
);

178 
rgMíuIãm
[
i
].
wVÆue
 = i + 1;

179 
rgMíuIãm
[
i
].
fE«bÀd
 = 
TRUE
;

180 
rgMíuIãm
[
i
].
wNumW‹d
 = 
LOADMENU_LABEL_SLOT_FIRST
 + i;

181 
rgMíuIãm
[
i
].
pos
 = 
	`PAL_XY
(210, 17 + 38 * i);

187 
i
 = 1; i <= 5; i++)

189 
Â
 = 
	`f›í
(
	`va
("%s%d%s", 
PAL_SAVE_PREFIX
, 
i
, ".rpg"), "rb");

190 i‡(
Â
 =
NULL
)

192 
wSavedTimes
 = 0;

196 
	`‰ód
(&
wSavedTimes
, (
WORD
), 1, 
Â
);

197 
wSavedTimes
 = 
	`SWAP16
(wSavedTimes);

198 
	`f˛o£
(
Â
);

204 
	`PAL_DøwNumbî
((
UINT
)
wSavedTimes
, 4, 
	`PAL_XY
(270, 38 * 
i
 - 17),

205 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

208 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

213 
wIãmSñe˘ed
 = 
	`PAL_RódMíu
(
NULL
, 
rgMíuIãm
, 5, 
wDeÁu…SlŸ
 - 1, 
MENUITEM_COLOR
);

218 
i
 = 0; i < 5; i++)

220 
	`PAL_DñëeBox
(
rgpBox
[
i
]);

223 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

225  
wIãmSñe˘ed
;

226 
	}
}

228 
BOOL


229 
	$PAL_C⁄fúmMíu
(

230 
VOID


247 
LPBOX
 
rgpBox
[2];

248 
MENUITEM
 
rgMíuIãm
[2];

249 
i
;

250 
WORD
 
wRëu∫VÆue
;

252 c⁄° 
SDL_Re˘
 
ª˘
 = {130, 100, 125, 50};

257 
rgMíuIãm
[0].
fE«bÀd
 = 
TRUE
;

258 
rgMíuIãm
[0].
pos
 = 
	`PAL_XY
(145, 110);

259 
rgMíuIãm
[0].
wVÆue
 = 0;

260 
rgMíuIãm
[0].
wNumW‹d
 = 
CONFIRMMENU_LABEL_NO
;

262 
rgMíuIãm
[1].
fE«bÀd
 = 
TRUE
;

263 
rgMíuIãm
[1].
pos
 = 
	`PAL_XY
(220, 110);

264 
rgMíuIãm
[1].
wVÆue
 = 1;

265 
rgMíuIãm
[1].
wNumW‹d
 = 
CONFIRMMENU_LABEL_YES
;

270 
i
 = 0; i < 2; i++)

272 
rgpBox
[
i
] = 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(130 + 75 * i, 100), 2, 
TRUE
);

275 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

280 
wRëu∫VÆue
 = 
	`PAL_RódMíu
(
NULL
, 
rgMíuIãm
, 2, 0, 
MENUITEM_COLOR
);

285 
i
 = 0; i < 2; i++)

287 
	`PAL_DñëeBox
(
rgpBox
[
i
]);

290 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

292  (
wRëu∫VÆue
 =
MENUITEM_VALUE_CANCELLED
 || wRëu∫VÆuê=0Ë? 
FALSE
 : 
TRUE
;

293 
	}
}

295 
BOOL


296 
	$PAL_SwôchMíu
(

297 
BOOL
 
fE«bÀd


314 
LPBOX
 
rgpBox
[2];

315 
MENUITEM
 
rgMíuIãm
[2];

316 
i
;

317 
WORD
 
wRëu∫VÆue
;

318 c⁄° 
SDL_Re˘
 
ª˘
 = {130, 100, 125, 50};

323 
rgMíuIãm
[0].
fE«bÀd
 = 
TRUE
;

324 
rgMíuIãm
[0].
pos
 = 
	`PAL_XY
(145, 110);

325 
rgMíuIãm
[0].
wVÆue
 = 0;

326 
rgMíuIãm
[0].
wNumW‹d
 = 
SWITCHMENU_LABEL_DISABLE
;

328 
rgMíuIãm
[1].
fE«bÀd
 = 
TRUE
;

329 
rgMíuIãm
[1].
pos
 = 
	`PAL_XY
(220, 110);

330 
rgMíuIãm
[1].
wVÆue
 = 1;

331 
rgMíuIãm
[1].
wNumW‹d
 = 
SWITCHMENU_LABEL_ENABLE
;

336 
i
 = 0; i < 2; i++)

338 
rgpBox
[
i
] = 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(130 + 75 * i, 100), 2, 
TRUE
);

341 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

346 
wRëu∫VÆue
 = 
	`PAL_RódMíu
(
NULL
, 
rgMíuIãm
, 2, 
fE«bÀd
 ? 1 : 0, 
MENUITEM_COLOR
);

351 
i
 = 0; i < 2; i++)

353 
	`PAL_DñëeBox
(
rgpBox
[
i
]);

356 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

358 i‡(
wRëu∫VÆue
 =
MENUITEM_VALUE_CANCELLED
)

360  
fE«bÀd
;

363  (
wRëu∫VÆue
 =0Ë? 
FALSE
 : 
TRUE
;

364 
	}
}

366 #i‚de‡
PAL_CLASSIC


368 
VOID


369 
	$PAL_B©éeS≥edMíu
(

370 
VOID


387 
LPBOX
 
ÕBox
;

388 
WORD
 
wRëu∫VÆue
;

389 c⁄° 
SDL_Re˘
 
ª˘
 = {131, 100, 165, 50};

391 
MENUITEM
 
rgMíuIãm
[5] = {

392 { 1, 
BATTLESPEEDMENU_LABEL_1
, 
TRUE
, 
	`PAL_XY
(145, 110) },

393 { 2, 
BATTLESPEEDMENU_LABEL_2
, 
TRUE
, 
	`PAL_XY
(170, 110) },

394 { 3, 
BATTLESPEEDMENU_LABEL_3
, 
TRUE
, 
	`PAL_XY
(195, 110) },

395 { 4, 
BATTLESPEEDMENU_LABEL_4
, 
TRUE
, 
	`PAL_XY
(220, 110) },

396 { 5, 
BATTLESPEEDMENU_LABEL_5
, 
TRUE
, 
	`PAL_XY
(245, 110) },

402 
ÕBox
 = 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(131, 100), 8, 
TRUE
);

403 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

408 
wRëu∫VÆue
 = 
	`PAL_RódMíu
(
NULL
, 
rgMíuIãm
, 5, 
gpGlobÆs
->
bB©éeS≥ed
 - 1,

409 
MENUITEM_COLOR
);

414 
	`PAL_DñëeBox
(
ÕBox
);

416 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

418 i‡(
wRëu∫VÆue
 !
MENUITEM_VALUE_CANCELLED
)

420 
gpGlobÆs
->
bB©éeS≥ed
 = 
wRëu∫VÆue
;

422 
	}
}

426 
LPBOX


427 
	$PAL_ShowCash
(

428 
DWORD
 
dwCash


445 
LPBOX
 
ÕBox
;

450 
ÕBox
 = 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(0, 0), 5, 
TRUE
);

451 i‡(
ÕBox
 =
NULL
)

453  
NULL
;

459 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
CASH_LABEL
), 
	`PAL_XY
(10, 10), 0, 
FALSE
, FALSE);

464 
	`PAL_DøwNumbî
(
dwCash
, 6, 
	`PAL_XY
(49, 14), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

466  
ÕBox
;

467 
	}
}

469 
VOID


470 
	$PAL_Sy°emMíu_OnIãmCh™ge
(

471 
WORD
 
wCuºítIãm


488 
gpGlobÆs
->
iCurSy°emMíuIãm
 = 
wCuºítIãm
 - 1;

489 
	}
}

491 
BOOL


492 
	$PAL_Sy°emMíu
(

493 
VOID


510 
LPBOX
 
ÕMíuBox
;

511 
WORD
 
wRëu∫VÆue
;

512 
iSlŸ
, 
i
, 
iSavedTimes
;

513 
FILE
 *
Â
;

514 c⁄° 
SDL_Re˘
 
ª˘
 = {40, 60, 100, 135};

519 #ifde‡
PAL_CLASSIC


520 
MENUITEM
 
rgSy°emMíuIãm
[5] =

523 { 1, 
SYSMENU_LABEL_SAVE
, 
TRUE
, 
	`PAL_XY
(53, 72) },

524 { 2, 
SYSMENU_LABEL_LOAD
, 
TRUE
, 
	`PAL_XY
(53, 72 + 18) },

525 { 3, 
SYSMENU_LABEL_MUSIC
, 
TRUE
, 
	`PAL_XY
(53, 72 + 36) },

526 { 4, 
SYSMENU_LABEL_SOUND
, 
TRUE
, 
	`PAL_XY
(53, 72 + 54) },

527 { 5, 
SYSMENU_LABEL_QUIT
, 
TRUE
, 
	`PAL_XY
(53, 72 + 72) },

530 
MENUITEM
 
rgSy°emMíuIãm
[6] =

533 { 1, 
SYSMENU_LABEL_SAVE
, 
TRUE
, 
	`PAL_XY
(53, 72) },

534 { 2, 
SYSMENU_LABEL_LOAD
, 
TRUE
, 
	`PAL_XY
(53, 72 + 18) },

535 { 3, 
SYSMENU_LABEL_MUSIC
, 
TRUE
, 
	`PAL_XY
(53, 72 + 36) },

536 { 4, 
SYSMENU_LABEL_SOUND
, 
TRUE
, 
	`PAL_XY
(53, 72 + 54) },

537 { 5, 
SYSMENU_LABEL_BATTLEMODE
, 
TRUE
, 
	`PAL_XY
(53, 72 + 72) },

538 { 6, 
SYSMENU_LABEL_QUIT
, 
TRUE
, 
	`PAL_XY
(53, 72 + 90) },

545 #ifde‡
PAL_CLASSIC


546 
ÕMíuBox
 = 
	`PAL_Cª©eBox
(
	`PAL_XY
(40, 60), 4, 3, 0, 
TRUE
);

548 
ÕMíuBox
 = 
	`PAL_Cª©eBox
(
	`PAL_XY
(40, 60), 5, 3, 0, 
TRUE
);

550 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

555 #ifde‡
PAL_CLASSIC


556 
wRëu∫VÆue
 = 
	`PAL_RódMíu
(
PAL_Sy°emMíu_OnIãmCh™ge
, 
rgSy°emMíuIãm
, 5,

557 
gpGlobÆs
->
iCurSy°emMíuIãm
, 
MENUITEM_COLOR
);

559 
wRëu∫VÆue
 = 
	`PAL_RódMíu
(
PAL_Sy°emMíu_OnIãmCh™ge
, 
rgSy°emMíuIãm
, 6,

560 
gpGlobÆs
->
iCurSy°emMíuIãm
, 
MENUITEM_COLOR
);

563 i‡(
wRëu∫VÆue
 =
MENUITEM_VALUE_CANCELLED
)

568 
	`PAL_DñëeBox
(
ÕMíuBox
);

569 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

570  
FALSE
;

573 
wRëu∫VÆue
)

579 
iSlŸ
 = 
	`PAL_SaveSlŸMíu
(
gpGlobÆs
->
bCuºítSaveSlŸ
);

581 i‡(
iSlŸ
 !
MENUITEM_VALUE_CANCELLED
)

583 
gpGlobÆs
->
bCuºítSaveSlŸ
 = (
BYTE
)
iSlŸ
;

585 
iSavedTimes
 = 0;

586 
i
 = 1; i <= 5; i++)

588 
Â
 = 
	`f›í
(
	`va
("%s%d%s", 
PAL_SAVE_PREFIX
, 
i
, ".rpg"), "rb");

589 i‡(
Â
 !
NULL
)

591 
WORD
 
wSavedTimes
;

592 
	`‰ód
(&
wSavedTimes
, (
WORD
), 1, 
Â
);

593 
	`f˛o£
(
Â
);

594 
wSavedTimes
 = 
	`SWAP16
(wSavedTimes);

595 i‡(()
wSavedTimes
 > 
iSavedTimes
)

597 
iSavedTimes
 = 
wSavedTimes
;

601 
	`PAL_SaveGame
(
	`va
("%s%d%s", 
PAL_SAVE_PREFIX
, 
iSlŸ
, ".Ωg"), 
iSavedTimes
 + 1);

609 
iSlŸ
 = 
	`PAL_SaveSlŸMíu
(
gpGlobÆs
->
bCuºítSaveSlŸ
);

610 i‡(
iSlŸ
 !
MENUITEM_VALUE_CANCELLED
)

612 
	`PAL_PœyMUS
(0, 
FALSE
, 1);

613 
	`PAL_FadeOut
(1);

614 
	`PAL_InôGameD©a
(
iSlŸ
);

622 
g_fNoMusic
 = !
	`PAL_SwôchMíu
(!g_fNoMusic);

623 #ifde‡
PAL_HAS_NATIVEMIDI


624 i‡(
g_fU£Midi
)

626 i‡(
g_fNoMusic
)

628 
	`PAL_PœyMUS
(0, 
FALSE
, 0);

632 
	`PAL_PœyMUS
(
gpGlobÆs
->
wNumMusic
, 
TRUE
, 0);

642 
g_fNoSound
 = !
	`PAL_SwôchMíu
(!g_fNoSound);

645 #i‚de‡
PAL_CLASSIC


650 
	`PAL_B©éeS≥edMíu
();

660 i‡(
	`PAL_C⁄fúmMíu
())

662 
	`PAL_PœyMUS
(0, 
FALSE
, 2);

663 
	`PAL_FadeOut
(2);

664 
	`PAL_Shutdown
();

665 
	`exô
(0);

670 
	`PAL_DñëeBox
(
ÕMíuBox
);

671  
TRUE
;

672 
	}
}

674 
VOID


675 
	$PAL_InGameMagicMíu
(

676 
VOID


693 
MENUITEM
 
rgMíuIãm
[
MAX_PLAYERS_IN_PARTY
];

694 
i
, 
y
;

695 
WORD
 
w
;

696 
WORD
 
wMagic
;

697 c⁄° 
SDL_Re˘
 
ª˘
 = {35, 62, 95, 90};

702 
y
 = 45;

704 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

706 
	`PAL_PœyîInfoBox
(
	`PAL_XY
(
y
, 165), 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
, 100,

707 
TIMEMETER_COLOR_DEFAULT
, 
TRUE
);

708 
y
 += 78;

711 
y
 = 75;

716 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

718 
	`as£π
(
i
 <
MAX_PLAYERS_IN_PARTY
);

720 
rgMíuIãm
[
i
].
wVÆue
 = i;

721 
rgMíuIãm
[
i
].
wNumW‹d
 =

722 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
];

723 
rgMíuIãm
[
i
].
fE«bÀd
 =

724 (
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
] > 0);

725 
rgMíuIãm
[
i
].
pos
 = 
	`PAL_XY
(48, 
y
);

727 
y
 += 18;

733 
	`PAL_Cª©eBox
(
	`PAL_XY
(35, 62), 
gpGlobÆs
->
wMaxP¨tyMembîIndex
, 2, 0, 
FALSE
);

734 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

736 
w
 = 
	`PAL_RódMíu
(
NULL
, 
rgMíuIãm
, 
gpGlobÆs
->
wMaxP¨tyMembîIndex
 + 1, w, 
MENUITEM_COLOR
);

738 i‡(
w
 =
MENUITEM_VALUE_CANCELLED
)

743 
wMagic
 = 0;

745 
TRUE
)

747 
wMagic
 = 
	`PAL_MagicSñe˘i⁄Míu
(
gpGlobÆs
->
rgP¨ty
[
w
].
wPœyîRﬁe
, 
FALSE
, wMagic);

748 i‡(
wMagic
 == 0)

753 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wFœgs
 & 
kMagicFœgAµlyToAŒ
)

755 
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnU£
 =

756 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnU£
, 0);

758 i‡(
g_fS¸ùtSuc˚ss
)

760 
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnSuc˚ss
 =

761 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnSuc˚ss
, 0);

763 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[gpGlobÆs->
rgP¨ty
[
w
].
wPœyîRﬁe
] -=

764 
gpGlobÆs
->
g
.
ÕrgMagic
[gpGlobÆs->g.
rgObje˘
[
wMagic
].
magic
.
wMagicNumbî
].
wCo°MP
;

767 i‡(
gpGlobÆs
->
fNìdToFadeIn
)

769 
	`PAL_FadeIn
(
gpGlobÆs
->
wNumPÆëã
, gpGlobÆs->
fNightPÆëã
, 1);

770 
gpGlobÆs
->
fNìdToFadeIn
 = 
FALSE
;

778 
WORD
 
wPœyî
 = 0;

779 
SDL_Re˘
 
ª˘
;

781 
wPœyî
 !
MENUITEM_VALUE_CANCELLED
)

786 
y
 = 45;

788 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

790 
	`PAL_PœyîInfoBox
(
	`PAL_XY
(
y
, 165), 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
, 100,

791 
TIMEMETER_COLOR_DEFAULT
, 
TRUE
);

792 
y
 += 78;

798 
ª˘
.
x
 = 70 + 78 * 
wPœyî
;

799 
ª˘
.
y
 = 193;

800 
ª˘
.
w
 = 9;

801 
ª˘
.
h
 = 6;

803 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_CURSOR
),

804 
gpS¸ìn
, 
	`PAL_XY
(
ª˘
.
x
,Ñe˘.
y
));

806 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

808 
TRUE
)

810 
	`PAL_CÀ¨KeySèã
();

811 
	`PAL_Pro˚ssEvít
();

813 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

815 
wPœyî
 = 
MENUITEM_VALUE_CANCELLED
;

818 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

820 
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnU£
 =

821 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnU£
,

822 
gpGlobÆs
->
rgP¨ty
[
wPœyî
].
wPœyîRﬁe
);

824 i‡(
g_fS¸ùtSuc˚ss
)

826 
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnSuc˚ss
 =

827 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wMagic
].
magic
.
wS¸ùtOnSuc˚ss
,

828 
gpGlobÆs
->
rgP¨ty
[
wPœyî
].
wPœyîRﬁe
);

830 i‡(
g_fS¸ùtSuc˚ss
)

832 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[gpGlobÆs->
rgP¨ty
[
w
].
wPœyîRﬁe
] -=

833 
gpGlobÆs
->
g
.
ÕrgMagic
[gpGlobÆs->g.
rgObje˘
[
wMagic
].
magic
.
wMagicNumbî
].
wCo°MP
;

838 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[gpGlobÆs->
rgP¨ty
[
w
].
wPœyîRﬁe
] <

839 
gpGlobÆs
->
g
.
ÕrgMagic
[gpGlobÆs->g.
rgObje˘
[
wMagic
].
magic
.
wMagicNumbî
].
wCo°MP
)

844 
wPœyî
 = 
MENUITEM_VALUE_CANCELLED
;

851 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyLe·
 | 
kKeyUp
))

853 i‡(
wPœyî
 > 0)

855 
wPœyî
--;

859 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyRight
 | 
kKeyDown
))

861 i‡(
wPœyî
 < 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

863 
wPœyî
++;

868 
	`SDL_Dñay
(1);

876 
y
 = 45;

878 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

880 
	`PAL_PœyîInfoBox
(
	`PAL_XY
(
y
, 165), 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
, 100,

881 
TIMEMETER_COLOR_DEFAULT
, 
TRUE
);

882 
y
 += 78;

885 
	}
}

887 
VOID


888 
	$PAL_Invít‹yMíu
(

889 
VOID


906 
WORD
 
w
 = 0;

907 c⁄° 
SDL_Re˘
 
ª˘
 = {30, 60, 75, 60};

909 
MENUITEM
 
rgMíuIãm
[2] =

912 { 1, 
INVMENU_LABEL_USE
, 
TRUE
, 
	`PAL_XY
(43, 73) },

913 { 2, 
INVMENU_LABEL_EQUIP
, 
TRUE
, 
	`PAL_XY
(43, 73 + 18) },

916 
	`PAL_Cª©eBox
(
	`PAL_XY
(30, 60), 1, 1, 0, 
FALSE
);

917 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

919 
w
 = 
	`PAL_RódMíu
(
NULL
, 
rgMíuIãm
, 2, w - 1, 
MENUITEM_COLOR
);

921 
w
)

924 
	`PAL_GameU£Iãm
();

928 
	`PAL_GameEquùIãm
();

931 
	}
}

933 
VOID


934 
	$PAL_InGameMíu_OnIãmCh™ge
(

935 
WORD
 
wCuºítIãm


952 
gpGlobÆs
->
iCurMaöMíuIãm
 = 
wCuºítIãm
 - 1;

953 
	}
}

955 
VOID


956 
	$PAL_InGameMíu
(

957 
VOID


974 
LPBOX
 
ÕCashBox
, 
ÕMíuBox
;

975 
WORD
 
wRëu∫VÆue
;

976 c⁄° 
SDL_Re˘
 
ª˘
 = {0, 0, 150, 185};

981 
MENUITEM
 
rgMaöMíuIãm
[4] =

984 { 1, 
GAMEMENU_LABEL_STATUS
, 
TRUE
, 
	`PAL_XY
(16, 50) },

985 { 2, 
GAMEMENU_LABEL_MAGIC
, 
TRUE
, 
	`PAL_XY
(16, 50 + 18) },

986 { 3, 
GAMEMENU_LABEL_INVENTORY
, 
TRUE
, 
	`PAL_XY
(16, 50 + 36) },

987 { 4, 
GAMEMENU_LABEL_SYSTEM
, 
TRUE
, 
	`PAL_XY
(16, 50 + 54) },

993 
ÕCashBox
 = 
	`PAL_ShowCash
(
gpGlobÆs
->
dwCash
);

998 
ÕMíuBox
 = 
	`PAL_Cª©eBox
(
	`PAL_XY
(3, 37), 3, 1, 0, 
TRUE
);

999 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

1004 
TRUE
)

1006 
wRëu∫VÆue
 = 
	`PAL_RódMíu
(
PAL_InGameMíu_OnIãmCh™ge
, 
rgMaöMíuIãm
, 4,

1007 
gpGlobÆs
->
iCurMaöMíuIãm
, 
MENUITEM_COLOR
);

1009 i‡(
wRëu∫VÆue
 =
MENUITEM_VALUE_CANCELLED
)

1014 
wRëu∫VÆue
)

1020 
	`PAL_PœyîSètus
();

1021 
out
;

1027 
	`PAL_InGameMagicMíu
();

1028 
out
;

1034 
	`PAL_Invít‹yMíu
();

1035 
out
;

1041 i‡(
	`PAL_Sy°emMíu
())

1043 
out
;

1049 
out
:

1053 
	`PAL_DñëeBox
(
ÕCashBox
);

1054 
	`PAL_DñëeBox
(
ÕMíuBox
);

1056 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

1057 
	}
}

1059 
VOID


1060 
	$PAL_PœyîSètus
(

1061 
VOID


1078 
PAL_LARGE
 
BYTE
 
bufBackground
[320 * 200];

1079 
PAL_LARGE
 
BYTE
 
bufImage
[16384];

1080 
iCuºít
;

1081 
iPœyîRﬁe
;

1082 
i
, 
y
;

1083 
WORD
 
w
;

1085 c⁄° 
rgEquùPos
[
MAX_PLAYER_EQUIPMENTS
][2] = {

1089 
	`PAL_MKFDecom¥essChunk
(
bufBackground
, 320 * 200, 
STATUS_BACKGROUND_FBPNUM
,

1090 
gpGlobÆs
->
f
.
ÂFBP
);

1091 
iCuºít
 = 0;

1093 
iCuºít
 >0 && iCuºíà<
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1095 
iPœyîRﬁe
 = 
gpGlobÆs
->
rgP¨ty
[
iCuºít
].
wPœyîRﬁe
;

1100 
	`PAL_FBPBlôToSurÁ˚
(
bufBackground
, 
gpS¸ìn
);

1105 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_EXP
), 
	`PAL_XY
(6, 6), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1106 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_LEVEL
), 
	`PAL_XY
(6, 32), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1107 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_HP
), 
	`PAL_XY
(6, 54), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1108 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_MP
), 
	`PAL_XY
(6, 76), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1109 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_ATTACKPOWER
), 
	`PAL_XY
(6, 98), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1110 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_MAGICPOWER
), 
	`PAL_XY
(6, 118), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1111 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_RESISTANCE
), 
	`PAL_XY
(6, 138), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1112 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_DEXTERITY
), 
	`PAL_XY
(6, 158), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1113 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_FLEERATE
), 
	`PAL_XY
(6, 178), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1115 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
iPœyîRﬁe
]),

1116 
	`PAL_XY
(110, 8), 
MENUITEM_COLOR_CONFIRMED
, 
TRUE
, 
FALSE
);

1121 
	`PAL_DøwNumbî
(
gpGlobÆs
->
Exp
.
rgPrim¨yExp
[
iPœyîRﬁe
].
wExp
, 5,

1122 
	`PAL_XY
(58, 6), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1123 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
rgLevñUpExp
[gpGlobÆs->g.
PœyîRﬁes
.
rgwLevñ
[
iPœyîRﬁe
]],

1124 5, 
	`PAL_XY
(58, 15), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1125 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
iPœyîRﬁe
], 2,

1126 
	`PAL_XY
(54, 35), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1127 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

1128 
	`PAL_XY
(65, 58));

1129 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

1130 
	`PAL_XY
(65, 80));

1131 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
iPœyîRﬁe
], 4, 
	`PAL_XY
(42, 56),

1132 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1133 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
iPœyîRﬁe
], 4, 
	`PAL_XY
(63, 61),

1134 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

1135 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
iPœyîRﬁe
], 4, 
	`PAL_XY
(42, 78),

1136 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1137 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
iPœyîRﬁe
], 4, 
	`PAL_XY
(63, 83),

1138 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

1140 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîAâackSåígth
(
iPœyîRﬁe
), 4,

1141 
	`PAL_XY
(42, 102), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1142 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîMagicSåígth
(
iPœyîRﬁe
), 4,

1143 
	`PAL_XY
(42, 122), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1144 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDe„n£
(
iPœyîRﬁe
), 4,

1145 
	`PAL_XY
(42, 142), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1146 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDexãrôy
(
iPœyîRﬁe
), 4,

1147 
	`PAL_XY
(42, 162), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1148 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîFÀeR©e
(
iPœyîRﬁe
), 4,

1149 
	`PAL_XY
(42, 182), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1154 
i
 = 0; i < 
MAX_PLAYER_EQUIPMENTS
; i++)

1156 
w
 = 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
iPœyîRﬁe
];

1158 i‡(
w
 == 0)

1166 i‡(
	`PAL_MKFRódChunk
(
bufImage
, 16384,

1167 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
ôem
.
wBôm≠
, gpGlobÆs->
f
.
ÂBALL
) > 0)

1169 
	`PAL_RLEBlôToSurÁ˚
(
bufImage
, 
gpS¸ìn
,

1170 
	`PAL_XY
(
rgEquùPos
[
i
][0],ÑgEquipPos[i][1]));

1176 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
w
),

1177 
	`PAL_XY
(
rgEquùPos
[
i
][0] + 5,ÑgEquùPos[i][1] + 38), 
STATUS_COLOR_EQUIPMENT
, 
TRUE
, 
FALSE
);

1183 i‡(
	`PAL_MKFRódChunk
(
bufImage
, 16384,

1184 
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwAv©¨
[
iPœyîRﬁe
], gpGlobÆs->
f
.
ÂRGM
) > 0)

1186 
	`PAL_RLEBlôToSurÁ˚
(
bufImage
, 
gpS¸ìn
, 
	`PAL_XY
(110, 30));

1192 
y
 = 58;

1194 
i
 = 0; i < 
MAX_POISONS
; i++)

1196 
w
 = 
gpGlobÆs
->
rgPois⁄Sètus
[
i
][
iCuºít
].
wPois⁄ID
;

1198 i‡(
w
 != 0 &&

1199 
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wPois⁄Levñ
 <= 3)

1201 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
w
), 
	`PAL_XY
(185, 
y
),

1202 (
BYTE
)(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
pois⁄
.
wCﬁ‹
 + 10), 
TRUE
, 
FALSE
);

1204 
y
 += 18;

1211 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1216 
	`PAL_CÀ¨KeySèã
();

1218 
TRUE
)

1220 
	`UTIL_Dñay
(1);

1222 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1224 
iCuºít
 = -1;

1227 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyLe·
 | 
kKeyUp
))

1229 
iCuºít
--;

1232 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyRight
 | 
kKeyDown
 | 
kKeySórch
))

1234 
iCuºít
++;

1239 
	}
}

1241 
WORD


1242 
	$PAL_IãmU£Míu
(

1243 
WORD
 
wIãmToU£


1261 
BYTE
 
bCﬁ‹
, 
bSñe˘edCﬁ‹
;

1262 
PAL_LARGE
 
BYTE
 
bufImage
[2048];

1263 
DWORD
 
dwCﬁ‹Ch™geTime
;

1264 
WORD
 
wSñe˘edPœyî
 = 0;

1265 
SDL_Re˘
 
ª˘
 = {110, 2, 200, 180};

1266 
i
;

1268 
bSñe˘edCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_FIRST
;

1269 
dwCﬁ‹Ch™geTime
 = 0;

1271 
TRUE
)

1273 i‡(
wSñe˘edPœyî
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1275 
wSñe˘edPœyî
 = 0;

1281 
	`PAL_Cª©eBox
(
	`PAL_XY
(110, 2), 7, 9, 0, 
FALSE
);

1286 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_LEVEL
), 
	`PAL_XY
(200, 16),

1287 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1288 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_HP
), 
	`PAL_XY
(200, 34),

1289 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1290 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_MP
), 
	`PAL_XY
(200, 52),

1291 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1292 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_ATTACKPOWER
), 
	`PAL_XY
(200, 70),

1293 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1294 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_MAGICPOWER
), 
	`PAL_XY
(200, 88),

1295 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1296 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_RESISTANCE
), 
	`PAL_XY
(200, 106),

1297 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1298 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_DEXTERITY
), 
	`PAL_XY
(200, 124),

1299 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1300 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
STATUS_LABEL_FLEERATE
), 
	`PAL_XY
(200, 142),

1301 
ITEMUSEMENU_COLOR_STATLABEL
, 
TRUE
, 
FALSE
);

1303 
i
 = 
gpGlobÆs
->
rgP¨ty
[
wSñe˘edPœyî
].
wPœyîRﬁe
;

1305 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwLevñ
[
i
], 4, 
	`PAL_XY
(240, 20),

1306 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1308 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

1309 
	`PAL_XY
(263, 38));

1310 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxHP
[
i
], 4,

1311 
	`PAL_XY
(261, 40), 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

1312 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwHP
[
i
], 4,

1313 
	`PAL_XY
(240, 37), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1315 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_SLASH
), 
gpS¸ìn
,

1316 
	`PAL_XY
(263, 56));

1317 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMaxMP
[
i
], 4,

1318 
	`PAL_XY
(261, 58), 
kNumCﬁ‹Blue
, 
kNumAlignRight
);

1319 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwMP
[
i
], 4,

1320 
	`PAL_XY
(240, 55), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1322 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîAâackSåígth
(
i
), 4, 
	`PAL_XY
(240, 74),

1323 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1324 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîMagicSåígth
(
i
), 4, 
	`PAL_XY
(240, 92),

1325 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1326 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDe„n£
(
i
), 4, 
	`PAL_XY
(240, 110),

1327 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1328 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDexãrôy
(
i
), 4, 
	`PAL_XY
(240, 128),

1329 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1330 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîFÀeR©e
(
i
), 4, 
	`PAL_XY
(240, 146),

1331 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1336 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1338 i‡(
i
 =
wSñe˘edPœyî
)

1340 
bCﬁ‹
 = 
bSñe˘edCﬁ‹
;

1344 
bCﬁ‹
 = 
MENUITEM_COLOR
;

1347 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[gpGlobÆs->
rgP¨ty
[
i
].
wPœyîRﬁe
]),

1348 
	`PAL_XY
(125, 16 + 20 * 
i
), 
bCﬁ‹
, 
TRUE
, 
FALSE
);

1351 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_ITEMBOX
), 
gpS¸ìn
,

1352 
	`PAL_XY
(120, 80));

1354 
i
 = 
	`PAL_GëIãmAmou¡
(
wIãmToU£
);

1356 i‡(
i
 > 0)

1361 i‡(
	`PAL_MKFRódChunk
(
bufImage
, 2048,

1362 
gpGlobÆs
->
g
.
rgObje˘
[
wIãmToU£
].
ôem
.
wBôm≠
, gpGlobÆs->
f
.
ÂBALL
) > 0)

1364 
	`PAL_RLEBlôToSurÁ˚
(
bufImage
, 
gpS¸ìn
, 
	`PAL_XY
(127, 88));

1370 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
wIãmToU£
), 
	`PAL_XY
(116, 143), 
STATUS_COLOR_EQUIPMENT
,

1371 
TRUE
, 
FALSE
);

1372 
	`PAL_DøwNumbî
(
i
, 2, 
	`PAL_XY
(170, 133), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1378 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

1383 
	`PAL_CÀ¨KeySèã
();

1385 
TRUE
)

1390 i‡(
	`SDL_GëTicks
(Ë> 
dwCﬁ‹Ch™geTime
)

1392 i‡((
WORD
)
bSñe˘edCﬁ‹
 + 1 >=

1393 (
WORD
)
MENUITEM_COLOR_SELECTED_FIRST
 + 
MENUITEM_COLOR_SELECTED_TOTALNUM
)

1395 
bSñe˘edCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_FIRST
;

1399 
bSñe˘edCﬁ‹
++;

1402 
dwCﬁ‹Ch™geTime
 = 
	`SDL_GëTicks
(Ë+ (600 / 
MENUITEM_COLOR_SELECTED_TOTALNUM
);

1407 
	`PAL_DøwText
(

1408 
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[gpGlobÆs->
rgP¨ty
[
wSñe˘edPœyî
].
wPœyîRﬁe
]),

1409 
	`PAL_XY
(125, 16 + 20 * 
wSñe˘edPœyî
), 
bSñe˘edCﬁ‹
, 
FALSE
, 
TRUE
);

1412 
	`PAL_Pro˚ssEvít
();

1414 i‡(
g_I≈utSèã
.
dwKeyPªss
 != 0)

1419 
	`SDL_Dñay
(1);

1422 i‡(
i
 <= 0)

1424  
MENUITEM_VALUE_CANCELLED
;

1427 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyUp
 | 
kKeyLe·
))

1429 
wSñe˘edPœyî
--;

1431 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyDown
 | 
kKeyRight
))

1433 i‡(
wSñe˘edPœyî
 < 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1435 
wSñe˘edPœyî
++;

1438 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1442 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

1444  
gpGlobÆs
->
rgP¨ty
[
wSñe˘edPœyî
].
wPœyîRﬁe
;

1448  
MENUITEM_VALUE_CANCELLED
;

1449 
	}
}

1451 
VOID


1452 
	$PAL_BuyMíu_OnIãmCh™ge
(

1453 
WORD
 
wCuºítIãm


1472 c⁄° 
SDL_Re˘
 
ª˘
 = {20, 8, 128, 175};

1473 
i
, 
n
;

1474 
PAL_LARGE
 
BYTE
 
bufImage
[2048];

1479 
	`PAL_RLEBlôToSurÁ˚
(
	`PAL_S¥ôeGëFøme
(
gpS¥ôeUI
, 
SPRITENUM_ITEMBOX
), 
gpS¸ìn
,

1480 
	`PAL_XY
(35, 8));

1482 i‡(
	`PAL_MKFRódChunk
(
bufImage
, 2048,

1483 
gpGlobÆs
->
g
.
rgObje˘
[
wCuºítIãm
].
ôem
.
wBôm≠
, gpGlobÆs->
f
.
ÂBALL
) > 0)

1485 
	`PAL_RLEBlôToSurÁ˚
(
bufImage
, 
gpS¸ìn
, 
	`PAL_XY
(42, 16));

1491 
n
 = 0;

1493 
i
 = 0; i < 
MAX_INVENTORY
; i++)

1495 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
 == 0)

1499 i‡(
gpGlobÆs
->
rgInvít‹y
[
i
].
wIãm
 =
wCuºítIãm
)

1501 
n
 = 
gpGlobÆs
->
rgInvít‹y
[
i
].
nAmou¡
;

1509 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(20, 105), 5, 
FALSE
);

1510 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
BUYMENU_LABEL_CURRENT
), 
	`PAL_XY
(30, 115), 0, 
FALSE
, FALSE);

1511 
	`PAL_DøwNumbî
(
n
, 6, 
	`PAL_XY
(69, 119), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1516 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(20, 145), 5, 
FALSE
);

1517 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
CASH_LABEL
), 
	`PAL_XY
(30, 155), 0, 
FALSE
, FALSE);

1518 
	`PAL_DøwNumbî
(
gpGlobÆs
->
dwCash
, 6, 
	`PAL_XY
(69, 159), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1520 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

1521 
	}
}

1523 
VOID


1524 
	$PAL_BuyMíu
(

1525 
WORD
 
wSt‹eNum


1542 
MENUITEM
 
rgMíuIãm
[
MAX_STORE_ITEM
];

1543 
i
, 
y
;

1544 
WORD
 
w
;

1545 
SDL_Re˘
 
ª˘
 = {125, 8, 190, 190};

1550 
y
 = 22;

1552 
i
 = 0; i < 
MAX_STORE_ITEM
; i++)

1554 i‡(
gpGlobÆs
->
g
.
ÕrgSt‹e
[
wSt‹eNum
].
rgwIãms
[
i
] == 0)

1559 
rgMíuIãm
[
i
].
wVÆue
 = 
gpGlobÆs
->
g
.
ÕrgSt‹e
[
wSt‹eNum
].
rgwIãms
[i];

1560 
rgMíuIãm
[
i
].
wNumW‹d
 = 
gpGlobÆs
->
g
.
ÕrgSt‹e
[
wSt‹eNum
].
rgwIãms
[i];

1561 
rgMíuIãm
[
i
].
fE«bÀd
 = 
TRUE
;

1562 
rgMíuIãm
[
i
].
pos
 = 
	`PAL_XY
(150, 
y
);

1564 
y
 += 18;

1570 
	`PAL_Cª©eBox
(
	`PAL_XY
(125, 8), 8, 8, 1, 
FALSE
);

1575 
y
 = 0; y < 
i
; y++)

1577 
w
 = 
gpGlobÆs
->
g
.
rgObje˘
[
rgMíuIãm
[
y
].
wVÆue
].
ôem
.
wPri˚
;

1578 
	`PAL_DøwNumbî
(
w
, 6, 
	`PAL_XY
(235, 25 + 
y
 * 18), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1581 
	`VIDEO_Upd©eS¸ìn
(&
ª˘
);

1583 
w
 = 0;

1585 
TRUE
)

1587 
w
 = 
	`PAL_RódMíu
(
PAL_BuyMíu_OnIãmCh™ge
, 
rgMíuIãm
, 
i
, w, 
MENUITEM_COLOR
);

1589 i‡(
w
 =
MENUITEM_VALUE_CANCELLED
)

1594 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
w
].
ôem
.
wPri˚
 <gpGlobÆs->
dwCash
)

1596 i‡(
	`PAL_C⁄fúmMíu
())

1601 
gpGlobÆs
->
dwCash
 -gpGlobÆs->
g
.
rgObje˘
[
w
].
ôem
.
wPri˚
;

1602 
	`PAL_AddIãmToInvít‹y
(
w
, 1);

1609 
y
 = 0; y < 
i
; y++)

1611 i‡(
w
 =
rgMíuIãm
[
y
].
wVÆue
)

1613 
w
 = 
y
;

1618 
	}
}

1620 
VOID


1621 
	$PAL_SñlMíu_OnIãmCh™ge
(

1622 
WORD
 
wCuºítIãm


1644 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(100, 150), 5, 
FALSE
);

1645 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
CASH_LABEL
), 
	`PAL_XY
(110, 160), 0, 
FALSE
, FALSE);

1646 
	`PAL_DøwNumbî
(
gpGlobÆs
->
dwCash
, 6, 
	`PAL_XY
(149, 164), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1651 
	`PAL_Cª©eSögÀLöeBox
(
	`PAL_XY
(220, 150), 5, 
FALSE
);

1653 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wCuºítIãm
].
ôem
.
wFœgs
 & 
kIãmFœgSñœbÀ
)

1655 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
SELLMENU_LABEL_PRICE
), 
	`PAL_XY
(230, 160), 0, 
FALSE
, FALSE);

1656 
	`PAL_DøwNumbî
(
gpGlobÆs
->
g
.
rgObje˘
[
wCuºítIãm
].
ôem
.
wPri˚
 / 2, 6,

1657 
	`PAL_XY
(269, 164), 
kNumCﬁ‹Yñlow
, 
kNumAlignRight
);

1659 
	}
}

1661 
VOID


1662 
	$PAL_SñlMíu
(

1663 
VOID


1680 
WORD
 
w
;

1682 
TRUE
)

1684 
w
 = 
	`PAL_IãmSñe˘Míu
(
PAL_SñlMíu_OnIãmCh™ge
, 
kIãmFœgSñœbÀ
);

1685 i‡(
w
 == 0)

1690 i‡(
	`PAL_C⁄fúmMíu
())

1692 i‡(
	`PAL_AddIãmToInvít‹y
(
w
, -1))

1694 
gpGlobÆs
->
dwCash
 +gpGlobÆs->
g
.
rgObje˘
[
w
].
ôem
.
wPri˚
 / 2;

1698 
	}
}

1700 
VOID


1701 
	$PAL_EquùIãmMíu
(

1702 
WORD
 
wIãm


1719 
PAL_LARGE
 
BYTE
 
bufBackground
[320 * 200];

1720 
PAL_LARGE
 
BYTE
 
bufImage
[2048];

1721 
WORD
 
w
;

1722 
iCuºítPœyî
, 
i
;

1723 
BYTE
 
bCﬁ‹
, 
bSñe˘edCﬁ‹
;

1724 
DWORD
 
dwCﬁ‹Ch™geTime
;

1726 
gpGlobÆs
->
wLa°U√quù≥dIãm
 = 
wIãm
;

1728 
	`PAL_MKFDecom¥essChunk
(
bufBackground
, 320 * 200, 
EQUIPMENU_BACKGROUND_FBPNUM
,

1729 
gpGlobÆs
->
f
.
ÂFBP
);

1731 
iCuºítPœyî
 = 0;

1732 
bSñe˘edCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_FIRST
;

1733 
dwCﬁ‹Ch™geTime
 = 
	`SDL_GëTicks
(Ë+ (600 / 
MENUITEM_COLOR_SELECTED_TOTALNUM
);

1735 
TRUE
)

1737 
wIãm
 = 
gpGlobÆs
->
wLa°U√quù≥dIãm
;

1742 
	`PAL_FBPBlôToSurÁ˚
(
bufBackground
, 
gpS¸ìn
);

1747 i‡(
	`PAL_MKFRódChunk
(
bufImage
, 2048,

1748 
gpGlobÆs
->
g
.
rgObje˘
[
wIãm
].
ôem
.
wBôm≠
, gpGlobÆs->
f
.
ÂBALL
) > 0)

1750 
	`PAL_RLEBlôToSurÁ˚
(
bufImage
, 
gpS¸ìn
, 
	`PAL_XY
(16, 16));

1756 
w
 = 
gpGlobÆs
->
rgP¨ty
[
iCuºítPœyî
].
wPœyîRﬁe
;

1757 
i
 = 0; i < 
MAX_PLAYER_EQUIPMENTS
; i++)

1759 i‡(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
w
] != 0)

1761 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwEquùmít
[
i
][
w
]),

1762 
	`PAL_XY
(130, 11 + 
i
 * 22), 
MENUITEM_COLOR
, 
TRUE
, 
FALSE
);

1769 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîAâackSåígth
(
w
), 4, 
	`PAL_XY
(260, 14),

1770 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1771 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîMagicSåígth
(
w
), 4, 
	`PAL_XY
(260, 36),

1772 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1773 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDe„n£
(
w
), 4, 
	`PAL_XY
(260, 58),

1774 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1775 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîDexãrôy
(
w
), 4, 
	`PAL_XY
(260, 80),

1776 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1777 
	`PAL_DøwNumbî
(
	`PAL_GëPœyîFÀeR©e
(
w
), 4, 
	`PAL_XY
(260, 102),

1778 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1783 
	`PAL_Cª©eBox
(
	`PAL_XY
(2, 95), 
gpGlobÆs
->
wMaxP¨tyMembîIndex
, 2, 0, 
FALSE
);

1788 
i
 = 0; i <
gpGlobÆs
->
wMaxP¨tyMembîIndex
; i++)

1790 
w
 = 
gpGlobÆs
->
rgP¨ty
[
i
].
wPœyîRﬁe
;

1792 i‡(
iCuºítPœyî
 =
i
)

1794 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wIãm
].
ôem
.
wFœgs
 & (
kIãmFœgEquùabÀByPœyîRﬁe_Fú°
 << 
w
))

1796 
bCﬁ‹
 = 
bSñe˘edCﬁ‹
;

1800 
bCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_INACTIVE
;

1805 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wIãm
].
ôem
.
wFœgs
 & (
kIãmFœgEquùabÀByPœyîRﬁe_Fú°
 << 
w
))

1807 
bCﬁ‹
 = 
MENUITEM_COLOR
;

1811 
bCﬁ‹
 = 
MENUITEM_COLOR_INACTIVE
;

1815 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
w
]),

1816 
	`PAL_XY
(15, 108 + 18 * 
i
), 
bCﬁ‹
, 
TRUE
, 
FALSE
);

1822 i‡(
wIãm
 != 0)

1824 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
wIãm
), 
	`PAL_XY
(5, 70), 
MENUITEM_COLOR_CONFIRMED
, 
TRUE
, 
FALSE
);

1825 
	`PAL_DøwNumbî
(
	`PAL_GëIãmAmou¡
(
wIãm
), 2, 
	`PAL_XY
(65, 73), 
kNumCﬁ‹Cy™
, 
kNumAlignRight
);

1831 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1836 
	`PAL_CÀ¨KeySèã
();

1838 
TRUE
)

1840 
	`PAL_Pro˚ssEvít
();

1845 i‡(
	`SDL_GëTicks
(Ë> 
dwCﬁ‹Ch™geTime
)

1847 i‡((
WORD
)
bSñe˘edCﬁ‹
 + 1 >=

1848 (
WORD
)
MENUITEM_COLOR_SELECTED_FIRST
 + 
MENUITEM_COLOR_SELECTED_TOTALNUM
)

1850 
bSñe˘edCﬁ‹
 = 
MENUITEM_COLOR_SELECTED_FIRST
;

1854 
bSñe˘edCﬁ‹
++;

1857 
dwCﬁ‹Ch™geTime
 = 
	`SDL_GëTicks
(Ë+ (600 / 
MENUITEM_COLOR_SELECTED_TOTALNUM
);

1862 
w
 = 
gpGlobÆs
->
rgP¨ty
[
iCuºítPœyî
].
wPœyîRﬁe
;

1864 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wIãm
].
ôem
.
wFœgs
 & (
kIãmFœgEquùabÀByPœyîRﬁe_Fú°
 << 
w
))

1866 
	`PAL_DøwText
(
	`PAL_GëW‹d
(
gpGlobÆs
->
g
.
PœyîRﬁes
.
rgwName
[
w
]),

1867 
	`PAL_XY
(15, 108 + 18 * 
iCuºítPœyî
), 
bSñe˘edCﬁ‹
, 
TRUE
, TRUE);

1871 i‡(
g_I≈utSèã
.
dwKeyPªss
 != 0)

1876 
	`SDL_Dñay
(1);

1879 i‡(
wIãm
 == 0)

1884 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyUp
 | 
kKeyLe·
))

1886 
iCuºítPœyî
--;

1887 i‡(
iCuºítPœyî
 < 0)

1889 
iCuºítPœyî
 = 0;

1892 i‡(
g_I≈utSèã
.
dwKeyPªss
 & (
kKeyDown
 | 
kKeyRight
))

1894 
iCuºítPœyî
++;

1895 i‡(
iCuºítPœyî
 > 
gpGlobÆs
->
wMaxP¨tyMembîIndex
)

1897 
iCuºítPœyî
 = 
gpGlobÆs
->
wMaxP¨tyMembîIndex
;

1900 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeyMíu
)

1904 i‡(
g_I≈utSèã
.
dwKeyPªss
 & 
kKeySórch
)

1906 
w
 = 
gpGlobÆs
->
rgP¨ty
[
iCuºítPœyî
].
wPœyîRﬁe
;

1908 i‡(
gpGlobÆs
->
g
.
rgObje˘
[
wIãm
].
ôem
.
wFœgs
 & (
kIãmFœgEquùabÀByPœyîRﬁe_Fú°
 << 
w
))

1913 
gpGlobÆs
->
g
.
rgObje˘
[
wIãm
].
ôem
.
wS¸ùtOnEquù
 =

1914 
	`PAL_RunTriggîS¸ùt
(
gpGlobÆs
->
g
.
rgObje˘
[
wIãm
].
ôem
.
wS¸ùtOnEquù
,

1915 
gpGlobÆs
->
rgP¨ty
[
iCuºítPœyî
].
wPœyîRﬁe
);

1919 
	}
}

	@uigame.h

22 #i‚de‡
UIGAME_H


23 
	#UIGAME_H


	)

25 #ifde‡
__˝lu•lus


30 
	~"ui.h
"

32 
VOID


33 
PAL_DøwO≥nögMíuBackground
(

34 
VOID


37 
INT


38 
PAL_O≥nögMíu
(

39 
VOID


42 
INT


43 
PAL_SaveSlŸMíu
(

44 
WORD
 
wDeÁu…SlŸ


47 
BOOL


48 
PAL_C⁄fúmMíu
(

49 
VOID


52 
BOOL


53 
PAL_SwôchMíu
(

54 
BOOL
 
fE«bÀd


57 
VOID


58 
PAL_InGameMagicMíu
(

59 
VOID


62 
VOID


63 
PAL_InGameMíu
(

64 
VOID


67 
VOID


68 
PAL_PœyîSètus
(

69 
VOID


72 
WORD


73 
PAL_IãmU£Míu
(

74 
WORD
 
wIãmToU£


77 
VOID


78 
PAL_BuyMíu
(

79 
WORD
 
wSt‹eNum


82 
VOID


83 
PAL_SñlMíu
(

84 
VOID


87 
VOID


88 
PAL_EquùIãmMíu
(

89 
WORD
 
wIãm


92 #ifde‡
__˝lu•lus


	@util.c

25 
	~"utû.h
"

26 
	~"öput.h
"

28 #ifde‡
PAL_HAS_NATIVEMIDI


29 
	~"midi.h
"

32 #i‡
SDL_VERSION_ATLEAST
(2, 0, 0)

33 
	~"SDL_video.h
"

34 
	~"SDL_mesßgebox.h
"

38 
	$åim
(

39 *
°r


56 
pos
 = 0;

57 *
de°
 = 
°r
;

62 
°r
[
pos
] <= ' ' && str[pos] > 0)

63 
pos
++;

65 
°r
[
pos
])

67 *(
de°
++Ë
°r
[
pos
];

68 
pos
++;

71 *(
de°
--) = '\0';

76 
de°
 >
°r
 && *dest <= ' ' && *dest > 0)

77 *(
de°
--) = '\0';

78 
	}
}

81 
	$va
(

82 c⁄° *
f‹m©
,

101 
°rög
[256];

102 
va_li°
 
¨g±r
;

104 
	`va_°¨t
(
¨g±r
, 
f‹m©
);

105 
	`v¢¥ötf
(
°rög
, 256, 
f‹m©
, 
¨g±r
);

106 
	`va_íd
(
¨g±r
);

108  
°rög
;

109 
	}
}

152 
	gglSìd
 = 0;

155 
	$l§™d
(

156 
iInôülSìd


177 
glSìd
 = 1664525L * 
iInôülSìd
 + 1013904223L;

178 
	}
}

181 
	$Ã™d
(

201 i‡(
glSìd
 == 0)

202 
	`l§™d
(()
	`time
(
NULL
));

203 
glSìd
 = 1664525L * glSeed + 1013904223L;

204  ((
glSìd
 >> 1) + 1073741824L);

205 
	}
}

208 
	$R™domL⁄g
(

209 
‰om
,

210 
to


230 i‡(
to
 <
‰om
)

231  
‰om
;

233  
‰om
 + 
	`Ã™d
(Ë/ (
INT_MAX
 / (
to
 - from + 1));

234 
	}
}

237 
	$R™domFlﬂt
(

238 
‰om
,

239 
to


259 i‡(
to
 <
‰om
)

260  
‰om
;

262  
‰om
 + ()
	`Ã™d
(Ë/ (
INT_MAX
 / (
to
 - from));

263 
	}
}

266 
	$UTIL_Dñay
(

267 
ms


270 
t
 = 
	`SDL_GëTicks
(Ë+ 
ms
;

272 
	`PAL_PﬁlEvít
(
NULL
));

274 
	`SDL_GëTicks
(Ë< 
t
)

276 
	`SDL_Dñay
(1);

277 
	`PAL_PﬁlEvít
(
NULL
));

280 #ifde‡
PAL_HAS_NATIVEMIDI


281 
	`MIDI_CheckLo›
();

283 
	}
}

286 
	$Tîmö©eOnEº‹
(

287 c⁄° *
fmt
,

294 
va_li°
 
¨g±r
;

295 
°rög
[256];

296 
VOID
 
	`PAL_Shutdown
(VOID);

299 
	`va_°¨t
(
¨g±r
, 
fmt
);

300 
	`v¢¥ötf
(
°rög
, (°rög), 
fmt
, 
¨g±r
);

301 
	`va_íd
(
¨g±r
);

303 
	`Ârötf
(
°dîr
, "\nFATAL ERROR: %s\n", 
°rög
);

305 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

307 
SDL_Wödow
 *
gpWödow
;

308 
	`SDL_ShowSim∂eMesßgeBox
(0, "FATAL ERROR", 
°rög
, 
gpWödow
);

312 #ifde‡
_WIN32


313 
	`MesßgeBoxA
(0, 
°rög
, "FATAL ERROR", 
MB_ICONERROR
);

316 #ifde‡
__löux__


317 
	`sy°em
(
	`va
("bìp; xmesßgê-˚¡î \"FATAL ERROR: %s\"", 
°rög
));

320 #i‡
	`deföed
(
__SYMBIAN32__
)

321 
	`UTIL_WrôeLog
(
LOG_DEBUG
,"[0x%08x][%s][%s] - %s",()
Tîmö©eOnEº‹
,"Tîmö©eOnEº‹",
__FILE__
, 
°rög
);

322 
	`SDL_Dñay
(3000);

327 #ifde‡
_DEBUG


328 
	`as£π
(!"TerminateOnError()");

332 
	`PAL_Shutdown
();

334 #i‡
	`deföed
 (
NDS
)

337 
	`exô
(255);

339 
	}
}

342 
	$UTIL_mÆloc
(

343 
size_t
 
buf„r_size


348 *
buf„r
;

351 i‡(
buf„r_size
 == 0)

352 
	`Tîmö©eOnEº‹
("UTIL_mÆloc(ËˇŒed wôh invÆid buf„∏size: %d\n", 
buf„r_size
);

354 
buf„r
 = 
	`mÆloc
(
buf„r_size
);

357 i‡(
buf„r
 =
NULL
)

358 
	`Tîmö©eOnEº‹
("UTIL_mÆloc(ËÁûuª f‹ %d byã†(ouào‡mem‹y?)\n", 
buf„r_size
);

360  
buf„r
;

361 
	}
}

364 
	$UTIL_ˇŒoc
(

365 
size_t
 
n
,

366 
size_t
 
size


371 *
buf„r
;

374 i‡(
n
 =0 || 
size
 == 0)

375 
	`Tîmö©eOnEº‹
 ("UTIL_calloc() called with invalidÖarameters\n");

377 
buf„r
 = 
	`ˇŒoc
(
n
, 
size
);

380 i‡(
buf„r
 =
NULL
)

381 
	`Tîmö©eOnEº‹
("UTIL_ˇŒoc(ËÁûuª f‹ %d byã†(ouào‡mem‹y?)\n", 
size
 * 
n
);

383  
buf„r
;

384 
	}
}

386 
FILE
 *

387 
	$UTIL_O≥nRequúedFûe
(

388 
LPCSTR
 
ÕszFûeName


405 
FILE
 *
Â
;

407 
Â
 = 
	`f›í
(
	`va
("%s%s", 
PAL_PREFIX
, 
ÕszFûeName
), "rb");

409 #i‚de‡
_WIN32


410 i‡(
Â
 =
NULL
)

415 *
pBuf
 = 
	`°rdup
(
ÕszFûeName
);

416 *
p
 = 
pBuf
;

417 *
p
)

419 i‡(*
p
 >= 'a' && *p <= 'z')

421 *
p
 -= 'a' - 'A';

423 
p
++;

426 
Â
 = 
	`f›í
(
	`va
("%s%s", 
PAL_PREFIX
, 
pBuf
), "rb");

427 
	`‰ì
(
pBuf
);

431 i‡(
Â
 =
NULL
)

433 
	`Tîmö©eOnEº‹
("FûênŸ found: %s!\n", 
ÕszFûeName
);

436  
Â
;

437 
	}
}

439 
FILE
 *

440 
	$UTIL_O≥nFûe
(

441 
LPCSTR
 
ÕszFûeName


458 
FILE
 *
Â
;

460 
Â
 = 
	`f›í
(
	`va
("%s%s", 
PAL_PREFIX
, 
ÕszFûeName
), "rb");

462 #i‚de‡
_WIN32


463 i‡(
Â
 =
NULL
)

468 *
pBuf
 = 
	`°rdup
(
ÕszFûeName
);

469 *
p
 = 
pBuf
;

470 *
p
)

472 i‡(*
p
 >= 'a' && *p <= 'z')

474 *
p
 -= 'a' - 'A';

476 
p
++;

479 
Â
 = 
	`f›í
(
	`va
("%s%s", 
PAL_PREFIX
, 
pBuf
), "rb");

480 
	`‰ì
(
pBuf
);

484  
Â
;

485 
	}
}

487 
VOID


488 
	$UTIL_Clo£Fûe
(

489 
FILE
 *
Â


506 i‡(
Â
 !
NULL
)

508 
	`f˛o£
(
Â
);

510 
	}
}

512 #ifde‡
ENABLE_LOG


514 
FILE
 *
	gpLogFûe
 = 
NULL
;

516 
FILE
 *

517 
	$UTIL_O≥nLog
(

518 
VOID


521 i‡((
pLogFûe
 = 
	`f›í
(
_PATH_LOG
, "a+")Ë=
NULL
)

523  
NULL
;

526  
pLogFûe
;

527 
	}
}

529 
VOID


530 
	$UTIL_Clo£Log
(

531 
VOID


534 i‡(
pLogFûe
 !
NULL
)

536 
	`f˛o£
(
pLogFûe
);

538 
	}
}

540 
VOID


541 
	$UTIL_WrôeLog
(

542 
Pri‹ôy
,

543 c⁄° *
Fmt
,

547 
va_li°
 
vØ
;

548 
time_t
 
lTime
;

549 
tm
 *
curTime
;

550 
szD©eBuf
[260];

552 
	`time
(&
lTime
);

554 i‡((
Pri‹ôy
 < 
LOG_EMERG
Ë|| (Pri‹ôy >
LOG_LAST_PRIORITY
))

559 
curTime
 = 
	`loˇ…ime
(&
lTime
);

560 
	`°r·ime
(
szD©eBuf
, 128, "%Y-%m-%d %H:%M:%S", 
curTime
);

561 
szD©eBuf
[
	`°æí
(szDateBuf) - 1] = '\0';

563 
	`va_°¨t
(
vØ
,
Fmt
);

565 
	`Ârötf
(
pLogFûe
, "[%s]", 
szD©eBuf
);

566 
	`vÂrötf
(
pLogFûe
, 
Fmt
, 
vØ
);

567 
	`Ârötf
(
pLogFûe
, "\n");

568 
	`fÊush
(
pLogFûe
);

570 
	`va_íd
(
vØ
);

571 
	}
}

	@util.h

23 #i‚de‡
UTIL_H


24 
	#UTIL_H


	)

26 
	~"comm⁄.h
"

30 #ifde‡
__˝lu•lus


36 
åim
(

37 *
°r


40 *
va
(

41 c⁄° *
f‹m©
,

46 
R™domL⁄g
(

47 
‰om
,

48 
to


52 
R™domFlﬂt
(

53 
‰om
,

54 
to


58 
UTIL_Dñay
(

59 
ms


63 
Tîmö©eOnEº‹
(

64 c⁄° *
fmt
,

69 
UTIL_mÆloc
(

70 
size_t
 
buf„r_size


74 
UTIL_ˇŒoc
(

75 
size_t
 
n
,

76 
size_t
 
size


79 
FILE
 *

80 
UTIL_O≥nRequúedFûe
(

81 
LPCSTR
 
ÕszFûeName


84 
FILE
 *

85 
UTIL_O≥nFûe
(

86 
LPCSTR
 
ÕszFûeName


89 
VOID


90 
UTIL_Clo£Fûe
(

91 
FILE
 *
Â


94 #ifde‡
__IOS__


96 
LPCSTR


97 
UTIL_IOS_Ba£P©h
(

98 
VOID


101 
LPCSTR


102 
UTIL_IOS_SaveP©h
(

103 
VOID


108 
	#_PATH_LOG
 
PAL_PREFIX
 "log.txt"

	)

109 
	#LOG_EMERG
 0

	)

110 
	#LOG_ALERT
 1

	)

111 
	#LOG_CRIT
 2

	)

112 
	#LOG_ERR
 3

	)

113 
	#LOG_WARNING
 4

	)

114 
	#LOG_NOTICE
 5

	)

115 
	#LOG_INFO
 6

	)

116 
	#LOG_DEBUG
 7

	)

117 
	#LOG_LAST_PRIORITY
 8

	)

119 #ifde‡
ENABLE_LOG


121 
FILE
 *

122 
UTIL_O≥nLog
(

123 
VOID


126 
VOID


127 
UTIL_Clo£Log
(

128 
VOID


131 
VOID


132 
UTIL_WrôeLog
(

133 
Pri‹ôy
,

134 c⁄° *
Fmt
,

140 
	#UTIL_O≥nLog
(Ë(()(0))

	)

141 
	#UTIL_Clo£Log
(Ë(()(0))

	)

142 #ifde‡
_MSC_VER


143 
__f‹˚ölöe
 
VOID
 
UTIL_WrôeLog
(
i
, c⁄° *
p
, ...) {}

145 
	#UTIL_WrôeLog
(...Ë(()(0))

	)

150 #ifde‡
__˝lu•lus


	@video.c

22 
	~"maö.h
"

25 
SDL_SurÁ˚
 *
	ggpS¸ìn
 = 
NULL
;

28 
SDL_SurÁ˚
 *
	ggpS¸ìnBak
 = 
NULL
;

30 #i‡
SDL_VERSION_ATLEAST
(2,0,0)

31 
SDL_Wödow
 *
	ggpWödow
 = 
NULL
;

32 
SDL_Rídîî
 *
	ggpRídîî
 = 
NULL
;

33 
SDL_Textuª
 *
	ggpTextuª
 = 
NULL
;

34 
SDL_Textuª
 *
	ggpTouchOvîœy
 = 
NULL
;

35 #ifde‡
__WINPHONE__


36 
SDL_Textuª
 *
	ggpBackKeyMesßge
 = 
NULL
;

41 
SDL_SurÁ˚
 *
	ggpS¸ìnRól
 = 
NULL
;

43 vﬁ©ûê
BOOL
 
	gg_bRídîPau£d
 = 
FALSE
;

45 #i‡(
deföed
 (
__SYMBIAN32__
Ë&& !deföed (
__S60_5X__
)Ë|| deföed (
PSP
Ë|| deföed (
GEKKO
Ë|| deföed(
__N3DS__
)

46 
BOOL
 
	gbSˇÀS¸ìn
 = 
FALSE
;

48 
BOOL
 
	gbSˇÀS¸ìn
 = 
TRUE
;

52 
WORD
 
	gg_wInôülWidth
 = 640;

53 
WORD
 
	gg_wInôülHeight
 = 400;

56 
WORD
 
	gg_wShakeTime
 = 0;

57 
WORD
 
	gg_wShakeLevñ
 = 0;

59 #i‡
SDL_VERSION_ATLEAST
(2, 0, 0)

60 
	#SDL_So·Såëch
 
SDL_UµîBlô


	)

63 
	gINT


64 #ifde‡
GEKKO


65 
VIDEO_Inô_GEKKO
(

67 
VIDEO_Inô
(

69 
WORD
 
wS¸ìnWidth
,

70 
WORD
 
wS¸ìnHeight
,

71 
BOOL
 
fFuŒS¸ìn


93 #i‡
SDL_VERSION_ATLEAST
(2,0,0)

94 
SDL_SurÁ˚
 *
ovîœy
;

97 
g_wInôülWidth
 = 
wS¸ìnWidth
;

98 
g_wInôülHeight
 = 
wS¸ìnHeight
;

100 #i‡
SDL_VERSION_ATLEAST
(2,0,0)

104 #i‡
deföed
 (
__IOS__
Ë|| deföed (
__ANDROID__
Ë|| deföed (
__WINPHONE__
)

105 
gpWödow
 = 
SDL_Cª©eWödow
("Pal",

106 
SDL_WINDOWPOS_UNDEFINED
, SDL_WINDOWPOS_UNDEFINED, 
wS¸ìnWidth
, 
wS¸ìnHeight
,

107 
SDL_WINDOW_SHOWN
);

109 
gpWödow
 = 
SDL_Cª©eWödow
("Pal",

110 
SDL_WINDOWPOS_UNDEFINED
, SDL_WINDOWPOS_UNDEFINED, 
wS¸ìnWidth
, 
wS¸ìnHeight
,

111 
SDL_WINDOW_SHOWN
 | 
SDL_WINDOW_RESIZABLE
);

114 i‡(
gpWödow
 =
NULL
)

119 
gpRídîî
 = 
SDL_Cª©eRídîî
(
gpWödow
, -1, 
SDL_RENDERER_ACCELERATED
);

121 i‡(
gpRídîî
 =
NULL
)

126 #i‡
deföed
 (
__IOS__
)

127 
SDL_GL_SëAâribuã
(
SDL_GL_DEPTH_SIZE
, 0);

128 
SDL_GL_SëAâribuã
(
SDL_GL_RETAINED_BACKING
, 1);

134 
gpS¸ìn
 = 
SDL_Cª©eRGBSurÁ˚
(
SDL_SWSURFACE
, 320, 200, 8, 0, 0, 0, 0);

135 
gpS¸ìnBak
 = 
SDL_Cª©eRGBSurÁ˚
(
SDL_SWSURFACE
, 320, 200, 8, 0, 0, 0, 0);

136 
gpS¸ìnRól
 = 
SDL_Cª©eRGBSurÁ˚
(
SDL_SWSURFACE
, 320, 200, 32,

142 
gpTextuª
 = 
SDL_Cª©eTextuª
(
gpRídîî
, 
SDL_PIXELFORMAT_ARGB8888
,

143 
SDL_TEXTUREACCESS_STREAMING
, 320, 200);

148 i‡(
gpS¸ìn
 =
NULL
 || 
gpS¸ìnBak
 =NULL || 
gpS¸ìnRól
 =NULL || 
gpTextuª
 == NULL)

150 i‡(
gpS¸ìn
 !
NULL
)

152 
SDL_FªeSurÁ˚
(
gpS¸ìn
);

153 
gpS¸ìn
 = 
NULL
;

156 i‡(
gpS¸ìnBak
 !
NULL
)

158 
SDL_FªeSurÁ˚
(
gpS¸ìnBak
);

159 
gpS¸ìnBak
 = 
NULL
;

162 i‡(
gpS¸ìnRól
 !
NULL
)

164 
SDL_FªeSurÁ˚
(
gpS¸ìnRól
);

165 
gpS¸ìnRól
 = 
NULL
;

168 i‡(
gpTextuª
 !
NULL
)

170 
SDL_De°royTextuª
(
gpTextuª
);

171 
gpTextuª
 = 
NULL
;

174 
SDL_De°royRídîî
(
gpRídîî
);

175 
gpRídîî
 = 
NULL
;

177 
SDL_De°royWödow
(
gpWödow
);

178 
gpWödow
 = 
NULL
;

186 
ovîœy
 = 
SDL_LﬂdBMP
(
va
("%s%s", 
PAL_PREFIX
, "overlay.bmp"));

187 i‡(
ovîœy
 !
NULL
)

189 
SDL_SëCﬁ‹Key
(
ovîœy
, 
SDL_RLEACCEL
, 
SDL_M≠RGB
(ovîœy->
f‹m©
, 255, 0, 255));

190 
gpTouchOvîœy
 = 
SDL_Cª©eTextuªFromSurÁ˚
(
gpRídîî
, 
ovîœy
);

191 
SDL_SëTextuªAÕhaMod
(
gpTouchOvîœy
, 120);

192 
SDL_FªeSurÁ˚
(
ovîœy
);

195 #ifde‡
__WINPHONE__


201 #ifde‡
PAL_WIN95


202 
BOOL
 
fIsBig5
;

204 
SDL_Cﬁ‹
 
∑Àâe
[256] = { 0 };

205 
SDL_SurÁ˚
 *
p
;

206 #ifde‡
PAL_WIN95


207 
fIsBig5
 = 
TRUE
;

209 
∑Àâe
[0].
r
 =ÖÆëã[0].
g
 =ÖÆëã[0].
b
 =ÖÆëã[0].
a
 = 0;

210 
∑Àâe
[1].
r
 =ÖÆëã[1].
g
 =ÖÆëã[1].
b
 =ÖÆëã[1].
a
 = 255;

211 
SDL_FûlRe˘
(
gpS¸ìnBak
, 
NULL
, 0);

212 
VIDEO_SëPÆëã
(
∑Àâe
);

213 
p
 = 
gpS¸ìn
;

214 
gpS¸ìn
 = 
gpS¸ìnBak
;

215 
PAL_DøwText
("\xA6\x41\xA6\xB8\xAB\xF6 Back \xB5\xB2\xA7\xF4", 
PAL_XY
(30, 30), 1, 
FALSE
, FALSE);

216 
gpS¸ìn
 = 
p
;

217 
gpBackKeyMesßge
 = 
SDL_Cª©eTextuªFromSurÁ˚
(
gpRídîî
, 
gpS¸ìnBak
);

218 
SDL_FûlRe˘
(
gpS¸ìnBak
, 
NULL
, 0);

219 #ifde‡
PAL_WIN95


220 
fIsBig5
 = 
FALSE
;

230 #i‡
deföed
 (
NDS
)

231 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(293, 196, 8, 
SDL_SWSURFACE
 | 
SDL_FULLSCREEN
);

232 #ñi‡
deföed
 (
__SYMBIAN32__
)

233 #ifde‡
__S60_5X__


234 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(640, 360, 8,

235 
SDL_SWSURFACE
 | (
fFuŒS¸ìn
 ? 
SDL_FULLSCREEN
 : 0));

237 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(320, 240, 8,

238 
SDL_SWSURFACE
 | (
fFuŒS¸ìn
 ? 
SDL_FULLSCREEN
 : 0));

240 #ñi‡
deföed
 (
GEKKO
)

241 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(640, 480, 8,

242 
SDL_SWSURFACE
 | (
fFuŒS¸ìn
 ? 
SDL_FULLSCREEN
 : 0));

243 #ñi‡
deföed
 (
PSP
)

244 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(320, 240, 8, 
SDL_SWSURFACE
 | 
SDL_FULLSCREEN
);

245 #ñi‡
deföed
 (
__N3DS__
)

246 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(320, 240, 8, 
SDL_SWSURFACE
 | 
SDL_TOPSCR
 |

247 
SDL_CONSOLEBOTTOM
);

249 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(
wS¸ìnWidth
, 
wS¸ìnHeight
, 8,

250 
SDL_HWSURFACE
 | 
SDL_RESIZABLE
 | (
fFuŒS¸ìn
 ? 
SDL_FULLSCREEN
 : 0));

253 i‡(
gpS¸ìnRól
 =
NULL
)

258 
gpS¸ìnRól
 = 
SDL_SëVideoMode
(640, 480, 8,

259 
SDL_SWSURFACE
 | (
fFuŒS¸ìn
 ? 
SDL_FULLSCREEN
 : 0));

265 i‡(
gpS¸ìnRól
 =
NULL
)

273 
gpS¸ìn
 = 
SDL_Cª©eRGBSurÁ˚
(
gpS¸ìnRól
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

274 
gpS¸ìnRól
->
f‹m©
->
Rmask
, gpS¸ìnRól->f‹m©->
Gmask
,

275 
gpS¸ìnRól
->
f‹m©
->
Bmask
, gpS¸ìnRól->f‹m©->
Amask
);

277 
gpS¸ìnBak
 = 
SDL_Cª©eRGBSurÁ˚
(
gpS¸ìnRól
->
Êags
 & ~
SDL_HWSURFACE
, 320, 200, 8,

278 
gpS¸ìnRól
->
f‹m©
->
Rmask
, gpS¸ìnRól->f‹m©->
Gmask
,

279 
gpS¸ìnRól
->
f‹m©
->
Bmask
, gpS¸ìnRól->f‹m©->
Amask
);

284 i‡(
gpS¸ìn
 =
NULL
 || 
gpS¸ìnBak
 == NULL)

286 i‡(
gpS¸ìn
 !
NULL
)

288 
SDL_FªeSurÁ˚
(
gpS¸ìn
);

289 
gpS¸ìn
 = 
NULL
;

292 i‡(
gpS¸ìnBak
 !
NULL
)

294 
SDL_FªeSurÁ˚
(
gpS¸ìnBak
);

295 
gpS¸ìnBak
 = 
NULL
;

298 
SDL_FªeSurÁ˚
(
gpS¸ìnRól
);

299 
gpS¸ìnRól
 = 
NULL
;

306 i‡(
fFuŒS¸ìn
)

308 
SDL_ShowCurs‹
(
FALSE
);

311 
SDL_ShowCurs‹
(
FALSE
);

315 
VOID


316 
	$VIDEO_Shutdown
(

317 
VOID


334 i‡(
gpS¸ìn
 !
NULL
)

336 
	`SDL_FªeSurÁ˚
(
gpS¸ìn
);

338 
gpS¸ìn
 = 
NULL
;

340 i‡(
gpS¸ìnBak
 !
NULL
)

342 
	`SDL_FªeSurÁ˚
(
gpS¸ìnBak
);

344 
gpS¸ìnBak
 = 
NULL
;

346 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

348 i‡(
gpTouchOvîœy
)

350 
	`SDL_De°royTextuª
(
gpTouchOvîœy
);

352 
gpTouchOvîœy
 = 
NULL
;

354 #ifde‡
__WINPHONE__


355 i‡(
gpBackKeyMesßge
)

357 
	`SDL_De°royTextuª
(
gpBackKeyMesßge
);

359 
gpBackKeyMesßge
 = 
NULL
;

362 i‡(
gpTextuª
)

364 
	`SDL_De°royTextuª
(
gpTextuª
);

366 
gpTextuª
 = 
NULL
;

368 i‡(
gpRídîî
)

370 
	`SDL_De°royRídîî
(
gpRídîî
);

372 
gpRídîî
 = 
NULL
;

374 i‡(
gpWödow
)

376 
	`SDL_De°royWödow
(
gpWödow
);

378 
gpWödow
 = 
NULL
;

382 i‡(
gpS¸ìnRól
 !
NULL
)

384 
	`SDL_FªeSurÁ˚
(
gpS¸ìnRól
);

386 
gpS¸ìnRól
 = 
NULL
;

387 
	}
}

389 
VOID


390 
	$VIDEO_Upd©eS¸ìn
(

391 c⁄° 
SDL_Re˘
 *
ÕRe˘


408 
SDL_Re˘
 
§¸e˘
, 
d°ª˘
;

409 
off£t
 = 240 - 200;

410 
s¸ìnRólHeight
 = 
gpS¸ìnRól
->
h
;

411 
s¸ìnRólY
 = 0;

413 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

414 i‡(
g_bRídîPau£d
)

423 i‡(
	`SDL_MUSTLOCK
(
gpS¸ìnRól
))

425 i‡(
	`SDL_LockSurÁ˚
(
gpS¸ìnRól
) < 0)

429 i‡(!
bSˇÀS¸ìn
)

431 
s¸ìnRólHeight
 -
off£t
;

432 
s¸ìnRólY
 = 
off£t
 / 2;

435 i‡(
ÕRe˘
 !
NULL
)

437 
d°ª˘
.
x
 = (
SHORT
)((
INT
)(
ÕRe˘
->xË* 
gpS¸ìnRól
->
w
 / 
gpS¸ìn
->w);

438 
d°ª˘
.
y
 = (
SHORT
)((
INT
)(
s¸ìnRólY
 + 
ÕRe˘
->yË* 
s¸ìnRólHeight
 / 
gpS¸ìn
->
h
);

439 
d°ª˘
.
w
 = (
WORD
)((
DWORD
)(
ÕRe˘
->wË* 
gpS¸ìnRól
->w / 
gpS¸ìn
->w);

440 
d°ª˘
.
h
 = (
WORD
)((
DWORD
)(
ÕRe˘
->hË* 
s¸ìnRólHeight
 / 
gpS¸ìn
->h);

442 
	`SDL_So·Såëch
(
gpS¸ìn
, (
SDL_Re˘
 *)
ÕRe˘
, 
gpS¸ìnRól
, &
d°ª˘
);

444 i‡(
	`SDL_MUSTLOCK
(
gpS¸ìnRól
))

446 
	`SDL_U∆ockSurÁ˚
(
gpS¸ìnRól
);

449 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

450 
	`SDL_Upd©eTextuª
(
gpTextuª
, 
NULL
, 
gpS¸ìnRól
->
pixñs
, gpS¸ìnRól->
pôch
);

451 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTextuª
, 
NULL
, NULL);

452 i‡(
gpTouchOvîœy
)

454 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTouchOvîœy
, 
NULL
, NULL);

456 #ifde‡
__WINPHONE__


457 i‡(
gpBackKeyMesßge
)

459 
g_uiLa°BackKeyTime
;

460 i‡(
g_uiLa°BackKeyTime
 !0 && 
	`SDL_GëTicks
() - g_uiLastBackKeyTime < 800)

462 
	`SDL_RídîC›y
(
gpRídîî
, 
gpBackKeyMesßge
, 
NULL
, NULL);

466 
	`SDL_RídîPª£¡
(
gpRídîî
);

468 
	`SDL_Upd©eRe˘
(
gpS¸ìnRól
, 
d°ª˘
.
x
, d°ª˘.
y
, d°ª˘.
w
, d°ª˘.
h
);

471 i‡(
g_wShakeTime
 != 0)

476 
§¸e˘
.
x
 = 0;

477 
§¸e˘
.
y
 = 0;

478 
§¸e˘
.
w
 = 320;

479 
§¸e˘
.
h
 = 200 - 
g_wShakeLevñ
;

481 
d°ª˘
.
x
 = 0;

482 
d°ª˘
.
y
 = 
s¸ìnRólY
;

483 
d°ª˘
.
w
 = 320 * 
gpS¸ìnRól
->w / 
gpS¸ìn
->w;

484 
d°ª˘
.
h
 = (200 - 
g_wShakeLevñ
Ë* 
s¸ìnRólHeight
 / 
gpS¸ìn
->h;

486 i‡(
g_wShakeTime
 & 1)

488 
§¸e˘
.
y
 = 
g_wShakeLevñ
;

492 
d°ª˘
.
y
 = (
s¸ìnRólY
 + 
g_wShakeLevñ
Ë* 
s¸ìnRólHeight
 / 
gpS¸ìn
->
h
;

495 
	`SDL_So·Såëch
(
gpS¸ìn
, &
§¸e˘
, 
gpS¸ìnRól
, &
d°ª˘
);

497 i‡(
g_wShakeTime
 & 1)

499 
d°ª˘
.
y
 = (
s¸ìnRólY
 + 
s¸ìnRólHeight
 - 
g_wShakeLevñ
Ë* s¸ìnRólHeighà/ 
gpS¸ìn
->
h
;

503 
d°ª˘
.
y
 = 
s¸ìnRólY
;

506 
d°ª˘
.
h
 = 
g_wShakeLevñ
 * 
s¸ìnRólHeight
 / 
gpS¸ìn
->h;

508 
	`SDL_FûlRe˘
(
gpS¸ìnRól
, &
d°ª˘
, 0);

510 i‡(
	`SDL_MUSTLOCK
(
gpS¸ìnRól
))

512 
	`SDL_U∆ockSurÁ˚
(
gpS¸ìnRól
);

515 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

516 
	`SDL_Upd©eTextuª
(
gpTextuª
, 
NULL
, 
gpS¸ìnRól
->
pixñs
, gpS¸ìnRól->
pôch
);

517 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTextuª
, 
NULL
, NULL);

518 i‡(
gpTouchOvîœy
)

520 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTouchOvîœy
, 
NULL
, NULL);

522 #ifde‡
__WINPHONE__


523 i‡(
gpBackKeyMesßge
)

525 
g_uiLa°BackKeyTime
;

526 i‡(
g_uiLa°BackKeyTime
 !0 && 
	`SDL_GëTicks
() - g_uiLastBackKeyTime < 800)

528 
	`SDL_RídîC›y
(
gpRídîî
, 
gpBackKeyMesßge
, 
NULL
, NULL);

532 
	`SDL_RídîPª£¡
(
gpRídîî
);

534 
	`SDL_Upd©eRe˘
(
gpS¸ìnRól
, 0, 0, gpS¸ìnRól->
w
, gpS¸ìnRól->
h
);

536 
g_wShakeTime
--;

540 
d°ª˘
.
x
 = 0;

541 
d°ª˘
.
y
 = 
s¸ìnRólY
;

542 
d°ª˘
.
w
 = 
gpS¸ìnRól
->w;

543 
d°ª˘
.
h
 = 
s¸ìnRólHeight
;

545 
	`SDL_So·Såëch
(
gpS¸ìn
, 
NULL
, 
gpS¸ìnRól
, &
d°ª˘
);

547 i‡(
	`SDL_MUSTLOCK
(
gpS¸ìnRól
))

549 
	`SDL_U∆ockSurÁ˚
(
gpS¸ìnRól
);

552 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

553 
	`SDL_Upd©eTextuª
(
gpTextuª
, 
NULL
, 
gpS¸ìnRól
->
pixñs
, gpS¸ìnRól->
pôch
);

554 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTextuª
, 
NULL
, NULL);

555 i‡(
gpTouchOvîœy
)

557 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTouchOvîœy
, 
NULL
, NULL);

559 #ifde‡
__WINPHONE__


560 i‡(
gpBackKeyMesßge
)

562 
g_uiLa°BackKeyTime
;

563 i‡(
g_uiLa°BackKeyTime
 !0 && 
	`SDL_GëTicks
() - g_uiLastBackKeyTime < 800)

565 
	`SDL_RídîC›y
(
gpRídîî
, 
gpBackKeyMesßge
, 
NULL
, NULL);

569 
	`SDL_RídîPª£¡
(
gpRídîî
);

571 
	`SDL_Upd©eRe˘
(
gpS¸ìnRól
, 0, 0, gpS¸ìnRól->
w
, gpS¸ìnRól->
h
);

574 
	}
}

576 
VOID


577 
	$VIDEO_SëPÆëã
(

578 
SDL_Cﬁ‹
 
rgPÆëã
[256]

595 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

596 
i
;

597 
SDL_PÆëã
 *
∑Àâe
 = 
	`SDL_AŒocPÆëã
(256);

599 i‡(
∑Àâe
 =
NULL
)

604 
i
 = 0; i < 256; i++)

606 
∑Àâe
->
cﬁ‹s
[
i
] = 
rgPÆëã
[i];

609 
	`SDL_SëSurÁ˚PÆëã
(
gpS¸ìn
, 
∑Àâe
);

610 
	`SDL_SëSurÁ˚PÆëã
(
gpS¸ìnBak
, 
∑Àâe
);

616 
	`SDL_SëSurÁ˚Cﬁ‹Mod
(
gpS¸ìn
, 0, 0, 0);

617 
	`SDL_SëSurÁ˚Cﬁ‹Mod
(
gpS¸ìn
, 0xFF, 0xFF, 0xFF);

618 
	`SDL_SëSurÁ˚Cﬁ‹Mod
(
gpS¸ìnBak
, 0, 0, 0);

619 
	`SDL_SëSurÁ˚Cﬁ‹Mod
(
gpS¸ìnBak
, 0xFF, 0xFF, 0xFF);

621 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

624 
	`SDL_FªePÆëã
(
∑Àâe
);

626 
	`SDL_SëPÆëã
(
gpS¸ìn
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
rgPÆëã
, 0, 256);

627 
	`SDL_SëPÆëã
(
gpS¸ìnBak
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
rgPÆëã
, 0, 256);

628 
	`SDL_SëPÆëã
(
gpS¸ìnRól
, 
SDL_LOGPAL
 | 
SDL_PHYSPAL
, 
rgPÆëã
, 0, 256);

629 #i‡(
	`deföed
 (
__SYMBIAN32__
)Ë|| (deföed (
__N3DS__
))

631 
UINT32
 
time
 = 0;

632 i‡(
	`SDL_GëTicks
(Ë- 
time
 > 50)

634 
	`SDL_Upd©eRe˘
(
gpS¸ìnRól
, 0, 0, gpS¸ìnRól->
w
, gpS¸ìnRól->
h
);

635 
time
 = 
	`SDL_GëTicks
();

640 
	}
}

642 
VOID


643 
	$VIDEO_Resize
(

644 
INT
 
w
,

645 
INT
 
h


664 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

667 
DWORD
 
Êags
;

668 
PAL_LARGE
 
SDL_Cﬁ‹
 
∑Àâe
[256];

669 
i
;

674 
i
 = 0; i < 
gpS¸ìnRól
->
f‹m©
->
∑Àâe
->
ncﬁ‹s
; i++)

676 
∑Àâe
[
i
] = 
gpS¸ìnRól
->
f‹m©
->∑Àâe->
cﬁ‹s
[i];

682 
Êags
 = 
gpS¸ìnRól
->flags;

684 
	`SDL_FªeSurÁ˚
(
gpS¸ìnRól
);

685 
gpS¸ìnRól
 = 
	`SDL_SëVideoMode
(
w
, 
h
, 8, 
Êags
);

687 i‡(
gpS¸ìnRól
 =
NULL
)

689 #ifde‡
__SYMBIAN32__


690 #ifde‡
__S60_5X__


691 
gpS¸ìnRól
 = 
	`SDL_SëVideoMode
(640, 360, 8, 
SDL_SWSURFACE
);

693 
gpS¸ìnRól
 = 
	`SDL_SëVideoMode
(320, 240, 8, 
SDL_SWSURFACE
);

699 
gpS¸ìnRól
 = 
	`SDL_SëVideoMode
(640, 480, 8, 
SDL_SWSURFACE
);

703 
	`SDL_SëPÆëã
(
gpS¸ìnRól
, 
SDL_PHYSPAL
 | 
SDL_LOGPAL
, 
∑Àâe
, 0, 
i
);

704 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

706 
	}
}

708 
SDL_Cﬁ‹
 *

709 
	$VIDEO_GëPÆëã
(

710 
VOID


727 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

728  
gpS¸ìn
->
f‹m©
->
∑Àâe
->
cﬁ‹s
;

730  
gpS¸ìnRól
->
f‹m©
->
∑Àâe
->
cﬁ‹s
;

732 
	}
}

734 
VOID


735 
	$VIDEO_ToggÀSˇÀS¸ìn
(

736 
VOID


753 #ifde‡
__SYMBIAN32__


754 
bSˇÀS¸ìn
 = !bScaleScreen;

755 
	`VIDEO_Resize
(320, 240);

756 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

758 
	}
}

760 
VOID


761 
	$VIDEO_ToggÀFuŒs¸ìn
(

762 
VOID


779 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

782 
DWORD
 
Êags
;

783 
PAL_LARGE
 
SDL_Cﬁ‹
 
∑Àâe
[256];

784 
i
;

789 
i
 = 0; i < 
gpS¸ìnRól
->
f‹m©
->
∑Àâe
->
ncﬁ‹s
; i++)

791 
∑Àâe
[
i
] = 
gpS¸ìnRól
->
f‹m©
->∑Àâe->
cﬁ‹s
[i];

797 
Êags
 = 
gpS¸ìnRól
->flags;

799 i‡(
Êags
 & 
SDL_FULLSCREEN
)

804 
Êags
 &~
SDL_FULLSCREEN
;

805 
Êags
 |
SDL_RESIZABLE
;

806 
	`SDL_ShowCurs‹
(
TRUE
);

813 
Êags
 |
SDL_FULLSCREEN
;

814 
	`SDL_ShowCurs‹
(
FALSE
);

820 
	`SDL_FªeSurÁ˚
(
gpS¸ìnRól
);

825 i‡(
g_wInôülWidth
 =640 && 
g_wInôülHeight
 =400 && (
Êags
 & 
SDL_FULLSCREEN
))

827 
gpS¸ìnRól
 = 
	`SDL_SëVideoMode
(640, 480, 8, 
Êags
);

829 i‡(
g_wInôülWidth
 =640 && 
g_wInôülHeight
 =480 && !(
Êags
 & 
SDL_FULLSCREEN
))

831 
gpS¸ìnRól
 = 
	`SDL_SëVideoMode
(640, 400, 8, 
Êags
);

835 
gpS¸ìnRól
 = 
	`SDL_SëVideoMode
(
g_wInôülWidth
, 
g_wInôülHeight
, 8, 
Êags
);

838 
	`VIDEO_SëPÆëã
(
∑Àâe
);

843 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

845 
	}
}

847 
VOID


848 
	$VIDEO_SaveS¸ìnshŸ
(

849 
VOID


866 
iNumBMP
 = 0;

867 
FILE
 *
Â
;

872 
iNumBMP
 = 0; iNumBMP <= 9999; iNumBMP++)

874 
Â
 = 
	`f›í
(
	`va
("%ss¸n%.4d.bmp", 
PAL_PREFIX
, 
iNumBMP
), "rb");

875 i‡(
Â
 =
NULL
)

879 
	`f˛o£
(
Â
);

882 i‡(
iNumBMP
 > 9999)

890 #i‡
	`SDL_VERSION_ATLEAST
(2,0,0)

891 
	`SDL_SaveBMP
(
gpS¸ìn
, 
	`va
("%ss¸n%.4d.bmp", 
PAL_PREFIX
, 
iNumBMP
));

893 
	`SDL_SaveBMP
(
gpS¸ìnRól
, 
	`va
("%ss¸n%.4d.bmp", 
PAL_PREFIX
, 
iNumBMP
));

895 
	}
}

897 
VOID


898 
	$VIDEO_BackupS¸ìn
(

899 
VOID


916 
	`SDL_BlôSurÁ˚
(
gpS¸ìn
, 
NULL
, 
gpS¸ìnBak
, NULL);

917 
	}
}

919 
VOID


920 
	$VIDEO_Re°‹eS¸ìn
(

921 
VOID


938 
	`SDL_BlôSurÁ˚
(
gpS¸ìnBak
, 
NULL
, 
gpS¸ìn
, NULL);

939 
	}
}

941 
VOID


942 
	$VIDEO_ShakeS¸ìn
(

943 
WORD
 
wShakeTime
,

944 
WORD
 
wShakeLevñ


963 
g_wShakeTime
 = 
wShakeTime
;

964 
g_wShakeLevñ
 = 
wShakeLevñ
;

965 
	}
}

967 
VOID


968 
	$VIDEO_SwôchS¸ìn
(

969 
WORD
 
wS≥ed


987 
i
, 
j
;

988 c⁄° 
rgIndex
[6] = {0, 3, 1, 5, 2, 4};

989 
SDL_Re˘
 
d°ª˘
;

991 
off£t
 = 240 - 200;

992 
s¸ìnRólHeight
 = 
gpS¸ìnRól
->
h
;

993 
s¸ìnRólY
 = 0;

995 i‡(!
bSˇÀS¸ìn
)

997 
s¸ìnRólHeight
 -
off£t
;

998 
s¸ìnRólY
 = 
off£t
 / 2;

1001 
wS≥ed
++;

1002 
wS≥ed
 *= 10;

1004 
i
 = 0; i < 6; i++)

1006 
j
 = 
rgIndex
[
i
]; j < 
gpS¸ìn
->
pôch
 * gpS¸ìn->
h
; j += 6)

1008 ((
LPBYTE
)(
gpS¸ìnBak
->
pixñs
))[
j
] = ((LPBYTE)(
gpS¸ìn
->pixels))[j];

1014 
d°ª˘
.
x
 = 0;

1015 
d°ª˘
.
y
 = 
s¸ìnRólY
;

1016 
d°ª˘
.
w
 = 
gpS¸ìnRól
->w;

1017 
d°ª˘
.
h
 = 
s¸ìnRólHeight
;

1019 
	`SDL_So·Såëch
(
gpS¸ìnBak
, 
NULL
, 
gpS¸ìnRól
, &
d°ª˘
);

1020 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

1021 
	`SDL_Upd©eTextuª
(
gpTextuª
, 
NULL
, 
gpS¸ìnRól
->
pixñs
, gpS¸ìnRól->
pôch
);

1022 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTextuª
, 
NULL
, NULL);

1023 i‡(
gpTouchOvîœy
)

1025 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTouchOvîœy
, 
NULL
, NULL);

1027 #ifde‡
__WINPHONE__


1028 i‡(
gpBackKeyMesßge
)

1030 
g_uiLa°BackKeyTime
;

1031 i‡(
g_uiLa°BackKeyTime
 !0 && 
	`SDL_GëTicks
() - g_uiLastBackKeyTime < 800)

1033 
	`SDL_RídîC›y
(
gpRídîî
, 
gpBackKeyMesßge
, 
NULL
, NULL);

1037 
	`SDL_RídîPª£¡
(
gpRídîî
);

1039 
	`SDL_Upd©eRe˘
(
gpS¸ìnRól
, 0, 0, gpS¸ìnRól->
w
, gpS¸ìnRól->
h
);

1041 
	`UTIL_Dñay
(
wS≥ed
);

1043 
	}
}

1045 
VOID


1046 
	$VIDEO_FadeS¸ìn
(

1047 
WORD
 
wS≥ed


1065 
i
, 
j
, 
k
;

1066 
DWORD
 
time
;

1067 
BYTE
 
a
, 
b
;

1068 c⁄° 
rgIndex
[6] = {0, 3, 1, 5, 2, 4};

1069 
SDL_Re˘
 
d°ª˘
;

1070 
off£t
 = 240 - 200;

1071 
s¸ìnRólHeight
 = 
gpS¸ìnRól
->
h
;

1072 
s¸ìnRólY
 = 0;

1077 i‡(
	`SDL_MUSTLOCK
(
gpS¸ìnRól
))

1079 i‡(
	`SDL_LockSurÁ˚
(
gpS¸ìnRól
) < 0)

1083 i‡(!
bSˇÀS¸ìn
)

1085 
s¸ìnRólHeight
 -
off£t
;

1086 
s¸ìnRólY
 = 
off£t
 / 2;

1089 
time
 = 
	`SDL_GëTicks
();

1091 
wS≥ed
++;

1092 
wS≥ed
 *= 10;

1094 
i
 = 0; i < 12; i++)

1096 
j
 = 0; j < 6; j++)

1098 
	`PAL_Pro˚ssEvít
();

1099 
	`SDL_GëTicks
(Ë<
time
)

1101 
	`PAL_Pro˚ssEvít
();

1102 
	`SDL_Dñay
(5);

1104 
time
 = 
	`SDL_GëTicks
(Ë+ 
wS≥ed
;

1110 
k
 = 
rgIndex
[
j
]; k < 
gpS¸ìn
->
pôch
 * gpS¸ìn->
h
; k += 6)

1112 
a
 = ((
LPBYTE
)(
gpS¸ìn
->
pixñs
))[
k
];

1113 
b
 = ((
LPBYTE
)(
gpS¸ìnBak
->
pixñs
))[
k
];

1115 i‡(
i
 > 0)

1117 i‡((
a
 & 0x0FË> (
b
 & 0x0F))

1119 
b
++;

1121 i‡((
a
 & 0x0FË< (
b
 & 0x0F))

1123 
b
--;

1127 ((
LPBYTE
)(
gpS¸ìnBak
->
pixñs
))[
k
] = ((
a
 & 0xF0Ë| (
b
 & 0x0F));

1133 i‡(
g_wShakeTime
 != 0)

1138 
SDL_Re˘
 
§¸e˘
, 
d°ª˘
;

1140 
§¸e˘
.
x
 = 0;

1141 
§¸e˘
.
y
 = 0;

1142 
§¸e˘
.
w
 = 320;

1143 
§¸e˘
.
h
 = 200 - 
g_wShakeLevñ
;

1145 
d°ª˘
.
x
 = 0;

1146 
d°ª˘
.
y
 = 
s¸ìnRólY
;

1147 
d°ª˘
.
w
 = 320 * 
gpS¸ìnRól
->w / 
gpS¸ìn
->w;

1148 
d°ª˘
.
h
 = (200 - 
g_wShakeLevñ
Ë* 
s¸ìnRólHeight
 / 
gpS¸ìn
->h;

1150 i‡(
g_wShakeTime
 & 1)

1152 
§¸e˘
.
y
 = 
g_wShakeLevñ
;

1156 
d°ª˘
.
y
 = (
s¸ìnRólY
 + 
g_wShakeLevñ
Ë* 
s¸ìnRólHeight
 / 
gpS¸ìn
->
h
;

1159 
	`SDL_So·Såëch
(
gpS¸ìnBak
, &
§¸e˘
, 
gpS¸ìnRól
, &
d°ª˘
);

1161 i‡(
g_wShakeTime
 & 1)

1163 
d°ª˘
.
y
 = (
s¸ìnRólY
 + 
s¸ìnRólHeight
 - 
g_wShakeLevñ
Ë* s¸ìnRólHeighà/ 
gpS¸ìn
->
h
;

1167 
d°ª˘
.
y
 = 
s¸ìnRólY
;

1170 
d°ª˘
.
h
 = 
g_wShakeLevñ
 * 
s¸ìnRólHeight
 / 
gpS¸ìn
->h;

1172 
	`SDL_FûlRe˘
(
gpS¸ìnRól
, &
d°ª˘
, 0);

1173 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

1174 
	`SDL_Upd©eTextuª
(
gpTextuª
, 
NULL
, 
gpS¸ìnRól
->
pixñs
, gpS¸ìnRól->
pôch
);

1175 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTextuª
, 
NULL
, NULL);

1176 i‡(
gpTouchOvîœy
)

1178 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTouchOvîœy
, 
NULL
, NULL);

1180 #ifde‡
__WINPHONE__


1181 i‡(
gpBackKeyMesßge
)

1183 
g_uiLa°BackKeyTime
;

1184 i‡(
g_uiLa°BackKeyTime
 !0 && 
	`SDL_GëTicks
() - g_uiLastBackKeyTime < 800)

1186 
	`SDL_RídîC›y
(
gpRídîî
, 
gpBackKeyMesßge
, 
NULL
, NULL);

1190 
	`SDL_RídîPª£¡
(
gpRídîî
);

1192 
	`SDL_Upd©eRe˘
(
gpS¸ìnRól
, 0, 0, gpS¸ìnRól->
w
, gpS¸ìnRól->
h
);

1194 
g_wShakeTime
--;

1198 
d°ª˘
.
x
 = 0;

1199 
d°ª˘
.
y
 = 
s¸ìnRólY
;

1200 
d°ª˘
.
w
 = 
gpS¸ìnRól
->w;

1201 
d°ª˘
.
h
 = 
s¸ìnRólHeight
;

1203 
	`SDL_So·Såëch
(
gpS¸ìnBak
, 
NULL
, 
gpS¸ìnRól
, &
d°ª˘
);

1204 #i‡
	`SDL_VERSION_ATLEAST
(2, 0, 0)

1205 
	`SDL_Upd©eTextuª
(
gpTextuª
, 
NULL
, 
gpS¸ìnRól
->
pixñs
, gpS¸ìnRól->
pôch
);

1206 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTextuª
, 
NULL
, NULL);

1207 i‡(
gpTouchOvîœy
)

1209 
	`SDL_RídîC›y
(
gpRídîî
, 
gpTouchOvîœy
, 
NULL
, NULL);

1211 #ifde‡
__WINPHONE__


1212 i‡(
gpBackKeyMesßge
)

1214 
g_uiLa°BackKeyTime
;

1215 i‡(
g_uiLa°BackKeyTime
 !0 && 
	`SDL_GëTicks
() - g_uiLastBackKeyTime < 800)

1217 
	`SDL_RídîC›y
(
gpRídîî
, 
gpBackKeyMesßge
, 
NULL
, NULL);

1221 
	`SDL_RídîPª£¡
(
gpRídîî
);

1223 
	`SDL_Upd©eRe˘
(
gpS¸ìnRól
, 0, 0, gpS¸ìnRól->
w
, gpS¸ìnRól->
h
);

1229 i‡(
	`SDL_MUSTLOCK
(
gpS¸ìnRól
))

1231 
	`SDL_U∆ockSurÁ˚
(
gpS¸ìnRól
);

1237 
	`VIDEO_Upd©eS¸ìn
(
NULL
);

1238 
	}
}

1240 #i‡
SDL_VERSION_ATLEAST
(2,0,0)

1258 
VOID


1259 
	$SDL_WM_SëC≠ti⁄
(

1260 
LPCSTR
 
ÕszC≠ti⁄
,

1261 
LPVOID
 
ÕRe£rved


1264 i‡(
gpWödow
 !
NULL
)

1266 
	`SDL_SëWödowTôÀ
(
gpWödow
, 
ÕszC≠ti⁄
);

1268 
	}
}

	@video.h

22 #i‚de‡
VIDEO_H


23 
	#VIDEO_H


	)

25 #ifde‡
__˝lu•lus


30 
	~"comm⁄.h
"

32 
SDL_SurÁ˚
 *
gpS¸ìn
;

33 
SDL_SurÁ˚
 *
gpS¸ìnBak
;

34 vﬁ©ûê
BOOL
 
g_bRídîPau£d
;

36 
	gINT


37 #ifde‡
GEKKO


38 
VIDEO_Inô_GEKKO
(

40 
VIDEO_Inô
(

42 
WORD
 
wS¸ìnWidth
,

43 
WORD
 
wS¸ìnHeight
,

44 
BOOL
 
fFuŒS¸ìn


47 
VOID


48 
VIDEO_Shutdown
(

49 
VOID


52 
VOID


53 
VIDEO_Upd©eS¸ìn
(

54 c⁄° 
SDL_Re˘
 *
ÕRe˘


57 
VOID


58 
VIDEO_SëPÆëã
(

59 
SDL_Cﬁ‹
 
rgPÆëã
[256]

62 
VOID


63 
VIDEO_Resize
(

64 
INT
 
w
,

65 
INT
 
h


68 
SDL_Cﬁ‹
 *

69 
VIDEO_GëPÆëã
(

70 
VOID


73 
VOID


74 
VIDEO_ToggÀFuŒs¸ìn
(

75 
VOID


78 
VOID


79 
VIDEO_SaveS¸ìnshŸ
(

80 
VOID


83 
VOID


84 
VIDEO_BackupS¸ìn
(

85 
VOID


88 
VOID


89 
VIDEO_Re°‹eS¸ìn
(

90 
VOID


93 
VOID


94 
VIDEO_ShakeS¸ìn
(

95 
WORD
 
wShakeTime
,

96 
WORD
 
wShakeLevñ


99 
VOID


100 
VIDEO_SwôchS¸ìn
(

101 
WORD
 
wS≥ed


104 
VOID


105 
VIDEO_FadeS¸ìn
(

106 
WORD
 
wS≥ed


109 #i‡
SDL_VERSION_ATLEAST
(2,0,0)

113 
VOID


114 
SDL_WM_SëC≠ti⁄
(

115 
LPCSTR
 
ÕszC≠ti⁄
,

116 
LPVOID
 
ÕRe£rved


120 #ifde‡
__˝lu•lus


	@yj1.c

30 
	~"comm⁄.h
"

32 #i‚de‡
PAL_WIN95


34 
	s_TªeNode


36 
	mvÆue
;

37 
	mÀaf
;

38 
	mÀvñ
;

39 
	mweight
;

41 
_TªeNode
 *
	m∑ª¡
;

42 
_TªeNode
 *
	mÀ·
;

43 
_TªeNode
 *
	mright
;

44 } 
	tTªeNode
;

46 
	s_TªeNodeLi°


48 
TªeNode
 *
	mnode
;

49 
_TªeNodeLi°
 *
	m√xt
;

50 } 
	tTªeNodeLi°
;

52 
	s_YJ_1_FILEHEADER


54 
	mSig«tuª
;

55 
	mUncom¥es£dLígth
;

56 
	mCom¥es£dLígth
;

57 
	mBlockCou¡
;

58 
	mUnknown
;

59 
	mHuffm™TªeLígth
;

60 } 
	tYJ_1_FILEHEADER
, *
	tPYJ_1_FILEHEADER
;

62 
	s_YJ_1_BLOCKHEADER


64 
	mUncom¥es£dLígth
;

65 
	mCom¥es£dLígth
;

66 
	mLZSSRïótTabÀ
[4];

67 
	mLZSSOff£tCodeLígthTabÀ
[4];

68 
	mLZSSRïótCodeLígthTabÀ
[3];

69 
	mCodeCou¡CodeLígthTabÀ
[3];

70 
	mCodeCou¡TabÀ
[2];

71 } 
	tYJ_1_BLOCKHEADER
, *
	tPYJ_1_BLOCKHEADER
;

74 
	$gë_bôs
(

75 c⁄° *
§c
,

76 *
bô±r
,

77 
cou¡


80 *
ãmp
 = ((*)
§c
Ë+ ((*
bô±r
 >> 4) << 1);

81 
b±r
 = *
bô±r
 & 0xf;

82 
mask
;

83 *
bô±r
 +
cou¡
;

84 i‡(
cou¡
 > 16 - 
b±r
)

86 
cou¡
 = cou¡ + 
b±r
 - 16;

87 
mask
 = 0xfff‡>> 
b±r
;

88  (((
ãmp
[0] | (ãmp[1] << 8)Ë& 
mask
Ë<< 
cou¡
) | ((temp[2] | (temp[3] << 8)) >> (16 - count));

91  ((()((
ãmp
[0] | (ãmp[1] << 8)Ë<< 
b±r
)Ë>> (16 - 
cou¡
));

92 
	}
}

95 
	$gë_lo›
(

96 c⁄° *
§c
,

97 *
bô±r
,

98 
PYJ_1_BLOCKHEADER
 
hódî


101 i‡(
	`gë_bôs
(
§c
, 
bô±r
, 1))

102  
hódî
->
CodeCou¡TabÀ
[0];

105 
ãmp
 = 
	`gë_bôs
(
§c
, 
bô±r
, 2);

106 i‡(
ãmp
)

107  
	`gë_bôs
(
§c
, 
bô±r
, 
hódî
->
CodeCou¡CodeLígthTabÀ
[
ãmp
 - 1]);

109  
hódî
->
CodeCou¡TabÀ
[1];

111 
	}
}

114 
	$gë_cou¡
(

115 c⁄° *
§c
,

116 *
bô±r
,

117 
PYJ_1_BLOCKHEADER
 
hódî


120 
ãmp
;

121 i‡((
ãmp
 = 
	`gë_bôs
(
§c
, 
bô±r
, 2)) != 0)

123 i‡(
	`gë_bôs
(
§c
, 
bô±r
, 1))

124  
	`gë_bôs
(
§c
, 
bô±r
, 
hódî
->
LZSSRïótCodeLígthTabÀ
[
ãmp
 - 1]);

126  
	`SWAP16
(
hódî
->
LZSSRïótTabÀ
[
ãmp
]);

129  
	`SWAP16
(
hódî
->
LZSSRïótTabÀ
[0]);

130 
	}
}

132 
INT


133 
	$Decom¥ess
(

134 
LPCVOID
 
Sour˚
,

135 
LPVOID
 
De°ö©i⁄
,

136 
INT
 
De°Size


139 
PYJ_1_FILEHEADER
 
hdr
 = (PYJ_1_FILEHEADER)
Sour˚
;

140 *
§c
 = (*)
Sour˚
;

141 *
de°
;

142 
i
;

143 
TªeNode
 *
roŸ
, *
node
;

145 i‡(
Sour˚
 =
NULL
)

147 i‡(
	`SWAP32
(
hdr
->
Sig«tuª
) != 0x315f4a59)

149 i‡(
	`SWAP32
(
hdr
->
Uncom¥es£dLígth
Ë> ()
De°Size
)

154 
åì_Àn
 = (()
hdr
->
Huffm™TªeLígth
) * 2;

155 
bô±r
 = 0;

156 *
Êag
 = (*)
§c
 + 16 + 
åì_Àn
;

158 i‡((
node
 = 
roŸ
 = (
TªeNode
 *)
	`mÆloc
((TªeNodeË* (
åì_Àn
 + 1))Ë=
NULL
)

160 
roŸ
[0].
Àaf
 = 0;

161 
roŸ
[0].
vÆue
 = 0;

162 
roŸ
[0].
À·
 =Ñoot + 1;

163 
roŸ
[0].
right
 =Ñoot + 2;

164 
i
 = 1; i <
åì_Àn
; i++)

166 
roŸ
[
i
].
Àaf
 = !
	`gë_bôs
(
Êag
, &
bô±r
, 1);

167 
roŸ
[
i
].
vÆue
 = 
§c
[15 + i];

168 i‡(
roŸ
[
i
].
Àaf
)

169 
roŸ
[
i
].
À·
 =ÑoŸ[i].
right
 = 
NULL
;

172 
roŸ
[
i
].
À·
 =ÑoŸ + (roŸ[i].
vÆue
 << 1) + 1;

173 
roŸ
[
i
].
right
 =ÑoŸ[i].
À·
 + 1;

176 
§c
 +16 + 
åì_Àn
 + (((tree_len & 0xf) ? (tree_len >> 4) + 1 : (tree_len >> 4)) << 1);

179 
de°
 = (*)
De°ö©i⁄
;

181 
i
 = 0; i < 
	`SWAP16
(
hdr
->
BlockCou¡
); i++)

183 
bô±r
;

184 
PYJ_1_BLOCKHEADER
 
hódî
;

186 
hódî
 = (
PYJ_1_BLOCKHEADER
)
§c
;

187 
§c
 += 4;

188 i‡(!
	`SWAP16
(
hódî
->
Com¥es£dLígth
))

190 
hul
 = 
	`SWAP16
(
hódî
->
Uncom¥es£dLígth
);

191 
hul
--)

193 *
de°
++ = *
§c
++;

197 
§c
 += 20;

198 
bô±r
 = 0;

201 
lo›
;

202 i‡((
lo›
 = 
	`gë_lo›
(
§c
, &
bô±r
, 
hódî
)) == 0)

205 
lo›
--)

207 
node
 = 
roŸ
;

208 ; !
node
->
Àaf
;)

210 i‡(
	`gë_bôs
(
§c
, &
bô±r
, 1))

211 
node
 =Çode->
right
;

213 
node
 =Çode->
À·
;

215 *
de°
++ = 
node
->
vÆue
;

218 i‡((
lo›
 = 
	`gë_lo›
(
§c
, &
bô±r
, 
hódî
)) == 0)

221 
lo›
--)

223 
pos
, 
cou¡
;

224 
cou¡
 = 
	`gë_cou¡
(
§c
, &
bô±r
, 
hódî
);

225 
pos
 = 
	`gë_bôs
(
§c
, &
bô±r
, 2);

226 
pos
 = 
	`gë_bôs
(
§c
, &
bô±r
, 
hódî
->
LZSSOff£tCodeLígthTabÀ
[pos]);

227 
cou¡
--)

229 *
de°
 = *(de° - 
pos
);

230 
de°
++;

234 
§c
 = ((*)
hódî
Ë+ 
	`SWAP16
(hódî->
Com¥es£dLígth
);

236 
	`‰ì
(
roŸ
);

238  
	`SWAP32
(
hdr
->
Uncom¥es£dLígth
);

239 
	}
}

243 
	s_TªeNode


245 
	mweight
;

246 
	mvÆue
;

247 
_TªeNode
* 
	m∑ª¡
;

248 
_TªeNode
* 
	mÀ·
;

249 
_TªeNode
* 
	mright
;

250 } 
	tTªeNode
;

252 
	s_Tªe


254 
TªeNode
* 
	mnode
;

255 
TªeNode
** 
	mli°
;

256 } 
	tTªe
;

258 
	gd©a1
[0x100] =

277 
	gd©a2
[0x10] =

282 
	$adju°_åì
(
Tªe
 
åì
, 
vÆue
)

284 
TªeNode
* 
node
 = 
åì
.
li°
[
vÆue
];

285 
TªeNode
 
tmp
;

286 
TªeNode
* 
tmp1
;

287 
TªeNode
* 
ãmp
;

288 
node
->
vÆue
 != 0x280)

290 
ãmp
 = 
node
 + 1;

291 
node
->
weight
 =
ãmp
->weight)

292 
ãmp
++;

293 
ãmp
--;

294 i‡(
ãmp
 !
node
)

296 
tmp1
 = 
node
->
∑ª¡
;

297 
node
->
∑ª¡
 = 
ãmp
->parent;

298 
ãmp
->
∑ª¡
 = 
tmp1
;

299 i‡(
node
->
vÆue
 > 0x140)

301 
node
->
À·
->
∑ª¡
 = 
ãmp
;

302 
node
->
right
->
∑ª¡
 = 
ãmp
;

305 
åì
.
li°
[
node
->
vÆue
] = 
ãmp
;

306 i‡(
ãmp
->
vÆue
 > 0x140)

308 
ãmp
->
À·
->
∑ª¡
 = 
node
;

309 
ãmp
->
right
->
∑ª¡
 = 
node
;

312 
åì
.
li°
[
ãmp
->
vÆue
] = 
node
;

313 
tmp
 = *
node
; *nodê*
ãmp
; *temp =Åmp;

314 
node
 = 
ãmp
;

316 
node
->
weight
++;

317 
node
 =Çode->
∑ª¡
;

319 
node
->
weight
++;

320 
	}
}

322 
	$buûd_åì
(
Tªe
 *
åì
)

324 
i
, 
±r
;

325 
TªeNode
** 
li°
;

326 
TªeNode
* 
node
;

327 i‡((
åì
->
li°
 =Üi° = (
TªeNode
 **)
	`mÆloc
((TªeNode*Ë* 321)Ë=
NULL
)

329 i‡((
åì
->
node
 =Çodê(
TªeNode
 *)
	`mÆloc
((TªeNodeË* 641)Ë=
NULL
)

331 
	`‰ì
(
li°
);

334 
	`mem£t
(
li°
, 0, 321 * (
TªeNode
*));

335 
	`mem£t
(
node
, 0, 641 * (
TªeNode
));

336 
i
 = 0; i <= 0x140; i++)

337 
li°
[
i
] = 
node
 + i;

338 
i
 = 0; i <= 0x280; i++)

340 
node
[
i
].
vÆue
 = i;

341 
node
[
i
].
weight
 = 1;

343 
åì
->
node
[0x280].
∑ª¡
 =Åree->node + 0x280;

344 
i
 = 0, 
±r
 = 0x141;Ötr <= 0x280; i += 2,Ötr++)

346 
node
[
±r
].
À·
 =Çodê+ 
i
;

347 
node
[
±r
].
right
 =Çodê+ 
i
 + 1;

348 
node
[
i
].
∑ª¡
 =Çode[ò+ 1].∑ª¡ =Çodê+ 
±r
;

349 
node
[
±r
].
weight
 =Çode[
i
].weight +Çode[i + 1].weight;

352 
	}
}

354 #¥agm®
∑ck
(1)

355 
	s_BôFõld


357 
	mb0
: 1;

358 
	mb1
: 1;

359 
	mb2
: 1;

360 
	mb3
: 1;

361 
	mb4
: 1;

362 
	mb5
: 1;

363 
	mb6
: 1;

364 
	mb7
: 1;

365 } 
	tBôFõld
;

366 #¥agm®
∑ck
()

368 
	$bt
(c⁄° * 
d©a
, 
pos
)

370 
BôFõld
* 
bô
 = (BôFõld*)((*)
d©a
 + (
pos
 >> 3));

371 
pos
 & 0x7)

373 0:  
bô
->
b0
;

374 1:  
bô
->
b1
;

375 2:  
bô
->
b2
;

376 3:  
bô
->
b3
;

377 4:  
bô
->
b4
;

378 5:  
bô
->
b5
;

379 6:  
bô
->
b6
;

380 7:  
bô
->
b7
;

383 
	}
}

385 
	$bô
(* 
d©a
, 
pos
, 
£t
)

387 
BôFõld
* 
bô
 = (BôFõld*)((*)
d©a
 + (
pos
 >> 3));

388 
pos
 & 0x7)

391 
bô
->
b0
 = 
£t
;

394 
bô
->
b1
 = 
£t
;

397 
bô
->
b2
 = 
£t
;

400 
bô
->
b3
 = 
£t
;

403 
bô
->
b4
 = 
£t
;

406 
bô
->
b5
 = 
£t
;

409 
bô
->
b6
 = 
£t
;

412 
bô
->
b7
 = 
£t
;

415 
	}
}

417 
INT


418 
	$Decom¥ess
(

419 
LPCVOID
 
Sour˚
,

420 
LPVOID
 
De°ö©i⁄
,

421 
INT
 
De°Size


424 
Àn
 = 0, 
±r
 = 0, 
Lígth
 = 0;

425 * 
§c
 = (*)
Sour˚
 + 4;

426 * 
de°
;

427 
Tªe
 
åì
;

428 
TªeNode
* 
node
;

430 i‡(
Sour˚
 =
NULL
)

433 i‡(!
	`buûd_åì
(&
åì
))

436 
Lígth
 = 
	`SWAP32
(*((*)
Sour˚
));

437 i‡(
Lígth
 > 
De°Size
)

439 
de°
 = (*)
De°ö©i⁄
;

443 
vÆ
;

444 
node
 = 
åì
.node + 0x280;

445 
node
->
vÆue
 > 0x140)

447 i‡(
	`bt
(
§c
, 
±r
))

448 
node
 =Çode->
right
;

450 
node
 =Çode->
À·
;

451 
±r
++;

453 
vÆ
 = 
node
->
vÆue
;

454 i‡(
åì
.
node
[0x280].
weight
 == 0x8000)

456 
i
;

457 
i
 = 0; i < 0x141; i++)

458 i‡(
åì
.
li°
[
i
]->
weight
 & 0x1)

459 
	`adju°_åì
(
åì
, 
i
);

460 
i
 = 0; i <= 0x280; i++)

461 
åì
.
node
[
i
].
weight
 >>= 1;

463 
	`adju°_åì
(
åì
, 
vÆ
);

464 i‡(
vÆ
 > 0xff)

466 
i
;

467 
ãmp
, 
tmp
, 
pos
;

468 * 
¥e
;

469 
i
 = 0, 
ãmp
 = 0; i < 8; i++, 
±r
++)

470 
ãmp
 |()
	`bt
(
§c
, 
±r
Ë<< 
i
;

471 
tmp
 = 
ãmp
 & 0xff;

472 ; 
i
 < 
d©a2
[
tmp
 & 0xf] + 6; i++, 
±r
++)

473 
ãmp
 |()
	`bt
(
§c
, 
±r
Ë<< 
i
;

474 
ãmp
 >>
d©a2
[
tmp
 & 0xf];

475 
pos
 = (
ãmp
 & 0x3fË| (()
d©a1
[
tmp
] << 6);

476 i‡(
pos
 == 0xfff)

478 
¥e
 = 
de°
 - 
pos
 - 1;

479 
i
 = 0; i < 
vÆ
 - 0xfd; i++)

480 *
de°
++ = *
¥e
++;

481 
Àn
 +
vÆ
 - 0xfd;

485 *
de°
++ = ()
vÆ
;

486 
Àn
++;

490 
	`‰ì
(
åì
.
li°
);

491 
	`‰ì
(
åì
.
node
);

492  
Lígth
;

493 
	}
}

	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #unde‡
_ASSERT_H


25 #unde‡
as£π


26 #unde‡
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #unde‡
as£π_≥º‹


34 
	#_ASSERT_H
 1

	)

35 
	~<„©uªs.h
>

37 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
°©ic_ˇ°
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£π
(
ex¥
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£π_≥º‹
(
î∫um
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #i‚de‡
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£π_Áû
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
,

70 
__löe
, c⁄° *
__fun˘i⁄
)

71 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

74 
	$__as£π_≥º‹_Áû
 (
__î∫um
, c⁄° *
__fûe
,

75 
__löe
, c⁄° *
__fun˘i⁄
)

76 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

81 
	$__as£π
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
, 
__löe
)

82 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

85 
__END_DECLS


88 
	#as£π
(
ex¥
) \

89 ((
ex¥
) \

90 ? 
	`__ASSERT_VOID_CAST
 (0) \

91 : 
	`__as£π_Áû
 (#ex¥, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

93 #ifdef 
__USE_GNU


94 
	#as£π_≥º‹
(
î∫um
) \

95 (!(
î∫um
) \

96 ? 
	`__ASSERT_VOID_CAST
 (0) \

97 : 
	`__as£π_≥º‹_Áû
 ((
î∫um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

105 #i‡
deföed
 
__˝lu•lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

106 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

108 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

109 
	#__ASSERT_FUNCTION
 
__func__


	)

111 
	#__ASSERT_FUNCTION
 ((c⁄° *Ë0)

	)

118 #i‡
deföed
 
__USE_ISOC11
 && !deföed 
__˝lu•lus


119 #unde‡
°©ic_as£π


120 
	#°©ic_as£π
 
_Sètic_as£π


	)

	@/usr/include/errno.h

22 #i‚def 
_ERRNO_H


26 #i‚def 
__√ed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<„©uªs.h
>

31 
	g__BEGIN_DECLS


35 
	~<bôs/î∫o.h
>

36 #unde‡
__√ed_Em©h


38 #ifdef 
_ERRNO_H


45 #i‚def 
î∫o


46 
î∫o
;

49 #ifde‡
__USE_GNU


54 *
¥ogøm_övoˇti⁄_«me
, *
¥ogøm_övoˇti⁄_sh‹t_«me
;

58 
	g__END_DECLS


66 #i‡
deföed
 
__USE_GNU
 || deföed 
__√ed_îr‹_t


67 #i‚de‡
__îr‹_t_deföed


68 
	tîr‹_t
;

69 
	#__îr‹_t_deföed
 1

	)

71 #unde‡
__√ed_îr‹_t


	@/usr/include/fcntl.h

22 #i‚def 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


31 
	~<bôs/ty≥s.h
>

35 
	~<bôs/f˙é.h
>

39 #ifde‡
__O_TMPFILE


40 
	#__OPEN_NEEDS_MODE
(
oÊag
) \

41 (((
oÊag
Ë& 
O_CREAT
Ë!0 || ((oÊagË& 
__O_TMPFILE
Ë=__O_TMPFILE)

	)

43 
	#__OPEN_NEEDS_MODE
(
oÊag
Ë(((oÊagË& 
O_CREAT
Ë!0)

	)

49 #i‚de‡
__mode_t_deföed


50 
__mode_t
 
	tmode_t
;

51 
	#__mode_t_deföed


	)

54 #i‚de‡
__off_t_deföed


55 #i‚de‡
__USE_FILE_OFFSET64


56 
__off_t
 
	toff_t
;

58 
__off64_t
 
	toff_t
;

60 
	#__off_t_deföed


	)

63 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_deföed


	)

68 #i‚de‡
__pid_t_deföed


69 
__pid_t
 
	tpid_t
;

70 
	#__pid_t_deföed


	)

74 #ifde‡
__USE_XOPEN2K8


75 
	#__√ed_time•ec


	)

76 
	~<time.h
>

78 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


79 
	~<bôs/°©.h
>

81 
	#S_IFMT
 
__S_IFMT


	)

82 
	#S_IFDIR
 
__S_IFDIR


	)

83 
	#S_IFCHR
 
__S_IFCHR


	)

84 
	#S_IFBLK
 
__S_IFBLK


	)

85 
	#S_IFREG
 
__S_IFREG


	)

86 #ifde‡
__S_IFIFO


87 
	#S_IFIFO
 
__S_IFIFO


	)

89 #ifde‡
__S_IFLNK


90 
	#S_IFLNK
 
__S_IFLNK


	)

92 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
Ë&& deföed 
__S_IFSOCK


93 
	#S_IFSOCK
 
__S_IFSOCK


	)

98 
	#S_ISUID
 
__S_ISUID


	)

99 
	#S_ISGID
 
__S_ISGID


	)

101 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


103 
	#S_ISVTX
 
__S_ISVTX


	)

106 
	#S_IRUSR
 
__S_IREAD


	)

107 
	#S_IWUSR
 
__S_IWRITE


	)

108 
	#S_IXUSR
 
__S_IEXEC


	)

110 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

112 
	#S_IRGRP
 (
S_IRUSR
 >> 3Ë

	)

113 
	#S_IWGRP
 (
S_IWUSR
 >> 3Ë

	)

114 
	#S_IXGRP
 (
S_IXUSR
 >> 3Ë

	)

116 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

118 
	#S_IROTH
 (
S_IRGRP
 >> 3Ë

	)

119 
	#S_IWOTH
 (
S_IWGRP
 >> 3Ë

	)

120 
	#S_IXOTH
 (
S_IXGRP
 >> 3Ë

	)

122 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

125 #ifdef 
__USE_MISC


126 #i‚de‡
R_OK


129 
	#R_OK
 4

	)

130 
	#W_OK
 2

	)

131 
	#X_OK
 1

	)

132 
	#F_OK
 0

	)

137 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


138 
	#SEEK_SET
 0

	)

139 
	#SEEK_CUR
 1

	)

140 
	#SEEK_END
 2

	)

148 
f˙é
 (
__fd
, 
__cmd
, ...);

157 #i‚de‡
__USE_FILE_OFFSET64


158 
	$›í
 (c⁄° *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

160 #ifde‡
__REDIRECT


161 
	`__REDIRECT
 (
›í
, (c⁄° *
__fûe
, 
__oÊag
, ...), 
›í64
)

162 
	`__n⁄nuŒ
 ((1));

164 
	#›í
 
›í64


	)

167 #ifde‡
__USE_LARGEFILE64


168 
	$›í64
 (c⁄° *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

171 #ifde‡
__USE_ATFILE


181 #i‚de‡
__USE_FILE_OFFSET64


182 
	$›í©
 (
__fd
, c⁄° *
__fûe
, 
__oÊag
, ...)

183 
	`__n⁄nuŒ
 ((2));

185 #ifde‡
__REDIRECT


186 
	`__REDIRECT
 (
›í©
, (
__fd
, c⁄° *
__fûe
, 
__oÊag
,

187 ...), 
›í©64
Ë
	`__n⁄nuŒ
 ((2));

189 
	#›í©
 
›í©64


	)

192 #ifde‡
__USE_LARGEFILE64


193 
	$›í©64
 (
__fd
, c⁄° *
__fûe
, 
__oÊag
, ...)

194 
	`__n⁄nuŒ
 ((2));

203 #i‚de‡
__USE_FILE_OFFSET64


204 
	$¸ót
 (c⁄° *
__fûe
, 
mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

206 #ifde‡
__REDIRECT


207 
	`__REDIRECT
 (
¸ót
, (c⁄° *
__fûe
, 
mode_t
 
__mode
),

208 
¸ót64
Ë
	`__n⁄nuŒ
 ((1));

210 
	#¸ót
 
¸ót64


	)

213 #ifde‡
__USE_LARGEFILE64


214 
	$¸ót64
 (c⁄° *
__fûe
, 
mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

217 #i‡!
deföed
 
F_LOCK
 && (deföed 
__USE_MISC
 || (deföed 
__USE_XOPEN_EXTENDED
 \

218 && !
deföed
 
__USE_POSIX
))

227 
	#F_ULOCK
 0

	)

228 
	#F_LOCK
 1

	)

229 
	#F_TLOCK
 2

	)

230 
	#F_TEST
 3

	)

232 #i‚de‡
__USE_FILE_OFFSET64


233 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Àn
);

235 #ifde‡
__REDIRECT


236 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
), 
lockf64
);

238 
	#lockf
 
lockf64


	)

241 #ifde‡
__USE_LARGEFILE64


242 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Àn
);

246 #ifde‡
__USE_XOPEN2K


249 #i‚de‡
__USE_FILE_OFFSET64


250 
	$posix_Ádvi£
 (
__fd
, 
off_t
 
__off£t
, off_à
__Àn
,

251 
__advi£
Ë
__THROW
;

253 #ifde‡
__REDIRECT_NTH


254 
	`__REDIRECT_NTH
 (
posix_Ádvi£
, (
__fd
, 
__off64_t
 
__off£t
,

255 
__off64_t
 
__Àn
, 
__advi£
),

256 
posix_Ádvi£64
);

258 
	#posix_Ádvi£
 
posix_Ádvi£64


	)

261 #ifde‡
__USE_LARGEFILE64


262 
	$posix_Ádvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_à
__Àn
,

263 
__advi£
Ë
__THROW
;

271 #i‚de‡
__USE_FILE_OFFSET64


272 
	`posix_ÁŒoˇã
 (
__fd
, 
off_t
 
__off£t
, off_à
__Àn
);

274 #ifde‡
__REDIRECT


275 
	`__REDIRECT
 (
posix_ÁŒoˇã
, (
__fd
, 
__off64_t
 
__off£t
,

276 
__off64_t
 
__Àn
),

277 
posix_ÁŒoˇã64
);

279 
	#posix_ÁŒoˇã
 
posix_ÁŒoˇã64


	)

282 #ifde‡
__USE_LARGEFILE64


283 
	`posix_ÁŒoˇã64
 (
__fd
, 
off64_t
 
__off£t
, off64_à
__Àn
);

289 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄
 \

290 && 
deföed
 
__va_¨g_∑ck_Àn


291 
	~<bôs/f˙é2.h
>

294 
__END_DECLS


	@/usr/include/limits.h

22 #i‚de‡
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	~<„©uªs.h
>

31 
	#MB_LEN_MAX
 16

	)

36 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

41 #i‚de‡
_LIMITS_H


42 
	#_LIMITS_H
 1

	)

44 
	~<bôs/w‹dsize.h
>

53 
	#CHAR_BIT
 8

	)

56 
	#SCHAR_MIN
 (-128)

	)

57 
	#SCHAR_MAX
 127

	)

60 
	#UCHAR_MAX
 255

	)

63 #ifde‡
__CHAR_UNSIGNED__


64 
	#CHAR_MIN
 0

	)

65 
	#CHAR_MAX
 
UCHAR_MAX


	)

67 
	#CHAR_MIN
 
SCHAR_MIN


	)

68 
	#CHAR_MAX
 
SCHAR_MAX


	)

72 
	#SHRT_MIN
 (-32768)

	)

73 
	#SHRT_MAX
 32767

	)

76 
	#USHRT_MAX
 65535

	)

79 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

80 
	#INT_MAX
 2147483647

	)

83 
	#UINT_MAX
 4294967295U

	)

86 #i‡
__WORDSIZE
 == 64

87 
	#LONG_MAX
 9223372036854775807L

	)

89 
	#LONG_MAX
 2147483647L

	)

91 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

94 #i‡
__WORDSIZE
 == 64

95 
	#ULONG_MAX
 18446744073709551615UL

	)

97 
	#ULONG_MAX
 4294967295UL

	)

100 #ifde‡
__USE_ISOC99


103 
	#LLONG_MAX
 9223372036854775807LL

	)

104 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

107 
	#ULLONG_MAX
 18446744073709551615ULL

	)

121 #i‡
deföed
 
__GNUC__
 && !deföed 
_GCC_LIMITS_H_


123 #ö˛ude_√xà<
limôs
.
h
>

129 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__


130 #i‚de‡
LLONG_MIN


131 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

133 #i‚de‡
LLONG_MAX


134 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

136 #i‚de‡
ULLONG_MAX


137 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

141 #ifdef 
__USE_POSIX


143 
	~<bôs/posix1_lim.h
>

146 #ifdef 
__USE_POSIX2


147 
	~<bôs/posix2_lim.h
>

150 #ifdef 
__USE_XOPEN


151 
	~<bôs/x›í_lim.h
>

	@/usr/include/mad.h

23 #ifde‡
__˝lu•lus


27 
	#FPM_64BIT


	)

31 
	#SIZEOF_INT
 4

	)

32 
	#SIZEOF_LONG
 8

	)

33 
	#SIZEOF_LONG_LONG
 8

	)

38 #i‚de‡
LIBMAD_VERSION_H


39 
	#LIBMAD_VERSION_H


	)

41 
	#MAD_VERSION_MAJOR
 0

	)

42 
	#MAD_VERSION_MINOR
 15

	)

43 
	#MAD_VERSION_PATCH
 1

	)

44 
	#MAD_VERSION_EXTRA
 " (bëa)"

	)

46 
	#MAD_VERSION_STRINGIZE
(
°r
Ë#°r

	)

47 
	#MAD_VERSION_STRING
(
num
Ë
	`MAD_VERSION_STRINGIZE
“um)

	)

49 
	#MAD_VERSION
 
	`MAD_VERSION_STRING
(
MAD_VERSION_MAJOR
) "." \

50 
	`MAD_VERSION_STRING
(
MAD_VERSION_MINOR
) "." \

51 
	`MAD_VERSION_STRING
(
MAD_VERSION_PATCH
) \

52 
MAD_VERSION_EXTRA


	)

54 
	#MAD_PUBLISHYEAR
 "2000-2004"

	)

55 
	#MAD_AUTHOR
 "Undîbô Technﬁogõs, Inc."

	)

56 
	#MAD_EMAIL
 "öfo@undîbô.com"

	)

58 c⁄° 
mad_vîsi⁄
[];

59 c⁄° 
mad_c›yright
[];

60 c⁄° 
mad_auth‹
[];

61 c⁄° 
mad_buûd
[];

67 #i‚de‡
LIBMAD_FIXED_H


68 
	#LIBMAD_FIXED_H


	)

70 #i‡
SIZEOF_INT
 >= 4

71 sig√d 
	tmad_fixed_t
;

73 sig√d 
	tmad_fixed64hi_t
;

74 
	tmad_fixed64lo_t
;

76 sig√d 
	tmad_fixed_t
;

78 sig√d 
	tmad_fixed64hi_t
;

79 
	tmad_fixed64lo_t
;

82 #i‡
deföed
(
_MSC_VER
)

83 
	#mad_fixed64_t
 sig√d 
__öt64


	)

84 #ñi‡1 || 
deföed
(
__GNUC__
)

85 
	#mad_fixed64_t
 sig√d 

	)

88 #i‡
deföed
(
FPM_FLOAT
)

89 
	tmad_ßm∂e_t
;

91 
mad_fixed_t
 
	tmad_ßm∂e_t
;

117 
	#MAD_F_FRACBITS
 28

	)

119 #i‡
MAD_F_FRACBITS
 == 28

120 
	#MAD_F
(
x
Ë((
mad_fixed_t
Ë(x##
L
))

	)

122 #i‡
MAD_F_FRACBITS
 < 28

124 
	#MAD_F
(
x
Ë((
mad_fixed_t
) \

125 (((
x
##
L
) + \

126 (1L << (28 - 
MAD_F_FRACBITS
 - 1))) >> \

127 (28 - 
MAD_F_FRACBITS
)))

	)

128 #ñi‡
MAD_F_FRACBITS
 > 28

130 
	#MAD_F
(
x
Ë((
mad_fixed_t
) \

131 ((
x
##
L
Ë<< (
MAD_F_FRACBITS
 - 28)))

	)

135 
	#MAD_F_MIN
 ((
mad_fixed_t
Ë-0x80000000L)

	)

136 
	#MAD_F_MAX
 ((
mad_fixed_t
Ë+0x7fffffffL)

	)

138 
	#MAD_F_ONE
 
	`MAD_F
(0x10000000)

	)

140 
	#mad_f_tofixed
(
x
Ë((
mad_fixed_t
) \

141 ((
x
Ë* (Ë(1L << 
MAD_F_FRACBITS
Ë+ 0.5))

	)

142 
	#mad_f_todoubÀ
(
x
) (() \

143 ((
x
Ë/ (Ë(1L << 
MAD_F_FRACBITS
)))

	)

145 
	#mad_f_öç¨t
(
x
Ë((xË>> 
MAD_F_FRACBITS
)

	)

146 
	#mad_f_‰a˝¨t
(
x
Ë((xË& ((1L << 
MAD_F_FRACBITS
Ë- 1))

	)

149 
	#mad_f_‰omöt
(
x
Ë((xË<< 
MAD_F_FRACBITS
)

	)

151 
	#mad_f_add
(
x
, 
y
Ë((xË+ (y))

	)

152 
	#mad_f_sub
(
x
, 
y
Ë((xË- (y))

	)

154 #i‡
deföed
(
FPM_FLOAT
)

157 #unde‡
MAD_F


158 
	#MAD_F
(
x
Ë
	`mad_f_todoubÀ
(x)

	)

160 
	#mad_f_mul
(
x
, 
y
Ë((xË* (y))

	)

161 
	#mad_f_sˇÀ64


	)

163 #unde‡
ASO_ZEROCHECK


165 #ñi‡
deföed
(
FPM_64BIT
)

171 #i‡
deföed
(
OPT_ACCURACY
)

172 
	#mad_f_mul
(
x
, 
y
) \

173 ((
mad_fixed_t
) \

174 ((((
mad_fixed64_t
Ë(
x
Ë* (
y
)) + \

175 (1L << (
MAD_F_SCALEBITS
 - 1))Ë>> MAD_F_SCALEBITS))

	)

177 
	#mad_f_mul
(
x
, 
y
) \

178 ((
mad_fixed_t
Ë(((
mad_fixed64_t
Ë(
x
Ë* (
y
)Ë>> 
MAD_F_SCALEBITS
))

	)

181 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

185 #ñi‡
deföed
(
FPM_INTEL
)

187 #i‡
deföed
(
_MSC_VER
)

188 #¥agm®
w¨nög
(
push
)

189 #¥agm®
w¨nög
(
dißbÀ
: 4035)

190 
__f‹˚ölöe


191 
mad_fixed_t
 
mad_f_mul_ölöe
(mad_fixed_à
x
, mad_fixed_à
y
)

194 
	g‰acbôs
 = 
MAD_F_FRACBITS


197 
	g__asm
 {

198 
mov
 
	góx
, 
x


199 
imul
 
y


200 
shrd
 
	góx
, 
	gedx
, 
	g‰acbôs


205 #¥agm®
w¨nög
(
p›
)

207 
	#mad_f_mul
 
mad_f_mul_ölöe


	)

208 
	#mad_f_sˇÀ64


	)

214 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

215 
	`asm
 ("imull %3" \

216 : "˜" (
lo
), "=d" (
hi
) \

217 : "%a" (
x
), "rm" (
y
) \

218 : "cc")

	)

220 #i‡
deföed
(
OPT_ACCURACY
)

224 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

225 ({ 
mad_fixed64hi_t
 
__hi
; \

226 
mad_fixed64lo_t
 
__lo
; \

227 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

228 
	`asm
 ("addl %2,%0\n\t" \

230 : "Ùm" (
lo
), "Ùm" (
hi
) \

231 : "r" (
__lo
), "r" (
__hi
), "0" (
lo
), "1" (
hi
) \

233 })

	)

236 #i‡
deföed
(
OPT_ACCURACY
)

240 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

241 ({ 
mad_fixed64hi_t
 
__hi_
; \

242 
mad_fixed64lo_t
 
__lo_
; \

243 
mad_fixed_t
 
__ªsu…
; \

244 
	`asm
 ("addl %4,%2\n\t" \

246 : "Ùm" (
__lo_
), "Ùm" (
__hi_
) \

247 : "0" (
lo
), "1" (
hi
), \

248 "ú" (1L << (
MAD_F_SCALEBITS
 - 1)), "ir" (0) \

250 
	`asm
 ("shrdl %3,%2,%1" \

251 : "Ùm" (
__ªsu…
) \

252 : "0" (
__lo_
), "r" (
__hi_
), "I" (
MAD_F_SCALEBITS
) \

254 
__ªsu…
; \

255 })

	)

256 #ñi‡
deföed
(
OPT_INTEL
)

260 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

261 ({ 
mad_fixed_t
 
__ªsu…
; \

262 
	`asm
 ("shrl %3,%1\n\t" \

265 : "Ùm" (
__ªsu…
) \

266 : "0" (
lo
), "r" (
hi
), \

267 "I" (
MAD_F_SCALEBITS
), "I" (32 - MAD_F_SCALEBITS) \

269 
__ªsu…
; \

270 })

	)

272 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

273 ({ 
mad_fixed_t
 
__ªsu…
; \

274 
	`asm
 ("shrdl %3,%2,%1" \

275 : "Ùm" (
__ªsu…
) \

276 : "0" (
lo
), "r" (
hi
), "I" (
MAD_F_SCALEBITS
) \

278 
__ªsu…
; \

279 })

	)

282 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

287 #ñi‡
deföed
(
FPM_ARM
)

298 
	#mad_f_mul
(
x
, 
y
) \

299 ({ 
mad_fixed64hi_t
 
__hi
; \

300 
mad_fixed64lo_t
 
__lo
; \

301 
mad_fixed_t
 
__ªsu…
; \

302 
	`asm
 ("smull %0, %1, %3, %4\n\t" \

305 : "=&r" (
__lo
), "=&r" (
__hi
), "Ù" (
__ªsu…
) \

306 : "%r" (
x
), "r" (
y
), \

307 "M" (
MAD_F_SCALEBITS
), "M" (32 - MAD_F_SCALEBITS) \

309 
__ªsu…
; \

310 })

	)

313 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

314 
	`asm
 ("smull %0, %1, %2, %3" \

315 : "=&r" (
lo
), "=&r" (
hi
) \

316 : "%r" (
x
), "r" (
y
))

	)

318 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

319 
	`asm
 ("smlal %0, %1, %2, %3" \

320 : "+r" (
lo
), "+r" (
hi
) \

321 : "%r" (
x
), "r" (
y
))

	)

323 #ifde‡
__thumb__


327 
	#MAD_F_MLN
(
hi
, 
lo
) \

328 
	`asm
 ("rsbs %0, %0, #0\n\t" \

331 : "+&r" (
lo
), "=&r" (
hi
) \

332 : "r" (
hi
) \

333 : "cc")

	)

335 
	#MAD_F_MLN
(
hi
, 
lo
) \

336 
	`asm
 ("rsbs %0, %2, #0\n\t" \

338 : "=&r" (
lo
), "Ù" (
hi
) \

339 : "0" (
lo
), "1" (
hi
) \

340 : "cc")

	)

343 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

344 ({ 
mad_fixed_t
 
__ªsu…
; \

345 
	`asm
 ("movs %0, %1,Üsr %3\n\t" \

347 : "=&r" (
__ªsu…
) \

348 : "r" (
lo
), "r" (
hi
), \

349 "M" (
MAD_F_SCALEBITS
), "M" (32 - MAD_F_SCALEBITS) \

351 
__ªsu…
; \

352 })

	)

354 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

358 #ñi‡
deföed
(
FPM_MIPS
Ë&& (
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

359 
	tu64_di_t
 
	t__©åibuã__
 ((
	tmode
 (
	tDI
)));

360 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

362 
u64_di_t
 
__Œ
 = (u64_di_tË(
x
Ë* (
y
); \

363 
hi
 = 
__Œ
 >> 32; \

364 
lo
 = 
__Œ
; \

365 } 0)

	)

366 #ñi‡
deföed
(
FPM_MIPS
)

372 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

373 
	`asm
 ("mult %2,%3" \

374 : "ˆ" (
lo
), "=h" (
hi
) \

375 : "%r" (
x
), "r" (
y
))

	)

377 #i‡
deföed
(
HAVE_MADD_ASM
)

378 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

379 
	`asm
 ("madd %2,%3" \

380 : "+l" (
lo
), "+h" (
hi
) \

381 : "%r" (
x
), "r" (
y
))

	)

382 #ñi‡
deföed
(
HAVE_MADD16_ASM
)

387 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
) \

388 
	`asm
 ("mult %2,%3" \

389 : "ˆ" (
lo
), "=h" (
hi
) \

390 : "%r" ((
x
Ë>> 12), "r" ((
y
Ë>> 16))

	)

391 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

392 
	`asm
 ("madd16 %2,%3" \

393 : "+l" (
lo
), "+h" (
hi
) \

394 : "%r" ((
x
Ë>> 12), "r" ((
y
Ë>> 16))

	)

395 
	#MAD_F_MLZ
(
hi
, 
lo
Ë((
mad_fixed_t
Ë÷o))

	)

398 #i‡
deföed
(
OPT_SPEED
)

399 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

400 ((
mad_fixed_t
Ë((
hi
Ë<< (32 - 
MAD_F_SCALEBITS
)))

	)

401 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

406 #ñi‡
deföed
(
FPM_SPARC
)

412 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

413 
	`asm
 ("smul %2, %3, %0\n\t" \

415 : "Ù" (
lo
), "Ù" (
hi
) \

416 : "%r" (
x
), "rI" (
y
))

	)

420 #ñi‡
deföed
(
FPM_PPC
)

426 
	#MAD_F_MLX
(
hi
, 
lo
, 
x
, 
y
) \

428 
	`asm
 ("mullw %0,%1,%2" \

429 : "Ù" (
lo
) \

430 : "%r" (
x
), "r" (
y
)); \

431 
	`asm
 ("mulhw %0,%1,%2" \

432 : "Ù" (
hi
) \

433 : "%r" (
x
), "r" (
y
)); \

435 0)

	)

437 #i‡
deföed
(
OPT_ACCURACY
)

441 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
) \

442 ({ 
mad_fixed64hi_t
 
__hi
; \

443 
mad_fixed64lo_t
 
__lo
; \

444 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

445 
	`asm
 ("addc %0,%2,%3\n\t" \

447 : "Ù" (
lo
), "Ù" (
hi
) \

448 : "%r" (
lo
), "r" (
__lo
), \

449 "%r" (
hi
), "r" (
__hi
) \

451 })

	)

454 #i‡
deföed
(
OPT_ACCURACY
)

458 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

459 ({ 
mad_fixed_t
 
__ªsu…
, 
__round
; \

460 
	`asm
 ("rotrwi %0,%1,%2" \

461 : "Ù" (
__ªsu…
) \

462 : "r" (
lo
), "i" (
MAD_F_SCALEBITS
)); \

463 
	`asm
 ("extrwi %0,%1,1,0" \

464 : "Ù" (
__round
) \

465 : "r" (
__ªsu…
)); \

466 
	`asm
 ("insrwi %0,%1,%2,0" \

467 : "+r" (
__ªsu…
) \

468 : "r" (
hi
), "i" (
MAD_F_SCALEBITS
)); \

469 
	`asm
 ("add %0,%1,%2" \

470 : "Ù" (
__ªsu…
) \

471 : "%r" (
__ªsu…
), "r" (
__round
)); \

472 
__ªsu…
; \

473 })

	)

475 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

476 ({ 
mad_fixed_t
 
__ªsu…
; \

477 
	`asm
 ("rotrwi %0,%1,%2" \

478 : "Ù" (
__ªsu…
) \

479 : "r" (
lo
), "i" (
MAD_F_SCALEBITS
)); \

480 
	`asm
 ("insrwi %0,%1,%2,0" \

481 : "+r" (
__ªsu…
) \

482 : "r" (
hi
), "i" (
MAD_F_SCALEBITS
)); \

483 
__ªsu…
; \

484 })

	)

487 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

491 #ñi‡
deföed
(
FPM_DEFAULT
)

502 #i‡
deföed
(
OPT_SPEED
)

503 
	#mad_f_mul
(
x
, 
y
Ë(((xË>> 12Ë* ((yË>> 16))

	)

505 
	#mad_f_mul
(
x
, 
y
) ((((x) + (1L << 11)) >> 12) * \

506 (((
y
Ë+ (1L << 15)Ë>> 16))

	)

517 #i‡!
deföed
(
mad_f_mul
)

518 
	#mad_f_mul
(
x
, 
y
) \

519 ({ 
mad_fixed64hi_t
 
__hi
; \

520 
mad_fixed64lo_t
 
__lo
; \

521 
	`MAD_F_MLX
(
__hi
, 
__lo
, (
x
), (
y
)); \

522 
	`mad_f_sˇÀ64
(
__hi
, 
__lo
); \

523 })

	)

526 #i‡!
deföed
(
MAD_F_MLA
)

527 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË
	`mad_f_mul
((x), (y)))

	)

528 
	#MAD_F_MLA
(
hi
, 
lo
, 
x
, 
y
Ë(÷oË+
	`mad_f_mul
((x), (y)))

	)

529 
	#MAD_F_MLN
(
hi
, 
lo
Ë(÷oË-÷o))

	)

530 
	#MAD_F_MLZ
(
hi
, 
lo
Ë((Ë(hi), (
mad_fixed_t
Ë÷o))

	)

533 #i‡!
deföed
(
MAD_F_ML0
)

534 
	#MAD_F_ML0
(
hi
, 
lo
, 
x
, 
y
Ë
	`MAD_F_MLX
((hi), (lo), (x), (y))

	)

537 #i‡!
deföed
(
MAD_F_MLN
)

538 
	#MAD_F_MLN
(
hi
, 
lo
Ë((hiË(÷oË-÷o)Ë? ~(hiË: -(hi))

	)

541 #i‡!
deföed
(
MAD_F_MLZ
)

542 
	#MAD_F_MLZ
(
hi
, 
lo
Ë
	`mad_f_sˇÀ64
((hi), (lo))

	)

545 #i‡!
deföed
(
mad_f_sˇÀ64
)

546 #i‡
deföed
(
OPT_ACCURACY
)

547 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

548 ((((
mad_fixed_t
) \

549 (((
hi
Ë<< (32 - (
MAD_F_SCALEBITS
 - 1))) | \

550 ((
lo
Ë>> (
MAD_F_SCALEBITS
 - 1)))Ë+ 1Ë>> 1)

	)

552 
	#mad_f_sˇÀ64
(
hi
, 
lo
) \

553 ((
mad_fixed_t
) \

554 (((
hi
Ë<< (32 - 
MAD_F_SCALEBITS
)) | \

555 ((
lo
Ë>> 
MAD_F_SCALEBITS
)))

	)

557 
	#MAD_F_SCALEBITS
 
MAD_F_FRACBITS


	)

562 
mad_fixed_t
 
mad_f_abs
(mad_fixed_t);

563 
mad_fixed_t
 
mad_f_div
(mad_fixed_t, mad_fixed_t);

569 #i‚de‡
LIBMAD_BIT_H


570 
	#LIBMAD_BIT_H


	)

572 
	smad_bô±r
 {

573 c⁄° *
	gbyã
;

574 
	gˇche
;

575 
	gÀ·
;

578 
mad_bô_öô
(
mad_bô±r
 *, const *);

580 
	#mad_bô_föish
(
bô±r
Ë

	)

582 
mad_bô_Àngth
(
mad_bô±r
 const *,

583 
mad_bô±r
 const *);

585 
	#mad_bô_bô¶e·
(
bô±r
Ë((bô±r)->
À·
)

	)

586 c⁄° *
mad_bô_√xtbyã
(
mad_bô±r
 const *);

588 
mad_bô_skù
(
mad_bô±r
 *, );

589 
mad_bô_ªad
(
mad_bô±r
 *, );

590 
mad_bô_wrôe
(
mad_bô±r
 *, , );

592 
mad_bô_¸c
(
mad_bô±r
, , );

598 #i‚de‡
LIBMAD_TIMER_H


599 
	#LIBMAD_TIMER_H


	)

602 sig√d 
	g£c⁄ds
;

603 
	g‰a˘i⁄
;

604 } 
	tmad_timî_t
;

606 
mad_timî_t
 c⁄° 
mad_timî_zîo
;

608 
	#MAD_TIMER_RESOLUTION
 352800000UL

	)

610 
	emad_unôs
 {

611 
	gMAD_UNITS_HOURS
 = -2,

612 
	gMAD_UNITS_MINUTES
 = -1,

613 
	gMAD_UNITS_SECONDS
 = 0,

617 
	gMAD_UNITS_DECISECONDS
 = 10,

618 
	gMAD_UNITS_CENTISECONDS
 = 100,

619 
	gMAD_UNITS_MILLISECONDS
 = 1000,

623 
	gMAD_UNITS_8000_HZ
 = 8000,

624 
	gMAD_UNITS_11025_HZ
 = 11025,

625 
	gMAD_UNITS_12000_HZ
 = 12000,

627 
	gMAD_UNITS_16000_HZ
 = 16000,

628 
	gMAD_UNITS_22050_HZ
 = 22050,

629 
	gMAD_UNITS_24000_HZ
 = 24000,

631 
	gMAD_UNITS_32000_HZ
 = 32000,

632 
	gMAD_UNITS_44100_HZ
 = 44100,

633 
	gMAD_UNITS_48000_HZ
 = 48000,

637 
	gMAD_UNITS_24_FPS
 = 24,

638 
	gMAD_UNITS_25_FPS
 = 25,

639 
	gMAD_UNITS_30_FPS
 = 30,

640 
	gMAD_UNITS_48_FPS
 = 48,

641 
	gMAD_UNITS_50_FPS
 = 50,

642 
	gMAD_UNITS_60_FPS
 = 60,

646 
	gMAD_UNITS_75_FPS
 = 75,

650 
	gMAD_UNITS_23_976_FPS
 = -24,

651 
	gMAD_UNITS_24_975_FPS
 = -25,

652 
	gMAD_UNITS_29_97_FPS
 = -30,

653 
	gMAD_UNITS_47_952_FPS
 = -48,

654 
	gMAD_UNITS_49_95_FPS
 = -50,

655 
	gMAD_UNITS_59_94_FPS
 = -60

658 
	#mad_timî_ª£t
(
timî
Ë((Ë(*—imîË
mad_timî_zîo
))

	)

660 
mad_timî_com∑ª
(
mad_timî_t
, mad_timer_t);

662 
	#mad_timî_sign
(
timî
Ë
	`mad_timî_com∑ª
(—imî), 
mad_timî_zîo
)

	)

664 
mad_timî_√g©e
(
mad_timî_t
 *);

665 
mad_timî_t
 
mad_timî_abs
(mad_timer_t);

667 
mad_timî_£t
(
mad_timî_t
 *, , , );

668 
mad_timî_add
(
mad_timî_t
 *, mad_timer_t);

669 
mad_timî_mu…ùly
(
mad_timî_t
 *, signed );

671 sig√d 
mad_timî_cou¡
(
mad_timî_t
, 
mad_unôs
);

672 
mad_timî_‰a˘i⁄
(
mad_timî_t
, );

673 
mad_timî_°rög
(
mad_timî_t
, *, const *,

674 
mad_unôs
, mad_units, );

680 #i‚de‡
LIBMAD_STREAM_H


681 
	#LIBMAD_STREAM_H


	)

684 
	#MAD_BUFFER_GUARD
 8

	)

685 
	#MAD_BUFFER_MDLEN
 (511 + 2048 + 
MAD_BUFFER_GUARD
)

	)

687 
	emad_îr‹
 {

688 
	gMAD_ERROR_NONE
 = 0x0000,

690 
	gMAD_ERROR_BUFLEN
 = 0x0001,

691 
	gMAD_ERROR_BUFPTR
 = 0x0002,

693 
	gMAD_ERROR_NOMEM
 = 0x0031,

695 
	gMAD_ERROR_LOSTSYNC
 = 0x0101,

696 
	gMAD_ERROR_BADLAYER
 = 0x0102,

697 
	gMAD_ERROR_BADBITRATE
 = 0x0103,

698 
	gMAD_ERROR_BADSAMPLERATE
 = 0x0104,

699 
	gMAD_ERROR_BADEMPHASIS
 = 0x0105,

701 
	gMAD_ERROR_BADCRC
 = 0x0201,

702 
	gMAD_ERROR_BADBITALLOC
 = 0x0211,

703 
	gMAD_ERROR_BADSCALEFACTOR
 = 0x0221,

704 
	gMAD_ERROR_BADMODE
 = 0x0222,

705 
	gMAD_ERROR_BADFRAMELEN
 = 0x0231,

706 
	gMAD_ERROR_BADBIGVALUES
 = 0x0232,

707 
	gMAD_ERROR_BADBLOCKTYPE
 = 0x0233,

708 
	gMAD_ERROR_BADSCFSI
 = 0x0234,

709 
	gMAD_ERROR_BADDATAPTR
 = 0x0235,

710 
	gMAD_ERROR_BADPART3LEN
 = 0x0236,

711 
	gMAD_ERROR_BADHUFFTABLE
 = 0x0237,

712 
	gMAD_ERROR_BADHUFFDATA
 = 0x0238,

713 
	gMAD_ERROR_BADSTEREO
 = 0x0239

716 
	#MAD_RECOVERABLE
(
îr‹
Ë(”º‹Ë& 0xff00)

	)

718 
	smad_°ªam
 {

719 c⁄° *
	gbuf„r
;

720 c⁄° *
	gbu„nd
;

721 
	gskùÀn
;

723 
	gsync
;

724 
	g‰ìøã
;

726 c⁄° *
	gthis_‰ame
;

727 c⁄° *
	g√xt_‰ame
;

728 
mad_bô±r
 
	g±r
;

730 
mad_bô±r
 
	g™c_±r
;

731 
	g™c_bôÀn
;

733 (*
	gmaö_d©a
)[
MAD_BUFFER_MDLEN
];

735 
	gmd_Àn
;

737 
	g›ti⁄s
;

738 
mad_îr‹
 
	gîr‹
;

742 
	gMAD_OPTION_IGNORECRC
 = 0x0001,

743 
	gMAD_OPTION_HALFSAMPLERATE
 = 0x0002

745 
MAD_OPTION_LEFTCHANNEL
 = 0x0010,

746 
	gMAD_OPTION_RIGHTCHANNEL
 = 0x0020,

747 
	gMAD_OPTION_SINGLECHANNEL
 = 0x0030

751 
mad_°ªam_öô
(
mad_°ªam
 *);

752 
mad_°ªam_föish
(
mad_°ªam
 *);

754 
	#mad_°ªam_›ti⁄s
(
°ªam
, 
›ts
) \

755 ((Ë((
°ªam
)->
›ti⁄s
 = (
›ts
)))

	)

757 
mad_°ªam_buf„r
(
mad_°ªam
 *,

759 
mad_°ªam_skù
(
mad_°ªam
 *, );

761 
mad_°ªam_sync
(
mad_°ªam
 *);

763 c⁄° *
mad_°ªam_îr‹°r
(
mad_°ªam
 const *);

769 #i‚de‡
LIBMAD_FRAME_H


770 
	#LIBMAD_FRAME_H


	)

773 
	emad_œyî
 {

774 
	gMAD_LAYER_I
 = 1,

775 
	gMAD_LAYER_II
 = 2,

776 
	gMAD_LAYER_III
 = 3

779 
	emad_mode
 {

780 
	gMAD_MODE_SINGLE_CHANNEL
 = 0,

781 
	gMAD_MODE_DUAL_CHANNEL
 = 1,

782 
	gMAD_MODE_JOINT_STEREO
 = 2,

783 
	gMAD_MODE_STEREO
 = 3

786 
	emad_emphasis
 {

787 
	gMAD_EMPHASIS_NONE
 = 0,

788 
	gMAD_EMPHASIS_50_15_US
 = 1,

789 
	gMAD_EMPHASIS_CCITT_J_17
 = 3,

790 
	gMAD_EMPHASIS_RESERVED
 = 2

793 
	smad_hódî
 {

794 
mad_œyî
 
	gœyî
;

795 
mad_mode
 
	gmode
;

796 
	gmode_exãnsi⁄
;

797 
mad_emphasis
 
	gemphasis
;

799 
	gbôøã
;

800 
	gßm∂î©e
;

802 
	g¸c_check
;

803 
	g¸c_èrgë
;

805 
	gÊags
;

806 
	g¥iv©e_bôs
;

808 
mad_timî_t
 
	gduøti⁄
;

811 
	smad_‰ame
 {

812 
mad_hódî
 
	ghódî
;

814 
	g›ti⁄s
;

816 
mad_fixed_t
 
	gsbßm∂e
[2][36][32];

817 
mad_fixed_t
 (*
ovîœp
)[2][32][18];

820 
	#MAD_NCHANNELS
(
hódî
Ë((hódî)->
mode
 ? 2 : 1)

	)

821 
	#MAD_NSBSAMPLES
(
hódî
) \

822 ((
hódî
)->
œyî
 =
MAD_LAYER_I
 ? 12 : \

823 (((
hódî
)->
œyî
 =
MAD_LAYER_III
 && \

824 ((
hódî
)->
Êags
 & 
MAD_FLAG_LSF_EXT
)Ë? 18 : 36))

	)

827 
	gMAD_FLAG_NPRIVATE_III
 = 0x0007,

828 
	gMAD_FLAG_INCOMPLETE
 = 0x0008,

830 
	gMAD_FLAG_PROTECTION
 = 0x0010,

831 
	gMAD_FLAG_COPYRIGHT
 = 0x0020,

832 
	gMAD_FLAG_ORIGINAL
 = 0x0040,

833 
	gMAD_FLAG_PADDING
 = 0x0080,

835 
	gMAD_FLAG_I_STEREO
 = 0x0100,

836 
	gMAD_FLAG_MS_STEREO
 = 0x0200,

837 
	gMAD_FLAG_FREEFORMAT
 = 0x0400,

839 
	gMAD_FLAG_LSF_EXT
 = 0x1000,

840 
	gMAD_FLAG_MC_EXT
 = 0x2000,

841 
	gMAD_FLAG_MPEG_2_5_EXT
 = 0x4000

845 
	gMAD_PRIVATE_HEADER
 = 0x0100,

846 
	gMAD_PRIVATE_III
 = 0x001f

849 
mad_hódî_öô
(
mad_hódî
 *);

851 
	#mad_hódî_föish
(
hódî
Ë

	)

853 
mad_hódî_decode
(
mad_hódî
 *, 
mad_°ªam
 *);

855 
mad_‰ame_öô
(
mad_‰ame
 *);

856 
mad_‰ame_föish
(
mad_‰ame
 *);

858 
mad_‰ame_decode
(
mad_‰ame
 *, 
mad_°ªam
 *);

860 
mad_‰ame_muã
(
mad_‰ame
 *);

866 #i‚de‡
LIBMAD_SYNTH_H


867 
	#LIBMAD_SYNTH_H


	)

870 
	smad_pcm
 {

871 
	gßm∂î©e
;

872 
	gch™√ls
;

873 
	gÀngth
;

874 
mad_fixed_t
 
	gßm∂es
[2][1152];

877 
	smad_sy¡h
 {

878 
mad_fixed_t
 
	gfûãr
[2][2][2][16][8];

881 
	gpha£
;

883 
mad_pcm
 
	gpcm
;

888 
	gMAD_PCM_CHANNEL_SINGLE
 = 0

893 
	gMAD_PCM_CHANNEL_DUAL_1
 = 0,

894 
	gMAD_PCM_CHANNEL_DUAL_2
 = 1

899 
	gMAD_PCM_CHANNEL_STEREO_LEFT
 = 0,

900 
	gMAD_PCM_CHANNEL_STEREO_RIGHT
 = 1

903 
mad_sy¡h_öô
(
mad_sy¡h
 *);

905 
	#mad_sy¡h_föish
(
sy¡h
Ë

	)

907 
mad_sy¡h_muã
(
mad_sy¡h
 *);

909 
mad_sy¡h_‰ame
(
mad_sy¡h
 *, 
mad_‰ame
 const *);

915 #i‚de‡
LIBMAD_DECODER_H


916 
	#LIBMAD_DECODER_H


	)

919 
	emad_decodî_mode
 {

920 
	gMAD_DECODER_MODE_SYNC
 = 0,

921 
	gMAD_DECODER_MODE_ASYNC


924 
	emad_Êow
 {

925 
	gMAD_FLOW_CONTINUE
 = 0x0000,

926 
	gMAD_FLOW_STOP
 = 0x0010,

927 
	gMAD_FLOW_BREAK
 = 0x0011,

928 
	gMAD_FLOW_IGNORE
 = 0x0020

931 
	smad_decodî
 {

932 
mad_decodî_mode
 
	gmode
;

934 
	g›ti⁄s
;

937 
	gpid
;

938 
	gö
;

939 
	gout
;

940 } 
	gasync
;

943 
mad_°ªam
 
	g°ªam
;

944 
mad_‰ame
 
	g‰ame
;

945 
mad_sy¡h
 
	gsy¡h
;

946 } *
	gsync
;

948 *
	gcb_d©a
;

950 
mad_Êow
 (*
öput_func
)(*, 
	gmad_°ªam
 *);

951 
mad_Êow
 (*
hódî_func
)(*, 
mad_hódî
 const *);

952 
mad_Êow
 (*
fûãr_func
)(*,

953 
mad_°ªam
 c⁄° *, 
	gmad_‰ame
 *);

954 
mad_Êow
 (*
ouçut_func
)(*,

955 
mad_hódî
 c⁄° *, 
	gmad_pcm
 *);

956 
mad_Êow
 (*
îr‹_func
)(*, 
	gmad_°ªam
 *, 
	gmad_‰ame
 *);

957 
mad_Êow
 (*
mesßge_func
)(*, *, *);

960 
mad_decodî_öô
(
mad_decodî
 *, *,

961 
mad_Êow
 (*)(*, 
mad_°ªam
 *),

962 
mad_Êow
 (*)(*, 
mad_hódî
 const *),

963 
mad_Êow
 (*)(*,

964 
mad_°ªam
 const *,

965 
mad_‰ame
 *),

966 
mad_Êow
 (*)(*,

967 
mad_hódî
 const *,

968 
mad_pcm
 *),

969 
mad_Êow
 (*)(*,

970 
mad_°ªam
 *,

971 
mad_‰ame
 *),

972 
mad_Êow
 (*)(*, *, *));

973 
mad_decodî_föish
(
mad_decodî
 *);

975 
	#mad_decodî_›ti⁄s
(
decodî
, 
›ts
) \

976 ((Ë((
decodî
)->
›ti⁄s
 = (
›ts
)))

	)

978 
mad_decodî_run
(
mad_decodî
 *, 
mad_decodî_mode
);

979 
mad_decodî_mesßge
(
mad_decodî
 *, *, *);

983 #ifde‡
__˝lu•lus


	@/usr/include/math.h

23 #i‚def 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


31 
	~<bôs/m©h-ve˘‹.h
>

35 
	~<bôs/huge_vÆ.h
>

36 #ifde‡
__USE_ISOC99


37 
	~<bôs/huge_vÆf.h
>

38 
	~<bôs/huge_vÆl.h
>

41 
	~<bôs/öf.h
>

44 
	~<bôs/«n.h
>

48 
	~<bôs/m©hdef.h
>

55 
	#__SIMD_DECL
(
fun˘i⁄
Ë
	`__CONCAT
 (
__DECL_SIMD_
, fun˘i⁄)

	)

57 
	#__MATHCALL_VEC
(
fun˘i⁄
, 
suffix
, 
¨gs
) \

58 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
fun˘i⁄
, 
suffix
)) \

59 
	`__MATHCALL
 (
fun˘i⁄
, 
suffix
, 
¨gs
)

	)

61 
	#__MATHDECL_VEC
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

62 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
fun˘i⁄
, 
suffix
)) \

63 
	`__MATHDECL
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
)

	)

65 
	#__MATHCALL
(
fun˘i⁄
,
suffix
, 
¨gs
) \

66 
	`__MATHDECL
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
)

	)

67 
	#__MATHDECL
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

68 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
); \

69 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
)

	)

70 
	#__MATHCALLX
(
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

71 
	`__MATHDECLX
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
)

	)

72 
	#__MATHDECLX
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

73 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
); \

74 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
)

	)

75 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

76 
ty≥
 
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
Ë
¨gs
 
__THROW


	)

78 
	#_MdoubÀ_
 

	)

79 
	#__MATH_PRECNAME
(
«me
,
r
Ë
	`__CONCAT
“ame,r)

	)

80 
	#__MATH_DECLARING_DOUBLE
 1

	)

81 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

82 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

83 
	~<bôs/m©hˇŒs.h
>

84 #unde‡
_MdoubÀ_


85 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


86 #unde‡
_MdoubÀ_END_NAMESPACE


87 #unde‡
__MATH_PRECNAME


88 #unde‡
__MATH_DECLARING_DOUBLE


90 #ifde‡
__USE_ISOC99


96 #i‚de‡
_MÊﬂt_


97 
	#_MÊﬂt_
 

	)

99 
	#_MdoubÀ_
 
_MÊﬂt_


	)

100 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
f
##
	)
r

101 
	#__MATH_DECLARING_DOUBLE
 0

	)

102 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

103 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

104 
	~<bôs/m©hˇŒs.h
>

105 #unde‡
_MdoubÀ_


106 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


107 #unde‡
_MdoubÀ_END_NAMESPACE


108 #unde‡
__MATH_PRECNAME


109 #unde‡
__MATH_DECLARING_DOUBLE


111 #i‡!(
deföed
 
__NO_LONG_DOUBLE_MATH
 && deföed 
_LIBC
) \

112 || 
deföed
 
__LDBL_COMPAT
 \

113 || 
deföed
 
_LIBC_TEST


114 #ifde‡
__LDBL_COMPAT


116 #ifde‡
__USE_ISOC99


117 
	$__∆dbl_√xâow¨df
 (
__x
, 
__y
)

118 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

119 #ifde‡
__REDIRECT_NTH


120 
	`__REDIRECT_NTH
 (
√xâow¨df
, (
__x
, 
__y
),

121 
__∆dbl_√xâow¨df
)

122 
	`__©åibuã__
 ((
__c⁄°__
));

123 
	`__REDIRECT_NTH
 (
√xâow¨d
, (
__x
, 
__y
),

124 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

125 
	`__REDIRECT_NTH
 (
√xâow¨dl
,

126 (
__x
, 
__y
),

127 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

131 #unde‡
__MATHDECL_1


132 
	#__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
Æüs
) \

133 
ty≥
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
), \

134 
¨gs
, 
Æüs
)

	)

135 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

136 
	`__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
	`__CONCAT
(fun˘i⁄,suffix))

	)

142 #i‚de‡
_Ml⁄g_doubÀ_


143 
	#_Ml⁄g_doubÀ_
 

	)

145 
	#_MdoubÀ_
 
_Ml⁄g_doubÀ_


	)

146 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
l
##
	)
r

147 
	#__MATH_DECLARING_DOUBLE
 0

	)

148 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

149 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

150 
	#__MATH_DECLARE_LDOUBLE
 1

	)

151 
	~<bôs/m©hˇŒs.h
>

152 #unde‡
_MdoubÀ_


153 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


154 #unde‡
_MdoubÀ_END_NAMESPACE


155 #unde‡
__MATH_PRECNAME


156 #unde‡
__MATH_DECLARING_DOUBLE


161 #unde‡
__MATHDECL_1


162 #unde‡
__MATHDECL


163 #unde‡
__MATHCALL


166 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


168 
signgam
;

173 #ifde‡
__USE_ISOC99


211 
FP_NAN
 =

212 
	#FP_NAN
 0

	)

213 
FP_NAN
,

214 
FP_INFINITE
 =

215 
	#FP_INFINITE
 1

	)

216 
FP_INFINITE
,

217 
FP_ZERO
 =

218 
	#FP_ZERO
 2

	)

219 
FP_ZERO
,

220 
FP_SUBNORMAL
 =

221 
	#FP_SUBNORMAL
 3

	)

222 
FP_SUBNORMAL
,

223 
FP_NORMAL
 =

224 
	#FP_NORMAL
 4

	)

225 
FP_NORMAL


233 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__
 \

234 && !
deföed
 
__OPTIMIZE_SIZE__


235 
	#Â˛assify
(
x
Ë
	`__buûtö_Â˛assify
 (
FP_NAN
, 
FP_INFINITE
, \

236 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

237 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


238 
	#Â˛assify
(
x
) \

239 ( (
x
Ë= (Ë? 
	`__Â˛assifyf
 (xË: 
	`__Â˛assify
 (x))

	)

241 
	#Â˛assify
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__Â˛assifyf
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__Â˛assify
 (
x
Ë: 
	`__Â˛assifyl
 (x))

	)

249 #i‡
	`__GNUC_PREREQ
 (4,0)

250 
	#signbô
(
x
) \

251 ( (
x
) ==  () \

252 ? 
	`__buûtö_signbôf
 (
x
) \

253 :  (
x
) ==  () \

254 ? 
	`__buûtö_signbô
 (
x
Ë: 
	`__buûtö_signbôl
 (x))

	)

256 #ifde‡
__NO_LONG_DOUBLE_MATH


257 
	#signbô
(
x
) \

258 ( (
x
Ë= (Ë? 
	`__signbôf
 (xË: 
	`__signbô
 (x))

	)

260 
	#signbô
(
x
) \

261 ( (
x
) ==  () \

262 ? 
	`__signbôf
 (
x
) \

263 :  (
x
) ==  () \

264 ? 
	`__signbô
 (
x
Ë: 
	`__signbôl
 (x))

	)

269 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


270 
	#isföôe
(
x
Ë
	`__buûtö_isföôe
 (x)

	)

271 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


272 
	#isföôe
(
x
) \

273 ( (
x
Ë= (Ë? 
	`__föôef
 (xË: 
	`__föôe
 (x))

	)

275 
	#isföôe
(
x
) \

276 ( (
x
) ==  () \

277 ? 
	`__föôef
 (
x
) \

278 :  (
x
) ==  () \

279 ? 
	`__föôe
 (
x
Ë: 
	`__föôñ
 (x))

	)

283 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


284 
	#i¢‹mÆ
(
x
Ë
	`__buûtö_i¢‹mÆ
 (x)

	)

286 
	#i¢‹mÆ
(
x
Ë(
	`Â˛assify
 (xË=
FP_NORMAL
)

	)

291 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


292 
	#i¢™
(
x
Ë
	`__buûtö_i¢™
 (x)

	)

293 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


294 
	#i¢™
(
x
) \

295 ( (
x
Ë= (Ë? 
	`__i¢™f
 (xË: 
	`__i¢™
 (x))

	)

297 
	#i¢™
(
x
) \

298 ( (
x
) ==  () \

299 ? 
	`__i¢™f
 (
x
) \

300 :  (
x
) ==  () \

301 ? 
	`__i¢™
 (
x
Ë: 
	`__i¢™l
 (x))

	)

305 #i‡
	`__GNUC_PREREQ
 (4,4Ë&& !
deföed
 
__SUPPORT_SNAN__


306 
	#isöf
(
x
Ë
	`__buûtö_isöf_sign
 (x)

	)

307 #ñi‡
deföed
 
__NO_LONG_DOUBLE_MATH


308 
	#isöf
(
x
) \

309 ( (
x
Ë= (Ë? 
	`__isöff
 (xË: 
	`__isöf
 (x))

	)

311 
	#isöf
(
x
) \

312 ( (
x
) ==  () \

313 ? 
	`__isöff
 (
x
) \

314 :  (
x
) ==  () \

315 ? 
	`__isöf
 (
x
Ë: 
	`__isöÊ
 (x))

	)

319 
	#MATH_ERRNO
 1

	)

320 
	#MATH_ERREXCEPT
 2

	)

325 #i‚de‡
__FAST_MATH__


326 
	#m©h_îrh™dlög
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

331 #ifde‡
__USE_GNU


333 #ifde‡
__NO_LONG_DOUBLE_MATH


334 
	#issig«lög
(
x
) \

335 ( (
x
Ë= (Ë? 
	`__issig«lögf
 (xË: 
	`__issig«lög
 (x))

	)

337 
	#issig«lög
(
x
) \

338 ( (
x
) ==  () \

339 ? 
	`__issig«lögf
 (
x
) \

340 :  (
x
) ==  () \

341 ? 
	`__issig«lög
 (
x
Ë: 
	`__issig«lögl
 (x))

	)

345 #ifdef 
__USE_MISC


349 
_IEEE_
 = -1,

350 
_SVID_
,

351 
_XOPEN_
,

352 
_POSIX_
,

353 
_ISOC_


354 } 
	t_LIB_VERSION_TYPE
;

359 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

363 #ifde‡
__USE_MISC


369 #ifde‡
__˝lu•lus


370 
__ex˚±i⁄


372 
ex˚±i⁄


375 
ty≥
;

376 *
«me
;

377 
¨g1
;

378 
¨g2
;

379 
ªtvÆ
;

380 
	}
};

382 #ifde‡
__˝lu•lus


383 
	$m©hîr
 (
__ex˚±i⁄
 *
__exc
Ë
	`throw
 ();

385 
	`m©hîr
 (
ex˚±i⁄
 *
__exc
);

388 
	#X_TLOSS
 1.41484755040568800000e+16

	)

391 
	#DOMAIN
 1

	)

392 
	#SING
 2

	)

393 
	#OVERFLOW
 3

	)

394 
	#UNDERFLOW
 4

	)

395 
	#TLOSS
 5

	)

396 
	#PLOSS
 6

	)

399 
	#HUGE
 3.40282347e+38F

	)

403 #ifde‡
__USE_XOPEN


405 
	#MAXFLOAT
 3.40282347e+38F

	)

412 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


413 
	#M_E
 2.7182818284590452354

	)

414 
	#M_LOG2E
 1.4426950408889634074

	)

415 
	#M_LOG10E
 0.43429448190325182765

	)

416 
	#M_LN2
 0.69314718055994530942

	)

417 
	#M_LN10
 2.30258509299404568402

	)

418 
	#M_PI
 3.14159265358979323846

	)

419 
	#M_PI_2
 1.57079632679489661923

	)

420 
	#M_PI_4
 0.78539816339744830962

	)

421 
	#M_1_PI
 0.31830988618379067154

	)

422 
	#M_2_PI
 0.63661977236758134308

	)

423 
	#M_2_SQRTPI
 1.12837916709551257390

	)

424 
	#M_SQRT2
 1.41421356237309504880

	)

425 
	#M_SQRT1_2
 0.70710678118654752440

	)

431 #ifde‡
__USE_GNU


432 
	#M_El
 2.718281828459045235360287471352662498L

	)

433 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

434 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

435 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

436 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

437 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

438 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

439 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

440 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

441 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

442 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

443 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

444 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

451 #i‡
deföed
 
__STRICT_ANSI__
 && !deföed 
__NO_MATH_INLINES


452 
	#__NO_MATH_INLINES
 1

	)

455 #i‡
deföed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

462 
	#isgª©î
(
x
, 
y
Ë
	`__buûtö_isgª©î
(x, y)

	)

463 
	#isgª©îequÆ
(
x
, 
y
Ë
	`__buûtö_isgª©îequÆ
(x, y)

	)

464 
	#i¶ess
(
x
, 
y
Ë
	`__buûtö_i¶ess
(x, y)

	)

465 
	#i¶es£quÆ
(
x
, 
y
Ë
	`__buûtö_i¶es£quÆ
(x, y)

	)

466 
	#i¶essgª©î
(
x
, 
y
Ë
	`__buûtö_i¶essgª©î
(x, y)

	)

467 
	#isun‹dîed
(
u
, 
v
Ë
	`__buûtö_isun‹dîed
(u, v)

	)

471 #ifde‡
__USE_EXTERN_INLINES


472 
	~<bôs/m©hölöe.h
>

477 #i‡
deföed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

478 
	~<bôs/m©h-föôe.h
>

481 #ifde‡
__USE_ISOC99


485 #i‚de‡
isgª©î


486 
	#isgª©î
(
x
, 
y
) \

487 (
__exãnsi⁄__
 \

488 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

489 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x > __y; 
	}
}))

	)

493 #i‚de‡
isgª©îequÆ


494 
	#isgª©îequÆ
(
x
, 
y
) \

495 (
__exãnsi⁄__
 \

496 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

497 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x >__y; }))

	)

501 #i‚de‡
i¶ess


502 
	#i¶ess
(
x
, 
y
) \

503 (
__exãnsi⁄__
 \

504 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

505 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x < __y; }))

	)

509 #i‚de‡
i¶es£quÆ


510 
	#i¶es£quÆ
(
x
, 
y
) \

511 (
__exãnsi⁄__
 \

512 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

513 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x <__y; }))

	)

517 #i‚de‡
i¶essgª©î


518 
	#i¶essgª©î
(
x
, 
y
) \

519 (
__exãnsi⁄__
 \

520 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

521 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& (__x < __y || __y < __x); }))

	)

525 #i‚de‡
isun‹dîed


526 
	#isun‹dîed
(
u
, 
v
) \

527 (
__exãnsi⁄__
 \

528 ({ 
	`__ty≥of__
(
u
Ë
__u
 = (u); __ty≥of__(
v
Ë
__v
 = (v); \

529 
	`Â˛assify
 (
__u
Ë=
FP_NAN
 || fp˛assify (
__v
Ë=FP_NAN; }))

	)

534 
	g__END_DECLS


	@/usr/include/stdint.h

22 #i‚de‡
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/wch¨.h
>

27 
	~<bôs/w‹dsize.h
>

34 #i‚de‡
__öt8_t_deföed


35 
	#__öt8_t_deföed


	)

36 sig√d 
	töt8_t
;

37 
	töt16_t
;

38 
	töt32_t
;

39 #i‡
__WORDSIZE
 == 64

40 
	töt64_t
;

42 
__exãnsi⁄__


43 
	töt64_t
;

48 
	tuöt8_t
;

49 
	tuöt16_t
;

50 #i‚de‡
__uöt32_t_deföed


51 
	tuöt32_t
;

52 
	#__uöt32_t_deföed


	)

54 #i‡
__WORDSIZE
 == 64

55 
	tuöt64_t
;

57 
__exãnsi⁄__


58 
	tuöt64_t
;

65 sig√d 
	töt_Àa°8_t
;

66 
	töt_Àa°16_t
;

67 
	töt_Àa°32_t
;

68 #i‡
__WORDSIZE
 == 64

69 
	töt_Àa°64_t
;

71 
__exãnsi⁄__


72 
	töt_Àa°64_t
;

76 
	tuöt_Àa°8_t
;

77 
	tuöt_Àa°16_t
;

78 
	tuöt_Àa°32_t
;

79 #i‡
__WORDSIZE
 == 64

80 
	tuöt_Àa°64_t
;

82 
__exãnsi⁄__


83 
	tuöt_Àa°64_t
;

90 sig√d 
	töt_Á°8_t
;

91 #i‡
__WORDSIZE
 == 64

92 
	töt_Á°16_t
;

93 
	töt_Á°32_t
;

94 
	töt_Á°64_t
;

96 
	töt_Á°16_t
;

97 
	töt_Á°32_t
;

98 
__exãnsi⁄__


99 
	töt_Á°64_t
;

103 
	tuöt_Á°8_t
;

104 #i‡
__WORDSIZE
 == 64

105 
	tuöt_Á°16_t
;

106 
	tuöt_Á°32_t
;

107 
	tuöt_Á°64_t
;

109 
	tuöt_Á°16_t
;

110 
	tuöt_Á°32_t
;

111 
__exãnsi⁄__


112 
	tuöt_Á°64_t
;

117 #i‡
__WORDSIZE
 == 64

118 #i‚de‡
__öçå_t_deföed


119 
	töçå_t
;

120 
	#__öçå_t_deföed


	)

122 
	tuöçå_t
;

124 #i‚de‡
__öçå_t_deföed


125 
	töçå_t
;

126 
	#__öçå_t_deföed


	)

128 
	tuöçå_t
;

133 #i‡
__WORDSIZE
 == 64

134 
	tötmax_t
;

135 
	tuötmax_t
;

137 
__exãnsi⁄__


138 
	tötmax_t
;

139 
__exãnsi⁄__


140 
	tuötmax_t
;

144 #i‡
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
Ë¯## 
L


	)

146 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

148 
	#__INT64_C
(
c
Ë¯## 
LL


	)

149 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #i‡
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #i‡
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #i‡
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #i‡
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #i‡
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #i‡
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifde‡
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #i‚de‡
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

282 
	#INT8_C
(
c
Ë
	)
c

283 
	#INT16_C
(
c
Ë
	)
c

284 
	#INT32_C
(
c
Ë
	)
c

285 #i‡
__WORDSIZE
 == 64

286 
	#INT64_C
(
c
Ë¯## 
L


	)

288 
	#INT64_C
(
c
Ë¯## 
LL


	)

292 
	#UINT8_C
(
c
Ë
	)
c

293 
	#UINT16_C
(
c
Ë
	)
c

294 
	#UINT32_C
(
c
Ë¯## 
U


	)

295 #i‡
__WORDSIZE
 == 64

296 
	#UINT64_C
(
c
Ë¯## 
UL


	)

298 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

302 #i‡
__WORDSIZE
 == 64

303 
	#INTMAX_C
(
c
Ë¯## 
L


	)

304 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

306 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

307 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/stdio.h

23 #i‚de‡
_STDIO_H


25 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	#__√ed_size_t


	)

32 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	~<bôs/ty≥s.h
>

36 
	#__√ed_FILE


	)

37 
	#__√ed___FILE


	)

41 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_POSIX
 \

51 || 
deföed
 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

52 || 
deföed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_deföed
 1

	)

58 #unde‡
__√ed_FILE


61 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_deföed
 1

	)

68 #unde‡
__√ed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


77 #ifde‡
__GNUC__


78 #i‚de‡
_VA_LIST_DEFINED


79 
_G_va_li°
 
	tva_li°
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<°d¨g.h
>

87 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


88 #i‚de‡
__off_t_deföed


89 #i‚de‡
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_deföed


	)

96 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_deföed


	)

102 #ifde‡
__USE_XOPEN2K8


103 #i‚de‡
__ssize_t_deföed


104 
__ssize_t
 
	tssize_t
;

105 
	#__ssize_t_deföed


	)

110 
__BEGIN_NAMESPACE_STD


111 #i‚de‡
__USE_FILE_OFFSET64


112 
_G_Âos_t
 
	tÂos_t
;

114 
_G_Âos64_t
 
	tÂos_t
;

116 
__END_NAMESPACE_STD


117 #ifde‡
__USE_LARGEFILE64


118 
_G_Âos64_t
 
	tÂos64_t
;

122 
	#_IOFBF
 0

	)

123 
	#_IOLBF
 1

	)

124 
	#_IONBF
 2

	)

128 #i‚de‡
BUFSIZ


129 
	#BUFSIZ
 
_IO_BUFSIZ


	)

135 #i‚de‡
EOF


136 
	#EOF
 (-1)

	)

142 
	#SEEK_SET
 0

	)

143 
	#SEEK_CUR
 1

	)

144 
	#SEEK_END
 2

	)

145 #ifde‡
__USE_GNU


146 
	#SEEK_DATA
 3

	)

147 
	#SEEK_HOLE
 4

	)

151 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


153 
	#P_tmpdú
 "/tmp"

	)

166 
	~<bôs/°dio_lim.h
>

170 
_IO_FILE
 *
°dö
;

171 
_IO_FILE
 *
°dout
;

172 
_IO_FILE
 *
°dîr
;

174 
	#°dö
 
°dö


	)

175 
	#°dout
 
°dout


	)

176 
	#°dîr
 
°dîr


	)

178 
__BEGIN_NAMESPACE_STD


180 
	$ªmove
 (c⁄° *
__fûíame
Ë
__THROW
;

182 
	$ª«me
 (c⁄° *
__ﬁd
, c⁄° *
__√w
Ë
__THROW
;

183 
__END_NAMESPACE_STD


185 #ifde‡
__USE_ATFILE


187 
	$ª«mót
 (
__ﬁdfd
, c⁄° *
__ﬁd
, 
__√wfd
,

188 c⁄° *
__√w
Ë
__THROW
;

191 
__BEGIN_NAMESPACE_STD


196 #i‚de‡
__USE_FILE_OFFSET64


197 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

199 #ifde‡
__REDIRECT


200 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

202 
	#tmpfûe
 
tmpfûe64


	)

206 #ifde‡
__USE_LARGEFILE64


207 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

211 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

212 
__END_NAMESPACE_STD


214 #ifde‡
__USE_MISC


217 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

221 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


229 *
	$ãm≤am
 (c⁄° *
__dú
, c⁄° *
__pfx
)

230 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

234 
__BEGIN_NAMESPACE_STD


239 
	`f˛o£
 (
FILE
 *
__°ªam
);

244 
	`fÊush
 (
FILE
 *
__°ªam
);

245 
__END_NAMESPACE_STD


247 #ifde‡
__USE_MISC


254 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

257 #ifde‡
__USE_GNU


264 
	`f˛o£Æl
 ();

268 
__BEGIN_NAMESPACE_STD


269 #i‚de‡
__USE_FILE_OFFSET64


274 
FILE
 *
	$f›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

275 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

280 
FILE
 *
	$‰e›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

281 c⁄° *
__ª°ri˘
 
__modes
,

282 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

284 #ifde‡
__REDIRECT


285 
FILE
 *
	`__REDIRECT
 (
f›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

286 c⁄° *
__ª°ri˘
 
__modes
), 
f›í64
)

287 
__wur
;

288 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

289 c⁄° *
__ª°ri˘
 
__modes
,

290 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

291 
__wur
;

293 
	#f›í
 
f›í64


	)

294 
	#‰e›í
 
‰e›í64


	)

297 
__END_NAMESPACE_STD


298 #ifde‡
__USE_LARGEFILE64


299 
FILE
 *
	$f›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

300 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

301 
FILE
 *
	$‰e›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

302 c⁄° *
__ª°ri˘
 
__modes
,

303 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

306 #ifdef 
__USE_POSIX


308 
FILE
 *
	$fd›í
 (
__fd
, c⁄° *
__modes
Ë
__THROW
 
__wur
;

311 #ifdef 
__USE_GNU


314 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

315 c⁄° *
__ª°ri˘
 
__modes
,

316 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

319 #ifde‡
__USE_XOPEN2K8


321 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, c⁄° *
__modes
)

322 
__THROW
 
__wur
;

327 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

331 
__BEGIN_NAMESPACE_STD


334 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

338 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

339 
__modes
, 
size_t
 
__n
Ë
__THROW
;

340 
__END_NAMESPACE_STD


342 #ifdef 
__USE_MISC


345 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

346 
size_t
 
__size
Ë
__THROW
;

349 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

353 
__BEGIN_NAMESPACE_STD


358 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

359 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

364 
	`¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

366 
	$•rötf
 (*
__ª°ri˘
 
__s
,

367 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

373 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

374 
_G_va_li°
 
__¨g
);

379 
	`v¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

381 
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

382 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

383 
__END_NAMESPACE_STD


385 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_UNIX98


386 
__BEGIN_NAMESPACE_C99


388 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

389 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

390 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

392 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

393 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

394 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

395 
__END_NAMESPACE_C99


398 #ifde‡
__USE_GNU


401 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__f
,

402 
_G_va_li°
 
__¨g
)

403 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

404 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

405 c⁄° *
__ª°ri˘
 
__fmt
, ...)

406 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

407 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

408 c⁄° *
__ª°ri˘
 
__fmt
, ...)

409 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

412 #ifde‡
__USE_XOPEN2K8


414 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
,

415 
_G_va_li°
 
__¨g
)

416 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

417 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

418 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

422 
__BEGIN_NAMESPACE_STD


427 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

428 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

433 
	$sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

435 
	$ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

436 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

438 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

439 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

440 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

441 #ifde‡
__REDIRECT


445 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

446 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

447 
__isoc99_fsˇnf
Ë
__wur
;

448 
	`__REDIRECT
 (
sˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

449 
__isoc99_sˇnf
Ë
__wur
;

450 
	`__REDIRECT_NTH
 (
ssˇnf
, (c⁄° *
__ª°ri˘
 
__s
,

451 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

452 
__isoc99_ssˇnf
);

454 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

455 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

456 
	$__isoc99_sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

457 
	$__isoc99_ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

458 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

459 
	#fsˇnf
 
__isoc99_fsˇnf


	)

460 
	#sˇnf
 
__isoc99_sˇnf


	)

461 
	#ssˇnf
 
__isoc99_ssˇnf


	)

465 
__END_NAMESPACE_STD


467 #ifdef 
__USE_ISOC99


468 
__BEGIN_NAMESPACE_C99


473 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

474 
_G_va_li°
 
__¨g
)

475 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

481 
	$vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

482 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

485 
	$vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

486 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

487 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

489 #i‡!
deföed
 
__USE_GNU
 \

490 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

491 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

492 #ifde‡
__REDIRECT


496 
	`__REDIRECT
 (
vfsˇnf
,

497 (
FILE
 *
__ª°ri˘
 
__s
,

498 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

499 
__isoc99_vfsˇnf
)

500 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

501 
	`__REDIRECT
 (
vsˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
,

502 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

503 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

504 
	`__REDIRECT_NTH
 (
vssˇnf
,

505 (c⁄° *
__ª°ri˘
 
__s
,

506 c⁄° *
__ª°ri˘
 
__f‹m©
,

507 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

508 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

510 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

511 c⁄° *
__ª°ri˘
 
__f‹m©
,

512 
_G_va_li°
 
__¨g
Ë
__wur
;

513 
	$__isoc99_vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
,

514 
_G_va_li°
 
__¨g
Ë
__wur
;

515 
	$__isoc99_vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

516 c⁄° *
__ª°ri˘
 
__f‹m©
,

517 
_G_va_li°
 
__¨g
Ë
__THROW
;

518 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

519 
	#vsˇnf
 
__isoc99_vsˇnf


	)

520 
	#vssˇnf
 
__isoc99_vssˇnf


	)

524 
__END_NAMESPACE_C99


528 
__BEGIN_NAMESPACE_STD


533 
	`fgëc
 (
FILE
 *
__°ªam
);

534 
	`gëc
 (
FILE
 *
__°ªam
);

540 
	`gëch¨
 ();

541 
__END_NAMESPACE_STD


545 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

547 #ifde‡
__USE_POSIX199506


552 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

553 
	`gëch¨_u∆ocked
 ();

556 #ifde‡
__USE_MISC


563 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

567 
__BEGIN_NAMESPACE_STD


575 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

576 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

582 
	`putch¨
 (
__c
);

583 
__END_NAMESPACE_STD


587 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

589 #ifde‡
__USE_MISC


596 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

599 #ifde‡
__USE_POSIX199506


604 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

605 
	`putch¨_u∆ocked
 (
__c
);

609 #i‡
deföed
 
__USE_MISC
 \

610 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

612 
	`gëw
 (
FILE
 *
__°ªam
);

615 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

619 
__BEGIN_NAMESPACE_STD


624 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

625 
__wur
;

627 #i‡!
deföed
 
__USE_ISOC11
 \

628 || (
deföed
 
__˝lu•lus
 && __cplusplus <= 201103L)

640 *
	$gës
 (*
__s
Ë
__wur
 
__©åibuã_dïªˇãd__
;

642 
__END_NAMESPACE_STD


644 #ifde‡
__USE_GNU


651 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

652 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

656 #ifdef 
__USE_XOPEN2K8


667 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

668 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

669 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

670 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

671 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

672 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

680 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

681 
size_t
 *
__ª°ri˘
 
__n
,

682 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

686 
__BEGIN_NAMESPACE_STD


691 
	`Âuts
 (c⁄° *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

697 
	`puts
 (c⁄° *
__s
);

704 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

711 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

712 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

717 
size_t
 
	`fwrôe
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

718 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

719 
__END_NAMESPACE_STD


721 #ifde‡
__USE_GNU


728 
	`Âuts_u∆ocked
 (c⁄° *
__ª°ri˘
 
__s
,

729 
FILE
 *
__ª°ri˘
 
__°ªam
);

732 #ifde‡
__USE_MISC


739 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

740 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

741 
size_t
 
	`fwrôe_u∆ocked
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

742 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

746 
__BEGIN_NAMESPACE_STD


751 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

756 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

761 
	`ªwöd
 (
FILE
 *
__°ªam
);

762 
__END_NAMESPACE_STD


769 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


770 #i‚de‡
__USE_FILE_OFFSET64


775 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

780 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

782 #ifde‡
__REDIRECT


783 
	`__REDIRECT
 (
f£eko
,

784 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

785 
f£eko64
);

786 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

788 
	#f£eko
 
f£eko64


	)

789 
	#·ñlo
 
·ñlo64


	)

794 
__BEGIN_NAMESPACE_STD


795 #i‚de‡
__USE_FILE_OFFSET64


800 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

805 
	`f£ços
 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
);

807 #ifde‡
__REDIRECT


808 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

809 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

810 
	`__REDIRECT
 (
f£ços
,

811 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
), 
f£ços64
);

813 
	#fgëpos
 
fgëpos64


	)

814 
	#f£ços
 
f£ços64


	)

817 
__END_NAMESPACE_STD


819 #ifde‡
__USE_LARGEFILE64


820 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

821 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

822 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

823 
	`f£ços64
 (
FILE
 *
__°ªam
, c⁄° 
Âos64_t
 *
__pos
);

826 
__BEGIN_NAMESPACE_STD


828 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

830 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

832 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

833 
__END_NAMESPACE_STD


835 #ifde‡
__USE_MISC


837 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

838 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

839 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

843 
__BEGIN_NAMESPACE_STD


848 
	`≥º‹
 (c⁄° *
__s
);

849 
__END_NAMESPACE_STD


855 
	~<bôs/sys_îæi°.h
>

858 #ifdef 
__USE_POSIX


860 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

863 #ifde‡
__USE_MISC


865 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

869 #ifde‡
__USE_POSIX2


874 
FILE
 *
	$p›í
 (c⁄° *
__comm™d
, c⁄° *
__modes
Ë
__wur
;

880 
	`p˛o£
 (
FILE
 *
__°ªam
);

884 #ifdef 
__USE_POSIX


886 *
	$˘îmid
 (*
__s
Ë
__THROW
;

890 #i‡(
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
Ë|| deföed 
__USE_GNU


892 *
	`cu£rid
 (*
__s
);

896 #ifdef 
__USE_GNU


897 
ob°ack
;

900 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

901 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

902 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

903 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

904 c⁄° *
__ª°ri˘
 
__f‹m©
,

905 
_G_va_li°
 
__¨gs
)

906 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

910 #ifde‡
__USE_POSIX199506


914 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

918 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

921 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

924 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


928 
	#__√ed_gë›t


	)

929 
	~<gë›t.h
>

934 #ifde‡
__USE_EXTERN_INLINES


935 
	~<bôs/°dio.h
>

937 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


938 
	~<bôs/°dio2.h
>

940 #ifde‡
__LDBL_COMPAT


941 
	~<bôs/°dio-ldbl.h
>

944 
__END_DECLS


	@/usr/include/stdlib.h

22 #i‚def 
_STDLIB_H


24 
	~<„©uªs.h
>

27 
	#__√ed_size_t


	)

28 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


29 
	#__√ed_wch¨_t


	)

30 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

34 
	g__BEGIN_DECLS


36 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


37 
	#_STDLIB_H
 1

	)

39 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
Ë&& !deföed 
_SYS_WAIT_H


41 
	~<bôs/waôÊags.h
>

42 
	~<bôs/waô°©us.h
>

45 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (°©us)

	)

46 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (°©us)

	)

47 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (°©us)

	)

48 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (°©us)

	)

49 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (°©us)

	)

50 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (°©us)

	)

51 #ifde‡
__WIFCONTINUED


52 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (°©us)

	)

56 
__BEGIN_NAMESPACE_STD


60 
	mquŸ
;

61 
	mªm
;

62 } 
	tdiv_t
;

65 #i‚de‡
__ldiv_t_deföed


68 
	mquŸ
;

69 
	mªm
;

70 } 
	tldiv_t
;

71 
	#__ldiv_t_deföed
 1

	)

73 
	g__END_NAMESPACE_STD


75 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__Œdiv_t_deföed


76 
__BEGIN_NAMESPACE_C99


78 
__exãnsi⁄__
 struct

80 
	mquŸ
;

81 
	mªm
;

82 } 
	tŒdiv_t
;

83 
	#__Œdiv_t_deföed
 1

	)

84 
	g__END_NAMESPACE_C99


89 
	#RAND_MAX
 2147483647

	)

94 
	#EXIT_FAILURE
 1

	)

95 
	#EXIT_SUCCESS
 0

	)

99 
	#MB_CUR_MAX
 (
	`__˘y≥_gë_mb_cur_max
 ())

	)

100 
size_t
 
	$__˘y≥_gë_mb_cur_max
 (Ë
__THROW
 
__wur
;

103 
__BEGIN_NAMESPACE_STD


105 
	$©of
 (c⁄° *
__≈å
)

106 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

108 
	$©oi
 (c⁄° *
__≈å
)

109 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

111 
	$©ﬁ
 (c⁄° *
__≈å
)

112 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

113 
__END_NAMESPACE_STD


115 #ifde‡
__USE_ISOC99


116 
__BEGIN_NAMESPACE_C99


118 
__exãnsi⁄__
 
	$©ﬁl
 (c⁄° *
__≈å
)

119 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

120 
__END_NAMESPACE_C99


123 
__BEGIN_NAMESPACE_STD


125 
	$°πod
 (c⁄° *
__ª°ri˘
 
__≈å
,

126 **
__ª°ri˘
 
__íd±r
)

127 
__THROW
 
	`__n⁄nuŒ
 ((1));

128 
__END_NAMESPACE_STD


130 #ifdef 
__USE_ISOC99


131 
__BEGIN_NAMESPACE_C99


133 
	$°πof
 (c⁄° *
__ª°ri˘
 
__≈å
,

134 **
__ª°ri˘
 
__íd±r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

136 
	$°πﬁd
 (c⁄° *
__ª°ri˘
 
__≈å
,

137 **
__ª°ri˘
 
__íd±r
)

138 
__THROW
 
	`__n⁄nuŒ
 ((1));

139 
__END_NAMESPACE_C99


142 
__BEGIN_NAMESPACE_STD


144 
	$°πﬁ
 (c⁄° *
__ª°ri˘
 
__≈å
,

145 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

146 
__THROW
 
	`__n⁄nuŒ
 ((1));

148 
	$°πoul
 (c⁄° *
__ª°ri˘
 
__≈å
,

149 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

150 
__THROW
 
	`__n⁄nuŒ
 ((1));

151 
__END_NAMESPACE_STD


153 #ifde‡
__USE_MISC


155 
__exãnsi⁄__


156 
	$°πoq
 (c⁄° *
__ª°ri˘
 
__≈å
,

157 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

158 
__THROW
 
	`__n⁄nuŒ
 ((1));

160 
__exãnsi⁄__


161 
	$°πouq
 (c⁄° *
__ª°ri˘
 
__≈å
,

162 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

163 
__THROW
 
	`__n⁄nuŒ
 ((1));

166 #ifde‡
__USE_ISOC99


167 
__BEGIN_NAMESPACE_C99


169 
__exãnsi⁄__


170 
	$°πﬁl
 (c⁄° *
__ª°ri˘
 
__≈å
,

171 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

172 
__THROW
 
	`__n⁄nuŒ
 ((1));

174 
__exãnsi⁄__


175 
	$°πouŒ
 (c⁄° *
__ª°ri˘
 
__≈å
,

176 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

177 
__THROW
 
	`__n⁄nuŒ
 ((1));

178 
__END_NAMESPACE_C99


182 #ifde‡
__USE_GNU


196 
	~<xloˇÀ.h
>

200 
	$°πﬁ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

201 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

202 
__loˇÀ_t
 
__loc
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

204 
	$°πoul_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

205 **
__ª°ri˘
 
__íd±r
,

206 
__ba£
, 
__loˇÀ_t
 
__loc
)

207 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

209 
__exãnsi⁄__


210 
	$°πﬁl_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

211 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

212 
__loˇÀ_t
 
__loc
)

213 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

215 
__exãnsi⁄__


216 
	$°πouŒ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

217 **
__ª°ri˘
 
__íd±r
,

218 
__ba£
, 
__loˇÀ_t
 
__loc
)

219 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

221 
	$°πod_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

222 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

223 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

225 
	$°πof_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

226 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

227 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

229 
	$°πﬁd_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

230 **
__ª°ri˘
 
__íd±r
,

231 
__loˇÀ_t
 
__loc
)

232 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

236 #ifde‡
__USE_EXTERN_INLINES


237 
__BEGIN_NAMESPACE_STD


238 
__exã∫_ölöe
 

239 
	`__NTH
 (
	$©oi
 (c⁄° *
__≈å
))

241  (Ë
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

242 
	}
}

243 
__exã∫_ölöe
 

244 
__NTH
 (
	$©ﬁ
 (c⁄° *
__≈å
))

246  
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

247 
	}
}

248 
	g__END_NAMESPACE_STD


250 #ifde‡
__USE_ISOC99


251 
__BEGIN_NAMESPACE_C99


252 
__exãnsi⁄__
 
__exã∫_ölöe
 

253 
__NTH
 (
	$©ﬁl
 (c⁄° *
__≈å
))

255  
	`°πﬁl
 (
__≈å
, (**Ë
NULL
, 10);

256 
	}
}

257 
	g__END_NAMESPACE_C99


262 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


266 *
	$l64a
 (
__n
Ë
__THROW
 
__wur
;

269 
	$a64l
 (c⁄° *
__s
)

270 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

274 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


275 
	~<sys/ty≥s.h
>

282 
	$øndom
 (Ë
__THROW
;

285 
	$§™dom
 (
__£ed
Ë
__THROW
;

291 *
	$öô°©e
 (
__£ed
, *
__°©ebuf
,

292 
size_t
 
__°©ñí
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

296 *
	$£t°©e
 (*
__°©ebuf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

299 #ifde‡
__USE_MISC


304 
	søndom_d©a


306 
öt32_t
 *
Âå
;

307 
öt32_t
 *
Ωå
;

308 
öt32_t
 *
°©e
;

309 
ønd_ty≥
;

310 
ønd_deg
;

311 
ønd_£p
;

312 
öt32_t
 *
íd_±r
;

315 
	$øndom_r
 (
øndom_d©a
 *
__ª°ri˘
 
__buf
,

316 
öt32_t
 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

318 
	$§™dom_r
 (
__£ed
, 
øndom_d©a
 *
__buf
)

319 
__THROW
 
	`__n⁄nuŒ
 ((2));

321 
	$öô°©e_r
 (
__£ed
, *
__ª°ri˘
 
__°©ebuf
,

322 
size_t
 
__°©ñí
,

323 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

324 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

326 
	$£t°©e_r
 (*
__ª°ri˘
 
__°©ebuf
,

327 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

328 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

333 
__BEGIN_NAMESPACE_STD


335 
	$ønd
 (Ë
__THROW
;

337 
	$§™d
 (
__£ed
Ë
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifde‡
__USE_POSIX199506


342 
	$ønd_r
 (*
__£ed
Ë
__THROW
;

346 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


350 
	$dønd48
 (Ë
__THROW
;

351 
	$î™d48
 (
__xsubi
[3]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

354 
	$Ã™d48
 (Ë
__THROW
;

355 
	$ƒ™d48
 (
__xsubi
[3])

356 
__THROW
 
	`__n⁄nuŒ
 ((1));

359 
	$mønd48
 (Ë
__THROW
;

360 
	$jønd48
 (
__xsubi
[3])

361 
__THROW
 
	`__n⁄nuŒ
 ((1));

364 
	$§™d48
 (
__£edvÆ
Ë
__THROW
;

365 *
	$£ed48
 (
__£ed16v
[3])

366 
__THROW
 
	`__n⁄nuŒ
 ((1));

367 
	$lc⁄g48
 (
__∑øm
[7]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

369 #ifde‡
__USE_MISC


373 
	sdønd48_d©a


375 
__x
[3];

376 
__ﬁd_x
[3];

377 
__c
;

378 
__öô
;

379 
__exãnsi⁄__
 
__a
;

384 
	$dønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

385 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

386 
	$î™d48_r
 (
__xsubi
[3],

387 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

388 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

391 
	$Ã™d48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

392 *
__ª°ri˘
 
__ªsu…
)

393 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

394 
	$ƒ™d48_r
 (
__xsubi
[3],

395 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

396 *
__ª°ri˘
 
__ªsu…
)

397 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

400 
	$mønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

401 *
__ª°ri˘
 
__ªsu…
)

402 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

403 
	$jønd48_r
 (
__xsubi
[3],

404 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

405 *
__ª°ri˘
 
__ªsu…
)

406 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

409 
	$§™d48_r
 (
__£edvÆ
, 
dønd48_d©a
 *
__buf„r
)

410 
__THROW
 
	`__n⁄nuŒ
 ((2));

412 
	$£ed48_r
 (
__£ed16v
[3],

413 
dønd48_d©a
 *
__buf„r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

415 
	$lc⁄g48_r
 (
__∑øm
[7],

416 
dønd48_d©a
 *
__buf„r
)

417 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

423 #i‚de‡
__mÆloc_™d_ˇŒoc_deföed


424 
	#__mÆloc_™d_ˇŒoc_deföed


	)

425 
__BEGIN_NAMESPACE_STD


427 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

429 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

430 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

431 
__END_NAMESPACE_STD


434 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


435 
__BEGIN_NAMESPACE_STD


441 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

442 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

444 
	$‰ì
 (*
__±r
Ë
__THROW
;

445 
__END_NAMESPACE_STD


447 #ifdef 
__USE_MISC


449 
	$c‰ì
 (*
__±r
Ë
__THROW
;

452 #ifde‡
__USE_MISC


453 
	~<Æloˇ.h
>

456 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

457 || 
deföed
 
__USE_MISC


459 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

462 #ifde‡
__USE_XOPEN2K


464 
	$posix_memÆign
 (**
__mem±r
, 
size_t
 
__Æignmít
, size_à
__size
)

465 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

468 #ifde‡
__USE_ISOC11


470 *
	$Æig√d_Æloc
 (
size_t
 
__Æignmít
, size_à
__size
)

471 
__THROW
 
__©åibuã_mÆloc__
 
	`__©åibuã_Æloc_size__
 ((2)Ë
__wur
;

474 
__BEGIN_NAMESPACE_STD


476 
	$ab‹t
 (Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

480 
	$©exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

482 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


484 #ifde‡
__˝lu•lus


485 "C++" 
	$©_quick_exô
 ((*
__func
) ())

486 
__THROW
 
	`__asm
 ("©_quick_exô"Ë
	`__n⁄nuŒ
 ((1));

488 
	$©_quick_exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

491 
__END_NAMESPACE_STD


493 #ifdef 
__USE_MISC


496 
	$⁄_exô
 ((*
__func
Ë(
__°©us
, *
__¨g
), *__arg)

497 
__THROW
 
	`__n⁄nuŒ
 ((1));

500 
__BEGIN_NAMESPACE_STD


504 
	$exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

506 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


510 
	$quick_exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

512 
__END_NAMESPACE_STD


514 #ifde‡
__USE_ISOC99


515 
__BEGIN_NAMESPACE_C99


518 
	$_Exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

519 
__END_NAMESPACE_C99


523 
__BEGIN_NAMESPACE_STD


525 *
	$gëív
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

526 
__END_NAMESPACE_STD


528 #ifde‡
__USE_GNU


531 *
	$£cuª_gëív
 (c⁄° *
__«me
)

532 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

535 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


539 
	$puãnv
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

542 #ifde‡
__USE_XOPEN2K


545 
	$£ãnv
 (c⁄° *
__«me
, c⁄° *
__vÆue
, 
__ª∂a˚
)

546 
__THROW
 
	`__n⁄nuŒ
 ((2));

549 
	$un£ãnv
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

552 #ifdef 
__USE_MISC


556 
	$˛óªnv
 (Ë
__THROW
;

560 #i‡
deföed
 
__USE_MISC
 \

561 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
)

567 *
	$mkãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

570 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


579 #i‚de‡
__USE_FILE_OFFSET64


580 
	$mk°emp
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

582 #ifde‡
__REDIRECT


583 
	`__REDIRECT
 (
mk°emp
, (*
__ãm∂©e
), 
mk°emp64
)

584 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

586 
	#mk°emp
 
mk°emp64


	)

589 #ifde‡
__USE_LARGEFILE64


590 
	$mk°emp64
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

594 #ifde‡
__USE_MISC


601 #i‚de‡
__USE_FILE_OFFSET64


602 
	$mk°emps
 (*
__ãm∂©e
, 
__suffixÀn
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

604 #ifde‡
__REDIRECT


605 
	`__REDIRECT
 (
mk°emps
, (*
__ãm∂©e
, 
__suffixÀn
),

606 
mk°emps64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

608 
	#mk°emps
 
mk°emps64


	)

611 #ifde‡
__USE_LARGEFILE64


612 
	$mk°emps64
 (*
__ãm∂©e
, 
__suffixÀn
)

613 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

617 #ifde‡
__USE_XOPEN2K8


623 *
	$mkdãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

626 #ifde‡
__USE_GNU


633 #i‚de‡
__USE_FILE_OFFSET64


634 
	$mko°emp
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

636 #ifde‡
__REDIRECT


637 
	`__REDIRECT
 (
mko°emp
, (*
__ãm∂©e
, 
__Êags
), 
mko°emp64
)

638 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

640 
	#mko°emp
 
mko°emp64


	)

643 #ifde‡
__USE_LARGEFILE64


644 
	$mko°emp64
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

653 #i‚de‡
__USE_FILE_OFFSET64


654 
	$mko°emps
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

655 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

657 #ifde‡
__REDIRECT


658 
	`__REDIRECT
 (
mko°emps
, (*
__ãm∂©e
, 
__suffixÀn
,

659 
__Êags
), 
mko°emps64
)

660 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

662 
	#mko°emps
 
mko°emps64


	)

665 #ifde‡
__USE_LARGEFILE64


666 
	$mko°emps64
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

667 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

672 
__BEGIN_NAMESPACE_STD


677 
	$sy°em
 (c⁄° *
__comm™d
Ë
__wur
;

678 
__END_NAMESPACE_STD


681 #ifdef 
__USE_GNU


684 *
	$ˇn⁄iˇlize_fûe_«me
 (c⁄° *
__«me
)

685 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

688 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


694 *
	$ªÆ∑th
 (c⁄° *
__ª°ri˘
 
__«me
,

695 *
__ª°ri˘
 
__ªsﬁved
Ë
__THROW
 
__wur
;

700 #i‚de‡
__COMPAR_FN_T


701 
	#__COMPAR_FN_T


	)

702 (*
	t__com∑r_‚_t
) (const *, const *);

704 #ifdef 
__USE_GNU


705 
__com∑r_‚_t
 
	tcom∑ris⁄_‚_t
;

708 #ifde‡
__USE_GNU


709 (*
	t__com∑r_d_‚_t
) (const *, const *, *);

712 
__BEGIN_NAMESPACE_STD


715 *
	$b£¨ch
 (c⁄° *
__key
, c⁄° *
__ba£
,

716 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
__com∑r
)

717 
	`__n⁄nuŒ
 ((1, 2, 5)Ë
__wur
;

719 #ifde‡
__USE_EXTERN_INLINES


720 
	~<bôs/°dlib-b£¨ch.h
>

725 
	$qs‹t
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

726 
__com∑r_‚_t
 
__com∑r
Ë
	`__n⁄nuŒ
 ((1, 4));

727 #ifde‡
__USE_GNU


728 
	$qs‹t_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

729 
__com∑r_d_‚_t
 
__com∑r
, *
__¨g
)

730 
	`__n⁄nuŒ
 ((1, 4));

735 
	$abs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

736 
	$œbs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

737 
__END_NAMESPACE_STD


739 #ifde‡
__USE_ISOC99


740 
__exãnsi⁄__
 
	$Œabs
 (
__x
)

741 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

745 
__BEGIN_NAMESPACE_STD


749 
div_t
 
	$div
 (
__numî
, 
__díom
)

750 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

751 
ldiv_t
 
	$ldiv
 (
__numî
, 
__díom
)

752 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

753 
__END_NAMESPACE_STD


755 #ifde‡
__USE_ISOC99


756 
__BEGIN_NAMESPACE_C99


757 
__exãnsi⁄__
 
Œdiv_t
 
	$Œdiv
 (
__numî
,

758 
__díom
)

759 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

760 
__END_NAMESPACE_C99


764 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

765 || 
deföed
 
__USE_MISC


772 *
	$ecvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

773 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

778 *
	$fcvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

779 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

784 *
	$gcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

785 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

788 #ifde‡
__USE_MISC


790 *
	$qecvt
 (
__vÆue
, 
__ndigô
,

791 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

792 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

793 *
	$qfcvt
 (
__vÆue
, 
__ndigô
,

794 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

795 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

796 *
	$qgcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

797 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

802 
	$ecvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

803 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

804 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

805 
	$fcvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

806 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

807 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

809 
	$qecvt_r
 (
__vÆue
, 
__ndigô
,

810 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

811 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

812 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

813 
	$qfcvt_r
 (
__vÆue
, 
__ndigô
,

814 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

815 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

816 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

820 
__BEGIN_NAMESPACE_STD


823 
	$mbÀn
 (c⁄° *
__s
, 
size_t
 
__n
Ë
__THROW
;

826 
	$mbtowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

827 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

830 
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
Ë
__THROW
;

834 
size_t
 
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__pwcs
,

835 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

837 
size_t
 
	$wc°ombs
 (*
__ª°ri˘
 
__s
,

838 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__pwcs
, 
size_t
 
__n
)

839 
__THROW
;

840 
__END_NAMESPACE_STD


843 #ifde‡
__USE_MISC


848 
	$Ωm©ch
 (c⁄° *
__ª•⁄£
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

852 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


859 
	$gësub›t
 (**
__ª°ri˘
 
__›ti⁄p
,

860 *c⁄° *
__ª°ri˘
 
__tokís
,

861 **
__ª°ri˘
 
__vÆuï
)

862 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3)Ë
__wur
;

866 #ifde‡
__USE_XOPEN


868 
	$£tkey
 (c⁄° *
__key
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

874 #ifde‡
__USE_XOPEN2KXSI


876 
	$posix_›í±
 (
__oÊag
Ë
__wur
;

879 #ifde‡
__USE_XOPEN_EXTENDED


884 
	$gø¡±
 (
__fd
Ë
__THROW
;

888 
	$u∆ock±
 (
__fd
Ë
__THROW
;

893 *
	$±¢ame
 (
__fd
Ë
__THROW
 
__wur
;

896 #ifde‡
__USE_GNU


900 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

901 
__THROW
 
	`__n⁄nuŒ
 ((2));

904 
	`gë±
 ();

907 #ifde‡
__USE_MISC


911 
	$gëlﬂdavg
 (
__lﬂdavg
[], 
__√Àm
)

912 
__THROW
 
	`__n⁄nuŒ
 ((1));

915 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K


918 
	$ây¶Ÿ
 (Ë
__THROW
;

921 
	~<bôs/°dlib-Êﬂt.h
>

924 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


925 
	~<bôs/°dlib.h
>

927 #ifde‡
__LDBL_COMPAT


928 
	~<bôs/°dlib-ldbl.h
>

932 #unde‡
__√ed_mÆloc_™d_ˇŒoc


934 
__END_DECLS


	@/usr/include/string.h

22 #i‚def 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


30 
	#__√ed_size_t


	)

31 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

35 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

43 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

46 *
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

47 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


54 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

65 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

69 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

74 c⁄° *
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

77 #ifde‡
__OPTIMIZE__


78 
__exã∫_Æways_ölöe
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


81  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

84 
__exã∫_Æways_ölöe
 const *

85 
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


87  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifde‡
__USE_GNU


100 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

103 "C++" c⁄° *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

107 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

111 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

114 "C++" c⁄° *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

117 *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

126 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

128 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

129 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

130 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

133 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

134 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

136 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

137 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

140 
	$°rcmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

141 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

143 
	$°∫cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

147 
	$°rcﬁl
 (c⁄° *
__s1
, c⁄° *
__s2
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

150 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

151 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
 
	`__n⁄nuŒ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifde‡
__USE_XOPEN2K8


159 
	~<xloˇÀ.h
>

162 
	$°rcﬁl_l
 (c⁄° *
__s1
, c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

163 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

165 
size_t
 
	$°rx‰m_l
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

166 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

169 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


171 *
	$°rdup
 (c⁄° *
__s
)

172 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

178 #i‡
deföed
 
__USE_XOPEN2K8


179 *
	$°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

180 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

183 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


185 
	#°rdu∑
(
s
) \

186 (
__exãnsi⁄__
 \

188 c⁄° *
__ﬁd
 = (
s
); \

189 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

190 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

191 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

192 
	}
}))

	)

195 
	#°∫du∑
(
s
, 
n
) \

196 (
__exãnsi⁄__
 \

198 c⁄° *
__ﬁd
 = (
s
); \

199 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

200 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

201 
__√w
[
__Àn
] = '\0'; \

202 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

203 }))

	)

206 
	g__BEGIN_NAMESPACE_STD


208 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


211 *
°rchr
 (*
__s
, 
__c
)

212 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

213 c⁄° *
°rchr
 (c⁄° *
__s
, 
__c
)

214 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

216 #ifde‡
__OPTIMIZE__


217 
__exã∫_Æways_ölöe
 *

218 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


220  
__buûtö_°rchr
 (
__s
, 
__c
);

223 
__exã∫_Æways_ölöe
 const *

224 
°rchr
 (c⁄° *
__s
, 
__c
Ë
	g__THROW


226  
__buûtö_°rchr
 (
__s
, 
__c
);

231 *
	$°rchr
 (c⁄° *
__s
, 
__c
)

232 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

235 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


238 *
	`°ºchr
 (*
__s
, 
__c
)

239 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

240 c⁄° *
	`°ºchr
 (c⁄° *
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

243 #ifde‡
__OPTIMIZE__


244 
__exã∫_Æways_ölöe
 *

245 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


247  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

250 
__exã∫_Æways_ölöe
 const *

251 
	`°ºchr
 (c⁄° *
__s
, 
__c
Ë
__THROW


253  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

256 
	}
}

258 *
	$°ºchr
 (c⁄° *
__s
, 
__c
)

259 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

261 
__END_NAMESPACE_STD


263 #ifde‡
__USE_GNU


266 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


267 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

268 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

269 "C++" c⁄° *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

272 *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

273 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

277 
__BEGIN_NAMESPACE_STD


280 
size_t
 
	$°rc•n
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

281 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

284 
size_t
 
	$°r•n
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

285 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

287 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


290 *
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
)

291 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

292 c⁄° *
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

293 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

295 #ifde‡
__OPTIMIZE__


296 
__exã∫_Æways_ölöe
 *

297 
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
Ë
__THROW


299  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

302 
__exã∫_Æways_ölöe
 const *

303 
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
Ë
__THROW


305  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

308 
	}
}

310 *
	$°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

311 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

314 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


317 *
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

318 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

319 c⁄° *
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

320 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

322 #ifde‡
__OPTIMIZE__


323 
__exã∫_Æways_ölöe
 *

324 
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


326  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

329 
__exã∫_Æways_ölöe
 const *

330 
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


332  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

335 
	}
}

337 *
	$°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

338 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

343 *
	$°πok
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
)

344 
__THROW
 
	`__n⁄nuŒ
 ((2));

345 
__END_NAMESPACE_STD


349 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

350 c⁄° *
__ª°ri˘
 
__dñim
,

351 **
__ª°ri˘
 
__ßve_±r
)

352 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

353 #ifde‡
__USE_POSIX


354 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
,

355 **
__ª°ri˘
 
__ßve_±r
)

356 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

359 #ifde‡
__USE_GNU


361 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


362 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

363 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

364 "C++" c⁄° *
	$°rˇ£°r
 (c⁄° *
__hay°ack
,

365 c⁄° *
__√edÀ
)

366 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

368 *
	$°rˇ£°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

369 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

373 #ifde‡
__USE_GNU


377 *
	$memmem
 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

378 c⁄° *
__√edÀ
, 
size_t
 
__√edÀÀn
)

379 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

383 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

384 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

385 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

386 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

387 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

388 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

392 
__BEGIN_NAMESPACE_STD


394 
size_t
 
	$°æí
 (c⁄° *
__s
)

395 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

396 
__END_NAMESPACE_STD


398 #ifdef 
__USE_XOPEN2K8


401 
size_t
 
	$°∫Àn
 (c⁄° *
__°rög
, 
size_t
 
__maxÀn
)

402 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

406 
__BEGIN_NAMESPACE_STD


408 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

409 
__END_NAMESPACE_STD


410 #ifde‡
__USE_XOPEN2K


418 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


421 #ifde‡
__REDIRECT_NTH


422 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

423 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

424 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

426 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

427 
__THROW
 
	`__n⁄nuŒ
 ((2));

428 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

433 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

434 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

438 #ifde‡
__USE_XOPEN2K8


440 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

446 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

448 #ifde‡
__USE_MISC


450 
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__n
)

451 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

454 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

457 
	$bcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

458 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

461 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


464 *
	`ödex
 (*
__s
, 
__c
)

465 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

466 c⁄° *
	`ödex
 (c⁄° *
__s
, 
__c
)

467 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

469 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


470 
__exã∫_Æways_ölöe
 *

471 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


473  
	`__buûtö_ödex
 (
__s
, 
__c
);

476 
__exã∫_Æways_ölöe
 const *

477 
	`ödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


479  
	`__buûtö_ödex
 (
__s
, 
__c
);

482 
	}
}

484 *
	$ödex
 (c⁄° *
__s
, 
__c
)

485 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

489 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


492 *
	`rödex
 (*
__s
, 
__c
)

493 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

494 c⁄° *
	`rödex
 (c⁄° *
__s
, 
__c
)

495 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

497 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


498 
__exã∫_Æways_ölöe
 *

499 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


501  
	`__buûtö_rödex
 (
__s
, 
__c
);

504 
__exã∫_Æways_ölöe
 const *

505 
	`rödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


507  
	`__buûtö_rödex
 (
__s
, 
__c
);

510 
	}
}

512 *
	$rödex
 (c⁄° *
__s
, 
__c
)

513 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

518 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

522 #ifdef 
__USE_GNU


523 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

524 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

525 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

529 
	$°rˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

530 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

533 
	$°∫ˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

534 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

537 #ifdef 
__USE_GNU


540 
	$°rˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

541 
__loˇÀ_t
 
__loc
)

542 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

544 
	$°∫ˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

545 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

546 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

549 #ifdef 
__USE_MISC


552 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

553 c⁄° *
__ª°ri˘
 
__dñim
)

554 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

557 #ifdef 
__USE_XOPEN2K8


559 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

562 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

563 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

564 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

565 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

569 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

570 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

571 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

572 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

573 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

574 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

577 #ifdef 
__USE_GNU


579 
	$°rvîscmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

580 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

583 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

586 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

588 #i‚de‡
ba£«me


593 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


594 "C++" *
	$ba£«me
 (*
__fûíame
)

595 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

596 "C++" c⁄° *
	$ba£«me
 (c⁄° *
__fûíame
)

597 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

599 *
	$ba£«me
 (c⁄° *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

605 #i‡
	`__GNUC_PREREQ
 (3,4)

606 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

607 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


627 
	~<bôs/°rög.h
>

630 
	~<bôs/°rög2.h
>

633 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


635 
	~<bôs/°rög3.h
>

639 #i‡
deföed
 
__USE_GNU
 && deföed 
__OPTIMIZE__
 \

640 && 
deföed
 
__exã∫_Æways_ölöe
 && 
	$__GNUC_PREREQ
 (3,2)

641 #i‡!
deföed
 
_FORCE_INLINES
 && !deföed 
_HAVE_STRING_ARCH_memp˝y


643 
	#memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y_ölöe
 (de°, src,Ç)

	)

644 
	#__memp˝y
(
de°
, 
§c
, 
n
Ë
	`__memp˝y_ölöe
 (de°, src,Ç)

	)

646 
__exã∫_Æways_ölöe
 *

647 
	$__memp˝y_ölöe
 (*
__ª°ri˘
 
__de°
,

648 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

650  (*Ë
	`mem˝y
 (
__de°
, 
__§c
, 
__n
) + __n;

651 
	}
}

656 
	g__END_DECLS


	@/usr/include/sys/types.h

22 #i‚def 
_SYS_TYPES_H


23 
	#_SYS_TYPES_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<bôs/ty≥s.h
>

31 #ifdef 
__USE_MISC


32 #i‚de‡
__u_ch¨_deföed


33 
__u_ch¨
 
	tu_ch¨
;

34 
__u_sh‹t
 
	tu_sh‹t
;

35 
__u_öt
 
	tu_öt
;

36 
__u_l⁄g
 
	tu_l⁄g
;

37 
__quad_t
 
	tquad_t
;

38 
__u_quad_t
 
	tu_quad_t
;

39 
__fsid_t
 
	tfsid_t
;

40 
	#__u_ch¨_deföed


	)

44 
__loff_t
 
	tloff_t
;

46 #i‚de‡
__öo_t_deföed


47 #i‚de‡
__USE_FILE_OFFSET64


48 
__öo_t
 
	töo_t
;

50 
__öo64_t
 
	töo_t
;

52 
	#__öo_t_deföed


	)

54 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


55 
__öo64_t
 
	töo64_t
;

56 
	#__öo64_t_deföed


	)

59 #i‚de‡
__dev_t_deföed


60 
__dev_t
 
	tdev_t
;

61 
	#__dev_t_deföed


	)

64 #i‚de‡
__gid_t_deföed


65 
__gid_t
 
	tgid_t
;

66 
	#__gid_t_deföed


	)

69 #i‚de‡
__mode_t_deföed


70 
__mode_t
 
	tmode_t
;

71 
	#__mode_t_deföed


	)

74 #i‚de‡
__∆ök_t_deföed


75 
__∆ök_t
 
	t∆ök_t
;

76 
	#__∆ök_t_deföed


	)

79 #i‚de‡
__uid_t_deföed


80 
__uid_t
 
	tuid_t
;

81 
	#__uid_t_deföed


	)

84 #i‚de‡
__off_t_deföed


85 #i‚de‡
__USE_FILE_OFFSET64


86 
__off_t
 
	toff_t
;

88 
__off64_t
 
	toff_t
;

90 
	#__off_t_deföed


	)

92 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


93 
__off64_t
 
	toff64_t
;

94 
	#__off64_t_deföed


	)

97 #i‚de‡
__pid_t_deföed


98 
__pid_t
 
	tpid_t
;

99 
	#__pid_t_deföed


	)

102 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
) \

103 && !
deföed
 
__id_t_deföed


104 
__id_t
 
	tid_t
;

105 
	#__id_t_deföed


	)

108 #i‚de‡
__ssize_t_deföed


109 
__ssize_t
 
	tssize_t
;

110 
	#__ssize_t_deföed


	)

113 #ifdef 
__USE_MISC


114 #i‚de‡
__daddr_t_deföed


115 
__daddr_t
 
	tdaddr_t
;

116 
__ˇddr_t
 
	tˇddr_t
;

117 
	#__daddr_t_deföed


	)

121 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN
Ë&& !deföed 
__key_t_deföed


122 
__key_t
 
	tkey_t
;

123 
	#__key_t_deföed


	)

126 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


127 
	#__√ed_˛ock_t


	)

129 
	#__√ed_time_t


	)

130 
	#__√ed_timî_t


	)

131 
	#__√ed_˛ockid_t


	)

132 
	~<time.h
>

134 #ifde‡
__USE_XOPEN


135 #i‚de‡
__u£c⁄ds_t_deföed


136 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

137 
	#__u£c⁄ds_t_deföed


	)

139 #i‚de‡
__su£c⁄ds_t_deföed


140 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

141 
	#__su£c⁄ds_t_deföed


	)

145 
	#__√ed_size_t


	)

146 
	~<°ddef.h
>

148 #ifde‡
__USE_MISC


150 
	tul⁄g
;

151 
	tush‹t
;

152 
	tuöt
;

157 #i‡!
__GNUC_PREREQ
 (2, 7)

160 #i‚de‡
__öt8_t_deföed


161 
	#__öt8_t_deföed


	)

162 
	töt8_t
;

163 
	töt16_t
;

164 
	töt32_t
;

165 #i‡
__WORDSIZE
 == 64

166 
	töt64_t
;

168 
__exãnsi⁄__
 
	töt64_t
;

173 
	tu_öt8_t
;

174 
	tu_öt16_t
;

175 
	tu_öt32_t
;

176 #i‡
__WORDSIZE
 == 64

177 
	tu_öt64_t
;

179 
__exãnsi⁄__
 
	tu_öt64_t
;

182 
	tªgi°î_t
;

187 
	#__ötN_t
(
N
, 
MODE
) \

188 ##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

189 
	t__u_ötN_t
(
	tN
, 
	tMODE
) \

190 
	tu_öt
##
	tN
##
	t_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	tMODE
)))

	)

192 #i‚de‡
	t__öt8_t_deföed


193 
	t__öt8_t_deföed


	)

194 
	t__ötN_t
 (8, 
	t__QI__
);

195 
__ötN_t
 (16, 
__HI__
);

196 
__ötN_t
 (32, 
__SI__
);

197 
__ötN_t
 (64, 
__DI__
);

200 
__u_ötN_t
 (8, 
__QI__
);

201 
__u_ötN_t
 (16, 
__HI__
);

202 
__u_ötN_t
 (32, 
__SI__
);

203 
__u_ötN_t
 (64, 
__DI__
);

205 
	tªgi°î_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__w‹d__
)));

211 
	#__BIT_TYPES_DEFINED__
 1

	)

214 #ifdef 
__USE_MISC


216 
	~<ídün.h
>

219 
	~<sys/£À˘.h
>

222 
	~<sys/sysma¸os.h
>

226 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
) \

227 && !
deföed
 
__blksize_t_deföed


228 
__blksize_t
 
	tblksize_t
;

229 
	#__blksize_t_deföed


	)

233 #i‚de‡
__USE_FILE_OFFSET64


234 #i‚de‡
__blk˙t_t_deföed


235 
__blk˙t_t
 
	tblk˙t_t
;

236 
	#__blk˙t_t_deföed


	)

238 #i‚de‡
__fsblk˙t_t_deföed


239 
__fsblk˙t_t
 
	tfsblk˙t_t
;

240 
	#__fsblk˙t_t_deföed


	)

242 #i‚de‡
__fsfû˙t_t_deföed


243 
__fsfû˙t_t
 
	tfsfû˙t_t
;

244 
	#__fsfû˙t_t_deföed


	)

247 #i‚de‡
__blk˙t_t_deföed


248 
__blk˙t64_t
 
	tblk˙t_t
;

249 
	#__blk˙t_t_deföed


	)

251 #i‚de‡
__fsblk˙t_t_deföed


252 
__fsblk˙t64_t
 
	tfsblk˙t_t
;

253 
	#__fsblk˙t_t_deföed


	)

255 #i‚de‡
__fsfû˙t_t_deföed


256 
__fsfû˙t64_t
 
	tfsfû˙t_t
;

257 
	#__fsfû˙t_t_deföed


	)

261 #ifde‡
__USE_LARGEFILE64


262 
__blk˙t64_t
 
	tblk˙t64_t
;

263 
__fsblk˙t64_t
 
	tfsblk˙t64_t
;

264 
__fsfû˙t64_t
 
	tfsfû˙t64_t
;

269 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


270 
	~<bôs/±hªadty≥s.h
>

273 
	g__END_DECLS


	@/usr/include/sys/wait.h

22 #i‚def 
_SYS_WAIT_H


23 
	#_SYS_WAIT_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<sig«l.h
>

32 #i‡!
deföed
 
_STDLIB_H
 || (!deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K8
)

35 
	~<bôs/waôÊags.h
>

38 
	~<bôs/waô°©us.h
>

40 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (°©us)

	)

41 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (°©us)

	)

42 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (°©us)

	)

43 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (°©us)

	)

44 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (°©us)

	)

45 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (°©us)

	)

46 #ifde‡
__WIFCONTINUED


47 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (°©us)

	)

51 #ifdef 
__USE_MISC


52 
	#WCOREFLAG
 
__WCOREFLAG


	)

53 
	#WCOREDUMP
(
°©us
Ë
	`__WCOREDUMP
 (°©us)

	)

54 
	#W_EXITCODE
(
ªt
, 
sig
Ë
	`__W_EXITCODE
 (ªt, sig)

	)

55 
	#W_STOPCODE
(
sig
Ë
	`__W_STOPCODE
 (sig)

	)

63 
__pid_t
 
waô
 (*
__°©_loc
);

65 #ifdef 
__USE_MISC


67 
	#WAIT_ANY
 (-1Ë

	)

68 
	#WAIT_MYPGRP
 0

	)

86 
__pid_t
 
waôpid
 (__pid_à
__pid
, *
__°©_loc
, 
__›ti⁄s
);

88 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


89 #i‚de‡
__id_t_deföed


90 
	~<bôs/ty≥s.h
>

91 
__id_t
 
	tid_t
;

92 
	#__id_t_deföed


	)

95 
	#__√ed_sigöfo_t


	)

96 
	~<bôs/sigöfo.h
>

109 
waôid
 (
idty≥_t
 
__idty≥
, 
__id_t
 
__id
, 
sigöfo_t
 *
__öf›
,

110 
__›ti⁄s
);

113 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


116 
	grußge
;

123 
__pid_t
 
	$waô3
 (*
__°©_loc
, 
__›ti⁄s
,

124 
rußge
 * 
__ußge
Ë
__THROWNL
;

127 #ifde‡
__USE_MISC


129 
__pid_t
 
	$waô4
 (
__pid_t
 
__pid
, *
__°©_loc
, 
__›ti⁄s
,

130 
rußge
 *
__ußge
Ë
__THROWNL
;

134 
__END_DECLS


	@/usr/include/time.h

22 #i‚def 
_TIME_H


24 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

25 ! 
deföed
 
	g__√ed_time•ec
)

26 
	#_TIME_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__√ed_size_t


	)

36 
	#__√ed_NULL


	)

37 
	~<°ddef.h
>

41 
	~<bôs/time.h
>

44 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


45 #i‚de‡
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

53 
	#__˛ock_t_deföed
 1

	)

55 
	~<bôs/ty≥s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__˛ock_t
 
	t˛ock_t
;

60 
	g__END_NAMESPACE_STD


61 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX


62 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

66 #unde‡
__√ed_˛ock_t


68 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

69 
	#__time_t_deföed
 1

	)

71 
	~<bôs/ty≥s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ifde‡
__USE_POSIX


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #unde‡
__√ed_time_t


84 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

85 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

86 
	#__˛ockid_t_deföed
 1

	)

88 
	~<bôs/ty≥s.h
>

91 
__˛ockid_t
 
	t˛ockid_t
;

94 #unde‡
__˛ockid_time_t


96 #i‡!
deföed
 
__timî_t_deföed
 && \

97 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

98 
	#__timî_t_deföed
 1

	)

100 
	~<bôs/ty≥s.h
>

103 
__timî_t
 
	ttimî_t
;

106 #unde‡
__√ed_timî_t


109 #i‡(!
deföed
 
__time•ec_deföed
 \

110 && ((
deföed
 
_TIME_H
 \

111 && (
deföed
 
__USE_POSIX199309
 \

112 || 
deföed
 
__USE_ISOC11
)) \

113 || 
deföed
 
__√ed_time•ec
))

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
__sysˇŒ_¶⁄g_t
 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_MISC


146 
tm_gmtoff
;

147 c⁄° *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 c⁄° *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 #ifde‡
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

195 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

196 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

199 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

205 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

206 c⁄° *
__ª°ri˘
 
__f‹m©
,

207 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifde‡
__USE_XOPEN


213 *
	$°Ωtime
 (c⁄° *
__ª°ri˘
 
__s
,

214 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

215 
__THROW
;

218 #ifde‡
__USE_XOPEN2K8


221 
	~<xloˇÀ.h
>

223 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

224 c⁄° *
__ª°ri˘
 
__f‹m©
,

225 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

229 #ifde‡
__USE_GNU


230 *
	$°Ωtime_l
 (c⁄° *
__ª°ri˘
 
__s
,

231 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

232 
__loˇÀ_t
 
__loc
Ë
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

243 
tm
 *
	$loˇ…ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

244 
__END_NAMESPACE_STD


246 #ifde‡
__USE_POSIX


249 
tm
 *
	$gmtime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

250 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

254 
tm
 *
	$loˇ…ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

255 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$as˘ime
 (c⁄° 
tm
 *
__ç
Ë
__THROW
;

264 *
	$˘ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

265 
__END_NAMESPACE_STD


267 #ifde‡
__USE_POSIX


272 *
	$as˘ime_r
 (c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

273 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
	$˘ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

277 *
__ª°ri˘
 
__buf
Ë
__THROW
;

282 *
__tz«me
[2];

283 
__daylight
;

284 
__timez⁄e
;

287 #ifdef 
__USE_POSIX


289 *
tz«me
[2];

293 
	$tz£t
 (Ë
__THROW
;

296 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


297 
daylight
;

298 
timez⁄e
;

301 #ifde‡
__USE_MISC


304 
	$°ime
 (c⁄° 
time_t
 *
__whí
Ë
__THROW
;

310 
	#__i¶óp
(
yór
) \

311 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

314 #ifde‡
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

322 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

325 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

329 #ifde‡
__USE_POSIX199309


334 
	`«no¶ìp
 (c⁄° 
time•ec
 *
__ªque°ed_time
,

335 
time•ec
 *
__ªmaöög
);

339 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

342 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

345 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, c⁄° 
time•ec
 *
__ç
)

346 
__THROW
;

348 #ifde‡
__USE_XOPEN2K


353 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

354 c⁄° 
time•ec
 *
__ªq
,

355 
time•ec
 *
__ªm
);

358 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

363 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

364 
sigevít
 *
__ª°ri˘
 
__evp
,

365 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

368 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

371 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

372 c⁄° 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

373 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

376 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

377 
__THROW
;

380 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

384 #ifde‡
__USE_ISOC11


386 
	$time•ec_gë
 (
time•ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__n⁄nuŒ
 ((1));

391 #ifde‡
__USE_XOPEN_EXTENDED


403 
gëd©e_îr
;

412 
tm
 *
	`gëd©e
 (c⁄° *
__°rög
);

415 #ifde‡
__USE_GNU


426 
	`gëd©e_r
 (c⁄° *
__ª°ri˘
 
__°rög
,

427 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #i‚def 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


32 #ifde‡
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #ñi‡
deföed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #ñi‡
deföed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #ñi‡
deföed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifde‡
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #ñi‡
deföed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #ñi‡
deföed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifde‡
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #ñi‡
deföed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #ñi‡
deföed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

111 
	#_XOPEN_CRYPT
 1

	)

115 
	#_XOPEN_ENH_I18N
 1

	)

118 
	#_XOPEN_LEGACY
 1

	)

205 
	~<bôs/posix_›t.h
>

208 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


209 
	~<bôs/ívú⁄míts.h
>

213 
	#STDIN_FILENO
 0

	)

214 
	#STDOUT_FILENO
 1

	)

215 
	#STDERR_FILENO
 2

	)

220 
	~<bôs/ty≥s.h
>

222 #i‚def 
__ssize_t_deföed


223 
__ssize_t
 
	tssize_t
;

224 
	#__ssize_t_deföed


	)

227 
	#__√ed_size_t


	)

228 
	#__√ed_NULL


	)

229 
	~<°ddef.h
>

231 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


234 #i‚de‡
__gid_t_deföed


235 
__gid_t
 
	tgid_t
;

236 
	#__gid_t_deföed


	)

239 #i‚de‡
__uid_t_deföed


240 
__uid_t
 
	tuid_t
;

241 
	#__uid_t_deföed


	)

244 #i‚de‡
__off_t_deföed


245 #i‚de‡
__USE_FILE_OFFSET64


246 
__off_t
 
	toff_t
;

248 
__off64_t
 
	toff_t
;

250 
	#__off_t_deföed


	)

252 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


253 
__off64_t
 
	toff64_t
;

254 
	#__off64_t_deföed


	)

257 #i‚de‡
__u£c⁄ds_t_deföed


258 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

259 
	#__u£c⁄ds_t_deföed


	)

262 #i‚de‡
__pid_t_deföed


263 
__pid_t
 
	tpid_t
;

264 
	#__pid_t_deföed


	)

268 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


269 #i‚de‡
__öçå_t_deföed


270 
__öçå_t
 
	töçå_t
;

271 
	#__öçå_t_deföed


	)

275 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


276 #i‚de‡
__sockÀn_t_deföed


277 
__sockÀn_t
 
	tsockÀn_t
;

278 
	#__sockÀn_t_deföed


	)

284 
	#R_OK
 4

	)

285 
	#W_OK
 2

	)

286 
	#X_OK
 1

	)

287 
	#F_OK
 0

	)

290 
	$ac˚ss
 (c⁄° *
__«me
, 
__ty≥
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

292 #ifde‡
__USE_GNU


295 
	$euidac˚ss
 (c⁄° *
__«me
, 
__ty≥
)

296 
__THROW
 
	`__n⁄nuŒ
 ((1));

299 
	$óc˚ss
 (c⁄° *
__«me
, 
__ty≥
)

300 
__THROW
 
	`__n⁄nuŒ
 ((1));

303 #ifde‡
__USE_ATFILE


307 
	$Ác˚sßt
 (
__fd
, c⁄° *
__fûe
, 
__ty≥
, 
__Êag
)

308 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

313 #i‚def 
_STDIO_H


314 
	#SEEK_SET
 0

	)

315 
	#SEEK_CUR
 1

	)

316 
	#SEEK_END
 2

	)

317 #ifde‡
__USE_GNU


318 
	#SEEK_DATA
 3

	)

319 
	#SEEK_HOLE
 4

	)

323 #i‡
deföed
 
__USE_MISC
 && !deföed 
L_SET


325 
	#L_SET
 
SEEK_SET


	)

326 
	#L_INCR
 
SEEK_CUR


	)

327 
	#L_XTND
 
SEEK_END


	)

336 #i‚de‡
__USE_FILE_OFFSET64


337 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__whí˚
Ë
__THROW
;

339 #ifde‡
__REDIRECT_NTH


340 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

341 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
),

342 
l£ek64
);

344 
	#l£ek
 
l£ek64


	)

347 #ifde‡
__USE_LARGEFILE64


348 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
)

349 
__THROW
;

356 
	`˛o£
 (
__fd
);

363 
ssize_t
 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
Ë
__wur
;

369 
ssize_t
 
	$wrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
Ë
__wur
;

371 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


372 #i‚de‡
__USE_FILE_OFFSET64


379 
ssize_t
 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

380 
__off_t
 
__off£t
Ë
__wur
;

387 
ssize_t
 
	$pwrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

388 
__off_t
 
__off£t
Ë
__wur
;

390 #ifde‡
__REDIRECT


391 
ssize_t
 
	`__REDIRECT
 (
¥ód
, (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

392 
__off64_t
 
__off£t
),

393 
¥ód64
Ë
__wur
;

394 
ssize_t
 
	`__REDIRECT
 (
pwrôe
, (
__fd
, c⁄° *
__buf
,

395 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
),

396 
pwrôe64
Ë
__wur
;

398 
	#¥ód
 
¥ód64


	)

399 
	#pwrôe
 
pwrôe64


	)

403 #ifde‡
__USE_LARGEFILE64


407 
ssize_t
 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

408 
__off64_t
 
__off£t
Ë
__wur
;

411 
ssize_t
 
	$pwrôe64
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

412 
__off64_t
 
__off£t
Ë
__wur
;

420 
	$pùe
 (
__pùedes
[2]Ë
__THROW
 
__wur
;

422 #ifde‡
__USE_GNU


425 
	$pùe2
 (
__pùedes
[2], 
__Êags
Ë
__THROW
 
__wur
;

435 
	$Æ¨m
 (
__£c⁄ds
Ë
__THROW
;

447 
	`¶ìp
 (
__£c⁄ds
);

449 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

450 || 
deföed
 
__USE_MISC


455 
__u£c⁄ds_t
 
	$uÆ¨m
 (
__u£c⁄ds_t
 
__vÆue
, __u£c⁄ds_à
__öãrvÆ
)

456 
__THROW
;

463 
	`u¶ìp
 (
__u£c⁄ds_t
 
__u£c⁄ds
);

472 
	`∑u£
 ();

476 
	$chown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

477 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

479 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


481 
	$fchown
 (
__fd
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
Ë
__THROW
 
__wur
;

486 
	$lchown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

487 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

491 #ifde‡
__USE_ATFILE


494 
	$fchow«t
 (
__fd
, c⁄° *
__fûe
, 
__uid_t
 
__ow√r
,

495 
__gid_t
 
__group
, 
__Êag
)

496 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

500 
	$chdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

502 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


504 
	$fchdú
 (
__fd
Ë
__THROW
 
__wur
;

514 *
	$gëcwd
 (*
__buf
, 
size_t
 
__size
Ë
__THROW
 
__wur
;

516 #ifdef 
__USE_GNU


520 *
	$gë_cuºít_dú_«me
 (Ë
__THROW
;

523 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

524 || 
deföed
 
__USE_MISC


528 *
	$gëwd
 (*
__buf
)

529 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
;

534 
	$dup
 (
__fd
Ë
__THROW
 
__wur
;

537 
	$dup2
 (
__fd
, 
__fd2
Ë
__THROW
;

539 #ifde‡
__USE_GNU


542 
	$dup3
 (
__fd
, 
__fd2
, 
__Êags
Ë
__THROW
;

546 **
__ívú⁄
;

547 #ifde‡
__USE_GNU


548 **
ívú⁄
;

554 
	$execve
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[],

555 *c⁄° 
__ívp
[]Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

557 #ifde‡
__USE_XOPEN2K8


560 
	$„xecve
 (
__fd
, *c⁄° 
__¨gv
[], *c⁄° 
__ívp
[])

561 
__THROW
 
	`__n⁄nuŒ
 ((2));

566 
	$execv
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[])

567 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

571 
	$exe˛e
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

572 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

576 
	$exe˛
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

577 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

581 
	$execvp
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[])

582 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

587 
	$exe˛p
 (c⁄° *
__fûe
, c⁄° *
__¨g
, ...)

588 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

590 #ifde‡
__USE_GNU


593 
	$execv≥
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[],

594 *c⁄° 
__ívp
[])

595 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

599 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


601 
	$ni˚
 (
__öc
Ë
__THROW
 
__wur
;

606 
	$_exô
 (
__°©us
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

612 
	~<bôs/c⁄‚ame.h
>

615 
	$∑thc⁄f
 (c⁄° *
__∑th
, 
__«me
)

616 
__THROW
 
	`__n⁄nuŒ
 ((1));

619 
	$Â©hc⁄f
 (
__fd
, 
__«me
Ë
__THROW
;

622 
	$sysc⁄f
 (
__«me
Ë
__THROW
;

624 #ifdef 
__USE_POSIX2


626 
size_t
 
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

631 
__pid_t
 
	$gëpid
 (Ë
__THROW
;

634 
__pid_t
 
	$gëµid
 (Ë
__THROW
;

637 
__pid_t
 
	$gëpgΩ
 (Ë
__THROW
;

640 
__pid_t
 
	$__gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

641 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


642 
__pid_t
 
	$gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

649 
	$£çgid
 (
__pid_t
 
__pid
, __pid_à
__pgid
Ë
__THROW
;

651 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


663 
	$£çgΩ
 (Ë
__THROW
;

670 
__pid_t
 
	$£tsid
 (Ë
__THROW
;

672 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


674 
__pid_t
 
	$gësid
 (
__pid_t
 
__pid
Ë
__THROW
;

678 
__uid_t
 
	$gëuid
 (Ë
__THROW
;

681 
__uid_t
 
	$gëeuid
 (Ë
__THROW
;

684 
__gid_t
 
	$gëgid
 (Ë
__THROW
;

687 
__gid_t
 
	$gëegid
 (Ë
__THROW
;

692 
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]Ë
__THROW
 
__wur
;

694 #ifdef 
__USE_GNU


696 
	$group_membî
 (
__gid_t
 
__gid
Ë
__THROW
;

703 
	$£tuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

705 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


708 
	$£åeuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
Ë
__THROW
 
__wur
;

711 #ifde‡
__USE_XOPEN2K


713 
	$£ãuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

720 
	$£tgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

722 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


725 
	$£åegid
 (
__gid_t
 
__rgid
, __gid_à
__egid
Ë
__THROW
 
__wur
;

728 #ifde‡
__USE_XOPEN2K


730 
	$£ãgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

733 #ifde‡
__USE_GNU


736 
	$gëªsuid
 (
__uid_t
 *
__ruid
, __uid_à*
__euid
, __uid_à*
__suid
)

737 
__THROW
;

741 
	$gëªsgid
 (
__gid_t
 *
__rgid
, __gid_à*
__egid
, __gid_à*
__sgid
)

742 
__THROW
;

746 
	$£åesuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
, __uid_à
__suid
)

747 
__THROW
 
__wur
;

751 
	$£åesgid
 (
__gid_t
 
__rgid
, __gid_à
__egid
, __gid_à
__sgid
)

752 
__THROW
 
__wur
;

759 
__pid_t
 
	$f‹k
 (Ë
__THROWNL
;

761 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

762 || 
deföed
 
__USE_MISC


767 
__pid_t
 
	$vf‹k
 (Ë
__THROW
;

773 *
	$ây«me
 (
__fd
Ë
__THROW
;

777 
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

778 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

782 
	$ißây
 (
__fd
Ë
__THROW
;

784 #ifde‡
__USE_MISC


787 
	$ây¶Ÿ
 (Ë
__THROW
;

792 
	$lök
 (c⁄° *
__‰om
, c⁄° *
__to
)

793 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

795 #ifde‡
__USE_ATFILE


798 
	$lök©
 (
__‰omfd
, c⁄° *
__‰om
, 
__tofd
,

799 c⁄° *
__to
, 
__Êags
)

800 
__THROW
 
	`__n⁄nuŒ
 ((2, 4)Ë
__wur
;

803 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


805 
	$symlök
 (c⁄° *
__‰om
, c⁄° *
__to
)

806 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

811 
ssize_t
 
	$ªadlök
 (c⁄° *
__ª°ri˘
 
__∑th
,

812 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

813 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

816 #ifde‡
__USE_ATFILE


818 
	$symlök©
 (c⁄° *
__‰om
, 
__tofd
,

819 c⁄° *
__to
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

822 
ssize_t
 
	$ªadlök©
 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

823 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

824 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

828 
	$u∆ök
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

830 #ifde‡
__USE_ATFILE


832 
	$u∆ök©
 (
__fd
, c⁄° *
__«me
, 
__Êag
)

833 
__THROW
 
	`__n⁄nuŒ
 ((2));

837 
	$rmdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

841 
__pid_t
 
	$tcgëpgΩ
 (
__fd
Ë
__THROW
;

844 
	$tc£çgΩ
 (
__fd
, 
__pid_t
 
__pgΩ_id
Ë
__THROW
;

851 *
	`gëlogö
 ();

852 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


859 
	$gëlogö_r
 (*
__«me
, 
size_t
 
__«me_Àn
Ë
	`__n⁄nuŒ
 ((1));

862 #ifdef 
__USE_MISC


864 
	$£éogö
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

868 #ifdef 
__USE_POSIX2


872 
	#__√ed_gë›t


	)

873 
	~<gë›t.h
>

877 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


881 
	$gëho°«me
 (*
__«me
, 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

885 #i‡
deföed
 
__USE_MISC


888 
	$£tho°«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

889 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

893 
	$£tho°id
 (
__id
Ë
__THROW
 
__wur
;

899 
	$gëdomaö«me
 (*
__«me
, 
size_t
 
__Àn
)

900 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

901 
	$£tdomaö«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

902 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

908 
	$vh™gup
 (Ë
__THROW
;

911 
	$ªvoke
 (c⁄° *
__fûe
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

919 
	$¥ofû
 (*
__ßm∂e_buf„r
, 
size_t
 
__size
,

920 
size_t
 
__off£t
, 
__sˇÀ
)

921 
__THROW
 
	`__n⁄nuŒ
 ((1));

927 
	$ac˘
 (c⁄° *
__«me
Ë
__THROW
;

931 *
	$gëu£rshñl
 (Ë
__THROW
;

932 
	$ídu£rshñl
 (Ë
__THROW
;

933 
	$£tu£rshñl
 (Ë
__THROW
;

939 
	$d´m⁄
 (
__nochdú
, 
__no˛o£
Ë
__THROW
 
__wur
;

943 #i‡
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

946 
	$chroŸ
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

950 *
	$gë∑ss
 (c⁄° *
__¥om±
Ë
	`__n⁄nuŒ
 ((1));

958 
	`fsync
 (
__fd
);

961 #ifde‡
__USE_GNU


964 
	$syncfs
 (
__fd
Ë
__THROW
;

968 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


971 
	`gëho°id
 ();

974 
	$sync
 (Ë
__THROW
;

977 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K


980 
	$gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

985 
	$gëdèbÀsize
 (Ë
__THROW
;

991 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


994 #i‚de‡
__USE_FILE_OFFSET64


995 
	$åunˇã
 (c⁄° *
__fûe
, 
__off_t
 
__Àngth
)

996 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

998 #ifde‡
__REDIRECT_NTH


999 
	`__REDIRECT_NTH
 (
åunˇã
,

1000 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
),

1001 
åunˇã64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1003 
	#åunˇã
 
åunˇã64


	)

1006 #ifde‡
__USE_LARGEFILE64


1007 
	$åunˇã64
 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
)

1008 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1013 #i‡
deföed
 
__USE_POSIX199309
 \

1014 || 
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


1017 #i‚de‡
__USE_FILE_OFFSET64


1018 
	$·runˇã
 (
__fd
, 
__off_t
 
__Àngth
Ë
__THROW
 
__wur
;

1020 #ifde‡
__REDIRECT_NTH


1021 
	`__REDIRECT_NTH
 (
·runˇã
, (
__fd
, 
__off64_t
 
__Àngth
),

1022 
·runˇã64
Ë
__wur
;

1024 
	#·runˇã
 
·runˇã64


	)

1027 #ifde‡
__USE_LARGEFILE64


1028 
	$·runˇã64
 (
__fd
, 
__off64_t
 
__Àngth
Ë
__THROW
 
__wur
;

1034 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

1035 || 
deföed
 
__USE_MISC


1039 
	$brk
 (*
__addr
Ë
__THROW
 
__wur
;

1045 *
	$sbrk
 (
öçå_t
 
__dñè
Ë
__THROW
;

1049 #ifde‡
__USE_MISC


1060 
	$sysˇŒ
 (
__sy¢o
, ...Ë
__THROW
;

1065 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
Ë&& !deföed 
F_LOCK


1077 
	#F_ULOCK
 0

	)

1078 
	#F_LOCK
 1

	)

1079 
	#F_TLOCK
 2

	)

1080 
	#F_TEST
 3

	)

1082 #i‚de‡
__USE_FILE_OFFSET64


1083 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
Ë
__wur
;

1085 #ifde‡
__REDIRECT


1086 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
),

1087 
lockf64
Ë
__wur
;

1089 
	#lockf
 
lockf64


	)

1092 #ifde‡
__USE_LARGEFILE64


1093 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
Ë
__wur
;

1098 #ifde‡
__USE_GNU


1103 
	#TEMP_FAILURE_RETRY
(
ex¥essi⁄
) \

1104 (
__exãnsi⁄__
 \

1105 ({ 
__ªsu…
; \

1106 dÿ
__ªsu…
 = (Ë(
ex¥essi⁄
); \

1107 
__ªsu…
 =-1L && 
î∫o
 =
EINTR
); \

1108 
__ªsu…
; 
	}
}))

	)

1111 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


1114 
fd©async
 (
__fûdes
);

1120 #ifdef 
__USE_XOPEN


1122 *
	$¸y±
 (c⁄° *
__key
, c⁄° *
__ß…
)

1123 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1127 
	$í¸y±
 (*
__glibc_block
, 
__edÊag
)

1128 
__THROW
 
	`__n⁄nuŒ
 ((1));

1135 
	$swab
 (c⁄° *
__ª°ri˘
 
__‰om
, *__ª°ri˘ 
__to
,

1136 
ssize_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1143 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K


1145 *
	$˘îmid
 (*
__s
Ë
__THROW
;

1148 *
	`cu£rid
 (*
__s
);

1154 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_XOPEN2K


1155 
	$±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1156 (*
__∑ª¡
) (),

1157 (*
__chûd
Ë()Ë
__THROW
;

1162 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


1163 
	~<bôs/uni°d.h
>

1166 
__END_DECLS


	@/usr/include/alloca.h

18 #i‚def 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<„©uªs.h
>

23 
	#__√ed_size_t


	)

24 
	~<°ddef.h
>

26 
	g__BEGIN_DECLS


29 #unde‡
Æloˇ


32 *
	$Æloˇ
 (
size_t
 
__size
Ë
__THROW
;

34 #ifdef 
__GNUC__


35 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
 (size)

	)

38 
__END_DECLS


	@/usr/include/bits/confname.h

19 #i‚de‡
_UNISTD_H


26 
	m_PC_LINK_MAX
,

27 
	#_PC_LINK_MAX
 
_PC_LINK_MAX


	)

28 
	m_PC_MAX_CANON
,

29 
	#_PC_MAX_CANON
 
_PC_MAX_CANON


	)

30 
	m_PC_MAX_INPUT
,

31 
	#_PC_MAX_INPUT
 
_PC_MAX_INPUT


	)

32 
	m_PC_NAME_MAX
,

33 
	#_PC_NAME_MAX
 
_PC_NAME_MAX


	)

34 
	m_PC_PATH_MAX
,

35 
	#_PC_PATH_MAX
 
_PC_PATH_MAX


	)

36 
	m_PC_PIPE_BUF
,

37 
	#_PC_PIPE_BUF
 
_PC_PIPE_BUF


	)

38 
	m_PC_CHOWN_RESTRICTED
,

39 
	#_PC_CHOWN_RESTRICTED
 
_PC_CHOWN_RESTRICTED


	)

40 
	m_PC_NO_TRUNC
,

41 
	#_PC_NO_TRUNC
 
_PC_NO_TRUNC


	)

42 
	m_PC_VDISABLE
,

43 
	#_PC_VDISABLE
 
_PC_VDISABLE


	)

44 
	m_PC_SYNC_IO
,

45 
	#_PC_SYNC_IO
 
_PC_SYNC_IO


	)

46 
	m_PC_ASYNC_IO
,

47 
	#_PC_ASYNC_IO
 
_PC_ASYNC_IO


	)

48 
	m_PC_PRIO_IO
,

49 
	#_PC_PRIO_IO
 
_PC_PRIO_IO


	)

50 
	m_PC_SOCK_MAXBUF
,

51 
	#_PC_SOCK_MAXBUF
 
_PC_SOCK_MAXBUF


	)

52 
	m_PC_FILESIZEBITS
,

53 
	#_PC_FILESIZEBITS
 
_PC_FILESIZEBITS


	)

54 
	m_PC_REC_INCR_XFER_SIZE
,

55 
	#_PC_REC_INCR_XFER_SIZE
 
_PC_REC_INCR_XFER_SIZE


	)

56 
	m_PC_REC_MAX_XFER_SIZE
,

57 
	#_PC_REC_MAX_XFER_SIZE
 
_PC_REC_MAX_XFER_SIZE


	)

58 
	m_PC_REC_MIN_XFER_SIZE
,

59 
	#_PC_REC_MIN_XFER_SIZE
 
_PC_REC_MIN_XFER_SIZE


	)

60 
	m_PC_REC_XFER_ALIGN
,

61 
	#_PC_REC_XFER_ALIGN
 
_PC_REC_XFER_ALIGN


	)

62 
	m_PC_ALLOC_SIZE_MIN
,

63 
	#_PC_ALLOC_SIZE_MIN
 
_PC_ALLOC_SIZE_MIN


	)

64 
	m_PC_SYMLINK_MAX
,

65 
	#_PC_SYMLINK_MAX
 
_PC_SYMLINK_MAX


	)

66 
	m_PC_2_SYMLINKS


67 
	#_PC_2_SYMLINKS
 
_PC_2_SYMLINKS


	)

73 
	m_SC_ARG_MAX
,

74 
	#_SC_ARG_MAX
 
_SC_ARG_MAX


	)

75 
	m_SC_CHILD_MAX
,

76 
	#_SC_CHILD_MAX
 
_SC_CHILD_MAX


	)

77 
	m_SC_CLK_TCK
,

78 
	#_SC_CLK_TCK
 
_SC_CLK_TCK


	)

79 
	m_SC_NGROUPS_MAX
,

80 
	#_SC_NGROUPS_MAX
 
_SC_NGROUPS_MAX


	)

81 
	m_SC_OPEN_MAX
,

82 
	#_SC_OPEN_MAX
 
_SC_OPEN_MAX


	)

83 
	m_SC_STREAM_MAX
,

84 
	#_SC_STREAM_MAX
 
_SC_STREAM_MAX


	)

85 
	m_SC_TZNAME_MAX
,

86 
	#_SC_TZNAME_MAX
 
_SC_TZNAME_MAX


	)

87 
	m_SC_JOB_CONTROL
,

88 
	#_SC_JOB_CONTROL
 
_SC_JOB_CONTROL


	)

89 
	m_SC_SAVED_IDS
,

90 
	#_SC_SAVED_IDS
 
_SC_SAVED_IDS


	)

91 
	m_SC_REALTIME_SIGNALS
,

92 
	#_SC_REALTIME_SIGNALS
 
_SC_REALTIME_SIGNALS


	)

93 
	m_SC_PRIORITY_SCHEDULING
,

94 
	#_SC_PRIORITY_SCHEDULING
 
_SC_PRIORITY_SCHEDULING


	)

95 
	m_SC_TIMERS
,

96 
	#_SC_TIMERS
 
_SC_TIMERS


	)

97 
	m_SC_ASYNCHRONOUS_IO
,

98 
	#_SC_ASYNCHRONOUS_IO
 
_SC_ASYNCHRONOUS_IO


	)

99 
	m_SC_PRIORITIZED_IO
,

100 
	#_SC_PRIORITIZED_IO
 
_SC_PRIORITIZED_IO


	)

101 
	m_SC_SYNCHRONIZED_IO
,

102 
	#_SC_SYNCHRONIZED_IO
 
_SC_SYNCHRONIZED_IO


	)

103 
	m_SC_FSYNC
,

104 
	#_SC_FSYNC
 
_SC_FSYNC


	)

105 
	m_SC_MAPPED_FILES
,

106 
	#_SC_MAPPED_FILES
 
_SC_MAPPED_FILES


	)

107 
	m_SC_MEMLOCK
,

108 
	#_SC_MEMLOCK
 
_SC_MEMLOCK


	)

109 
	m_SC_MEMLOCK_RANGE
,

110 
	#_SC_MEMLOCK_RANGE
 
_SC_MEMLOCK_RANGE


	)

111 
	m_SC_MEMORY_PROTECTION
,

112 
	#_SC_MEMORY_PROTECTION
 
_SC_MEMORY_PROTECTION


	)

113 
	m_SC_MESSAGE_PASSING
,

114 
	#_SC_MESSAGE_PASSING
 
_SC_MESSAGE_PASSING


	)

115 
	m_SC_SEMAPHORES
,

116 
	#_SC_SEMAPHORES
 
_SC_SEMAPHORES


	)

117 
	m_SC_SHARED_MEMORY_OBJECTS
,

118 
	#_SC_SHARED_MEMORY_OBJECTS
 
_SC_SHARED_MEMORY_OBJECTS


	)

119 
	m_SC_AIO_LISTIO_MAX
,

120 
	#_SC_AIO_LISTIO_MAX
 
_SC_AIO_LISTIO_MAX


	)

121 
	m_SC_AIO_MAX
,

122 
	#_SC_AIO_MAX
 
_SC_AIO_MAX


	)

123 
	m_SC_AIO_PRIO_DELTA_MAX
,

124 
	#_SC_AIO_PRIO_DELTA_MAX
 
_SC_AIO_PRIO_DELTA_MAX


	)

125 
	m_SC_DELAYTIMER_MAX
,

126 
	#_SC_DELAYTIMER_MAX
 
_SC_DELAYTIMER_MAX


	)

127 
	m_SC_MQ_OPEN_MAX
,

128 
	#_SC_MQ_OPEN_MAX
 
_SC_MQ_OPEN_MAX


	)

129 
	m_SC_MQ_PRIO_MAX
,

130 
	#_SC_MQ_PRIO_MAX
 
_SC_MQ_PRIO_MAX


	)

131 
	m_SC_VERSION
,

132 
	#_SC_VERSION
 
_SC_VERSION


	)

133 
	m_SC_PAGESIZE
,

134 
	#_SC_PAGESIZE
 
_SC_PAGESIZE


	)

135 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

136 
	m_SC_RTSIG_MAX
,

137 
	#_SC_RTSIG_MAX
 
_SC_RTSIG_MAX


	)

138 
	m_SC_SEM_NSEMS_MAX
,

139 
	#_SC_SEM_NSEMS_MAX
 
_SC_SEM_NSEMS_MAX


	)

140 
	m_SC_SEM_VALUE_MAX
,

141 
	#_SC_SEM_VALUE_MAX
 
_SC_SEM_VALUE_MAX


	)

142 
	m_SC_SIGQUEUE_MAX
,

143 
	#_SC_SIGQUEUE_MAX
 
_SC_SIGQUEUE_MAX


	)

144 
	m_SC_TIMER_MAX
,

145 
	#_SC_TIMER_MAX
 
_SC_TIMER_MAX


	)

149 
	m_SC_BC_BASE_MAX
,

150 
	#_SC_BC_BASE_MAX
 
_SC_BC_BASE_MAX


	)

151 
	m_SC_BC_DIM_MAX
,

152 
	#_SC_BC_DIM_MAX
 
_SC_BC_DIM_MAX


	)

153 
	m_SC_BC_SCALE_MAX
,

154 
	#_SC_BC_SCALE_MAX
 
_SC_BC_SCALE_MAX


	)

155 
	m_SC_BC_STRING_MAX
,

156 
	#_SC_BC_STRING_MAX
 
_SC_BC_STRING_MAX


	)

157 
	m_SC_COLL_WEIGHTS_MAX
,

158 
	#_SC_COLL_WEIGHTS_MAX
 
_SC_COLL_WEIGHTS_MAX


	)

159 
	m_SC_EQUIV_CLASS_MAX
,

160 
	#_SC_EQUIV_CLASS_MAX
 
_SC_EQUIV_CLASS_MAX


	)

161 
	m_SC_EXPR_NEST_MAX
,

162 
	#_SC_EXPR_NEST_MAX
 
_SC_EXPR_NEST_MAX


	)

163 
	m_SC_LINE_MAX
,

164 
	#_SC_LINE_MAX
 
_SC_LINE_MAX


	)

165 
	m_SC_RE_DUP_MAX
,

166 
	#_SC_RE_DUP_MAX
 
_SC_RE_DUP_MAX


	)

167 
	m_SC_CHARCLASS_NAME_MAX
,

168 
	#_SC_CHARCLASS_NAME_MAX
 
_SC_CHARCLASS_NAME_MAX


	)

170 
	m_SC_2_VERSION
,

171 
	#_SC_2_VERSION
 
_SC_2_VERSION


	)

172 
	m_SC_2_C_BIND
,

173 
	#_SC_2_C_BIND
 
_SC_2_C_BIND


	)

174 
	m_SC_2_C_DEV
,

175 
	#_SC_2_C_DEV
 
_SC_2_C_DEV


	)

176 
	m_SC_2_FORT_DEV
,

177 
	#_SC_2_FORT_DEV
 
_SC_2_FORT_DEV


	)

178 
	m_SC_2_FORT_RUN
,

179 
	#_SC_2_FORT_RUN
 
_SC_2_FORT_RUN


	)

180 
	m_SC_2_SW_DEV
,

181 
	#_SC_2_SW_DEV
 
_SC_2_SW_DEV


	)

182 
	m_SC_2_LOCALEDEF
,

183 
	#_SC_2_LOCALEDEF
 
_SC_2_LOCALEDEF


	)

185 
	m_SC_PII
,

186 
	#_SC_PII
 
_SC_PII


	)

187 
	m_SC_PII_XTI
,

188 
	#_SC_PII_XTI
 
_SC_PII_XTI


	)

189 
	m_SC_PII_SOCKET
,

190 
	#_SC_PII_SOCKET
 
_SC_PII_SOCKET


	)

191 
	m_SC_PII_INTERNET
,

192 
	#_SC_PII_INTERNET
 
_SC_PII_INTERNET


	)

193 
	m_SC_PII_OSI
,

194 
	#_SC_PII_OSI
 
_SC_PII_OSI


	)

195 
	m_SC_POLL
,

196 
	#_SC_POLL
 
_SC_POLL


	)

197 
	m_SC_SELECT
,

198 
	#_SC_SELECT
 
_SC_SELECT


	)

199 
	m_SC_UIO_MAXIOV
,

200 
	#_SC_UIO_MAXIOV
 
_SC_UIO_MAXIOV


	)

201 
	m_SC_IOV_MAX
 = 
_SC_UIO_MAXIOV
,

202 
	#_SC_IOV_MAX
 
_SC_IOV_MAX


	)

203 
	m_SC_PII_INTERNET_STREAM
,

204 
	#_SC_PII_INTERNET_STREAM
 
_SC_PII_INTERNET_STREAM


	)

205 
	m_SC_PII_INTERNET_DGRAM
,

206 
	#_SC_PII_INTERNET_DGRAM
 
_SC_PII_INTERNET_DGRAM


	)

207 
	m_SC_PII_OSI_COTS
,

208 
	#_SC_PII_OSI_COTS
 
_SC_PII_OSI_COTS


	)

209 
	m_SC_PII_OSI_CLTS
,

210 
	#_SC_PII_OSI_CLTS
 
_SC_PII_OSI_CLTS


	)

211 
	m_SC_PII_OSI_M
,

212 
	#_SC_PII_OSI_M
 
_SC_PII_OSI_M


	)

213 
	m_SC_T_IOV_MAX
,

214 
	#_SC_T_IOV_MAX
 
_SC_T_IOV_MAX


	)

217 
	m_SC_THREADS
,

218 
	#_SC_THREADS
 
_SC_THREADS


	)

219 
	m_SC_THREAD_SAFE_FUNCTIONS
,

220 
	#_SC_THREAD_SAFE_FUNCTIONS
 
_SC_THREAD_SAFE_FUNCTIONS


	)

221 
	m_SC_GETGR_R_SIZE_MAX
,

222 
	#_SC_GETGR_R_SIZE_MAX
 
_SC_GETGR_R_SIZE_MAX


	)

223 
	m_SC_GETPW_R_SIZE_MAX
,

224 
	#_SC_GETPW_R_SIZE_MAX
 
_SC_GETPW_R_SIZE_MAX


	)

225 
	m_SC_LOGIN_NAME_MAX
,

226 
	#_SC_LOGIN_NAME_MAX
 
_SC_LOGIN_NAME_MAX


	)

227 
	m_SC_TTY_NAME_MAX
,

228 
	#_SC_TTY_NAME_MAX
 
_SC_TTY_NAME_MAX


	)

229 
	m_SC_THREAD_DESTRUCTOR_ITERATIONS
,

230 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 
_SC_THREAD_DESTRUCTOR_ITERATIONS


	)

231 
	m_SC_THREAD_KEYS_MAX
,

232 
	#_SC_THREAD_KEYS_MAX
 
_SC_THREAD_KEYS_MAX


	)

233 
	m_SC_THREAD_STACK_MIN
,

234 
	#_SC_THREAD_STACK_MIN
 
_SC_THREAD_STACK_MIN


	)

235 
	m_SC_THREAD_THREADS_MAX
,

236 
	#_SC_THREAD_THREADS_MAX
 
_SC_THREAD_THREADS_MAX


	)

237 
	m_SC_THREAD_ATTR_STACKADDR
,

238 
	#_SC_THREAD_ATTR_STACKADDR
 
_SC_THREAD_ATTR_STACKADDR


	)

239 
	m_SC_THREAD_ATTR_STACKSIZE
,

240 
	#_SC_THREAD_ATTR_STACKSIZE
 
_SC_THREAD_ATTR_STACKSIZE


	)

241 
	m_SC_THREAD_PRIORITY_SCHEDULING
,

242 
	#_SC_THREAD_PRIORITY_SCHEDULING
 
_SC_THREAD_PRIORITY_SCHEDULING


	)

243 
	m_SC_THREAD_PRIO_INHERIT
,

244 
	#_SC_THREAD_PRIO_INHERIT
 
_SC_THREAD_PRIO_INHERIT


	)

245 
	m_SC_THREAD_PRIO_PROTECT
,

246 
	#_SC_THREAD_PRIO_PROTECT
 
_SC_THREAD_PRIO_PROTECT


	)

247 
	m_SC_THREAD_PROCESS_SHARED
,

248 
	#_SC_THREAD_PROCESS_SHARED
 
_SC_THREAD_PROCESS_SHARED


	)

250 
	m_SC_NPROCESSORS_CONF
,

251 
	#_SC_NPROCESSORS_CONF
 
_SC_NPROCESSORS_CONF


	)

252 
	m_SC_NPROCESSORS_ONLN
,

253 
	#_SC_NPROCESSORS_ONLN
 
_SC_NPROCESSORS_ONLN


	)

254 
	m_SC_PHYS_PAGES
,

255 
	#_SC_PHYS_PAGES
 
_SC_PHYS_PAGES


	)

256 
	m_SC_AVPHYS_PAGES
,

257 
	#_SC_AVPHYS_PAGES
 
_SC_AVPHYS_PAGES


	)

258 
	m_SC_ATEXIT_MAX
,

259 
	#_SC_ATEXIT_MAX
 
_SC_ATEXIT_MAX


	)

260 
	m_SC_PASS_MAX
,

261 
	#_SC_PASS_MAX
 
_SC_PASS_MAX


	)

263 
	m_SC_XOPEN_VERSION
,

264 
	#_SC_XOPEN_VERSION
 
_SC_XOPEN_VERSION


	)

265 
	m_SC_XOPEN_XCU_VERSION
,

266 
	#_SC_XOPEN_XCU_VERSION
 
_SC_XOPEN_XCU_VERSION


	)

267 
	m_SC_XOPEN_UNIX
,

268 
	#_SC_XOPEN_UNIX
 
_SC_XOPEN_UNIX


	)

269 
	m_SC_XOPEN_CRYPT
,

270 
	#_SC_XOPEN_CRYPT
 
_SC_XOPEN_CRYPT


	)

271 
	m_SC_XOPEN_ENH_I18N
,

272 
	#_SC_XOPEN_ENH_I18N
 
_SC_XOPEN_ENH_I18N


	)

273 
	m_SC_XOPEN_SHM
,

274 
	#_SC_XOPEN_SHM
 
_SC_XOPEN_SHM


	)

276 
	m_SC_2_CHAR_TERM
,

277 
	#_SC_2_CHAR_TERM
 
_SC_2_CHAR_TERM


	)

278 
	m_SC_2_C_VERSION
,

279 
	#_SC_2_C_VERSION
 
_SC_2_C_VERSION


	)

280 
	m_SC_2_UPE
,

281 
	#_SC_2_UPE
 
_SC_2_UPE


	)

283 
	m_SC_XOPEN_XPG2
,

284 
	#_SC_XOPEN_XPG2
 
_SC_XOPEN_XPG2


	)

285 
	m_SC_XOPEN_XPG3
,

286 
	#_SC_XOPEN_XPG3
 
_SC_XOPEN_XPG3


	)

287 
	m_SC_XOPEN_XPG4
,

288 
	#_SC_XOPEN_XPG4
 
_SC_XOPEN_XPG4


	)

290 
	m_SC_CHAR_BIT
,

291 
	#_SC_CHAR_BIT
 
_SC_CHAR_BIT


	)

292 
	m_SC_CHAR_MAX
,

293 
	#_SC_CHAR_MAX
 
_SC_CHAR_MAX


	)

294 
	m_SC_CHAR_MIN
,

295 
	#_SC_CHAR_MIN
 
_SC_CHAR_MIN


	)

296 
	m_SC_INT_MAX
,

297 
	#_SC_INT_MAX
 
_SC_INT_MAX


	)

298 
	m_SC_INT_MIN
,

299 
	#_SC_INT_MIN
 
_SC_INT_MIN


	)

300 
	m_SC_LONG_BIT
,

301 
	#_SC_LONG_BIT
 
_SC_LONG_BIT


	)

302 
	m_SC_WORD_BIT
,

303 
	#_SC_WORD_BIT
 
_SC_WORD_BIT


	)

304 
	m_SC_MB_LEN_MAX
,

305 
	#_SC_MB_LEN_MAX
 
_SC_MB_LEN_MAX


	)

306 
	m_SC_NZERO
,

307 
	#_SC_NZERO
 
_SC_NZERO


	)

308 
	m_SC_SSIZE_MAX
,

309 
	#_SC_SSIZE_MAX
 
_SC_SSIZE_MAX


	)

310 
	m_SC_SCHAR_MAX
,

311 
	#_SC_SCHAR_MAX
 
_SC_SCHAR_MAX


	)

312 
	m_SC_SCHAR_MIN
,

313 
	#_SC_SCHAR_MIN
 
_SC_SCHAR_MIN


	)

314 
	m_SC_SHRT_MAX
,

315 
	#_SC_SHRT_MAX
 
_SC_SHRT_MAX


	)

316 
	m_SC_SHRT_MIN
,

317 
	#_SC_SHRT_MIN
 
_SC_SHRT_MIN


	)

318 
	m_SC_UCHAR_MAX
,

319 
	#_SC_UCHAR_MAX
 
_SC_UCHAR_MAX


	)

320 
	m_SC_UINT_MAX
,

321 
	#_SC_UINT_MAX
 
_SC_UINT_MAX


	)

322 
	m_SC_ULONG_MAX
,

323 
	#_SC_ULONG_MAX
 
_SC_ULONG_MAX


	)

324 
	m_SC_USHRT_MAX
,

325 
	#_SC_USHRT_MAX
 
_SC_USHRT_MAX


	)

327 
	m_SC_NL_ARGMAX
,

328 
	#_SC_NL_ARGMAX
 
_SC_NL_ARGMAX


	)

329 
	m_SC_NL_LANGMAX
,

330 
	#_SC_NL_LANGMAX
 
_SC_NL_LANGMAX


	)

331 
	m_SC_NL_MSGMAX
,

332 
	#_SC_NL_MSGMAX
 
_SC_NL_MSGMAX


	)

333 
	m_SC_NL_NMAX
,

334 
	#_SC_NL_NMAX
 
_SC_NL_NMAX


	)

335 
	m_SC_NL_SETMAX
,

336 
	#_SC_NL_SETMAX
 
_SC_NL_SETMAX


	)

337 
	m_SC_NL_TEXTMAX
,

338 
	#_SC_NL_TEXTMAX
 
_SC_NL_TEXTMAX


	)

340 
	m_SC_XBS5_ILP32_OFF32
,

341 
	#_SC_XBS5_ILP32_OFF32
 
_SC_XBS5_ILP32_OFF32


	)

342 
	m_SC_XBS5_ILP32_OFFBIG
,

343 
	#_SC_XBS5_ILP32_OFFBIG
 
_SC_XBS5_ILP32_OFFBIG


	)

344 
	m_SC_XBS5_LP64_OFF64
,

345 
	#_SC_XBS5_LP64_OFF64
 
_SC_XBS5_LP64_OFF64


	)

346 
	m_SC_XBS5_LPBIG_OFFBIG
,

347 
	#_SC_XBS5_LPBIG_OFFBIG
 
_SC_XBS5_LPBIG_OFFBIG


	)

349 
	m_SC_XOPEN_LEGACY
,

350 
	#_SC_XOPEN_LEGACY
 
_SC_XOPEN_LEGACY


	)

351 
	m_SC_XOPEN_REALTIME
,

352 
	#_SC_XOPEN_REALTIME
 
_SC_XOPEN_REALTIME


	)

353 
	m_SC_XOPEN_REALTIME_THREADS
,

354 
	#_SC_XOPEN_REALTIME_THREADS
 
_SC_XOPEN_REALTIME_THREADS


	)

356 
	m_SC_ADVISORY_INFO
,

357 
	#_SC_ADVISORY_INFO
 
_SC_ADVISORY_INFO


	)

358 
	m_SC_BARRIERS
,

359 
	#_SC_BARRIERS
 
_SC_BARRIERS


	)

360 
	m_SC_BASE
,

361 
	#_SC_BASE
 
_SC_BASE


	)

362 
	m_SC_C_LANG_SUPPORT
,

363 
	#_SC_C_LANG_SUPPORT
 
_SC_C_LANG_SUPPORT


	)

364 
	m_SC_C_LANG_SUPPORT_R
,

365 
	#_SC_C_LANG_SUPPORT_R
 
_SC_C_LANG_SUPPORT_R


	)

366 
	m_SC_CLOCK_SELECTION
,

367 
	#_SC_CLOCK_SELECTION
 
_SC_CLOCK_SELECTION


	)

368 
	m_SC_CPUTIME
,

369 
	#_SC_CPUTIME
 
_SC_CPUTIME


	)

370 
	m_SC_THREAD_CPUTIME
,

371 
	#_SC_THREAD_CPUTIME
 
_SC_THREAD_CPUTIME


	)

372 
	m_SC_DEVICE_IO
,

373 
	#_SC_DEVICE_IO
 
_SC_DEVICE_IO


	)

374 
	m_SC_DEVICE_SPECIFIC
,

375 
	#_SC_DEVICE_SPECIFIC
 
_SC_DEVICE_SPECIFIC


	)

376 
	m_SC_DEVICE_SPECIFIC_R
,

377 
	#_SC_DEVICE_SPECIFIC_R
 
_SC_DEVICE_SPECIFIC_R


	)

378 
	m_SC_FD_MGMT
,

379 
	#_SC_FD_MGMT
 
_SC_FD_MGMT


	)

380 
	m_SC_FIFO
,

381 
	#_SC_FIFO
 
_SC_FIFO


	)

382 
	m_SC_PIPE
,

383 
	#_SC_PIPE
 
_SC_PIPE


	)

384 
	m_SC_FILE_ATTRIBUTES
,

385 
	#_SC_FILE_ATTRIBUTES
 
_SC_FILE_ATTRIBUTES


	)

386 
	m_SC_FILE_LOCKING
,

387 
	#_SC_FILE_LOCKING
 
_SC_FILE_LOCKING


	)

388 
	m_SC_FILE_SYSTEM
,

389 
	#_SC_FILE_SYSTEM
 
_SC_FILE_SYSTEM


	)

390 
	m_SC_MONOTONIC_CLOCK
,

391 
	#_SC_MONOTONIC_CLOCK
 
_SC_MONOTONIC_CLOCK


	)

392 
	m_SC_MULTI_PROCESS
,

393 
	#_SC_MULTI_PROCESS
 
_SC_MULTI_PROCESS


	)

394 
	m_SC_SINGLE_PROCESS
,

395 
	#_SC_SINGLE_PROCESS
 
_SC_SINGLE_PROCESS


	)

396 
	m_SC_NETWORKING
,

397 
	#_SC_NETWORKING
 
_SC_NETWORKING


	)

398 
	m_SC_READER_WRITER_LOCKS
,

399 
	#_SC_READER_WRITER_LOCKS
 
_SC_READER_WRITER_LOCKS


	)

400 
	m_SC_SPIN_LOCKS
,

401 
	#_SC_SPIN_LOCKS
 
_SC_SPIN_LOCKS


	)

402 
	m_SC_REGEXP
,

403 
	#_SC_REGEXP
 
_SC_REGEXP


	)

404 
	m_SC_REGEX_VERSION
,

405 
	#_SC_REGEX_VERSION
 
_SC_REGEX_VERSION


	)

406 
	m_SC_SHELL
,

407 
	#_SC_SHELL
 
_SC_SHELL


	)

408 
	m_SC_SIGNALS
,

409 
	#_SC_SIGNALS
 
_SC_SIGNALS


	)

410 
	m_SC_SPAWN
,

411 
	#_SC_SPAWN
 
_SC_SPAWN


	)

412 
	m_SC_SPORADIC_SERVER
,

413 
	#_SC_SPORADIC_SERVER
 
_SC_SPORADIC_SERVER


	)

414 
	m_SC_THREAD_SPORADIC_SERVER
,

415 
	#_SC_THREAD_SPORADIC_SERVER
 
_SC_THREAD_SPORADIC_SERVER


	)

416 
	m_SC_SYSTEM_DATABASE
,

417 
	#_SC_SYSTEM_DATABASE
 
_SC_SYSTEM_DATABASE


	)

418 
	m_SC_SYSTEM_DATABASE_R
,

419 
	#_SC_SYSTEM_DATABASE_R
 
_SC_SYSTEM_DATABASE_R


	)

420 
	m_SC_TIMEOUTS
,

421 
	#_SC_TIMEOUTS
 
_SC_TIMEOUTS


	)

422 
	m_SC_TYPED_MEMORY_OBJECTS
,

423 
	#_SC_TYPED_MEMORY_OBJECTS
 
_SC_TYPED_MEMORY_OBJECTS


	)

424 
	m_SC_USER_GROUPS
,

425 
	#_SC_USER_GROUPS
 
_SC_USER_GROUPS


	)

426 
	m_SC_USER_GROUPS_R
,

427 
	#_SC_USER_GROUPS_R
 
_SC_USER_GROUPS_R


	)

428 
	m_SC_2_PBS
,

429 
	#_SC_2_PBS
 
_SC_2_PBS


	)

430 
	m_SC_2_PBS_ACCOUNTING
,

431 
	#_SC_2_PBS_ACCOUNTING
 
_SC_2_PBS_ACCOUNTING


	)

432 
	m_SC_2_PBS_LOCATE
,

433 
	#_SC_2_PBS_LOCATE
 
_SC_2_PBS_LOCATE


	)

434 
	m_SC_2_PBS_MESSAGE
,

435 
	#_SC_2_PBS_MESSAGE
 
_SC_2_PBS_MESSAGE


	)

436 
	m_SC_2_PBS_TRACK
,

437 
	#_SC_2_PBS_TRACK
 
_SC_2_PBS_TRACK


	)

438 
	m_SC_SYMLOOP_MAX
,

439 
	#_SC_SYMLOOP_MAX
 
_SC_SYMLOOP_MAX


	)

440 
	m_SC_STREAMS
,

441 
	#_SC_STREAMS
 
_SC_STREAMS


	)

442 
	m_SC_2_PBS_CHECKPOINT
,

443 
	#_SC_2_PBS_CHECKPOINT
 
_SC_2_PBS_CHECKPOINT


	)

445 
	m_SC_V6_ILP32_OFF32
,

446 
	#_SC_V6_ILP32_OFF32
 
_SC_V6_ILP32_OFF32


	)

447 
	m_SC_V6_ILP32_OFFBIG
,

448 
	#_SC_V6_ILP32_OFFBIG
 
_SC_V6_ILP32_OFFBIG


	)

449 
	m_SC_V6_LP64_OFF64
,

450 
	#_SC_V6_LP64_OFF64
 
_SC_V6_LP64_OFF64


	)

451 
	m_SC_V6_LPBIG_OFFBIG
,

452 
	#_SC_V6_LPBIG_OFFBIG
 
_SC_V6_LPBIG_OFFBIG


	)

454 
	m_SC_HOST_NAME_MAX
,

455 
	#_SC_HOST_NAME_MAX
 
_SC_HOST_NAME_MAX


	)

456 
	m_SC_TRACE
,

457 
	#_SC_TRACE
 
_SC_TRACE


	)

458 
	m_SC_TRACE_EVENT_FILTER
,

459 
	#_SC_TRACE_EVENT_FILTER
 
_SC_TRACE_EVENT_FILTER


	)

460 
	m_SC_TRACE_INHERIT
,

461 
	#_SC_TRACE_INHERIT
 
_SC_TRACE_INHERIT


	)

462 
	m_SC_TRACE_LOG
,

463 
	#_SC_TRACE_LOG
 
_SC_TRACE_LOG


	)

465 
	m_SC_LEVEL1_ICACHE_SIZE
,

466 
	#_SC_LEVEL1_ICACHE_SIZE
 
_SC_LEVEL1_ICACHE_SIZE


	)

467 
	m_SC_LEVEL1_ICACHE_ASSOC
,

468 
	#_SC_LEVEL1_ICACHE_ASSOC
 
_SC_LEVEL1_ICACHE_ASSOC


	)

469 
	m_SC_LEVEL1_ICACHE_LINESIZE
,

470 
	#_SC_LEVEL1_ICACHE_LINESIZE
 
_SC_LEVEL1_ICACHE_LINESIZE


	)

471 
	m_SC_LEVEL1_DCACHE_SIZE
,

472 
	#_SC_LEVEL1_DCACHE_SIZE
 
_SC_LEVEL1_DCACHE_SIZE


	)

473 
	m_SC_LEVEL1_DCACHE_ASSOC
,

474 
	#_SC_LEVEL1_DCACHE_ASSOC
 
_SC_LEVEL1_DCACHE_ASSOC


	)

475 
	m_SC_LEVEL1_DCACHE_LINESIZE
,

476 
	#_SC_LEVEL1_DCACHE_LINESIZE
 
_SC_LEVEL1_DCACHE_LINESIZE


	)

477 
	m_SC_LEVEL2_CACHE_SIZE
,

478 
	#_SC_LEVEL2_CACHE_SIZE
 
_SC_LEVEL2_CACHE_SIZE


	)

479 
	m_SC_LEVEL2_CACHE_ASSOC
,

480 
	#_SC_LEVEL2_CACHE_ASSOC
 
_SC_LEVEL2_CACHE_ASSOC


	)

481 
	m_SC_LEVEL2_CACHE_LINESIZE
,

482 
	#_SC_LEVEL2_CACHE_LINESIZE
 
_SC_LEVEL2_CACHE_LINESIZE


	)

483 
	m_SC_LEVEL3_CACHE_SIZE
,

484 
	#_SC_LEVEL3_CACHE_SIZE
 
_SC_LEVEL3_CACHE_SIZE


	)

485 
	m_SC_LEVEL3_CACHE_ASSOC
,

486 
	#_SC_LEVEL3_CACHE_ASSOC
 
_SC_LEVEL3_CACHE_ASSOC


	)

487 
	m_SC_LEVEL3_CACHE_LINESIZE
,

488 
	#_SC_LEVEL3_CACHE_LINESIZE
 
_SC_LEVEL3_CACHE_LINESIZE


	)

489 
	m_SC_LEVEL4_CACHE_SIZE
,

490 
	#_SC_LEVEL4_CACHE_SIZE
 
_SC_LEVEL4_CACHE_SIZE


	)

491 
	m_SC_LEVEL4_CACHE_ASSOC
,

492 
	#_SC_LEVEL4_CACHE_ASSOC
 
_SC_LEVEL4_CACHE_ASSOC


	)

493 
	m_SC_LEVEL4_CACHE_LINESIZE
,

494 
	#_SC_LEVEL4_CACHE_LINESIZE
 
_SC_LEVEL4_CACHE_LINESIZE


	)

497 
	m_SC_IPV6
 = 
_SC_LEVEL1_ICACHE_SIZE
 + 50,

498 
	#_SC_IPV6
 
_SC_IPV6


	)

499 
	m_SC_RAW_SOCKETS
,

500 
	#_SC_RAW_SOCKETS
 
_SC_RAW_SOCKETS


	)

502 
	m_SC_V7_ILP32_OFF32
,

503 
	#_SC_V7_ILP32_OFF32
 
_SC_V7_ILP32_OFF32


	)

504 
	m_SC_V7_ILP32_OFFBIG
,

505 
	#_SC_V7_ILP32_OFFBIG
 
_SC_V7_ILP32_OFFBIG


	)

506 
	m_SC_V7_LP64_OFF64
,

507 
	#_SC_V7_LP64_OFF64
 
_SC_V7_LP64_OFF64


	)

508 
	m_SC_V7_LPBIG_OFFBIG
,

509 
	#_SC_V7_LPBIG_OFFBIG
 
_SC_V7_LPBIG_OFFBIG


	)

511 
	m_SC_SS_REPL_MAX
,

512 
	#_SC_SS_REPL_MAX
 
_SC_SS_REPL_MAX


	)

514 
	m_SC_TRACE_EVENT_NAME_MAX
,

515 
	#_SC_TRACE_EVENT_NAME_MAX
 
_SC_TRACE_EVENT_NAME_MAX


	)

516 
	m_SC_TRACE_NAME_MAX
,

517 
	#_SC_TRACE_NAME_MAX
 
_SC_TRACE_NAME_MAX


	)

518 
	m_SC_TRACE_SYS_MAX
,

519 
	#_SC_TRACE_SYS_MAX
 
_SC_TRACE_SYS_MAX


	)

520 
	m_SC_TRACE_USER_EVENT_MAX
,

521 
	#_SC_TRACE_USER_EVENT_MAX
 
_SC_TRACE_USER_EVENT_MAX


	)

523 
	m_SC_XOPEN_STREAMS
,

524 
	#_SC_XOPEN_STREAMS
 
_SC_XOPEN_STREAMS


	)

526 
	m_SC_THREAD_ROBUST_PRIO_INHERIT
,

527 
	#_SC_THREAD_ROBUST_PRIO_INHERIT
 
_SC_THREAD_ROBUST_PRIO_INHERIT


	)

528 
	m_SC_THREAD_ROBUST_PRIO_PROTECT


529 
	#_SC_THREAD_ROBUST_PRIO_PROTECT
 
_SC_THREAD_ROBUST_PRIO_PROTECT


	)

535 
	m_CS_PATH
,

536 
	#_CS_PATH
 
_CS_PATH


	)

538 
	m_CS_V6_WIDTH_RESTRICTED_ENVS
,

539 
	#_CS_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

540 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

542 
	m_CS_GNU_LIBC_VERSION
,

543 
	#_CS_GNU_LIBC_VERSION
 
_CS_GNU_LIBC_VERSION


	)

544 
	m_CS_GNU_LIBPTHREAD_VERSION
,

545 
	#_CS_GNU_LIBPTHREAD_VERSION
 
_CS_GNU_LIBPTHREAD_VERSION


	)

547 
	m_CS_V5_WIDTH_RESTRICTED_ENVS
,

548 
	#_CS_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

549 
	#_CS_POSIX_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

551 
	m_CS_V7_WIDTH_RESTRICTED_ENVS
,

552 
	#_CS_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

553 
	#_CS_POSIX_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

555 
	m_CS_LFS_CFLAGS
 = 1000,

556 
	#_CS_LFS_CFLAGS
 
_CS_LFS_CFLAGS


	)

557 
	m_CS_LFS_LDFLAGS
,

558 
	#_CS_LFS_LDFLAGS
 
_CS_LFS_LDFLAGS


	)

559 
	m_CS_LFS_LIBS
,

560 
	#_CS_LFS_LIBS
 
_CS_LFS_LIBS


	)

561 
	m_CS_LFS_LINTFLAGS
,

562 
	#_CS_LFS_LINTFLAGS
 
_CS_LFS_LINTFLAGS


	)

563 
	m_CS_LFS64_CFLAGS
,

564 
	#_CS_LFS64_CFLAGS
 
_CS_LFS64_CFLAGS


	)

565 
	m_CS_LFS64_LDFLAGS
,

566 
	#_CS_LFS64_LDFLAGS
 
_CS_LFS64_LDFLAGS


	)

567 
	m_CS_LFS64_LIBS
,

568 
	#_CS_LFS64_LIBS
 
_CS_LFS64_LIBS


	)

569 
	m_CS_LFS64_LINTFLAGS
,

570 
	#_CS_LFS64_LINTFLAGS
 
_CS_LFS64_LINTFLAGS


	)

572 
	m_CS_XBS5_ILP32_OFF32_CFLAGS
 = 1100,

573 
	#_CS_XBS5_ILP32_OFF32_CFLAGS
 
_CS_XBS5_ILP32_OFF32_CFLAGS


	)

574 
	m_CS_XBS5_ILP32_OFF32_LDFLAGS
,

575 
	#_CS_XBS5_ILP32_OFF32_LDFLAGS
 
_CS_XBS5_ILP32_OFF32_LDFLAGS


	)

576 
	m_CS_XBS5_ILP32_OFF32_LIBS
,

577 
	#_CS_XBS5_ILP32_OFF32_LIBS
 
_CS_XBS5_ILP32_OFF32_LIBS


	)

578 
	m_CS_XBS5_ILP32_OFF32_LINTFLAGS
,

579 
	#_CS_XBS5_ILP32_OFF32_LINTFLAGS
 
_CS_XBS5_ILP32_OFF32_LINTFLAGS


	)

580 
	m_CS_XBS5_ILP32_OFFBIG_CFLAGS
,

581 
	#_CS_XBS5_ILP32_OFFBIG_CFLAGS
 
_CS_XBS5_ILP32_OFFBIG_CFLAGS


	)

582 
	m_CS_XBS5_ILP32_OFFBIG_LDFLAGS
,

583 
	#_CS_XBS5_ILP32_OFFBIG_LDFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LDFLAGS


	)

584 
	m_CS_XBS5_ILP32_OFFBIG_LIBS
,

585 
	#_CS_XBS5_ILP32_OFFBIG_LIBS
 
_CS_XBS5_ILP32_OFFBIG_LIBS


	)

586 
	m_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
,

587 
	#_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS


	)

588 
	m_CS_XBS5_LP64_OFF64_CFLAGS
,

589 
	#_CS_XBS5_LP64_OFF64_CFLAGS
 
_CS_XBS5_LP64_OFF64_CFLAGS


	)

590 
	m_CS_XBS5_LP64_OFF64_LDFLAGS
,

591 
	#_CS_XBS5_LP64_OFF64_LDFLAGS
 
_CS_XBS5_LP64_OFF64_LDFLAGS


	)

592 
	m_CS_XBS5_LP64_OFF64_LIBS
,

593 
	#_CS_XBS5_LP64_OFF64_LIBS
 
_CS_XBS5_LP64_OFF64_LIBS


	)

594 
	m_CS_XBS5_LP64_OFF64_LINTFLAGS
,

595 
	#_CS_XBS5_LP64_OFF64_LINTFLAGS
 
_CS_XBS5_LP64_OFF64_LINTFLAGS


	)

596 
	m_CS_XBS5_LPBIG_OFFBIG_CFLAGS
,

597 
	#_CS_XBS5_LPBIG_OFFBIG_CFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_CFLAGS


	)

598 
	m_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
,

599 
	#_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS


	)

600 
	m_CS_XBS5_LPBIG_OFFBIG_LIBS
,

601 
	#_CS_XBS5_LPBIG_OFFBIG_LIBS
 
_CS_XBS5_LPBIG_OFFBIG_LIBS


	)

602 
	m_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
,

603 
	#_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS


	)

605 
	m_CS_POSIX_V6_ILP32_OFF32_CFLAGS
,

606 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_CFLAGS


	)

607 
	m_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
,

608 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS


	)

609 
	m_CS_POSIX_V6_ILP32_OFF32_LIBS
,

610 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 
_CS_POSIX_V6_ILP32_OFF32_LIBS


	)

611 
	m_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
,

612 
	#_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS


	)

613 
	m_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
,

614 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS


	)

615 
	m_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
,

616 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS


	)

617 
	m_CS_POSIX_V6_ILP32_OFFBIG_LIBS
,

618 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V6_ILP32_OFFBIG_LIBS


	)

619 
	m_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
,

620 
	#_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS


	)

621 
	m_CS_POSIX_V6_LP64_OFF64_CFLAGS
,

622 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 
_CS_POSIX_V6_LP64_OFF64_CFLAGS


	)

623 
	m_CS_POSIX_V6_LP64_OFF64_LDFLAGS
,

624 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LDFLAGS


	)

625 
	m_CS_POSIX_V6_LP64_OFF64_LIBS
,

626 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 
_CS_POSIX_V6_LP64_OFF64_LIBS


	)

627 
	m_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
,

628 
	#_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS


	)

629 
	m_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
,

630 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS


	)

631 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
,

632 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS


	)

633 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
,

634 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS


	)

635 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
,

636 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS


	)

638 
	m_CS_POSIX_V7_ILP32_OFF32_CFLAGS
,

639 
	#_CS_POSIX_V7_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_CFLAGS


	)

640 
	m_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
,

641 
	#_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS


	)

642 
	m_CS_POSIX_V7_ILP32_OFF32_LIBS
,

643 
	#_CS_POSIX_V7_ILP32_OFF32_LIBS
 
_CS_POSIX_V7_ILP32_OFF32_LIBS


	)

644 
	m_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
,

645 
	#_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS


	)

646 
	m_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
,

647 
	#_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS


	)

648 
	m_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
,

649 
	#_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS


	)

650 
	m_CS_POSIX_V7_ILP32_OFFBIG_LIBS
,

651 
	#_CS_POSIX_V7_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V7_ILP32_OFFBIG_LIBS


	)

652 
	m_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
,

653 
	#_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS


	)

654 
	m_CS_POSIX_V7_LP64_OFF64_CFLAGS
,

655 
	#_CS_POSIX_V7_LP64_OFF64_CFLAGS
 
_CS_POSIX_V7_LP64_OFF64_CFLAGS


	)

656 
	m_CS_POSIX_V7_LP64_OFF64_LDFLAGS
,

657 
	#_CS_POSIX_V7_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LDFLAGS


	)

658 
	m_CS_POSIX_V7_LP64_OFF64_LIBS
,

659 
	#_CS_POSIX_V7_LP64_OFF64_LIBS
 
_CS_POSIX_V7_LP64_OFF64_LIBS


	)

660 
	m_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
,

661 
	#_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS


	)

662 
	m_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
,

663 
	#_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS


	)

664 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
,

665 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS


	)

666 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
,

667 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS


	)

668 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
,

669 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


	)

671 
	m_CS_V6_ENV
,

672 
	#_CS_V6_ENV
 
_CS_V6_ENV


	)

673 
	m_CS_V7_ENV


674 
	#_CS_V7_ENV
 
_CS_V7_ENV


	)

	@/usr/include/bits/environments.h

18 #i‚de‡
_UNISTD_H


22 
	~<bôs/w‹dsize.h
>

42 #i‡
__WORDSIZE
 == 64

56 
	#_POSIX_V7_LPBIG_OFFBIG
 -1

	)

57 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

58 
	#_XBS5_LPBIG_OFFBIG
 -1

	)

61 
	#_POSIX_V7_LP64_OFF64
 1

	)

62 
	#_POSIX_V6_LP64_OFF64
 1

	)

63 
	#_XBS5_LP64_OFF64
 1

	)

69 
	#_POSIX_V7_ILP32_OFFBIG
 1

	)

70 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

71 
	#_XBS5_ILP32_OFFBIG
 1

	)

73 #i‚de‡
__x86_64__


75 
	#_POSIX_V7_ILP32_OFF32
 1

	)

76 
	#_POSIX_V6_ILP32_OFF32
 1

	)

77 
	#_XBS5_ILP32_OFF32
 1

	)

95 
	#__ILP32_OFF32_CFLAGS
 "-m32"

	)

96 
	#__ILP32_OFF32_LDFLAGS
 "-m32"

	)

97 #i‡
deföed
 
__x86_64__
 && deföed 
__ILP32__


98 
	#__ILP32_OFFBIG_CFLAGS
 "-mx32"

	)

99 
	#__ILP32_OFFBIG_LDFLAGS
 "-mx32"

	)

101 
	#__ILP32_OFFBIG_CFLAGS
 "-m32 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

	)

102 
	#__ILP32_OFFBIG_LDFLAGS
 "-m32"

	)

104 
	#__LP64_OFF64_CFLAGS
 "-m64"

	)

105 
	#__LP64_OFF64_LDFLAGS
 "-m64"

	)

	@/usr/include/bits/errno.h

19 #ifde‡
_ERRNO_H


21 #unde‡
EDOM


22 #unde‡
EILSEQ


23 #unde‡
ERANGE


24 
	~<löux/î∫o.h
>

27 
	#ENOTSUP
 
EOPNOTSUPP


	)

30 #i‚de‡
ECANCELED


31 
	#ECANCELED
 125

	)

35 #i‚de‡
EOWNERDEAD


36 
	#EOWNERDEAD
 130

	)

37 
	#ENOTRECOVERABLE
 131

	)

40 #i‚de‡
ERFKILL


41 
	#ERFKILL
 132

	)

44 #i‚de‡
EHWPOISON


45 
	#EHWPOISON
 133

	)

48 #i‚de‡
__ASSEMBLER__


50 *
	$__î∫o_loˇti⁄
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

52 #i‡!
deföed
 
_LIBC
 || deföed 
_LIBC_REENTRANT


54 
	#î∫o
 (*
	`__î∫o_loˇti⁄
 ())

	)

59 #i‡!
deföed
 
_ERRNO_H
 && deföed 
__√ed_Em©h


63 
	#EDOM
 33

	)

64 
	#EILSEQ
 84

	)

65 
	#ERANGE
 34

	)

	@/usr/include/bits/fcntl.h

19 #i‚de‡
_FCNTL_H


23 #ifde‡
__x86_64__


24 
	#__O_LARGEFILE
 0

	)

27 #ifde‡
__x86_64__


29 
	#F_GETLK64
 5

	)

30 
	#F_SETLK64
 6

	)

31 
	#F_SETLKW64
 7

	)

35 
	sÊock


37 
	ml_ty≥
;

38 
	ml_whí˚
;

39 #i‚de‡
__USE_FILE_OFFSET64


40 
__off_t
 
	ml_°¨t
;

41 
__off_t
 
	ml_Àn
;

43 
__off64_t
 
	ml_°¨t
;

44 
__off64_t
 
	ml_Àn
;

46 
__pid_t
 
	ml_pid
;

49 #ifde‡
__USE_LARGEFILE64


50 
	sÊock64


52 
	ml_ty≥
;

53 
	ml_whí˚
;

54 
__off64_t
 
	ml_°¨t
;

55 
__off64_t
 
	ml_Àn
;

56 
__pid_t
 
	ml_pid
;

61 
	~<bôs/f˙é-löux.h
>

	@/usr/include/bits/fcntl2.h

19 #i‚def 
_FCNTL_H


25 #i‚de‡
__USE_FILE_OFFSET64


26 
	$__›í_2
 (c⁄° *
__∑th
, 
__oÊag
Ë
	`__n⁄nuŒ
 ((1));

27 
	`__REDIRECT
 (
__›í_Æüs
, (c⁄° *
__∑th
, 
__oÊag
, ...),

28 
›í
Ë
	`__n⁄nuŒ
 ((1));

30 
	`__REDIRECT
 (
__›í_2
, (c⁄° *
__∑th
, 
__oÊag
),

31 
__›í64_2
Ë
	`__n⁄nuŒ
 ((1));

32 
	`__REDIRECT
 (
__›í_Æüs
, (c⁄° *
__∑th
, 
__oÊag
, ...),

33 
›í64
Ë
	`__n⁄nuŒ
 ((1));

35 
	`__îr‹de˛
 (
__›í_too_m™y_¨gs
,

37 
	`__îr‹de˛
 (
__›í_missög_mode
,

40 
__f‹tify_fun˘i⁄
 

41 
	$›í
 (c⁄° *
__∑th
, 
__oÊag
, ...)

43 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

44 
	`__›í_too_m™y_¨gs
 ();

46 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

48 i‡(
	`__OPEN_NEEDS_MODE
 (
__oÊag
Ë&& 
	`__va_¨g_∑ck_Àn
 () < 1)

50 
	`__›í_missög_mode
 ();

51  
	`__›í_2
 (
__∑th
, 
__oÊag
);

53  
	`__›í_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

56 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

57  
	`__›í_2
 (
__∑th
, 
__oÊag
);

59  
	`__›í_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

60 
	}
}

63 #ifde‡
__USE_LARGEFILE64


64 
	$__›í64_2
 (c⁄° *
__∑th
, 
__oÊag
Ë
	`__n⁄nuŒ
 ((1));

65 
	`__REDIRECT
 (
__›í64_Æüs
, (c⁄° *
__∑th
, 
__oÊag
,

66 ...), 
›í64
Ë
	`__n⁄nuŒ
 ((1));

67 
	`__îr‹de˛
 (
__›í64_too_m™y_¨gs
,

69 
	`__îr‹de˛
 (
__›í64_missög_mode
,

72 
__f‹tify_fun˘i⁄
 

73 
	$›í64
 (c⁄° *
__∑th
, 
__oÊag
, ...)

75 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

76 
	`__›í64_too_m™y_¨gs
 ();

78 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

80 i‡(
	`__OPEN_NEEDS_MODE
 (
__oÊag
Ë&& 
	`__va_¨g_∑ck_Àn
 () < 1)

82 
	`__›í64_missög_mode
 ();

83  
	`__›í64_2
 (
__∑th
, 
__oÊag
);

85  
	`__›í64_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

88 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

89  
	`__›í64_2
 (
__∑th
, 
__oÊag
);

91  
	`__›í64_Æüs
 (
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

92 
	}
}

96 #ifde‡
__USE_ATFILE


97 #i‚de‡
__USE_FILE_OFFSET64


98 
	$__›í©_2
 (
__fd
, c⁄° *
__∑th
, 
__oÊag
)

99 
	`__n⁄nuŒ
 ((2));

100 
	`__REDIRECT
 (
__›í©_Æüs
, (
__fd
, c⁄° *
__∑th
,

101 
__oÊag
, ...), 
›í©
)

102 
	`__n⁄nuŒ
 ((2));

104 
	`__REDIRECT
 (
__›í©_2
, (
__fd
, c⁄° *
__∑th
,

105 
__oÊag
), 
__›í©64_2
)

106 
	`__n⁄nuŒ
 ((2));

107 
	`__REDIRECT
 (
__›í©_Æüs
, (
__fd
, c⁄° *
__∑th
,

108 
__oÊag
, ...), 
›í©64
)

109 
	`__n⁄nuŒ
 ((2));

111 
	`__îr‹de˛
 (
__›í©_too_m™y_¨gs
,

113 
	`__îr‹de˛
 (
__›í©_missög_mode
,

116 
__f‹tify_fun˘i⁄
 

117 
	$›í©
 (
__fd
, c⁄° *
__∑th
, 
__oÊag
, ...)

119 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

120 
	`__›í©_too_m™y_¨gs
 ();

122 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

124 i‡(
	`__OPEN_NEEDS_MODE
 (
__oÊag
Ë&& 
	`__va_¨g_∑ck_Àn
 () < 1)

126 
	`__›í©_missög_mode
 ();

127  
	`__›í©_2
 (
__fd
, 
__∑th
, 
__oÊag
);

129  
	`__›í©_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

132 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

133  
	`__›í©_2
 (
__fd
, 
__∑th
, 
__oÊag
);

135  
	`__›í©_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

136 
	}
}

139 #ifde‡
__USE_LARGEFILE64


140 
	$__›í©64_2
 (
__fd
, c⁄° *
__∑th
, 
__oÊag
)

141 
	`__n⁄nuŒ
 ((2));

142 
	`__REDIRECT
 (
__›í©64_Æüs
, (
__fd
, c⁄° *
__∑th
,

143 
__oÊag
, ...), 
›í©64
)

144 
	`__n⁄nuŒ
 ((2));

145 
	`__îr‹de˛
 (
__›í©64_too_m™y_¨gs
,

147 
	`__îr‹de˛
 (
__›í©64_missög_mode
,

150 
__f‹tify_fun˘i⁄
 

151 
	$›í©64
 (
__fd
, c⁄° *
__∑th
, 
__oÊag
, ...)

153 i‡(
	`__va_¨g_∑ck_Àn
 () > 1)

154 
	`__›í©64_too_m™y_¨gs
 ();

156 i‡(
	`__buûtö_c⁄°™t_p
 (
__oÊag
))

158 i‡(
	`__OPEN_NEEDS_MODE
 (
__oÊag
Ë&& 
	`__va_¨g_∑ck_Àn
 () < 1)

160 
	`__›í©64_missög_mode
 ();

161  
	`__›í©64_2
 (
__fd
, 
__∑th
, 
__oÊag
);

163  
	`__›í©64_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

166 i‡(
	`__va_¨g_∑ck_Àn
 () < 1)

167  
	`__›í©64_2
 (
__fd
, 
__∑th
, 
__oÊag
);

169  
	`__›í©64_Æüs
 (
__fd
, 
__∑th
, 
__oÊag
, 
	`__va_¨g_∑ck
 ());

170 
	}
}

	@/usr/include/bits/huge_val.h

20 #i‚de‡
_MATH_H


26 #i‡
__GNUC_PREREQ
(3,3)

27 
	#HUGE_VAL
 (
	`__buûtö_huge_vÆ
())

	)

28 #ñi‡
__GNUC_PREREQ
(2,96)

29 
	#HUGE_VAL
 (
__exãnsi⁄__
 0x1.0
p2047
)

	)

30 #ñi‡
deföed
 
__GNUC__


32 
	#HUGE_VAL
 \

33 (
__exãnsi⁄__
 \

34 ((uni⁄ { 
__l
 
	`__©åibuã__
((
	`__mode__
(
__DI__
))); 
__d
; }) \

35 { 
__l
: 0x7ff0000000000000ULL }).
__d
)

	)

39 
	~<ídün.h
>

41 uni⁄ { 
	m__c
[8]; 
	m__d
; } 
	t__huge_vÆ_t
;

43 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


44 
	#__HUGE_VAL_byãs
 { 0x7f, 0xf0, 0, 0, 0, 0, 0, 0 }

	)

46 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


47 
	#__HUGE_VAL_byãs
 { 0, 0, 0, 0, 0, 0, 0xf0, 0x7‡}

	)

50 
__huge_vÆ_t
 
	g__huge_vÆ
 = { 
__HUGE_VAL_byãs
 };

51 
	#HUGE_VAL
 (
__huge_vÆ
.
__d
)

	)

	@/usr/include/bits/huge_valf.h

20 #i‚de‡
_MATH_H


26 #i‡
__GNUC_PREREQ
(3,3)

27 
	#HUGE_VALF
 (
	`__buûtö_huge_vÆf
())

	)

28 #ñi‡
__GNUC_PREREQ
(2,96)

29 
	#HUGE_VALF
 (
__exãnsi⁄__
 0x1.0
p255f
)

	)

30 #ñi‡
deföed
 
__GNUC__


32 
	#HUGE_VALF
 \

33 (
__exãnsi⁄__
 \

34 ((uni⁄ { 
__l
 
	`__©åibuã__
((
	`__mode__
(
__SI__
))); 
__d
; }) \

35 { 
__l
: 0x7f800000UL }).
__d
)

	)

39 uni⁄ { 
	m__c
[4]; 
	m__f
; } 
	t__huge_vÆf_t
;

41 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


42 
	#__HUGE_VALF_byãs
 { 0x7f, 0x80, 0, 0 }

	)

44 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


45 
	#__HUGE_VALF_byãs
 { 0, 0, 0x80, 0x7‡}

	)

48 
__huge_vÆf_t
 
	g__huge_vÆf
 = { 
__HUGE_VALF_byãs
 };

49 
	#HUGE_VALF
 (
__huge_vÆf
.
__f
)

	)

	@/usr/include/bits/huge_vall.h

20 #i‚de‡
_MATH_H


24 #i‡
__GNUC_PREREQ
(3,3)

25 
	#HUGE_VALL
 (
	`__buûtö_huge_vÆl
())

	)

26 #ñi‡
__GNUC_PREREQ
(2,96)

27 
	#HUGE_VALL
 (
__exãnsi⁄__
 0x1.0
p32767L
)

	)

30 
	#__HUGE_VALL_byãs
 { 0, 0, 0, 0, 0, 0, 0, 0x80, 0xff, 0x7f, 0, 0 }

	)

32 
	#__huge_vÆl_t
 uni⁄ { 
__c
[12]; 
__ld
; }

	)

33 #ifde‡
__GNUC__


34 
	#HUGE_VALL
 (
__exãnsi⁄__
 \

35 ((
__huge_vÆl_t
Ë{ 
__c
: 
__HUGE_VALL_byãs
 }).
__ld
)

	)

37 
__huge_vÆl_t
 
	g__huge_vÆl
 = { 
__HUGE_VALL_byãs
 };

38 
	#HUGE_VALL
 (
__huge_vÆl
.
__ld
)

	)

	@/usr/include/bits/inf.h

19 #i‚de‡
_MATH_H


25 #i‡
__GNUC_PREREQ
(3,3)

26 
	#INFINITY
 (
	`__buûtö_öff
())

	)

28 
	#INFINITY
 
HUGE_VALF


	)

	@/usr/include/bits/math-finite.h

19 #i‚de‡
_MATH_H


24 
__REDIRECT_NTH
 (
acos
, (), 
__acos_föôe
);

25 #ifde‡
__USE_ISOC99


26 
__REDIRECT_NTH
 (
acosf
, (), 
__acosf_föôe
);

27 #ifde‡
__MATH_DECLARE_LDOUBLE


28 #ifde‡
__NO_LONG_DOUBLE_MATH


29 
__REDIRECT_NTH
 (
aco¶
, (), 
__acos_föôe
);

31 
__REDIRECT_NTH
 (
aco¶
, (), 
__aco¶_föôe
);

36 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


38 
__REDIRECT_NTH
 (
acosh
, (), 
__acosh_föôe
);

40 #ifde‡
__USE_ISOC99


41 
__REDIRECT_NTH
 (
acoshf
, (), 
__acoshf_föôe
);

42 #ifde‡
__MATH_DECLARE_LDOUBLE


43 #ifde‡
__NO_LONG_DOUBLE_MATH


44 
__REDIRECT_NTH
 (
acoshl
, (), 
__acosh_föôe
);

46 
__REDIRECT_NTH
 (
acoshl
, (), 
__acoshl_föôe
);

52 
__REDIRECT_NTH
 (
asö
, (), 
__asö_föôe
);

53 #ifde‡
__USE_ISOC99


54 
__REDIRECT_NTH
 (
asöf
, (), 
__asöf_föôe
);

55 #ifde‡
__MATH_DECLARE_LDOUBLE


56 #ifde‡
__NO_LONG_DOUBLE_MATH


57 
__REDIRECT_NTH
 (
asöl
, (), 
__asö_föôe
);

59 
__REDIRECT_NTH
 (
asöl
, (), 
__asöl_föôe
);

65 
__REDIRECT_NTH
 (
©™2
, (, ), 
__©™2_föôe
);

66 #ifde‡
__USE_ISOC99


67 
__REDIRECT_NTH
 (
©™2f
, (, ), 
__©™2f_föôe
);

68 #ifde‡
__MATH_DECLARE_LDOUBLE


69 #ifde‡
__NO_LONG_DOUBLE_MATH


70 
__REDIRECT_NTH
 (
©™2l
, (, ),

71 
__©™2_föôe
);

73 
__REDIRECT_NTH
 (
©™2l
, (, ),

74 
__©™2l_föôe
);

79 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


81 
__REDIRECT_NTH
 (
©™h
, (), 
__©™h_föôe
);

83 #ifde‡
__USE_ISOC99


84 
__REDIRECT_NTH
 (
©™hf
, (), 
__©™hf_föôe
);

85 #ifde‡
__MATH_DECLARE_LDOUBLE


86 #ifde‡
__NO_LONG_DOUBLE_MATH


87 
__REDIRECT_NTH
 (
©™hl
, (), 
__©™h_föôe
);

89 
__REDIRECT_NTH
 (
©™hl
, (), 
__©™hl_föôe
);

95 
__REDIRECT_NTH
 (
cosh
, (), 
__cosh_föôe
);

96 #ifde‡
__USE_ISOC99


97 
__REDIRECT_NTH
 (
coshf
, (), 
__coshf_föôe
);

98 #ifde‡
__MATH_DECLARE_LDOUBLE


99 #ifde‡
__NO_LONG_DOUBLE_MATH


100 
__REDIRECT_NTH
 (
coshl
, (), 
__cosh_föôe
);

102 
__REDIRECT_NTH
 (
coshl
, (), 
__coshl_föôe
);

108 
__REDIRECT_NTH
 (
exp
, (), 
__exp_föôe
);

109 #ifde‡
__USE_ISOC99


110 
__REDIRECT_NTH
 (
expf
, (), 
__expf_föôe
);

111 #ifde‡
__MATH_DECLARE_LDOUBLE


112 #ifde‡
__NO_LONG_DOUBLE_MATH


113 
__REDIRECT_NTH
 (
ex∂
, (), 
__exp_föôe
);

115 
__REDIRECT_NTH
 (
ex∂
, (), 
__ex∂_föôe
);

120 #ifde‡
__USE_GNU


122 
__REDIRECT_NTH
 (
exp10
, (), 
__exp10_föôe
);

123 
__REDIRECT_NTH
 (
exp10f
, (), 
__exp10f_föôe
);

124 #ifde‡
__MATH_DECLARE_LDOUBLE


125 #ifde‡
__NO_LONG_DOUBLE_MATH


126 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10_föôe
);

128 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10l_föôe
);

133 
__REDIRECT_NTH
 (
pow10
, (), 
__exp10_föôe
);

134 
__REDIRECT_NTH
 (
pow10f
, (), 
__exp10f_föôe
);

135 #ifde‡
__MATH_DECLARE_LDOUBLE


136 #ifde‡
__NO_LONG_DOUBLE_MATH


137 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10_föôe
);

139 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10l_föôe
);

144 #ifde‡
__USE_ISOC99


146 
__REDIRECT_NTH
 (
exp2
, (), 
__exp2_föôe
);

147 
__REDIRECT_NTH
 (
exp2f
, (), 
__exp2f_föôe
);

148 #ifde‡
__MATH_DECLARE_LDOUBLE


149 #ifde‡
__NO_LONG_DOUBLE_MATH


150 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2_föôe
);

152 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2l_föôe
);

158 
__REDIRECT_NTH
 (
fmod
, (, ), 
__fmod_föôe
);

159 #ifde‡
__USE_ISOC99


160 
__REDIRECT_NTH
 (
fmodf
, (, ), 
__fmodf_föôe
);

161 #ifde‡
__MATH_DECLARE_LDOUBLE


162 #ifde‡
__NO_LONG_DOUBLE_MATH


163 
__REDIRECT_NTH
 (
fmodl
, (, ),

164 
__fmod_föôe
);

166 
__REDIRECT_NTH
 (
fmodl
, (, ),

167 
__fmodl_föôe
);

172 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_ISOC99


174 
__REDIRECT_NTH
 (
hypŸ
, (, ), 
__hypŸ_föôe
);

176 #ifde‡
__USE_ISOC99


177 
__REDIRECT_NTH
 (
hypŸf
, (, ), 
__hypŸf_föôe
);

178 #ifde‡
__MATH_DECLARE_LDOUBLE


179 #ifde‡
__NO_LONG_DOUBLE_MATH


180 
__REDIRECT_NTH
 (
hypŸl
, (, ),

181 
__hypŸ_föôe
);

183 
__REDIRECT_NTH
 (
hypŸl
, (, ),

184 
__hypŸl_föôe
);

189 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


191 
__REDIRECT_NTH
 (
j0
, (), 
__j0_föôe
);

193 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_ISOC99


194 
__REDIRECT_NTH
 (
j0f
, (), 
__j0f_föôe
);

195 #ifde‡
__MATH_DECLARE_LDOUBLE


196 #ifde‡
__NO_LONG_DOUBLE_MATH


197 
__REDIRECT_NTH
 (
j0l
, (), 
__j0_föôe
);

199 
__REDIRECT_NTH
 (
j0l
, (), 
__j0l_föôe
);

204 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


206 
__REDIRECT_NTH
 (
y0
, (), 
__y0_föôe
);

208 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_ISOC99


209 
__REDIRECT_NTH
 (
y0f
, (), 
__y0f_föôe
);

210 #ifde‡
__MATH_DECLARE_LDOUBLE


211 #ifde‡
__NO_LONG_DOUBLE_MATH


212 
__REDIRECT_NTH
 (
y0l
, (), 
__y0_föôe
);

214 
__REDIRECT_NTH
 (
y0l
, (), 
__y0l_föôe
);

219 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


221 
__REDIRECT_NTH
 (
j1
, (), 
__j1_föôe
);

223 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_ISOC99


224 
__REDIRECT_NTH
 (
j1f
, (), 
__j1f_föôe
);

225 #ifde‡
__MATH_DECLARE_LDOUBLE


226 #ifde‡
__NO_LONG_DOUBLE_MATH


227 
__REDIRECT_NTH
 (
j1l
, (), 
__j1_föôe
);

229 
__REDIRECT_NTH
 (
j1l
, (), 
__j1l_föôe
);

234 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


236 
__REDIRECT_NTH
 (
y1
, (), 
__y1_föôe
);

238 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_ISOC99


239 
__REDIRECT_NTH
 (
y1f
, (), 
__y1f_föôe
);

240 #ifde‡
__MATH_DECLARE_LDOUBLE


241 #ifde‡
__NO_LONG_DOUBLE_MATH


242 
__REDIRECT_NTH
 (
y1l
, (), 
__y1_föôe
);

244 
__REDIRECT_NTH
 (
y1l
, (), 
__y1l_föôe
);

249 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


251 
__REDIRECT_NTH
 (
jn
, (, ), 
__jn_föôe
);

253 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_ISOC99


254 
__REDIRECT_NTH
 (
jnf
, (, ), 
__jnf_föôe
);

255 #ifde‡
__MATH_DECLARE_LDOUBLE


256 #ifde‡
__NO_LONG_DOUBLE_MATH


257 
__REDIRECT_NTH
 (
j∆
, (, ), 
__jn_föôe
);

259 
__REDIRECT_NTH
 (
j∆
, (, ), 
__j∆_föôe
);

264 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


266 
__REDIRECT_NTH
 (
yn
, (, ), 
__yn_föôe
);

268 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_ISOC99


269 
__REDIRECT_NTH
 (
ynf
, (, ), 
__ynf_föôe
);

270 #ifde‡
__MATH_DECLARE_LDOUBLE


271 #ifde‡
__NO_LONG_DOUBLE_MATH


272 
__REDIRECT_NTH
 (
y∆
, (, ), 
__yn_föôe
);

274 
__REDIRECT_NTH
 (
y∆
, (, ), 
__y∆_föôe
);

279 #ifde‡
__USE_MISC


281 
__REDIRECT_NTH
 (
lgamma_r
, (, *), 
__lgamma_r_föôe
);

282 #ifde‡
__USE_ISOC99


283 
__REDIRECT_NTH
 (
lgammaf_r
, (, *), 
__lgammaf_r_föôe
);

284 #ifde‡
__MATH_DECLARE_LDOUBLE


285 #ifde‡
__NO_LONG_DOUBLE_MATH


286 
__REDIRECT_NTH
 (
lgammÆ_r
, (, *),

287 
__lgamma_r_föôe
);

289 
__REDIRECT_NTH
 (
lgammÆ_r
, (, *),

290 
__lgammÆ_r_föôe
);

296 
__lgamma_r_föôe
 (, *);

297 
__lgammaf_r_föôe
 (, *);

298 #ifde‡
__NO_LONG_DOUBLE_MATH


299 
__REDIRECT_NTH
 (
__lgammÆ_r_föôe
, (, *),

300 
__lgamma_r_föôe
);

302 
__lgammÆ_r_föôe
 (, *);

305 #i‡((
deföed
 
__USE_XOPEN
 || deföed 
__USE_ISOC99
) \

306 && 
deföed
 
	g__exã∫_Æways_ölöe
)

308 
__exã∫_Æways_ölöe
 
__NTH
 (
	$lgamma
 (
__d
))

310 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


311  
	`__lgamma_r_föôe
 (
__d
, &
signgam
);

313 
__loˇl_signgam
 = 0;

314  
	`__lgamma_r_föôe
 (
__d
, &
__loˇl_signgam
);

316 
	}
}

318 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__exã∫_Æways_ölöe


319 
__exã∫_Æways_ölöe
 
__NTH
 (
	$lgammaf
 (
__d
))

321 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


322  
	`__lgammaf_r_föôe
 (
__d
, &
signgam
);

324 
__loˇl_signgam
 = 0;

325  
	`__lgammaf_r_föôe
 (
__d
, &
__loˇl_signgam
);

327 
	}
}

328 #ifde‡
__MATH_DECLARE_LDOUBLE


329 
__exã∫_Æways_ölöe
 
__NTH
 (
	$lgammÆ
 (
__d
))

331 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


332  
	`__lgammÆ_r_föôe
 (
__d
, &
signgam
);

334 
__loˇl_signgam
 = 0;

335  
	`__lgammÆ_r_föôe
 (
__d
, &
__loˇl_signgam
);

337 
	}
}

341 #i‡((
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)) \

342 && 
deföed
 
	g__exã∫_Æways_ölöe
)

344 
__exã∫_Æways_ölöe
 
__NTH
 (
	$gamma
 (
__d
))

346  
	`__lgamma_r_föôe
 (
__d
, &
signgam
);

347 
	}
}

348 #ifde‡
__USE_ISOC99


349 
__exã∫_Æways_ölöe
 
__NTH
 (
	$gammaf
 (
__d
))

351  
	`__lgammaf_r_föôe
 (
__d
, &
signgam
);

352 
	}
}

353 #ifde‡
__MATH_DECLARE_LDOUBLE


354 
__exã∫_Æways_ölöe
 
__NTH
 (
	$gammÆ
 (
__d
))

356  
	`__lgammÆ_r_föôe
 (
__d
, &
signgam
);

357 
	}
}

363 
__REDIRECT_NTH
 (
log
, (), 
__log_föôe
);

364 #ifde‡
__USE_ISOC99


365 
__REDIRECT_NTH
 (
logf
, (), 
__logf_föôe
);

366 #ifde‡
__MATH_DECLARE_LDOUBLE


367 #ifde‡
__NO_LONG_DOUBLE_MATH


368 
__REDIRECT_NTH
 (
logl
, (), 
__log_föôe
);

370 
__REDIRECT_NTH
 (
logl
, (), 
__logl_föôe
);

376 
__REDIRECT_NTH
 (
log10
, (), 
__log10_föôe
);

377 #ifde‡
__USE_ISOC99


378 
__REDIRECT_NTH
 (
log10f
, (), 
__log10f_föôe
);

379 #ifde‡
__MATH_DECLARE_LDOUBLE


380 #ifde‡
__NO_LONG_DOUBLE_MATH


381 
__REDIRECT_NTH
 (
log10l
, (), 
__log10_föôe
);

383 
__REDIRECT_NTH
 (
log10l
, (), 
__log10l_föôe
);

388 #ifde‡
__USE_ISOC99


390 
__REDIRECT_NTH
 (
log2
, (), 
__log2_föôe
);

391 
__REDIRECT_NTH
 (
log2f
, (), 
__log2f_föôe
);

392 #ifde‡
__MATH_DECLARE_LDOUBLE


393 #ifde‡
__NO_LONG_DOUBLE_MATH


394 
__REDIRECT_NTH
 (
log2l
, (), 
__log2_föôe
);

396 
__REDIRECT_NTH
 (
log2l
, (), 
__log2l_föôe
);

402 
__REDIRECT_NTH
 (
pow
, (, ), 
__pow_föôe
);

403 #ifde‡
__USE_ISOC99


404 
__REDIRECT_NTH
 (
powf
, (, ), 
__powf_föôe
);

405 #ifde‡
__MATH_DECLARE_LDOUBLE


406 #ifde‡
__NO_LONG_DOUBLE_MATH


407 
__REDIRECT_NTH
 (
powl
, (, ),

408 
__pow_föôe
);

410 
__REDIRECT_NTH
 (
powl
, (, ),

411 
__powl_föôe
);

416 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


418 
__REDIRECT_NTH
 (
ªmaödî
, (, ), 
__ªmaödî_föôe
);

420 #ifde‡
__USE_ISOC99


421 
__REDIRECT_NTH
 (
ªmaödîf
, (, ), 
__ªmaödîf_föôe
);

422 #ifde‡
__MATH_DECLARE_LDOUBLE


423 #ifde‡
__NO_LONG_DOUBLE_MATH


424 
__REDIRECT_NTH
 (
ªmaödîl
, (, ),

425 
__ªmaödî_föôe
);

427 
__REDIRECT_NTH
 (
ªmaödîl
, (, ),

428 
__ªmaödîl_föôe
);

433 #i‡(
deföed
 
__USE_MISC
 \

434 || (
deföed
 
	g__USE_XOPEN_EXTENDED
 && !deföed 
	g__USE_XOPEN2K8
))

436 
__REDIRECT_NTH
 (
sˇlb
, (, ), 
__sˇlb_föôe
);

438 #i‡
deföed
 
__USE_MISC
 && deföed 
__USE_ISOC99


439 
__REDIRECT_NTH
 (
sˇlbf
, (, ), 
__sˇlbf_föôe
);

440 #ifde‡
__MATH_DECLARE_LDOUBLE


441 #ifde‡
__NO_LONG_DOUBLE_MATH


442 
__REDIRECT_NTH
 (
sˇlbl
, (, ),

443 
__sˇlb_föôe
);

445 
__REDIRECT_NTH
 (
sˇlbl
, (, ),

446 
__sˇlbl_föôe
);

452 
__REDIRECT_NTH
 (
söh
, (), 
__söh_föôe
);

453 #ifde‡
__USE_ISOC99


454 
__REDIRECT_NTH
 (
söhf
, (), 
__söhf_föôe
);

455 #ifde‡
__MATH_DECLARE_LDOUBLE


456 #ifde‡
__NO_LONG_DOUBLE_MATH


457 
__REDIRECT_NTH
 (
söhl
, (), 
__söh_föôe
);

459 
__REDIRECT_NTH
 (
söhl
, (), 
__söhl_föôe
);

465 
__REDIRECT_NTH
 (
sqπ
, (), 
__sqπ_föôe
);

466 #ifde‡
__USE_ISOC99


467 
__REDIRECT_NTH
 (
sqπf
, (), 
__sqπf_föôe
);

468 #ifde‡
__MATH_DECLARE_LDOUBLE


469 #ifde‡
__NO_LONG_DOUBLE_MATH


470 
__REDIRECT_NTH
 (
sqπl
, (), 
__sqπ_föôe
);

472 
__REDIRECT_NTH
 (
sqπl
, (), 
__sqπl_föôe
);

477 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__exã∫_Æways_ölöe


479 
__gamma_r_föôe
 (, *);

480 
__exã∫_Æways_ölöe
 
__NTH
 (
	$tgamma
 (
__d
))

482 
__loˇl_signgam
 = 0;

483 
__ªs
 = 
	`__gamma_r_föôe
 (
__d
, &
__loˇl_signgam
);

484  
__loˇl_signgam
 < 0 ? -
__ªs
 : __res;

485 
	}
}

486 
__gammaf_r_föôe
 (, *);

487 
__exã∫_Æways_ölöe
 
__NTH
 (
	$tgammaf
 (
__d
))

489 
__loˇl_signgam
 = 0;

490 
__ªs
 = 
	`__gammaf_r_föôe
 (
__d
, &
__loˇl_signgam
);

491  
__loˇl_signgam
 < 0 ? -
__ªs
 : __res;

492 
	}
}

493 #ifde‡
__MATH_DECLARE_LDOUBLE


494 
__gammÆ_r_föôe
 (, *);

495 
__exã∫_Æways_ölöe
 
__NTH
 (
	$tgammÆ
 (
__d
))

497 
__loˇl_signgam
 = 0;

498 #ifde‡
__NO_LONG_DOUBLE_MATH


499 
__ªs
 = 
	`__gamma_r_föôe
 (
__d
, &
__loˇl_signgam
);

501 
__ªs
 = 
	`__gammÆ_r_föôe
 (
__d
, &
__loˇl_signgam
);

503  
__loˇl_signgam
 < 0 ? -
__ªs
 : __res;

504 
	}
}

	@/usr/include/bits/math-vector.h

19 #i‚de‡
_MATH_H


25 
	~<bôs/libm-simd-de˛-°ubs.h
>

27 #i‡
deföed
 
__x86_64__
 && deföed 
__FAST_MATH__


28 #i‡
deföed
 
_OPENMP
 && _OPENMP >= 201307

30 
	#__DECL_SIMD_x86_64
 
	`_Pøgma
 ("om∞de˛¨êsimdÇŸöbønch")

	)

31 #ñi‡
__GNUC_PREREQ
 (6,0)

33 
	#__DECL_SIMD_x86_64
 
	`__©åibuã__
 ((
	`__simd__
 ("nŸöbønch")))

	)

36 #ifde‡
__DECL_SIMD_x86_64


37 #unde‡
__DECL_SIMD_cos


38 
	#__DECL_SIMD_cos
 
__DECL_SIMD_x86_64


	)

39 #unde‡
__DECL_SIMD_cosf


40 
	#__DECL_SIMD_cosf
 
__DECL_SIMD_x86_64


	)

41 #unde‡
__DECL_SIMD_sö


42 
	#__DECL_SIMD_sö
 
__DECL_SIMD_x86_64


	)

43 #unde‡
__DECL_SIMD_söf


44 
	#__DECL_SIMD_söf
 
__DECL_SIMD_x86_64


	)

45 #unde‡
__DECL_SIMD_söcos


46 
	#__DECL_SIMD_söcos
 
__DECL_SIMD_x86_64


	)

47 #unde‡
__DECL_SIMD_söcosf


48 
	#__DECL_SIMD_söcosf
 
__DECL_SIMD_x86_64


	)

49 #unde‡
__DECL_SIMD_log


50 
	#__DECL_SIMD_log
 
__DECL_SIMD_x86_64


	)

51 #unde‡
__DECL_SIMD_logf


52 
	#__DECL_SIMD_logf
 
__DECL_SIMD_x86_64


	)

53 #unde‡
__DECL_SIMD_exp


54 
	#__DECL_SIMD_exp
 
__DECL_SIMD_x86_64


	)

55 #unde‡
__DECL_SIMD_expf


56 
	#__DECL_SIMD_expf
 
__DECL_SIMD_x86_64


	)

57 #unde‡
__DECL_SIMD_pow


58 
	#__DECL_SIMD_pow
 
__DECL_SIMD_x86_64


	)

59 #unde‡
__DECL_SIMD_powf


60 
	#__DECL_SIMD_powf
 
__DECL_SIMD_x86_64


	)

	@/usr/include/bits/mathcalls.h

45 #i‚de‡
_MATH_H


52 
_MdoubÀ_BEGIN_NAMESPACE


54 
__MATHCALL
 (
acos
,, (
_MdoubÀ_
 
__x
));

56 
__MATHCALL
 (
asö
,, (
_MdoubÀ_
 
__x
));

58 
__MATHCALL
 (
©™
,, (
_MdoubÀ_
 
__x
));

60 
__MATHCALL
 (
©™2
,, (
_MdoubÀ_
 
__y
, _MdoubÀ_ 
__x
));

63 
__MATHCALL_VEC
 (
cos
,, (
_MdoubÀ_
 
__x
));

65 
__MATHCALL_VEC
 (
sö
,, (
_MdoubÀ_
 
__x
));

67 
__MATHCALL
 (
èn
,, (
_MdoubÀ_
 
__x
));

72 
__MATHCALL
 (
cosh
,, (
_MdoubÀ_
 
__x
));

74 
__MATHCALL
 (
söh
,, (
_MdoubÀ_
 
__x
));

76 
__MATHCALL
 (
ènh
,, (
_MdoubÀ_
 
__x
));

77 
	g_MdoubÀ_END_NAMESPACE


79 #ifde‡
__USE_GNU


81 
__MATHDECL_VEC
 (,
söcos
,,

82 (
_MdoubÀ_
 
__x
, _MdoubÀ_ *
__söx
, _MdoubÀ_ *
__cosx
));

85 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


86 
__BEGIN_NAMESPACE_C99


88 
__MATHCALL
 (
acosh
,, (
_MdoubÀ_
 
__x
));

90 
__MATHCALL
 (
asöh
,, (
_MdoubÀ_
 
__x
));

92 
__MATHCALL
 (
©™h
,, (
_MdoubÀ_
 
__x
));

93 
	g__END_NAMESPACE_C99


98 
_MdoubÀ_BEGIN_NAMESPACE


100 
__MATHCALL_VEC
 (
exp
,, (
_MdoubÀ_
 
__x
));

103 
__MATHCALL
 (
‰exp
,, (
_MdoubÀ_
 
__x
, *
__exp⁄ít
));

106 
__MATHCALL
 (
ldexp
,, (
_MdoubÀ_
 
__x
, 
__exp⁄ít
));

109 
__MATHCALL_VEC
 (
log
,, (
_MdoubÀ_
 
__x
));

112 
__MATHCALL
 (
log10
,, (
_MdoubÀ_
 
__x
));

115 
__MATHCALL
 (
modf
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ *
__ùå
)Ë
__n⁄nuŒ
 ((2));

116 
	g_MdoubÀ_END_NAMESPACE


118 #ifde‡
__USE_GNU


120 
__MATHCALL
 (
exp10
,, (
_MdoubÀ_
 
__x
));

122 
__MATHCALL
 (
pow10
,, (
_MdoubÀ_
 
__x
));

125 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


126 
__BEGIN_NAMESPACE_C99


128 
__MATHCALL
 (
expm1
,, (
_MdoubÀ_
 
__x
));

131 
__MATHCALL
 (
log1p
,, (
_MdoubÀ_
 
__x
));

134 
__MATHCALL
 (
logb
,, (
_MdoubÀ_
 
__x
));

135 
	g__END_NAMESPACE_C99


138 #ifde‡
__USE_ISOC99


139 
__BEGIN_NAMESPACE_C99


141 
__MATHCALL
 (
exp2
,, (
_MdoubÀ_
 
__x
));

144 
__MATHCALL
 (
log2
,, (
_MdoubÀ_
 
__x
));

145 
	g__END_NAMESPACE_C99


151 
_MdoubÀ_BEGIN_NAMESPACE


153 
__MATHCALL_VEC
 (
pow
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

156 
__MATHCALL
 (
sqπ
,, (
_MdoubÀ_
 
__x
));

157 
	g_MdoubÀ_END_NAMESPACE


159 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_ISOC99


160 
__BEGIN_NAMESPACE_C99


162 
__MATHCALL
 (
hypŸ
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

163 
	g__END_NAMESPACE_C99


166 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


167 
__BEGIN_NAMESPACE_C99


169 
__MATHCALL
 (
cbπ
,, (
_MdoubÀ_
 
__x
));

170 
	g__END_NAMESPACE_C99


176 
_MdoubÀ_BEGIN_NAMESPACE


178 
__MATHCALLX
 (
˚û
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

181 
__MATHCALLX
 (
Ábs
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

184 
__MATHCALLX
 (
Êo‹
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

187 
__MATHCALL
 (
fmod
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

192 
__MATHDECL_1
 (,
__isöf
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

195 
__MATHDECL_1
 (,
__föôe
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

196 
	g_MdoubÀ_END_NAMESPACE


198 #ifde‡
__USE_MISC


199 #i‡(!
deföed
 
__˝lu•lus
 \

200 || 
	g__˝lu•lus
 < 201103L \

201 || 
	g__MATH_DECLARING_DOUBLE
 == 0)

204 
__MATHDECL_1
 (,
isöf
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

208 
__MATHDECL_1
 (,
föôe
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

211 
__MATHCALL
 (
dªm
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

215 
__MATHCALL
 (
signifiˇnd
,, (
_MdoubÀ_
 
__x
));

218 #ifde‡
__USE_ISOC99


219 
__BEGIN_NAMESPACE_C99


221 
__MATHCALLX
 (
c›ysign
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

222 
	g__END_NAMESPACE_C99


225 #ifde‡
__USE_ISOC99


226 
__BEGIN_NAMESPACE_C99


228 
__MATHCALLX
 (
«n
,, (c⁄° *
__ègb
), (
__c⁄°__
));

229 
	g__END_NAMESPACE_C99


234 
__MATHDECL_1
 (,
__i¢™
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

236 #i‡
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

237 #i‡(!
deföed
 
__˝lu•lus
 \

238 || 
	g__˝lu•lus
 < 201103L \

239 || 
	g__MATH_DECLARING_DOUBLE
 == 0)

241 
__MATHDECL_1
 (,
i¢™
,, (
_MdoubÀ_
 
__vÆue
)Ë
__©åibuã__
 ((
__c⁄°__
));

245 #i‡
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN
 && 
__MATH_DECLARING_DOUBLE
)

247 
__MATHCALL
 (
j0
,, (
_MdoubÀ_
));

248 
__MATHCALL
 (
j1
,, (
_MdoubÀ_
));

249 
__MATHCALL
 (
jn
,, (, 
_MdoubÀ_
));

250 
__MATHCALL
 (
y0
,, (
_MdoubÀ_
));

251 
__MATHCALL
 (
y1
,, (
_MdoubÀ_
));

252 
__MATHCALL
 (
yn
,, (, 
_MdoubÀ_
));

256 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_ISOC99


257 
__BEGIN_NAMESPACE_C99


259 
__MATHCALL
 (
îf
,, (
_MdoubÀ_
));

260 
__MATHCALL
 (
îfc
,, (
_MdoubÀ_
));

261 
__MATHCALL
 (
lgamma
,, (
_MdoubÀ_
));

262 
	g__END_NAMESPACE_C99


265 #ifde‡
__USE_ISOC99


266 
__BEGIN_NAMESPACE_C99


268 
__MATHCALL
 (
tgamma
,, (
_MdoubÀ_
));

269 
	g__END_NAMESPACE_C99


272 #i‡
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

274 
__MATHCALL
 (
gamma
,, (
_MdoubÀ_
));

277 #ifde‡
__USE_MISC


281 
__MATHCALL
 (
lgamma
,
_r
, (
_MdoubÀ_
, *
__signgamp
));

285 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


286 
__BEGIN_NAMESPACE_C99


289 
__MATHCALL
 (
röt
,, (
_MdoubÀ_
 
__x
));

292 
__MATHCALLX
 (
√xè·î
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

293 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__LDBL_COMPAT


294 
__MATHCALLX
 (
√xâow¨d
,, (
_MdoubÀ_
 
__x
, 
__y
), (
__c⁄°__
));

297 #ifde‡
__USE_GNU


299 
__MATHCALL
 (
√xtdown
,, (
_MdoubÀ_
 
__x
));

301 
__MATHCALL
 (
√xtup
,, (
_MdoubÀ_
 
__x
));

305 
__MATHCALL
 (
ªmaödî
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

307 #ifde‡
__USE_ISOC99


309 
__MATHCALL
 (
sˇlbn
,, (
_MdoubÀ_
 
__x
, 
__n
));

313 
__MATHDECL
 (,
ûogb
,, (
_MdoubÀ_
 
__x
));

316 #ifde‡
__USE_ISOC99


318 
__MATHCALL
 (
sˇlb 
,, (
_MdoubÀ_
 
__x
, 
__n
));

322 
__MATHCALL
 (
√¨byöt
,, (
_MdoubÀ_
 
__x
));

326 
__MATHCALLX
 (
round
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

330 
__MATHCALLX
 (
åunc
,, (
_MdoubÀ_
 
__x
), (
__c⁄°__
));

335 
__MATHCALL
 (
ªmquo
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
, *
__quo
));

342 
__MATHDECL
 (,
Ãöt
,, (
_MdoubÀ_
 
__x
));

343 
__exãnsi⁄__


344 
__MATHDECL
 (,
Œröt
,, (
_MdoubÀ_
 
__x
));

348 
__MATHDECL
 (,
Ãound
,, (
_MdoubÀ_
 
__x
));

349 
__exãnsi⁄__


350 
__MATHDECL
 (,
Œround
,, (
_MdoubÀ_
 
__x
));

354 
__MATHCALL
 (
fdim
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
));

357 
__MATHCALLX
 (
fmax
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

360 
__MATHCALLX
 (
fmö
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
), (
__c⁄°__
));

364 
__MATHDECL_1
 (, 
__Â˛assify
,, (
_MdoubÀ_
 
__vÆue
))

365 
__©åibuã__
 ((
__c⁄°__
));

368 
__MATHDECL_1
 (, 
__signbô
,, (
_MdoubÀ_
 
__vÆue
))

369 
__©åibuã__
 ((
__c⁄°__
));

373 
__MATHCALL
 (
fma
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__y
, _MdoubÀ_ 
__z
));

376 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


377 
	g__END_NAMESPACE_C99


380 #ifde‡
__USE_GNU


382 
__MATHDECL_1
 (, 
__issig«lög
,, (
_MdoubÀ_
 
__vÆue
))

383 
__©åibuã__
 ((
__c⁄°__
));

386 #i‡
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN_EXTENDED
 \

387 && 
	g__MATH_DECLARING_DOUBLE
 \

388 && !
deföed
 
	g__USE_XOPEN2K8
)

390 
__MATHCALL
 (
sˇlb
,, (
_MdoubÀ_
 
__x
, _MdoubÀ_ 
__n
));

	@/usr/include/bits/mathdef.h

18 #i‡!
deföed
 
_MATH_H
 && !deföed 
_COMPLEX_H


22 #i‡
deföed
 
__USE_ISOC99
 && deföed 
_MATH_H
 && !deföed 
_MATH_H_MATHDEF


23 
	#_MATH_H_MATHDEF
 1

	)

25 #i‡
deföed
 
__x86_64__
 || (deföed 
__FLT_EVAL_METHOD__
 && __FLT_EVAL_METHOD__ == 0)

28 
	tÊﬂt_t
;

29 
	tdoubÀ_t
;

35 
	tÊﬂt_t
;

37 
	tdoubÀ_t
;

42 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

43 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

47 #ifde‡
__FP_FAST_FMA


48 
	#FP_FAST_FMA
 1

	)

51 #ifde‡
__FP_FAST_FMAF


52 
	#FP_FAST_FMAF
 1

	)

55 #ifde‡
__FP_FAST_FMAL


56 
	#FP_FAST_FMAL
 1

	)

	@/usr/include/bits/mathinline.h

19 #i‚de‡
_MATH_H


23 #i‚de‡
__exã∫_Æways_ölöe


24 
	#__MATH_INLINE
 
__ölöe


	)

26 
	#__MATH_INLINE
 
__exã∫_Æways_ölöe


	)

30 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__
 && __GNUC__ >= 2

32 #i‡!
__GNUC_PREREQ
 (2,97)

37 #unde‡
isgª©î


38 #unde‡
isgª©îequÆ


39 #unde‡
i¶ess


40 #unde‡
i¶es£quÆ


41 #unde‡
i¶essgª©î


42 #unde‡
isun‹dîed


43 #ifde‡
__i686__


46 
	#isgª©î
(
x
, 
y
) \

47 ({ 
__ªsu…
; \

48 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

49 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

50 
__ªsu…
; })

	)

51 
	#isgª©îequÆ
(
x
, 
y
) \

52 ({ 
__ªsu…
; \

53 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

54 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

55 
__ªsu…
; })

	)

57 
	#i¶ess
(
x
, 
y
) \

58 ({ 
__ªsu…
; \

59 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

60 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st"); \

61 
__ªsu…
; })

	)

63 
	#i¶es£quÆ
(
x
, 
y
) \

64 ({ 
__ªsu…
; \

65 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

66 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st"); \

67 
__ªsu…
; })

	)

69 
	#i¶essgª©î
(
x
, 
y
) \

70 ({ 
__ªsu…
; \

71 
	`__asm__
 ("fucomip %%st(1), %%st; setne %%al" \

72 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

73 
__ªsu…
; })

	)

75 
	#isun‹dîed
(
x
, 
y
) \

76 ({ 
__ªsu…
; \

77 
	`__asm__
 ("fucomip %%st(1), %%st; setp %%al" \

78 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st"); \

79 
__ªsu…
; })

	)

82 
	#isgª©î
(
x
, 
y
) \

83 ({ 
__ªsu…
; \

84 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x45, %%ah; setz %%al" \

85 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

86 
__ªsu…
; })

	)

88 
	#isgª©îequÆ
(
x
, 
y
) \

89 ({ 
__ªsu…
; \

90 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x05, %%ah; setz %%al" \

91 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

92 
__ªsu…
; })

	)

94 
	#i¶ess
(
x
, 
y
) \

95 ({ 
__ªsu…
; \

96 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x45, %%ah; setz %%al" \

97 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

98 
__ªsu…
; })

	)

100 
	#i¶es£quÆ
(
x
, 
y
) \

101 ({ 
__ªsu…
; \

102 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x05, %%ah; setz %%al" \

103 : "˜" (
__ªsu…
Ë: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

104 
__ªsu…
; })

	)

106 
	#i¶essgª©î
(
x
, 
y
) \

107 ({ 
__ªsu…
; \

108 
	`__asm__
 ("fucompp; fnstsw;Åestb $0x44, %%ah; setz %%al" \

109 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

110 
__ªsu…
; })

	)

112 
	#isun‹dîed
(
x
, 
y
) \

113 ({ 
__ªsu…
; \

114 
	`__asm__
 ("fucompp; fnstsw; sahf; setp %%al" \

115 : "˜" (
__ªsu…
Ë: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

116 
__ªsu…
; })

	)

122 #i‡
__GNUC_PREREQ
 (2, 8)

123 
__BEGIN_NAMESPACE_C99


126 
__MATH_INLINE
 

127 
__NTH
 (
	$__signbôf
 (
__x
))

129 #ifde‡
__SSE2_MATH__


130 
__m
;

131 
	`__asm
 ("pmovmskb %1, %0" : "Ù" (
__m
Ë: "x" (
__x
));

132  (
__m
 & 0x8) != 0;

134 
__exãnsi⁄__
 uni⁄ { 
__f
; 
__i
; } 
__u
 = { __f: 
__x
 };

135  
__u
.
__i
 < 0;

137 
	}
}

138 
__MATH_INLINE
 

139 
__NTH
 (
	$__signbô
 (
__x
))

141 #ifde‡
__SSE2_MATH__


142 
__m
;

143 
	`__asm
 ("pmovmskb %1, %0" : "Ù" (
__m
Ë: "x" (
__x
));

144  (
__m
 & 0x80) != 0;

146 
__exãnsi⁄__
 uni⁄ { 
__d
; 
__i
[2]; } 
__u
 = { __d: 
__x
 };

147  
__u
.
__i
[1] < 0;

149 
	}
}

150 
__MATH_INLINE
 

151 
__NTH
 (
	$__signbôl
 (
__x
))

153 
__exãnsi⁄__
 uni⁄ { 
__l
; 
__i
[3]; } 
__u
 = { __l: 
__x
 };

154  (
__u
.
__i
[2] & 0x8000) != 0;

155 
	}
}

157 
	g__END_NAMESPACE_C99


164 #i‡
__GNUC_PREREQ
 (2, 8)

165 #i‡!
__GNUC_PREREQ
 (3, 4Ë&& !
deföed
 
__NO_MATH_INLINES
 \

166 && 
deföed
 
	g__OPTIMIZE__


170 #ifde‡
__USE_ISOC99


171 
	g__BEGIN_NAMESPACE_C99


174 #ifde‡
__SSE_MATH__


175 
__MATH_INLINE
 

176 
__NTH
 (
	$Ãötf
 (
__x
))

178 
__ªs
;

183 
__asm
 
	`__vﬁ©ûe__
 ("cvtss2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

184  
__ªs
;

185 
	}
}

187 #ifde‡
__SSE2_MATH__


188 
__MATH_INLINE
 

189 
__NTH
 (
	$Ãöt
 (
__x
))

191 
__ªs
;

196 
__asm
 
	`__vﬁ©ûe__
 ("cvtsd2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

197  
__ªs
;

198 
	}
}

200 #ifde‡
__x86_64__


201 
__exãnsi⁄__


202 
__MATH_INLINE
 

203 
__NTH
 (
	$Œrötf
 (
__x
))

205 
__ªs
;

210 
__asm
 
	`__vﬁ©ûe__
 ("cvtss2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

211  
__ªs
;

212 
	}
}

213 
__exãnsi⁄__


214 
__MATH_INLINE
 

215 
__NTH
 (
	$Œröt
 (
__x
))

217 
__ªs
;

222 
__asm
 
	`__vﬁ©ûe__
 ("cvtsd2sò%1, %0" : "Ù" (
__ªs
Ë: "xm" (
__x
));

223  
__ªs
;

224 
	}
}

227 #i‡
deföed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0 \

228 && 
deföed
 
__SSE2_MATH__


230 
__MATH_INLINE
 

231 
__NTH
 (
	$fmaxf
 (
__x
, 
__y
))

233 #ifde‡
__AVX__


234 
__ªs
;

235 
	`__asm
 ("vmaxs†%2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

236  
__ªs
;

238 
	`__asm
 ("maxs†%1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

239  
__x
;

241 
	}
}

242 
__MATH_INLINE
 

243 
__NTH
 (
	$fmax
 (
__x
, 
__y
))

245 #ifde‡
__AVX__


246 
__ªs
;

247 
	`__asm
 ("vmaxsd %2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

248  
__ªs
;

250 
	`__asm
 ("maxsd %1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

251  
__x
;

253 
	}
}

256 
__MATH_INLINE
 

257 
__NTH
 (
	$fmöf
 (
__x
, 
__y
))

259 #ifde‡
__AVX__


260 
__ªs
;

261 
	`__asm
 ("vmös†%2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

262  
__ªs
;

264 
	`__asm
 ("mös†%1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

265  
__x
;

267 
	}
}

268 
__MATH_INLINE
 

269 
__NTH
 (
	$fmö
 (
__x
, 
__y
))

271 #ifde‡
__AVX__


272 
__ªs
;

273 
	`__asm
 ("vmösd %2, %1, %0" : "=x" (
__ªs
Ë: "x" (
x
), "xm" (
__y
));

274  
__ªs
;

276 
	`__asm
 ("mösd %1, %0" : "+x" (
__x
Ë: "xm" (
__y
));

277  
__x
;

279 
	}
}

282 
	g__END_NAMESPACE_C99


285 #i‡
deföed
 
__SSE4_1__
 && deföed 
__SSE2_MATH__


286 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_ISOC99


287 
__BEGIN_NAMESPACE_C99


290 
__MATH_INLINE
 

291 
__NTH
 (
	$röt
 (
__x
))

293 
__ªs
;

298 
__asm
 
	`__vﬁ©ûe__
 ("roundsd $4, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

299  
__ªs
;

300 
	}
}

301 
__MATH_INLINE
 

302 
__NTH
 (
	$rötf
 (
__x
))

304 
__ªs
;

309 
__asm
 
	`__vﬁ©ûe__
 ("rounds†$4, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

310  
__ªs
;

311 
	}
}

313 #ifde‡
__USE_ISOC99


315 
__MATH_INLINE
 

316 
__NTH
 (
	$√¨byöt
 (
__x
))

318 
__ªs
;

323 
__asm
 
	`__vﬁ©ûe__
 ("roundsd $0xc, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

324  
__ªs
;

325 
	}
}

326 
__MATH_INLINE
 

327 
__NTH
 (
	$√¨byötf
 (
__x
))

329 
__ªs
;

334 
__asm
 
	`__vﬁ©ûe__
 ("rounds†$0xc, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

335  
__ªs
;

336 
	}
}

339 
	g__END_NAMESPACE_C99


342 
__BEGIN_NAMESPACE_STD


344 
__MATH_INLINE
 

345 
__NTH
 (
	$˚û
 (
__x
))

347 
__ªs
;

348 
	`__asm
 ("roundsd $2, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

349  
__ªs
;

350 
	}
}

351 
__END_NAMESPACE_STD


353 
__BEGIN_NAMESPACE_C99


354 
__MATH_INLINE
 

355 
__NTH
 (
	$˚ûf
 (
__x
))

357 
__ªs
;

358 
	`__asm
 ("rounds†$2, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

359  
__ªs
;

360 
	}
}

361 
__END_NAMESPACE_C99


363 
__BEGIN_NAMESPACE_STD


365 
__MATH_INLINE
 

366 
__NTH
 (
	$Êo‹
 (
__x
))

368 
__ªs
;

369 
	`__asm
 ("roundsd $1, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

370  
__ªs
;

371 
	}
}

372 
__END_NAMESPACE_STD


374 
__BEGIN_NAMESPACE_C99


375 
__MATH_INLINE
 

376 
__NTH
 (
	$Êo‹f
 (
__x
))

378 
__ªs
;

379 
	`__asm
 ("rounds†$1, %1, %0" : "=x" (
__ªs
Ë: "xm" (
__x
));

380  
__ªs
;

381 
	}
}

382 
	g__END_NAMESPACE_C99


390 #i‡!
deföed
 
__SSE2_MATH__
 && !deföed 
__x86_64__


391 #i‡((!
deföed
 
__NO_MATH_INLINES
 || deföed 
__LIBC_INTERNAL_MATH_INLINES
) \

392 && 
deföed
 
	g__OPTIMIZE__
)

396 #unde‡
m©h_îrh™dlög


405 #ifde‡
__USE_ISOC99


406 
	#__ölöe_m©h›
(
func
, 
›
) \

407 
	`__ölöe_m©h›_
 (, 
func
, 
›
) \

408 
	`__ölöe_m©h›_
 (, 
	`__CONCAT
(
func
,
f
), 
›
) \

409 
	`__ölöe_m©h›_
 (, 
	`__CONCAT
(
func
,
l
), 
›
)

	)

410 
	#__ölöe_m©h›NP
(
func
, 
›
) \

411 
	`__ölöe_m©h›NP_
 (, 
func
, 
›
) \

412 
	`__ölöe_m©h›NP_
 (, 
	`__CONCAT
(
func
,
f
), 
›
) \

413 
	`__ölöe_m©h›NP_
 (, 
	`__CONCAT
(
func
,
l
), 
›
)

	)

415 
	#__ölöe_m©h›
(
func
, 
›
) \

416 
	`__ölöe_m©h›_
 (, 
func
, 
›
)

	)

417 
	#__ölöe_m©h›NP
(
func
, 
›
) \

418 
	`__ölöe_m©h›NP_
 (, 
func
, 
›
)

	)

421 
	#__ölöe_m©h›_
(
Êﬂt_ty≥
, 
func
, 
›
) \

422 
	`__ölöe_m©h›_de˛_
 (
Êﬂt_ty≥
, 
func
, 
›
, "0" (
__x
))

	)

423 
	#__ölöe_m©h›NP_
(
Êﬂt_ty≥
, 
func
, 
›
) \

424 
	`__ölöe_m©h›_de˛NP_
 (
Êﬂt_ty≥
, 
func
, 
›
, "0" (
__x
))

	)

427 #ifde‡
__USE_ISOC99


428 
	#__ölöe_m©h›_de˛
(
func
, 
›
, 
∑øms
...) \

429 
	`__ölöe_m©h›_de˛_
 (, 
func
, 
›
, 
∑øms
) \

430 
	`__ölöe_m©h›_de˛_
 (, 
	`__CONCAT
(
func
,
f
), 
›
, 
∑øms
) \

431 
	`__ölöe_m©h›_de˛_
 (, 
	`__CONCAT
(
func
,
l
), 
›
, 
∑øms
)

	)

432 
	#__ölöe_m©h›_de˛NP
(
func
, 
›
, 
∑øms
...) \

433 
	`__ölöe_m©h›_de˛NP_
 (, 
func
, 
›
, 
∑øms
) \

434 
	`__ölöe_m©h›_de˛NP_
 (, 
	`__CONCAT
(
func
,
f
), 
›
, 
∑øms
) \

435 
	`__ölöe_m©h›_de˛NP_
 (, 
	`__CONCAT
(
func
,
l
), 
›
, 
∑øms
)

	)

437 
	#__ölöe_m©h›_de˛
(
func
, 
›
, 
∑øms
...) \

438 
	`__ölöe_m©h›_de˛_
 (, 
func
, 
›
, 
∑øms
)

	)

439 
	#__ölöe_m©h›_de˛NP
(
func
, 
›
, 
∑øms
...) \

440 
	`__ölöe_m©h›_de˛NP_
 (, 
func
, 
›
, 
∑øms
)

	)

443 
	#__ölöe_m©h›_de˛_
(
Êﬂt_ty≥
, 
func
, 
›
, 
∑øms
...) \

444 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥Ë
__THROW
; \

445 
	`__ölöe_m©h›_de˛NP_
 (
Êﬂt_ty≥
, 
func
, 
›
, 
∑øms
)

	)

447 
	#__ölöe_m©h›_de˛NP_
(
Êﬂt_ty≥
, 
func
, 
›
, 
∑øms
...) \

448 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
__x
)) \

450 
Êﬂt_ty≥
 
__ªsu…
; \

451 
__asm
 
	`__vﬁ©ûe__
 (
›
 : "Ò" (
__ªsu…
Ë: 
∑øms
); \

452  
__ªsu…
; \

453 }

	)

456 #ifde‡
__USE_ISOC99


457 
	#__ölöe_m©hcode
(
func
, 
¨g
, 
code
) \

458 
	`__ölöe_m©hcode_
 (, 
func
, 
¨g
, 
code
) \

459 
	`__ölöe_m©hcode_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g
, 
code
) \

460 
	`__ölöe_m©hcode_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g
, 
code
)

	)

461 
	#__ölöe_m©hcodeNP
(
func
, 
¨g
, 
code
) \

462 
	`__ölöe_m©hcodeNP_
 (, 
func
, 
¨g
, 
code
) \

463 
	`__ölöe_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g
, 
code
) \

464 
	`__ölöe_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g
, 
code
)

	)

465 
	#__ölöe_m©hcode2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

466 
	`__ölöe_m©hcode2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
) \

467 
	`__ölöe_m©hcode2_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
code
) \

468 
	`__ölöe_m©hcode2_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
code
)

	)

469 
	#__ölöe_m©hcodeNP2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

470 
	`__ölöe_m©hcodeNP2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
) \

471 
	`__ölöe_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
code
) \

472 
	`__ölöe_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
code
)

	)

473 
	#__ölöe_m©hcode3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

474 
	`__ölöe_m©hcode3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

475 
	`__ölöe_m©hcode3_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

476 
	`__ölöe_m©hcode3_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

477 
	#__ölöe_m©hcodeNP3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

478 
	`__ölöe_m©hcodeNP3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

479 
	`__ölöe_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
f
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

480 
	`__ölöe_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
l
), 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

482 
	#__ölöe_m©hcode
(
func
, 
¨g
, 
code
) \

483 
	`__ölöe_m©hcode_
 (, 
func
, (
¨g
), 
code
)

	)

484 
	#__ölöe_m©hcodeNP
(
func
, 
¨g
, 
code
) \

485 
	`__ölöe_m©hcodeNP_
 (, 
func
, (
¨g
), 
code
)

	)

486 
	#__ölöe_m©hcode2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

487 
	`__ölöe_m©hcode2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
)

	)

488 
	#__ölöe_m©hcodeNP2
(
func
, 
¨g1
, 
¨g2
, 
code
) \

489 
	`__ölöe_m©hcodeNP2_
 (, 
func
, 
¨g1
, 
¨g2
, 
code
)

	)

490 
	#__ölöe_m©hcode3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

491 
	`__ölöe_m©hcode3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

492 
	#__ölöe_m©hcodeNP3
(
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

493 
	`__ölöe_m©hcodeNP3_
 (, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

496 
	#__ölöe_m©hcode_
(
Êﬂt_ty≥
, 
func
, 
¨g
, 
code
) \

497 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥Ë
__THROW
; \

498 
	`__ölöe_m©hcodeNP_
(
Êﬂt_ty≥
, 
func
, 
¨g
, 
code
)

	)

500 
	#__ölöe_m©hcodeNP_
(
Êﬂt_ty≥
, 
func
, 
¨g
, 
code
) \

501 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
¨g
)) \

503 
code
; \

504 }

	)

507 
	#__ölöe_m©hcode2_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
code
) \

508 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥, flﬂt_ty≥Ë
__THROW
; \

509 
	`__ölöe_m©hcodeNP2_
 (
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
code
)

	)

511 
	#__ölöe_m©hcodeNP2_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
code
) \

512 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
¨g1
, flﬂt_ty≥ 
¨g2
)) \

514 
code
; \

515 }

	)

517 
	#__ölöe_m©hcode3_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

518 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`func
 (Êﬂt_ty≥, flﬂt_ty≥, flﬂt_ty≥Ë
__THROW
; \

519 
	`__ölöe_m©hcodeNP3_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
)

	)

521 
	#__ölöe_m©hcodeNP3_
(
Êﬂt_ty≥
, 
func
, 
¨g1
, 
¨g2
, 
¨g3
, 
code
) \

522 
__MATH_INLINE
 
Êﬂt_ty≥
 
	`__NTH
 (
	`func
 (Êﬂt_ty≥ 
¨g1
, flﬂt_ty≥ 
¨g2
, \

523 
Êﬂt_ty≥
 
¨g3
)) \

525 
code
; \

526 }

	)

530 #i‡!
deföed
 
__NO_MATH_INLINES
 && deföed 
__OPTIMIZE__


534 #ifde‡
__FAST_MATH__


535 #ifde‡
__USE_GNU


536 
	#__söcos_code
 \

537 
__co§
; \

538 
__sör
; \

539 
__swtmp
; \

540 
__asm
 
__vﬁ©ûe__
 \

555 : "Ò" (
__co§
), "=u" (
__sör
), "˜" (
__swtmp
Ë: "0" (
__x
)); \

556 *
__söx
 = 
__sör
; \

557 *
__cosx
 = 
__co§


	)

559 
__MATH_INLINE
 

560 
__NTH
 (
	$__söcos
 (
__x
, *
__söx
, *
__cosx
))

562 
__söcos_code
;

563 
	}
}

565 
__MATH_INLINE
 

566 
__NTH
 (
	$__söcosf
 (
__x
, *
__söx
, *
__cosx
))

568 
__söcos_code
;

569 
	}
}

571 
__MATH_INLINE
 

572 
__NTH
 (
	$__söco¶
 (
__x
, *
__söx
, *
__cosx
))

574 
__söcos_code
;

575 
	}
}

582 #i‡
__GNUC_PREREQ
 (3, 5)

583 
	#__expm1_code
 \

584 
__ãmp
; \

585 
__ãmp
 = 
	`__buûtö_expm1l
 (
__x
); \

586  
__ãmp
 ? __ãm∞: 
__x


	)

588 
	#__expm1_code
 \

589 
__vÆue
; \

590 
__exp⁄ít
; \

591 
__ãmp
; \

592 
__asm
 
__vﬁ©ûe__
 \

601 : "Ò" (
__vÆue
), "=u" (
__exp⁄ít
Ë: "0" (
__x
)); \

602 
__asm
 
__vﬁ©ûe__
 \

604 : "Ò" (
__ãmp
Ë: "0" (1.0), "u" (
__exp⁄ít
)); \

605 
__ãmp
 -= 1.0; \

606 
__ãmp
 +
__vÆue
; \

607  
__ãmp
 ? __ãm∞: 
__x


	)

609 
	$__ölöe_m©hcodeNP_
 (, 
__expm1l
, 
__x
, 
__expm1_code
)

611 #i‡
	`__GNUC_PREREQ
 (3, 4)

612 
	`__ölöe_m©hcodeNP_
 (, 
__ex∂
, 
__x
,  
	$__buûtö_ex∂
 (
__x
))

614 
	#__exp_code
 \

615 
__vÆue
; \

616 
__exp⁄ít
; \

617 
__asm
 
__vﬁ©ûe__
 \

625 : "Ò" (
__vÆue
), "=u" (
__exp⁄ít
Ë: "0" (
__x
)); \

626 
__vÆue
 += 1.0; \

627 
__asm
 
__vﬁ©ûe__
 \

629 : "Ò" (
__vÆue
Ë: "0" (__vÆue), "u" (
__exp⁄ít
)); \

630  
__vÆue


	)

631 
	$__ölöe_m©hcodeNP
 (
exp
, 
__x
, 
__exp_code
)

632 
	$__ölöe_m©hcodeNP_
 (, 
__ex∂
, 
__x
, 
__exp_code
)

636 #i‡!
	`__GNUC_PREREQ
 (3, 5)

637 
	`__ölöe_m©hcodeNP
 (
èn
, 
__x
, \

638 
__vÆue
; \

639 
__vÆue2
 
	`__©åibuã__
 ((
__unu£d__
)); \

640 
__asm
 
__vﬁ©ûe__
 \

642 : "Ò" (
__vÆue2
), "=u" (
__vÆue
Ë: "0" (
__x
)); \

643  
__vÆue
)

648 #i‡
	`__GNUC_PREREQ
 (3, 4)

649 
	`__ölöe_m©hcodeNP2_
 (, 
__©™2l
, 
__y
, 
__x
,

650  
	$__buûtö_©™2l
 (
__y
, 
__x
))

652 
	#__©™2_code
 \

653 
__vÆue
; \

654 
__asm
 
__vﬁ©ûe__
 \

656 : "Ò" (
__vÆue
Ë: "0" (
__x
), "u" (
__y
) : "st(1)"); \

657  
__vÆue


	)

658 #ifde‡
__FAST_MATH__


659 
	$__ölöe_m©hcodeNP2
 (
©™2
, 
__y
, 
__x
, 
__©™2_code
)

661 
	$__ölöe_m©hcodeNP2_
 (, 
__©™2l
, 
__y
, 
__x
, 
__©™2_code
)

665 #i‡
deföed
 
__FAST_MATH__
 && !
	`__GNUC_PREREQ
 (3, 5)

666 
	`__ölöe_m©hcodeNP2
 (
fmod
, 
__x
, 
__y
, \

667 
__vÆue
; \

668 
__asm
 
__vﬁ©ûe__
 \

673 : "Ò" (
__vÆue
Ë: "0" (
__x
), "u" (
__y
) : "ax", "cc"); \

674  
__vÆue
)

678 #ifde‡
__FAST_MATH__


679 #i‡!
	`__GNUC_PREREQ
 (3,3)

680 
	`__ölöe_m©h›NP
 (
sqπ
, "fsqrt")

681 
	`__ölöe_m©h›NP_
 (, 
__sqπl
, "fsqrt")

682 
	#__libc_sqπl
(
n
Ë
	`__sqπl
 (n)

	)

684 
	#__libc_sqπl
(
n
Ë
	`__buûtö_sqπl
 (n)

	)

688 #i‡
	`__GNUC_PREREQ
 (2, 8)

689 
	`__ölöe_m©hcodeNP_
 (, 
Ábs
, 
__x
,  
	$__buûtö_Ábs
 (
__x
))

690 #ifde‡
__USE_ISOC99


691 
	`__ölöe_m©hcodeNP_
 (, 
Ábsf
, 
__x
,  
	$__buûtö_Ábsf
 (
__x
))

692 
	`__ölöe_m©hcodeNP_
 (, 
Áb¶
, 
__x
,  
	$__buûtö_Áb¶
 (
__x
))

694 
	`__ölöe_m©hcodeNP_
 (, 
__Áb¶
, 
__x
,  
	$__buûtö_Áb¶
 (
__x
))

696 
	`__ölöe_m©h›
 (
Ábs
, "fabs")

697 
	`__ölöe_m©h›_
 (, 
__Áb¶
, "fabs")

700 #ifde‡
__FAST_MATH__


701 #i‡!
	`__GNUC_PREREQ
 (3, 4)

703 
	`__ölöe_m©h›NP
 (
sö
, "fsin")

705 
	`__ölöe_m©h›NP
 (
cos
, "fcos")

707 
	`__ölöe_m©h›_de˛NP
 (
log
, "Êd 2; fxch; fyl2x", "0" (
__x
) : "st(1)")

710 #i‡!
	`__GNUC_PREREQ
 (3, 5)

711 
	`__ölöe_m©h›_de˛NP
 (
log10
, "Êdlg2; fxch; fyl2x", "0" (
__x
) : "st(1)")

713 
	`__ölöe_m©hcodeNP
 (
asö
, 
__x
,  
	`__©™2l
 (__x, 
	`__libc_sqπl
 (1.0 - __x * __x)))

714 
	`__ölöe_m©hcodeNP
 (
acos
, 
__x
,  
	`__©™2l
 (
	`__libc_sqπl
 (1.0 - __x * __x), __x))

717 #i‡!
	`__GNUC_PREREQ
 (3, 4)

718 
	`__ölöe_m©h›_de˛NP
 (
©™
, "Êd1; f∑èn", "0" (
__x
) : "st(1)")

722 
	`__ölöe_m©hcode_
 (, 
__sgn1l
, 
__x
, \

723 
__exãnsi⁄__
 uni⁄ { 
__xld
; 
__xi
[3]; } 
__n
 = \

724 { 
__xld
: 
__x
 
	}
}; \

725 
	g__n
.
	g__xi
[2] = (
__n
.
__xi
[2] & 0x8000) | 0x3fff; \

726 
	g__n
.
	g__xi
[1] = 0x80000000; \

727 
	g__n
.
	g__xi
[0] = 0; \

728  
	g__n
.
	g__xld
)

731 #ifde‡
__FAST_MATH__


733 
__ölöe_m©hcodeNP
 (
söh
, 
__x
, \

734 
__exm1
 = 
__expm1l
 (
__Áb¶
 (
__x
)); \

735  0.5 * (
__exm1
 / (__exm1 + 1.0Ë+ __exm1Ë* 
	$__sgn1l
 (
__x
))

737 
	`__ölöe_m©hcodeNP
 (
cosh
, 
__x
, \

738 
__ex
 = 
	`__ex∂
 (
__x
); \

739  0.5 * (
__ex
 + 1.0 / __ex))

741 
	`__ölöe_m©hcodeNP
 (
ènh
, 
__x
, \

742 
__exm1
 = 
	`__expm1l
 (-
	`__Áb¶
 (
__x
 + __x)); \

743  
__exm1
 / (__exm1 + 2.0Ë* 
	`__sgn1l
 (-
__x
))

746 
	`__ölöe_m©hcodeNP
 (
Êo‹
, 
__x
, \

747 
__vÆue
; \

748 
__ign‹e
; \

749 
__cw
; \

750 
__cwtmp
; \

751 
__asm
 
	`__vﬁ©ûe
 ("fnstcw %3\n\t" \

759 : "Ò" (
__vÆue
), "=&q" (
__ign‹e
), "=m" (
__cwtmp
), \

760 "=m" (
__cw
) \

761 : "0" (
__x
)); \

762  
__vÆue
)

764 
	`__ölöe_m©hcodeNP
 (
˚û
, 
__x
, \

765 
__vÆue
; \

766 
__ign‹e
; \

767 
__cw
; \

768 
__cwtmp
; \

769 
__asm
 
	`__vﬁ©ûe
 ("fnstcw %3\n\t" \

777 : "Ò" (
__vÆue
), "=&q" (
__ign‹e
), "=m" (
__cwtmp
), \

778 "=m" (
__cw
) \

779 : "0" (
__x
)); \

780  
__vÆue
)

782 #ifde‡
__FAST_MATH__


783 
	#__ldexp_code
 \

784 
__vÆue
; \

785 
__asm
 
__vﬁ©ûe__
 \

787 : "Ò" (
__vÆue
Ë: "0" (
__x
), "u" ((Ë
__y
)); \

788  
__vÆue


	)

790 
__MATH_INLINE
 

791 
	`__NTH
 (
	$ldexp
 (
__x
, 
__y
))

793 
__ldexp_code
;

794 
	}
}

799 #ifde‡
__USE_ISOC99


801 #ifde‡
__FAST_MATH__


802 
	$__ölöe_m©hcodeNP
 (
expm1
, 
__x
, 
__expm1_code
)

806 
	#__M_SQRT2
 1.41421356237309504880L

	)

808 #i‡!
	`__GNUC_PREREQ
 (3, 5)

809 
	`__ölöe_m©hcodeNP
 (
log1p
, 
__x
, \

810 
__vÆue
; \

811 i‡(
	`__Áb¶
 (
__x
Ë>1.0 - 0.5 * 
__M_SQRT2
) \

812 
__vÆue
 = 
	`logl
 (1.0 + 
__x
); \

814 
__asm
 
__vﬁ©ûe__
 \

818 : "Ò" (
__vÆue
Ë: "0" (
__x
) : "st(1)"); \

819  
__vÆue
)

824 
	`__ölöe_m©hcodeNP
 (
asöh
, 
__x
, \

825 
__y
 = 
	`__Áb¶
 (
__x
); \

826  (
	`log1∂
 (
__y
 * __y / (
	`__libc_sqπl
 (__y * __y + 1.0) + 1.0) + __y) \

827 * 
	$__sgn1l
 (
__x
)))

829 
	`__ölöe_m©hcodeNP
 (
acosh
, 
__x
, \

830  
	`logl
 (
__x
 + 
	`__libc_sqπl
 (__x - 1.0) * __libc_sqrtl (__x + 1.0)))

832 
	`__ölöe_m©hcodeNP
 (
©™h
, 
__x
, \

833 
__y
 = 
	`__Áb¶
 (
__x
); \

834  -0.5 * 
	`log1∂
 (-(
__y
 + __yË/ (1.0 + __y)Ë* 
	$__sgn1l
 (
__x
))

837 
	`__ölöe_m©hcodeNP2
 (
hypŸ
, 
__x
, 
__y
,

838  
	`__libc_sqπl
 (
__x
 * __x + 
__y
 * __y))

840 #i‡!
	`__GNUC_PREREQ
 (3, 5)

841 
	`__ölöe_m©hcodeNP
(
logb
, 
__x
, \

842 
__vÆue
; \

843 
__junk
; \

844 
__asm
 
__vﬁ©ûe__
 \

846 : "Ò" (
__junk
), "=u" (
__vÆue
Ë: "0" (
__x
)); \

847  
__vÆue
)

853 #ifde‡
__USE_ISOC99


854 #ifde‡
__FAST_MATH__


856 #i‡!
	`__GNUC_PREREQ
 (3, 5)

857 
	`__ölöe_m©h›_de˛NP
 (
log2
, "Êd1; fxch; fyl2x", "0" (
__x
) : "st(1)")

860 
__MATH_INLINE
 

861 
	`__NTH
 (
	$ldexpf
 (
__x
, 
__y
))

863 
__ldexp_code
;

864 
	}
}

866 
__MATH_INLINE
 

867 
__NTH
 (
	$ldex∂
 (
__x
, 
__y
))

869 
__ldexp_code
;

870 
	}
}

872 
__ölöe_m©h›NP
 (
röt
, "frndint")

875 
	#__Ãöt_code
 \

876 
__Ãöåes
; \

877 
__asm__
 
__vﬁ©ûe__
 \

879 : "=m" (
__Ãöåes
Ë: "t" (
__x
) : "st"); \

880  
__Ãöåes


	)

881 
__MATH_INLINE
 

882 
__NTH
 (
	$Ãötf
 (
__x
))

884 
__Ãöt_code
;

885 
	}
}

886 
__MATH_INLINE
 

887 
__NTH
 (
	$Ãöt
 (
__x
))

889 
__Ãöt_code
;

890 
	}
}

891 
__MATH_INLINE
 

892 
__NTH
 (
	$Ãöé
 (
__x
))

894 
__Ãöt_code
;

895 
	}
}

896 #unde‡
__Ãöt_code


898 
	#__Œröt_code
 \

899 
__Œröåes
; \

900 
__asm__
 
__vﬁ©ûe__
 \

902 : "=m" (
__Œröåes
Ë: "t" (
__x
) : "st"); \

903  
__Œröåes


	)

904 
__exãnsi⁄__


905 
__MATH_INLINE
 

906 
__NTH
 (
	$Œrötf
 (
__x
))

908 
__Œröt_code
;

909 
	}
}

910 
__exãnsi⁄__


911 
__MATH_INLINE
 

912 
__NTH
 (
	$Œröt
 (
__x
))

914 
__Œröt_code
;

915 
	}
}

916 
__exãnsi⁄__


917 
__MATH_INLINE
 

918 
__NTH
 (
	$Œröé
 (
__x
))

920 
__Œröt_code
;

921 
	}
}

922 #unde‡
__Œröt_code


927 #ifde‡
__USE_MISC


929 #i‡
deföed
 
__FAST_MATH__
 && !
__GNUC_PREREQ
 (3, 5)

930 
__ölöe_m©hcodeNP2
 (
dªm
, 
__x
, 
__y
, \

931 
__vÆue
; \

932 
__˛obbîed
; \

933 
__asm
 
__vﬁ©ûe__
 \

938 : "Ò" (
__vÆue
), "=&a" (
__˛obbîed
Ë: "0" (
__x
), "u" (
__y
) : "cc"); \

939  
__vÆue
)

944 
__MATH_INLINE
 

945 
__NTH
 (
	$__föôe
 (
__x
))

947  (
__exãnsi⁄__


948 (((((uni⁄ { 
__d
; 
__i
[2]; }Ë{__d: 
__x
}).__i[1]

950 
	}
}

955 #unde‡
__©™2_code


956 #ifde‡
__FAST_MATH__


957 #unde‡
__expm1_code


958 #unde‡
__exp_code


959 #unde‡
__söcos_code


966 #ifde‡
__LIBC_INTERNAL_MATH_INLINES


967 
__ölöe_m©h›
 (
__õì754_sqπ
, "fsqrt")

968 
__ölöe_m©hcode2_
 (, 
__õì754_©™2l
, 
__y
, 
__x
,

969 
__vÆue
;

970 
__asm
 
__vﬁ©ûe__
 ("fpatan\n\t"

971 : "Ò" (
__vÆue
)

972 : "0" (
__x
), "u" (
__y
) : "st(1)");

973  
__vÆue
;)

	@/usr/include/bits/nan.h

19 #i‚de‡
_MATH_H


26 #i‡
__GNUC_PREREQ
(3,3)

28 
	#NAN
 (
	`__buûtö_«nf
 (""))

	)

30 #ñi‡
deföed
 
__GNUC__


32 
	#NAN
 \

33 (
__exãnsi⁄__
 \

34 ((uni⁄ { 
__l
 
	`__©åibuã__
 ((
	`__mode__
 (
__SI__
))); 
__d
; }) \

35 { 
__l
: 0x7fc00000UL }).
__d
)

	)

39 
	~<ídün.h
>

41 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


42 
	#__q«n_byãs
 { 0x7f, 0xc0, 0, 0 }

	)

44 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


45 
	#__q«n_byãs
 { 0, 0, 0xc0, 0x7‡}

	)

48 uni⁄ { 
	m__c
[4]; 
	m__d
; } 
__q«n_uni⁄


49 
__©åibuã__
 ((
__unu£d__
)Ë{ 
__q«n_byãs
 };

50 
	#NAN
 (
__q«n_uni⁄
.
__d
)

	)

	@/usr/include/bits/posix1_lim.h

24 #i‚def 
_BITS_POSIX1_LIM_H


25 
	#_BITS_POSIX1_LIM_H
 1

	)

31 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

34 
	#_POSIX_AIO_MAX
 1

	)

37 
	#_POSIX_ARG_MAX
 4096

	)

40 #ifde‡
__USE_XOPEN2K


41 
	#_POSIX_CHILD_MAX
 25

	)

43 
	#_POSIX_CHILD_MAX
 6

	)

47 
	#_POSIX_DELAYTIMER_MAX
 32

	)

51 
	#_POSIX_HOST_NAME_MAX
 255

	)

54 
	#_POSIX_LINK_MAX
 8

	)

57 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

60 
	#_POSIX_MAX_CANON
 255

	)

64 
	#_POSIX_MAX_INPUT
 255

	)

67 
	#_POSIX_MQ_OPEN_MAX
 8

	)

70 
	#_POSIX_MQ_PRIO_MAX
 32

	)

73 
	#_POSIX_NAME_MAX
 14

	)

76 #ifde‡
__USE_XOPEN2K


77 
	#_POSIX_NGROUPS_MAX
 8

	)

79 
	#_POSIX_NGROUPS_MAX
 0

	)

83 #ifde‡
__USE_XOPEN2K


84 
	#_POSIX_OPEN_MAX
 20

	)

86 
	#_POSIX_OPEN_MAX
 16

	)

89 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


92 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

96 
	#_POSIX_PATH_MAX
 256

	)

99 
	#_POSIX_PIPE_BUF
 512

	)

103 
	#_POSIX_RE_DUP_MAX
 255

	)

106 
	#_POSIX_RTSIG_MAX
 8

	)

109 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

112 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

115 
	#_POSIX_SIGQUEUE_MAX
 32

	)

118 
	#_POSIX_SSIZE_MAX
 32767

	)

121 
	#_POSIX_STREAM_MAX
 8

	)

124 
	#_POSIX_SYMLINK_MAX
 255

	)

128 
	#_POSIX_SYMLOOP_MAX
 8

	)

131 
	#_POSIX_TIMER_MAX
 32

	)

134 
	#_POSIX_TTY_NAME_MAX
 9

	)

137 #ifde‡
__USE_XOPEN2K


138 
	#_POSIX_TZNAME_MAX
 6

	)

140 
	#_POSIX_TZNAME_MAX
 3

	)

143 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


145 
	#_POSIX_QLIMIT
 1

	)

149 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

152 
	#_POSIX_UIO_MAXIOV
 16

	)

156 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

160 
	~<bôs/loˇl_lim.h
>

163 #i‚def 
SSIZE_MAX


164 
	#SSIZE_MAX
 
LONG_MAX


	)

171 #i‚def 
NGROUPS_MAX


172 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix2_lim.h

22 #i‚def 
_BITS_POSIX2_LIM_H


23 
	#_BITS_POSIX2_LIM_H
 1

	)

27 
	#_POSIX2_BC_BASE_MAX
 99

	)

30 
	#_POSIX2_BC_DIM_MAX
 2048

	)

33 
	#_POSIX2_BC_SCALE_MAX
 99

	)

36 
	#_POSIX2_BC_STRING_MAX
 1000

	)

40 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

44 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

47 
	#_POSIX2_LINE_MAX
 2048

	)

51 
	#_POSIX2_RE_DUP_MAX
 255

	)

55 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

62 #i‚def 
BC_BASE_MAX


63 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

65 #i‚def 
BC_DIM_MAX


66 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

68 #i‚def 
BC_SCALE_MAX


69 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

71 #i‚def 
BC_STRING_MAX


72 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

74 #i‚def 
COLL_WEIGHTS_MAX


75 
	#COLL_WEIGHTS_MAX
 255

	)

77 #i‚def 
EXPR_NEST_MAX


78 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

80 #i‚def 
LINE_MAX


81 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

83 #i‚def 
CHARCLASS_NAME_MAX


84 
	#CHARCLASS_NAME_MAX
 2048

	)

88 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/posix_opt.h

19 #i‚def 
_BITS_POSIX_OPT_H


20 
	#_BITS_POSIX_OPT_H
 1

	)

23 
	#_POSIX_JOB_CONTROL
 1

	)

26 
	#_POSIX_SAVED_IDS
 1

	)

29 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

32 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

35 
	#_POSIX_FSYNC
 200809L

	)

38 
	#_POSIX_MAPPED_FILES
 200809L

	)

41 
	#_POSIX_MEMLOCK
 200809L

	)

44 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

47 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

50 
	#_POSIX_CHOWN_RESTRICTED
 0

	)

54 
	#_POSIX_VDISABLE
 '\0'

	)

57 
	#_POSIX_NO_TRUNC
 1

	)

60 
	#_XOPEN_REALTIME
 1

	)

63 
	#_XOPEN_REALTIME_THREADS
 1

	)

66 
	#_XOPEN_SHM
 1

	)

69 
	#_POSIX_THREADS
 200809L

	)

72 
	#_POSIX_REENTRANT_FUNCTIONS
 1

	)

73 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

76 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

79 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

82 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

85 
	#_POSIX_THREAD_PRIO_INHERIT
 200809L

	)

89 
	#_POSIX_THREAD_PRIO_PROTECT
 200809L

	)

91 #ifde‡
__USE_XOPEN2K8


93 
	#_POSIX_THREAD_ROBUST_PRIO_INHERIT
 200809L

	)

96 
	#_POSIX_THREAD_ROBUST_PRIO_PROTECT
 -1

	)

100 
	#_POSIX_SEMAPHORES
 200809L

	)

103 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

106 
	#_POSIX_ASYNCHRONOUS_IO
 200809L

	)

107 
	#_POSIX_ASYNC_IO
 1

	)

109 
	#_LFS_ASYNCHRONOUS_IO
 1

	)

111 
	#_POSIX_PRIORITIZED_IO
 200809L

	)

114 
	#_LFS64_ASYNCHRONOUS_IO
 1

	)

117 
	#_LFS_LARGEFILE
 1

	)

118 
	#_LFS64_LARGEFILE
 1

	)

119 
	#_LFS64_STDIO
 1

	)

122 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

125 
	#_POSIX_CPUTIME
 0

	)

128 
	#_POSIX_THREAD_CPUTIME
 0

	)

131 
	#_POSIX_REGEXP
 1

	)

134 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

137 
	#_POSIX_SHELL
 1

	)

140 
	#_POSIX_TIMEOUTS
 200809L

	)

143 
	#_POSIX_SPIN_LOCKS
 200809L

	)

146 
	#_POSIX_SPAWN
 200809L

	)

149 
	#_POSIX_TIMERS
 200809L

	)

152 
	#_POSIX_BARRIERS
 200809L

	)

155 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

158 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

161 
	#_POSIX_MONOTONIC_CLOCK
 0

	)

164 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

167 
	#_POSIX_ADVISORY_INFO
 200809L

	)

170 
	#_POSIX_IPV6
 200809L

	)

173 
	#_POSIX_RAW_SOCKETS
 200809L

	)

176 
	#_POSIX2_CHAR_TERM
 200809L

	)

179 
	#_POSIX_SPORADIC_SERVER
 -1

	)

180 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

183 
	#_POSIX_TRACE
 -1

	)

184 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

185 
	#_POSIX_TRACE_INHERIT
 -1

	)

186 
	#_POSIX_TRACE_LOG
 -1

	)

189 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

	@/usr/include/bits/pthreadtypes.h

18 #i‚de‡
_BITS_PTHREADTYPES_H


19 
	#_BITS_PTHREADTYPES_H
 1

	)

21 
	~<bôs/w‹dsize.h
>

23 #ifde‡
__x86_64__


24 #i‡
__WORDSIZE
 == 64

25 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

26 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

27 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

28 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

29 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

30 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

31 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

32 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

33 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

35 
	#__SIZEOF_PTHREAD_ATTR_T
 32

	)

36 
	#__SIZEOF_PTHREAD_MUTEX_T
 32

	)

37 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

38 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

39 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

40 
	#__SIZEOF_PTHREAD_RWLOCK_T
 44

	)

41 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

42 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

43 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

46 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

47 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

48 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

49 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

50 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

51 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

52 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

53 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

54 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

60 
	t±hªad_t
;

63 
	u±hªad_©å_t


65 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

66 
	m__Æign
;

68 #i‚de‡
__have_±hªad_©å_t


69 
±hªad_©å_t
 
	t±hªad_©å_t
;

70 
	#__have_±hªad_©å_t
 1

	)

74 #ifde‡
__x86_64__


75 
	s__±hªad_öã∫Æ_li°


77 
__±hªad_öã∫Æ_li°
 *
	m__¥ev
;

78 
__±hªad_öã∫Æ_li°
 *
	m__√xt
;

79 } 
	t__±hªad_li°_t
;

81 
	s__±hªad_öã∫Æ_¶i°


83 
__±hªad_öã∫Æ_¶i°
 *
	m__√xt
;

84 } 
	t__±hªad_¶i°_t
;

92 
	s__±hªad_muãx_s


94 
	m__lock
;

95 
	m__cou¡
;

96 
	m__ow√r
;

97 #ifde‡
__x86_64__


98 
	m__nu£rs
;

102 
	m__köd
;

103 #ifde‡
__x86_64__


104 
	m__•ös
;

105 
	m__ñisi⁄
;

106 
__±hªad_li°_t
 
	m__li°
;

107 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

109 
	#__PTHREAD_SPINS
 0, 0

	)

111 
	m__nu£rs
;

112 
__exãnsi⁄__
 union

116 
	m__e•ös
;

117 
	m__ñisi⁄
;

118 
	#__•ös
 
__ñisi⁄_d©a
.
__e•ös


	)

119 
	#__ñisi⁄
 
__ñisi⁄_d©a
.
__ñisi⁄


	)

120 
	#__PTHREAD_SPINS
 { 0, 0 }

	)

121 } 
	m__ñisi⁄_d©a
;

122 
__±hªad_¶i°_t
 
	m__li°
;

125 } 
	m__d©a
;

126 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

127 
	m__Æign
;

128 } 
	t±hªad_muãx_t
;

132 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

133 
	m__Æign
;

134 } 
	t±hªad_muãx©å_t
;

143 
	m__lock
;

144 
	m__fuãx
;

145 
__exãnsi⁄__
 
	m__tŸÆ_£q
;

146 
__exãnsi⁄__
 
	m__wakeup_£q
;

147 
__exãnsi⁄__
 
	m__wokí_£q
;

148 *
	m__muãx
;

149 
	m__nwaôîs
;

150 
	m__brﬂdˇ°_£q
;

151 } 
	m__d©a
;

152 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

153 
__exãnsi⁄__
 
	m__Æign
;

154 } 
	t±hªad_c⁄d_t
;

158 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

159 
	m__Æign
;

160 } 
	t±hªad_c⁄d©å_t
;

164 
	t±hªad_key_t
;

168 
	t±hªad_⁄˚_t
;

171 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


176 #ifde‡
__x86_64__


179 
	m__lock
;

180 
	m__ƒ_ªadîs
;

181 
	m__ªadîs_wakeup
;

182 
	m__wrôî_wakeup
;

183 
	m__ƒ_ªadîs_queued
;

184 
	m__ƒ_wrôîs_queued
;

185 
	m__wrôî
;

186 
	m__sh¨ed
;

187 sig√d 
	m__rwñisi⁄
;

188 #ifde‡ 
__ILP32__


189 
	m__∑d1
[3];

190 
	#__PTHREAD_RWLOCK_ELISION_EXTRA
 0, { 0, 0, 0 }

	)

192 
	m__∑d1
[7];

193 
	#__PTHREAD_RWLOCK_ELISION_EXTRA
 0, { 0, 0, 0, 0, 0, 0, 0 }

	)

195 
	m__∑d2
;

198 
	m__Êags
;

199 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

200 } 
	m__d©a
;

204 
	m__lock
;

205 
	m__ƒ_ªadîs
;

206 
	m__ªadîs_wakeup
;

207 
	m__wrôî_wakeup
;

208 
	m__ƒ_ªadîs_queued
;

209 
	m__ƒ_wrôîs_queued
;

212 
	m__Êags
;

213 
	m__sh¨ed
;

214 sig√d 
	m__rwñisi⁄
;

215 
	#__PTHREAD_RWLOCK_ELISION_EXTRA
 0

	)

216 
	m__∑d2
;

217 
	m__wrôî
;

218 } 
	m__d©a
;

220 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

221 
	m__Æign
;

222 } 
	t±hªad_rwlock_t
;

226 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

227 
	m__Æign
;

228 } 
	t±hªad_rwlock©å_t
;

232 #ifde‡
__USE_XOPEN2K


234 vﬁ©ûê
	t±hªad_•ölock_t
;

241 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

242 
	m__Æign
;

243 } 
	t±hªad_b¨rõr_t
;

247 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

248 
	m__Æign
;

249 } 
	t±hªad_b¨rõøâr_t
;

253 #i‚de‡
__x86_64__


255 
	#__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
	`__ªg∑rm__
 (1)))

	)

	@/usr/include/bits/siginfo.h

19 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
__√ed_sigöfo_t
 \

20 && !
deföed
 
	g__√ed_sigevít_t


24 
	~<bôs/w‹dsize.h
>

26 #i‡(!
deföed
 
__have_sigvÆ_t
 \

27 && (
deföed
 
	g_SIGNAL_H
 || deföed 
	g__√ed_sigöfo_t
 \

28 || 
deföed
 
	g__√ed_sigevít_t
))

29 
	#__have_sigvÆ_t
 1

	)

32 
	usigvÆ


34 
	msivÆ_öt
;

35 *
	msivÆ_±r
;

36 } 
	tsigvÆ_t
;

39 #i‡(!
deföed
 
__have_sigöfo_t
 \

40 && (
deföed
 
	g_SIGNAL_H
 || deföed 
	g__√ed_sigöfo_t
))

41 
	#__have_sigöfo_t
 1

	)

43 
	#__SI_MAX_SIZE
 128

	)

44 #i‡
__WORDSIZE
 == 64

45 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()Ë- 4)

	)

47 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()Ë- 3)

	)

50 #i‡
deföed
 
__x86_64__
 && 
__WORDSIZE
 == 32

55 
__˛ock_t
 
	t__©åibuã__
 ((
	t__Æig√d__
 (4))Ë
	t__sigchld_˛ock_t
;

56 
	#__SI_ALIGNMENT
 
	`__©åibuã__
 ((
	`__Æig√d__
 (8)))

	)

58 
__˛ock_t
 
	t__sigchld_˛ock_t
;

59 
	#__SI_ALIGNMENT


	)

64 
si_signo
;

65 
si_î∫o
;

67 
si_code
;

71 
_∑d
[
__SI_PAD_SIZE
];

76 
__pid_t
 
si_pid
;

77 
__uid_t
 
si_uid
;

78 } 
_kûl
;

83 
si_tid
;

84 
si_ovîrun
;

85 
sigvÆ_t
 
si_sigvÆ
;

86 } 
_timî
;

91 
__pid_t
 
si_pid
;

92 
__uid_t
 
si_uid
;

93 
sigvÆ_t
 
si_sigvÆ
;

94 } 
_π
;

99 
__pid_t
 
si_pid
;

100 
__uid_t
 
si_uid
;

101 
si_°©us
;

102 
__sigchld_˛ock_t
 
si_utime
;

103 
__sigchld_˛ock_t
 
si_°ime
;

104 } 
_sigchld
;

109 *
si_addr
;

110 
si_addr_lsb
;

113 *
_lowî
;

114 *
_uµî
;

115 } 
si_addr_bnd
;

116 } 
_sigÁu…
;

121 
si_b™d
;

122 
si_fd
;

123 } 
_sigpﬁl
;

128 *
_ˇŒ_addr
;

129 
_sysˇŒ
;

130 
_¨ch
;

131 } 
_sigsys
;

132 } 
_sifõlds
;

133 } 
	tsigöfo_t
 
	t__SI_ALIGNMENT
;

137 
	#si_pid
 
_sifõlds
.
_kûl
.
si_pid


	)

138 
	#si_uid
 
_sifõlds
.
_kûl
.
si_uid


	)

139 
	#si_timîid
 
_sifõlds
.
_timî
.
si_tid


	)

140 
	#si_ovîrun
 
_sifõlds
.
_timî
.
si_ovîrun


	)

141 
	#si_°©us
 
_sifõlds
.
_sigchld
.
si_°©us


	)

142 
	#si_utime
 
_sifõlds
.
_sigchld
.
si_utime


	)

143 
	#si_°ime
 
_sifõlds
.
_sigchld
.
si_°ime


	)

144 
	#si_vÆue
 
_sifõlds
.
_π
.
si_sigvÆ


	)

145 
	#si_öt
 
_sifõlds
.
_π
.
si_sigvÆ
.
sivÆ_öt


	)

146 
	#si_±r
 
_sifõlds
.
_π
.
si_sigvÆ
.
sivÆ_±r


	)

147 
	#si_addr
 
_sifõlds
.
_sigÁu…
.
si_addr


	)

148 
	#si_addr_lsb
 
_sifõlds
.
_sigÁu…
.
si_addr_lsb


	)

149 
	#si_lowî
 
_sifõlds
.
_sigÁu…
.
si_addr_bnd
.
_lowî


	)

150 
	#si_uµî
 
_sifõlds
.
_sigÁu…
.
si_addr_bnd
.
_uµî


	)

151 
	#si_b™d
 
_sifõlds
.
_sigpﬁl
.
si_b™d


	)

152 
	#si_fd
 
_sifõlds
.
_sigpﬁl
.
si_fd


	)

153 
	#si_ˇŒ_addr
 
_sifõlds
.
_sigsys
.
_ˇŒ_addr


	)

154 
	#si_sysˇŒ
 
_sifõlds
.
_sigsys
.
_sysˇŒ


	)

155 
	#si_¨ch
 
_sifõlds
.
_sigsys
.
_¨ch


	)

162 
SI_ASYNCNL
 = -60,

163 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

164 
SI_TKILL
 = -6,

165 
	#SI_TKILL
 
SI_TKILL


	)

166 
SI_SIGIO
,

167 
	#SI_SIGIO
 
SI_SIGIO


	)

168 
SI_ASYNCIO
,

169 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

170 
SI_MESGQ
,

171 
	#SI_MESGQ
 
SI_MESGQ


	)

172 
SI_TIMER
,

173 
	#SI_TIMER
 
SI_TIMER


	)

174 
SI_QUEUE
,

175 
	#SI_QUEUE
 
SI_QUEUE


	)

176 
SI_USER
,

177 
	#SI_USER
 
SI_USER


	)

178 
SI_KERNEL
 = 0x80

179 
	#SI_KERNEL
 
SI_KERNEL


	)

183 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


187 
ILL_ILLOPC
 = 1,

188 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

189 
ILL_ILLOPN
,

190 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

191 
ILL_ILLADR
,

192 
	#ILL_ILLADR
 
ILL_ILLADR


	)

193 
ILL_ILLTRP
,

194 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

195 
ILL_PRVOPC
,

196 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

197 
ILL_PRVREG
,

198 
	#ILL_PRVREG
 
ILL_PRVREG


	)

199 
ILL_COPROC
,

200 
	#ILL_COPROC
 
ILL_COPROC


	)

201 
ILL_BADSTK


202 
	#ILL_BADSTK
 
ILL_BADSTK


	)

208 
FPE_INTDIV
 = 1,

209 
	#FPE_INTDIV
 
FPE_INTDIV


	)

210 
FPE_INTOVF
,

211 
	#FPE_INTOVF
 
FPE_INTOVF


	)

212 
FPE_FLTDIV
,

213 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

214 
FPE_FLTOVF
,

215 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

216 
FPE_FLTUND
,

217 
	#FPE_FLTUND
 
FPE_FLTUND


	)

218 
FPE_FLTRES
,

219 
	#FPE_FLTRES
 
FPE_FLTRES


	)

220 
FPE_FLTINV
,

221 
	#FPE_FLTINV
 
FPE_FLTINV


	)

222 
FPE_FLTSUB


223 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

229 
SEGV_MAPERR
 = 1,

230 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

231 
SEGV_ACCERR


232 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

238 
BUS_ADRALN
 = 1,

239 
	#BUS_ADRALN
 
BUS_ADRALN


	)

240 
BUS_ADRERR
,

241 
	#BUS_ADRERR
 
BUS_ADRERR


	)

242 
BUS_OBJERR
,

243 
	#BUS_OBJERR
 
BUS_OBJERR


	)

244 
BUS_MCEERR_AR
,

245 
	#BUS_MCEERR_AR
 
BUS_MCEERR_AR


	)

246 
BUS_MCEERR_AO


247 
	#BUS_MCEERR_AO
 
BUS_MCEERR_AO


	)

251 #ifde‡
__USE_XOPEN_EXTENDED


255 
TRAP_BRKPT
 = 1,

256 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

257 
TRAP_TRACE


258 
	#TRAP_TRACE
 
TRAP_TRACE


	)

262 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


266 
CLD_EXITED
 = 1,

267 
	#CLD_EXITED
 
CLD_EXITED


	)

268 
CLD_KILLED
,

269 
	#CLD_KILLED
 
CLD_KILLED


	)

270 
CLD_DUMPED
,

271 
	#CLD_DUMPED
 
CLD_DUMPED


	)

272 
CLD_TRAPPED
,

273 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

274 
CLD_STOPPED
,

275 
	#CLD_STOPPED
 
CLD_STOPPED


	)

276 
CLD_CONTINUED


277 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

283 
POLL_IN
 = 1,

284 
	#POLL_IN
 
POLL_IN


	)

285 
POLL_OUT
,

286 
	#POLL_OUT
 
POLL_OUT


	)

287 
POLL_MSG
,

288 
	#POLL_MSG
 
POLL_MSG


	)

289 
POLL_ERR
,

290 
	#POLL_ERR
 
POLL_ERR


	)

291 
POLL_PRI
,

292 
	#POLL_PRI
 
POLL_PRI


	)

293 
POLL_HUP


294 
	#POLL_HUP
 
POLL_HUP


	)

298 #unde‡
__√ed_sigöfo_t


302 #i‡(
deföed
 
_SIGNAL_H
 || deföed 
__√ed_sigevít_t
) \

303 && !
deföed
 
__have_sigevít_t


304 
	#__have_sigevít_t
 1

	)

307 
	#__SIGEV_MAX_SIZE
 64

	)

308 #i‡
__WORDSIZE
 == 64

309 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()Ë- 4)

	)

311 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()Ë- 3)

	)

315 #i‚de‡
__have_±hªad_©å_t


316 
±hªad_©å_t
 
	t±hªad_©å_t
;

317 
	#__have_±hªad_©å_t
 1

	)

320 
	ssigevít


322 
sigvÆ_t
 
sigev_vÆue
;

323 
sigev_signo
;

324 
sigev_nŸify
;

328 
_∑d
[
__SIGEV_PAD_SIZE
];

332 
__pid_t
 
_tid
;

336 (*
_fun˘i⁄
Ë(
sigvÆ_t
);

337 
±hªad_©å_t
 *
_©åibuã
;

338 } 
_sigev_thªad
;

339 } 
_sigev_un
;

340 } 
	tsigevít_t
;

343 
	#sigev_nŸify_fun˘i⁄
 
_sigev_un
.
_sigev_thªad
.
_fun˘i⁄


	)

344 
	#sigev_nŸify_©åibuãs
 
_sigev_un
.
_sigev_thªad
.
_©åibuã


	)

349 
SIGEV_SIGNAL
 = 0,

350 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

351 
SIGEV_NONE
,

352 
	#SIGEV_NONE
 
SIGEV_NONE


	)

353 
SIGEV_THREAD
,

354 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

356 
SIGEV_THREAD_ID
 = 4

357 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/stat.h

18 #i‡!
deföed
 
_SYS_STAT_H
 && !deföed 
_FCNTL_H


22 #i‚de‡
_BITS_STAT_H


23 
	#_BITS_STAT_H
 1

	)

26 #i‚de‡
__x86_64__


27 
	#_STAT_VER_LINUX_OLD
 1

	)

28 
	#_STAT_VER_KERNEL
 1

	)

29 
	#_STAT_VER_SVR4
 2

	)

30 
	#_STAT_VER_LINUX
 3

	)

33 
	#_MKNOD_VER_LINUX
 1

	)

34 
	#_MKNOD_VER_SVR4
 2

	)

35 
	#_MKNOD_VER
 
_MKNOD_VER_LINUX


	)

37 
	#_STAT_VER_KERNEL
 0

	)

38 
	#_STAT_VER_LINUX
 1

	)

41 
	#_MKNOD_VER_LINUX
 0

	)

44 
	#_STAT_VER
 
_STAT_VER_LINUX


	)

46 
	s°©


48 
__dev_t
 
	m°_dev
;

49 #i‚de‡
__x86_64__


50 
	m__∑d1
;

52 #i‡
deföed
 
__x86_64__
 || !deföed 
__USE_FILE_OFFSET64


53 
__öo_t
 
	m°_öo
;

55 
__öo_t
 
	m__°_öo
;

57 #i‚de‡
__x86_64__


58 
__mode_t
 
	m°_mode
;

59 
__∆ök_t
 
	m°_∆ök
;

61 
__∆ök_t
 
	m°_∆ök
;

62 
__mode_t
 
	m°_mode
;

64 
__uid_t
 
	m°_uid
;

65 
__gid_t
 
	m°_gid
;

66 #ifde‡
__x86_64__


67 
	m__∑d0
;

69 
__dev_t
 
	m°_rdev
;

70 #i‚de‡
__x86_64__


71 
	m__∑d2
;

73 #i‡
deföed
 
__x86_64__
 || !deföed 
__USE_FILE_OFFSET64


74 
__off_t
 
	m°_size
;

76 
__off64_t
 
	m°_size
;

78 
__blksize_t
 
	m°_blksize
;

79 #i‡
deföed
 
__x86_64__
 || !deföed 
__USE_FILE_OFFSET64


80 
__blk˙t_t
 
	m°_blocks
;

82 
__blk˙t64_t
 
	m°_blocks
;

84 #ifde‡
__USE_XOPEN2K8


91 
time•ec
 
	m°_©im
;

92 
time•ec
 
	m°_mtim
;

93 
time•ec
 
	m°_˘im
;

94 
	#°_©ime
 
°_©im
.
tv_£c


	)

95 
	#°_mtime
 
°_mtim
.
tv_£c


	)

96 
	#°_˘ime
 
°_˘im
.
tv_£c


	)

98 
__time_t
 
	m°_©ime
;

99 
__sysˇŒ_ul⁄g_t
 
	m°_©imí£c
;

100 
__time_t
 
	m°_mtime
;

101 
__sysˇŒ_ul⁄g_t
 
	m°_mtimí£c
;

102 
__time_t
 
	m°_˘ime
;

103 
__sysˇŒ_ul⁄g_t
 
	m°_˘imí£c
;

105 #ifde‡
__x86_64__


106 
__sysˇŒ_¶⁄g_t
 
	m__glibc_ª£rved
[3];

108 #i‚de‡
__USE_FILE_OFFSET64


109 
	m__glibc_ª£rved4
;

110 
	m__glibc_ª£rved5
;

112 
__öo64_t
 
	m°_öo
;

117 #ifde‡
__USE_LARGEFILE64


119 
	s°©64


121 
__dev_t
 
	m°_dev
;

122 #ifde‡
__x86_64__


123 
__öo64_t
 
	m°_öo
;

124 
__∆ök_t
 
	m°_∆ök
;

125 
__mode_t
 
	m°_mode
;

127 
	m__∑d1
;

128 
__öo_t
 
	m__°_öo
;

129 
__mode_t
 
	m°_mode
;

130 
__∆ök_t
 
	m°_∆ök
;

132 
__uid_t
 
	m°_uid
;

133 
__gid_t
 
	m°_gid
;

134 #ifde‡
__x86_64__


135 
	m__∑d0
;

136 
__dev_t
 
	m°_rdev
;

137 
__off_t
 
	m°_size
;

139 
__dev_t
 
	m°_rdev
;

140 
	m__∑d2
;

141 
__off64_t
 
	m°_size
;

143 
__blksize_t
 
	m°_blksize
;

144 
__blk˙t64_t
 
	m°_blocks
;

145 #ifde‡
__USE_XOPEN2K8


152 
time•ec
 
	m°_©im
;

153 
time•ec
 
	m°_mtim
;

154 
time•ec
 
	m°_˘im
;

156 
__time_t
 
	m°_©ime
;

157 
__sysˇŒ_ul⁄g_t
 
	m°_©imí£c
;

158 
__time_t
 
	m°_mtime
;

159 
__sysˇŒ_ul⁄g_t
 
	m°_mtimí£c
;

160 
__time_t
 
	m°_˘ime
;

161 
__sysˇŒ_ul⁄g_t
 
	m°_˘imí£c
;

163 #ifde‡
__x86_64__


164 
__sysˇŒ_¶⁄g_t
 
	m__glibc_ª£rved
[3];

166 
__öo64_t
 
	m°_öo
;

172 
	#_STATBUF_ST_BLKSIZE


	)

173 
	#_STATBUF_ST_RDEV


	)

175 
	#_STATBUF_ST_NSEC


	)

179 
	#__S_IFMT
 0170000

	)

182 
	#__S_IFDIR
 0040000

	)

183 
	#__S_IFCHR
 0020000

	)

184 
	#__S_IFBLK
 0060000

	)

185 
	#__S_IFREG
 0100000

	)

186 
	#__S_IFIFO
 0010000

	)

187 
	#__S_IFLNK
 0120000

	)

188 
	#__S_IFSOCK
 0140000

	)

192 
	#__S_TYPEISMQ
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

193 
	#__S_TYPEISSEM
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

194 
	#__S_TYPEISSHM
(
buf
Ë((buf)->
°_mode
 - (buf)->°_mode)

	)

198 
	#__S_ISUID
 04000

	)

199 
	#__S_ISGID
 02000

	)

200 
	#__S_ISVTX
 01000

	)

201 
	#__S_IREAD
 0400

	)

202 
	#__S_IWRITE
 0200

	)

203 
	#__S_IEXEC
 0100

	)

205 #ifde‡
__USE_ATFILE


206 
	#UTIME_NOW
 ((1»<< 30Ë- 1l)

	)

207 
	#UTIME_OMIT
 ((1»<< 30Ë- 2l)

	)

	@/usr/include/bits/stdio-ldbl.h

19 #i‚de‡
_STDIO_H


23 
__BEGIN_NAMESPACE_STD


24 
	$__LDBL_REDIR_DECL
 (
Ârötf
)

25 
	$__LDBL_REDIR_DECL
 (
¥ötf
)

26 
	$__LDBL_REDIR_DECL
 (
•rötf
)

27 
	$__LDBL_REDIR_DECL
 (
vÂrötf
)

28 
	$__LDBL_REDIR_DECL
 (
v¥ötf
)

29 
	$__LDBL_REDIR_DECL
 (
v•rötf
)

30 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

31 && !
deföed
 
__REDIRECT
 \

32 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

33 
	$__LDBL_REDIR1_DECL
 (
fsˇnf
, 
__∆dbl___isoc99_fsˇnf
)

34 
	$__LDBL_REDIR1_DECL
 (
sˇnf
, 
__∆dbl___isoc99_sˇnf
)

35 
	$__LDBL_REDIR1_DECL
 (
ssˇnf
, 
__∆dbl___isoc99_ssˇnf
)

37 
	$__LDBL_REDIR_DECL
 (
fsˇnf
)

38 
	$__LDBL_REDIR_DECL
 (
sˇnf
)

39 
	$__LDBL_REDIR_DECL
 (
ssˇnf
)

41 
__END_NAMESPACE_STD


43 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_UNIX98


44 
__BEGIN_NAMESPACE_C99


45 
	$__LDBL_REDIR_DECL
 (
¢¥ötf
)

46 
	$__LDBL_REDIR_DECL
 (
v¢¥ötf
)

47 
__END_NAMESPACE_C99


50 #ifdef 
__USE_ISOC99


51 
__BEGIN_NAMESPACE_C99


52 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

53 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

54 
	$__LDBL_REDIR1_DECL
 (
vfsˇnf
, 
__∆dbl___isoc99_vfsˇnf
)

55 
	$__LDBL_REDIR1_DECL
 (
vsˇnf
, 
__∆dbl___isoc99_vsˇnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vssˇnf
, 
__∆dbl___isoc99_vssˇnf
)

58 
	$__LDBL_REDIR_DECL
 (
vfsˇnf
)

59 
	$__LDBL_REDIR_DECL
 (
vssˇnf
)

60 
	$__LDBL_REDIR_DECL
 (
vsˇnf
)

62 
__END_NAMESPACE_C99


65 #ifde‡
__USE_XOPEN2K8


66 
	$__LDBL_REDIR_DECL
 (
vd¥ötf
)

67 
	$__LDBL_REDIR_DECL
 (
d¥ötf
)

70 #ifde‡
__USE_GNU


71 
	$__LDBL_REDIR_DECL
 (
va•rötf
)

72 
	$__LDBL_REDIR_DECL
 (
__a•rötf
)

73 
	$__LDBL_REDIR_DECL
 (
a•rötf
)

74 
	$__LDBL_REDIR_DECL
 (
ob°ack_¥ötf
)

75 
	$__LDBL_REDIR_DECL
 (
ob°ack_v¥ötf
)

78 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


79 
	$__LDBL_REDIR_DECL
 (
__•rötf_chk
)

80 
	$__LDBL_REDIR_DECL
 (
__v•rötf_chk
)

81 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_UNIX98


82 
	$__LDBL_REDIR_DECL
 (
__¢¥ötf_chk
)

83 
	$__LDBL_REDIR_DECL
 (
__v¢¥ötf_chk
)

85 #i‡
__USE_FORTIFY_LEVEL
 > 1

86 
	$__LDBL_REDIR_DECL
 (
__Ârötf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__¥ötf_chk
)

88 
	$__LDBL_REDIR_DECL
 (
__vÂrötf_chk
)

89 
	$__LDBL_REDIR_DECL
 (
__v¥ötf_chk
)

90 #ifde‡
__USE_XOPEN2K8


91 
	$__LDBL_REDIR_DECL
 (
__d¥ötf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd¥ötf_chk
)

94 #ifde‡
__USE_GNU


95 
	$__LDBL_REDIR_DECL
 (
__a•rötf_chk
)

96 
	$__LDBL_REDIR_DECL
 (
__va•rötf_chk
)

97 
	$__LDBL_REDIR_DECL
 (
__ob°ack_¥ötf_chk
)

98 
	$__LDBL_REDIR_DECL
 (
__ob°ack_v¥ötf_chk
)

	@/usr/include/bits/stdio.h

19 #i‚de‡
_STDIO_H


23 #i‚de‡
__exã∫_ölöe


24 
	#__STDIO_INLINE
 
ölöe


	)

26 
	#__STDIO_INLINE
 
__exã∫_ölöe


	)

30 #ifde‡
__USE_EXTERN_INLINES


33 #i‡!(
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄
)

35 
__STDIO_INLINE
 

36 
	$v¥ötf
 (c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

38  
	`vÂrötf
 (
°dout
, 
__fmt
, 
__¨g
);

39 
	}
}

43 
__STDIO_INLINE
 

44 
	$gëch¨
 ()

46  
	`_IO_gëc
 (
°dö
);

47 
	}
}

50 #ifde‡
__USE_MISC


52 
__STDIO_INLINE
 

53 
	$fgëc_u∆ocked
 (
FILE
 *
__Â
)

55  
	`_IO_gëc_u∆ocked
 (
__Â
);

56 
	}
}

60 #ifde‡
__USE_POSIX


62 
__STDIO_INLINE
 

63 
	$gëc_u∆ocked
 (
FILE
 *
__Â
)

65  
	`_IO_gëc_u∆ocked
 (
__Â
);

66 
	}
}

69 
__STDIO_INLINE
 

70 
	$gëch¨_u∆ocked
 ()

72  
	`_IO_gëc_u∆ocked
 (
°dö
);

73 
	}
}

78 
__STDIO_INLINE
 

79 
	$putch¨
 (
__c
)

81  
	`_IO_putc
 (
__c
, 
°dout
);

82 
	}
}

85 #ifde‡
__USE_MISC


87 
__STDIO_INLINE
 

88 
	$Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

90  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

91 
	}
}

95 #ifde‡
__USE_POSIX


97 
__STDIO_INLINE
 

98 
	$putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
)

100  
	`_IO_putc_u∆ocked
 (
__c
, 
__°ªam
);

101 
	}
}

104 
__STDIO_INLINE
 

105 
	$putch¨_u∆ocked
 (
__c
)

107  
	`_IO_putc_u∆ocked
 (
__c
, 
°dout
);

108 
	}
}

112 #ifdef 
__USE_GNU


114 
__STDIO_INLINE
 
_IO_ssize_t


115 
	$gëlöe
 (**
__löïå
, 
size_t
 *
__n
, 
FILE
 *
__°ªam
)

117  
	`__gëdñim
 (
__löïå
, 
__n
, '\n', 
__°ªam
);

118 
	}
}

122 #ifde‡
__USE_MISC


124 
__STDIO_INLINE
 

125 
__NTH
 (
	$„of_u∆ocked
 (
FILE
 *
__°ªam
))

127  
	`_IO_„of_u∆ocked
 (
__°ªam
);

128 
	}
}

131 
__STDIO_INLINE
 

132 
__NTH
 (
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
))

134  
	`_IO_„º‹_u∆ocked
 (
__°ªam
);

135 
	}
}

141 #i‡
deföed
 
__USE_MISC
 && deföed 
__GNUC__
 && deföed 
__OPTIMIZE__
 \

142 && !
deföed
 
	g__˝lu•lus


144 
	#‰ód_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

145 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

146 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

147 && (
size_t
Ë(
size
) != 0) \

148 ? ({ *
__±r
 = (*Ë(
±r
); \

149 
FILE
 *
__°ªam
 = (
°ªam
); \

150 
size_t
 
__˙t
; \

151 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

152 
__˙t
 > 0; --__cnt) \

154 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
); \

155 i‡(
__c
 =
EOF
) \

157 *
__±r
++ = 
__c
; \

159 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

160 / (
size_t
Ë(
size
); }) \

161 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

162 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

164 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

165 (Ë(
n
), (
size_t
) 0) \

166 : 
	`‰ód_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

168 
	#fwrôe_u∆ocked
(
±r
, 
size
, 
n
, 
°ªam
) \

169 (
	`__exãnsi⁄__
 ((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& __buûtö_c⁄°™t_∞(
n
) \

170 && (
size_t
Ë(
size
Ë* (size_tË(
n
) <= 8 \

171 && (
size_t
Ë(
size
) != 0) \

172 ? ({ c⁄° *
__±r
 = (c⁄° *Ë(
±r
); \

173 
FILE
 *
__°ªam
 = (
°ªam
); \

174 
size_t
 
__˙t
; \

175 
__˙t
 = (
size_t
Ë(
size
Ë* (size_tË(
n
); \

176 
__˙t
 > 0; --__cnt) \

177 i‡(
	`_IO_putc_u∆ocked
 (*
__±r
++, 
__°ªam
Ë=
EOF
) \

179 ((
size_t
Ë(
size
Ë* (size_tË(
n
Ë- 
__˙t
) \

180 / (
size_t
Ë(
size
); }) \

181 : (((
	`__buûtö_c⁄°™t_p
 (
size
Ë&& (
size_t
) (size) == 0) \

182 || (
	`__buûtö_c⁄°™t_p
 (
n
Ë&& (
size_t
) (n) == 0)) \

184 ? ((Ë(
±r
), (Ë(
°ªam
), (Ë(
size
), \

185 (Ë(
n
), (
size_t
) 0) \

186 : 
	`fwrôe_u∆ocked
 (
±r
, 
size
, 
n
, 
°ªam
))))

	)

190 #unde‡
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

19 #i‚de‡
_STDIO_H


23 
	$__•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

24 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

25 
	$__v•rötf_chk
 (*
__ª°ri˘
 
__s
, 
__Êag
, 
size_t
 
__¶í
,

26 c⁄° *
__ª°ri˘
 
__f‹m©
,

27 
_G_va_li°
 
__≠
Ë
__THROW
;

29 #ifde‡
__va_¨g_∑ck


30 
__f‹tify_fun˘i⁄
 

31 
	`__NTH
 (
	$•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__fmt
, ...))

33  
	`__buûtö___•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

34 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

35 
	}
}

36 #ñi‡!
deföed
 
__˝lu•lus


37 
	#•rötf
(
°r
, ...) \

38 
	`__buûtö___•rötf_chk
 (
°r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

39 
__VA_ARGS__
)

	)

42 
__f‹tify_fun˘i⁄
 

43 
__NTH
 (
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__fmt
,

44 
_G_va_li°
 
__≠
))

46  
	`__buûtö___v•rötf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

47 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

48 
	}
}

50 #i‡
deföed
 
__USE_ISOC99
 || deföed 
__USE_UNIX98


52 
	$__¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

53 
size_t
 
__¶í
, c⁄° *
__ª°ri˘
 
__f‹m©
,

54 ...Ë
__THROW
;

55 
	$__v¢¥ötf_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
, 
__Êag
,

56 
size_t
 
__¶í
, c⁄° *
__ª°ri˘
 
__f‹m©
,

57 
_G_va_li°
 
__≠
Ë
__THROW
;

59 #ifde‡
__va_¨g_∑ck


60 
__f‹tify_fun˘i⁄
 

61 
	`__NTH
 (
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

62 c⁄° *
__ª°ri˘
 
__fmt
, ...))

64  
	`__buûtö___¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

65 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¨g_∑ck
 ());

66 
	}
}

67 #ñi‡!
deföed
 
__˝lu•lus


68 
	#¢¥ötf
(
°r
, 
Àn
, ...) \

69 
	`__buûtö___¢¥ötf_chk
 (
°r
, 
Àn
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

70 
__VA_ARGS__
)

	)

73 
__f‹tify_fun˘i⁄
 

74 
__NTH
 (
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__n
,

75 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

77  
	`__buûtö___v¢¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

78 
	`__bos
 (
__s
), 
__fmt
, 
__≠
);

79 
	}
}

83 #i‡
__USE_FORTIFY_LEVEL
 > 1

85 
__Ârötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

86 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

87 
__¥ötf_chk
 (
__Êag
, c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

88 
__vÂrötf_chk
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

89 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__≠
);

90 
__v¥ötf_chk
 (
__Êag
, c⁄° *
__ª°ri˘
 
__f‹m©
,

91 
_G_va_li°
 
__≠
);

93 #ifde‡
__va_¨g_∑ck


94 
__f‹tify_fun˘i⁄
 

95 
	$Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, c⁄° *__ª°ri˘ 
__fmt
, ...)

97  
	`__Ârötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

98 
	`__va_¨g_∑ck
 ());

99 
	}
}

101 
__f‹tify_fun˘i⁄
 

102 
	$¥ötf
 (c⁄° *
__ª°ri˘
 
__fmt
, ...)

104  
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

105 
	}
}

106 #ñi‡!
deföed
 
__˝lu•lus


107 
	#¥ötf
(...) \

108 
	`__¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

109 
	#Ârötf
(
°ªam
, ...) \

110 
	`__Ârötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

113 
__f‹tify_fun˘i⁄
 

114 
	$v¥ötf
 (c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

116 #ifde‡
__USE_EXTERN_INLINES


117  
	`__vÂrötf_chk
 (
°dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

119  
	`__v¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

121 
	}
}

123 
__f‹tify_fun˘i⁄
 

124 
	$vÂrötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

125 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

127  
	`__vÂrötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

128 
	}
}

130 #ifde‡
__USE_XOPEN2K8


131 
	$__d¥ötf_chk
 (
__fd
, 
__Êag
, c⁄° *
__ª°ri˘
 
__fmt
,

132 ...Ë
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

133 
	$__vd¥ötf_chk
 (
__fd
, 
__Êag
,

134 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

135 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

137 #ifde‡
__va_¨g_∑ck


138 
__f‹tify_fun˘i⁄
 

139 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

141  
	`__d¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

142 
	`__va_¨g_∑ck
 ());

143 
	}
}

144 #ñi‡!
deföed
 
__˝lu•lus


145 
	#d¥ötf
(
fd
, ...) \

146 
	`__d¥ötf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

149 
__f‹tify_fun˘i⁄
 

150 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
)

152  
	`__vd¥ötf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

153 
	}
}

156 #ifde‡
__USE_GNU


158 
	$__a•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

159 c⁄° *
__ª°ri˘
 
__fmt
, ...)

160 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 4))Ë
__wur
;

161 
	$__va•rötf_chk
 (**
__ª°ri˘
 
__±r
, 
__Êag
,

162 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__¨g
)

163 
__THROW
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 3, 0))Ë
__wur
;

164 
	$__ob°ack_¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

165 
__Êag
, c⁄° *
__ª°ri˘
 
__f‹m©
,

167 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

168 
	$__ob°ack_v¥ötf_chk
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

169 
__Êag
,

170 c⁄° *
__ª°ri˘
 
__f‹m©
,

171 
_G_va_li°
 
__¨gs
)

172 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

174 #ifde‡
__va_¨g_∑ck


175 
__f‹tify_fun˘i⁄
 

176 
	`__NTH
 (
	$a•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__fmt
, ...))

178  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

179 
	`__va_¨g_∑ck
 ());

180 
	}
}

182 
__f‹tify_fun˘i⁄
 

183 
__NTH
 (
	$__a•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__fmt
,

186  
	`__a•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

187 
	`__va_¨g_∑ck
 ());

188 
	}
}

190 
__f‹tify_fun˘i⁄
 

191 
__NTH
 (
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

192 c⁄° *
__ª°ri˘
 
__fmt
, ...))

194  
	`__ob°ack_¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

195 
	`__va_¨g_∑ck
 ());

196 
	}
}

197 #ñi‡!
deföed
 
__˝lu•lus


198 
	#a•rötf
(
±r
, ...) \

199 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

200 
	#__a•rötf
(
±r
, ...) \

201 
	`__a•rötf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

202 
	#ob°ack_¥ötf
(
ob°ack
, ...) \

203 
	`__ob°ack_¥ötf_chk
 (
ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

206 
__f‹tify_fun˘i⁄
 

207 
__NTH
 (
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__fmt
,

208 
_G_va_li°
 
__≠
))

210  
	`__va•rötf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

211 
	}
}

213 
__f‹tify_fun˘i⁄
 

214 
__NTH
 (
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

215 c⁄° *
__ª°ri˘
 
__fmt
, 
_G_va_li°
 
__≠
))

217  
	`__ob°ack_v¥ötf_chk
 (
__ob°ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

218 
__≠
);

219 
	}
}

225 #i‡!
deföed
 
__USE_ISOC11
 \

226 || (
deföed
 
	g__˝lu•lus
 && __˝lu•lu†<201103L && !deföed 
__USE_GNU
)

227 *
	$__gës_chk
 (*
__°r
, 
size_t
Ë
__wur
;

228 *
	`__REDIRECT
 (
__gës_w¨n
, (*
__°r
), 
gës
)

229 
__wur
 
	`__w¨«âr
 ("please use fgets or getline instead, gets can't "

232 
__f‹tify_fun˘i⁄
 
__wur
 *

233 
	$gës
 (*
__°r
)

235 i‡(
	`__bos
 (
__°r
Ë!(
size_t
) -1)

236  
	`__gës_chk
 (
__°r
, 
	`__bos
 (__str));

237  
	`__gës_w¨n
 (
__°r
);

238 
	}
}

241 *
	$__fgës_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

242 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

243 *
	`__REDIRECT
 (
__fgës_Æüs
,

244 (*
__ª°ri˘
 
__s
, 
__n
,

245 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës
Ë
__wur
;

246 *
	`__REDIRECT
 (
__fgës_chk_w¨n
,

247 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

248 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_chk
)

249 
__wur
 
	`__w¨«âr
 ("fgets called with bigger sizeÅhanÜength "

252 
__f‹tify_fun˘i⁄
 
__wur
 *

253 
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

255 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

257 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

258  
	`__fgës_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

260 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

261  
	`__fgës_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

263  
	`__fgës_Æüs
 (
__s
, 
__n
, 
__°ªam
);

264 
	}
}

266 
size_t
 
	$__‰ód_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

267 
size_t
 
__size
, size_à
__n
,

268 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

269 
size_t
 
	`__REDIRECT
 (
__‰ód_Æüs
,

270 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

271 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

272 
‰ód
Ë
__wur
;

273 
size_t
 
	`__REDIRECT
 (
__‰ód_chk_w¨n
,

274 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

275 
size_t
 
__size
, size_à
__n
,

276 
FILE
 *
__ª°ri˘
 
__°ªam
),

277 
__‰ód_chk
)

278 
__wur
 
	`__w¨«âr
 ("fread called with bigger size *ÇmembÅhanÜength "

281 
__f‹tify_fun˘i⁄
 
__wur
 
size_t


282 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

283 
FILE
 *
__ª°ri˘
 
__°ªam
)

285 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

287 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

288 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

289 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

290  
	`__‰ód_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

292 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

293  
	`__‰ód_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__°ªam
);

295  
	`__‰ód_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

296 
	}
}

298 #ifde‡
__USE_GNU


299 *
	$__fgës_u∆ocked_chk
 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
,

300 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

301 *
	`__REDIRECT
 (
__fgës_u∆ocked_Æüs
,

302 (*
__ª°ri˘
 
__s
, 
__n
,

303 
FILE
 *
__ª°ri˘
 
__°ªam
), 
fgës_u∆ocked
Ë
__wur
;

304 *
	`__REDIRECT
 (
__fgës_u∆ocked_chk_w¨n
,

305 (*
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

306 
FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgës_u∆ocked_chk
)

307 
__wur
 
	`__w¨«âr
 ("fgets_unlocked called with bigger sizeÅhanÜength "

310 
__f‹tify_fun˘i⁄
 
__wur
 *

311 
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

313 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

315 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

316  
	`__fgës_u∆ocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

318 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
))

319  
	`__fgës_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__°ªam
);

321  
	`__fgës_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

322 
	}
}

325 #ifde‡
__USE_MISC


326 #unde‡
‰ód_u∆ocked


327 
size_t
 
	$__‰ód_u∆ocked_chk
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

328 
size_t
 
__size
, size_à
__n
,

329 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

330 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_Æüs
,

331 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

332 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
),

333 
‰ód_u∆ocked
Ë
__wur
;

334 
size_t
 
	`__REDIRECT
 (
__‰ód_u∆ocked_chk_w¨n
,

335 (*
__ª°ri˘
 
__±r
, 
size_t
 
__±æí
,

336 
size_t
 
__size
, size_à
__n
,

337 
FILE
 *
__ª°ri˘
 
__°ªam
),

338 
__‰ód_u∆ocked_chk
)

339 
__wur
 
	`__w¨«âr
 ("fread_unlocked called with bigger size *ÇmembÅhan "

342 
__f‹tify_fun˘i⁄
 
__wur
 
size_t


343 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
, size_à
__n
,

344 
FILE
 *
__ª°ri˘
 
__°ªam
)

346 i‡(
	`__bos0
 (
__±r
Ë!(
size_t
) -1)

348 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
)

349 || !
	`__buûtö_c⁄°™t_p
 (
__n
)

350 || (
__size
 | 
__n
Ë>(((
size_t
) 1) << (8 *  (size_t) / 2)))

351  
	`__‰ód_u∆ocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

352 
__°ªam
);

354 i‡(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

355  
	`__‰ód_u∆ocked_chk_w¨n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

356 
__°ªam
);

359 #ifde‡
__USE_EXTERN_INLINES


360 i‡(
	`__buûtö_c⁄°™t_p
 (
__size
)

361 && 
	`__buûtö_c⁄°™t_p
 (
__n
)

362 && (
__size
 | 
__n
Ë< (((
size_t
) 1) << (8 *  (size_t) / 2))

363 && 
__size
 * 
__n
 <= 8)

365 
size_t
 
__˙t
 = 
__size
 * 
__n
;

366 *
__˝å
 = (*Ë
__±r
;

367 i‡(
__˙t
 == 0)

370 ; 
__˙t
 > 0; --__cnt)

372 
__c
 = 
	`_IO_gëc_u∆ocked
 (
__°ªam
);

373 i‡(
__c
 =
EOF
)

375 *
__˝å
++ = 
__c
;

377  (
__˝å
 - (*Ë
__±r
Ë/ 
__size
;

380  
	`__‰ód_u∆ocked_Æüs
 (
__±r
, 
__size
, 
__n
, 
__°ªam
);

381 
	}
}

	@/usr/include/bits/stdio_lim.h

18 #i‡!
deföed
 
_STDIO_H
 && !deföed 
__√ed_FOPEN_MAX
 && !deföed 
__√ed_IOV_MAX


22 #ifde‡
_STDIO_H


23 
	#L_tm≤am
 20

	)

24 
	#TMP_MAX
 238328

	)

25 
	#FILENAME_MAX
 4096

	)

27 #ifde‡
__USE_POSIX


28 
	#L_˘îmid
 9

	)

29 #i‡!
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_GNU


30 
	#L_cu£rid
 9

	)

35 #i‡
deföed
 
__√ed_FOPEN_MAX
 || deföed 
_STDIO_H


36 #unde‡
FOPEN_MAX


37 
	#FOPEN_MAX
 16

	)

40 #i‡
deföed
 
__√ed_IOV_MAX
 && !deföed 
IOV_MAX


41 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-bsearch.h

19 
__exã∫_ölöe
 *

20 
	$b£¨ch
 (c⁄° *
__key
, c⁄° *
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

21 
__com∑r_‚_t
 
__com∑r
)

23 
size_t
 
__l
, 
__u
, 
__idx
;

24 c⁄° *
__p
;

25 
__com∑ris⁄
;

27 
__l
 = 0;

28 
__u
 = 
__nmemb
;

29 
__l
 < 
__u
)

31 
__idx
 = (
__l
 + 
__u
) / 2;

32 
__p
 = (*Ë(((c⁄° *Ë
__ba£
Ë+ (
__idx
 * 
__size
));

33 
__com∑ris⁄
 = (*
__com∑r
Ë(
__key
, 
__p
);

34 i‡(
__com∑ris⁄
 < 0)

35 
__u
 = 
__idx
;

36 i‡(
__com∑ris⁄
 > 0)

37 
__l
 = 
__idx
 + 1;

39  (*Ë
__p
;

42  
NULL
;

43 
	}
}

	@/usr/include/bits/stdlib-float.h

19 #i‚de‡
_STDLIB_H


23 #ifde‡
__USE_EXTERN_INLINES


24 
__BEGIN_NAMESPACE_STD


25 
__exã∫_ölöe
 

26 
__NTH
 (
	$©of
 (c⁄° *
__≈å
))

28  
	`°πod
 (
__≈å
, (**Ë
NULL
);

29 
	}
}

30 
	g__END_NAMESPACE_STD


	@/usr/include/bits/stdlib-ldbl.h

19 #i‚de‡
_STDLIB_H


23 #ifdef 
__USE_ISOC99


24 
__BEGIN_NAMESPACE_C99


25 
	$__LDBL_REDIR1_DECL
 (
°πﬁd
, 
°πod
)

26 
__END_NAMESPACE_C99


29 #ifde‡
__USE_GNU


30 
	$__LDBL_REDIR1_DECL
 (
°πﬁd_l
, 
°πod_l
)

33 #ifde‡
__USE_MISC


34 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

35 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

36 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

38 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

19 #i‚de‡
_STDLIB_H


23 *
	$__ªÆ∑th_chk
 (c⁄° *
__ª°ri˘
 
__«me
,

24 *
__ª°ri˘
 
__ªsﬁved
,

25 
size_t
 
__ªsﬁvedÀn
Ë
__THROW
 
__wur
;

26 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_Æüs
,

27 (c⁄° *
__ª°ri˘
 
__«me
,

28 *
__ª°ri˘
 
__ªsﬁved
), 
ªÆ∑th
Ë
__wur
;

29 *
	`__REDIRECT_NTH
 (
__ªÆ∑th_chk_w¨n
,

30 (c⁄° *
__ª°ri˘
 
__«me
,

31 *
__ª°ri˘
 
__ªsﬁved
,

32 
size_t
 
__ªsﬁvedÀn
), 
__ªÆ∑th_chk
Ë
__wur


33 
	`__w¨«âr
 ("secondárgument ofÑealpath must beÉither NULL orát "

36 
__f‹tify_fun˘i⁄
 
__wur
 *

37 
	`__NTH
 (
	$ªÆ∑th
 (c⁄° *
__ª°ri˘
 
__«me
, *__ª°ri˘ 
__ªsﬁved
))

39 i‡(
	`__bos
 (
__ªsﬁved
Ë!(
size_t
) -1)

41 #i‡
deföed
 
_LIBC_LIMITS_H_
 && deföed 
PATH_MAX


42 i‡(
	`__bos
 (
__ªsﬁved
Ë< 
PATH_MAX
)

43  
	`__ªÆ∑th_chk_w¨n
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

45  
	`__ªÆ∑th_chk
 (
__«me
, 
__ªsﬁved
, 
	`__bos
 (__resolved));

48  
	`__ªÆ∑th_Æüs
 (
__«me
, 
__ªsﬁved
);

49 
	}
}

52 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

53 
size_t
 
__ƒól
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

54 
	`__REDIRECT_NTH
 (
__±¢ame_r_Æüs
, (
__fd
, *
__buf
,

55 
size_t
 
__buÊí
), 
±¢ame_r
)

56 
	`__n⁄nuŒ
 ((2));

57 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¨n
,

58 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

59 
size_t
 
__ƒól
), 
__±¢ame_r_chk
)

60 
	`__n⁄nuŒ
 ((2)Ë
	`__w¨«âr
 ("ptsname_r called with buflen biggerÅhan "

63 
__f‹tify_fun˘i⁄
 

64 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
))

66 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

68 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

69  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

70 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

71  
	`__±¢ame_r_chk_w¨n
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

73  
	`__±¢ame_r_Æüs
 (
__fd
, 
__buf
, 
__buÊí
);

74 
	}
}

77 
	$__w˘omb_chk
 (*
__s
, 
wch¨_t
 
__wch¨
, 
size_t
 
__buÊí
)

78 
__THROW
 
__wur
;

79 
	`__REDIRECT_NTH
 (
__w˘omb_Æüs
, (*
__s
, 
wch¨_t
 
__wch¨
),

80 
w˘omb
Ë
__wur
;

82 
__f‹tify_fun˘i⁄
 
__wur
 

83 
	`__NTH
 (
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
))

88 
	#__STDLIB_MB_LEN_MAX
 16

	)

89 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__STDLIB_MB_LEN_MAX


92 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

93  
	`__w˘omb_chk
 (
__s
, 
__wch¨
, 
	`__bos
 (__s));

94  
	`__w˘omb_Æüs
 (
__s
, 
__wch¨
);

95 
	}
}

98 
size_t
 
	$__mb°owcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

99 c⁄° *
__ª°ri˘
 
__§c
,

100 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

101 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_Æüs
,

102 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

103 c⁄° *
__ª°ri˘
 
__§c
,

104 
size_t
 
__Àn
), 
mb°owcs
);

105 
size_t
 
	`__REDIRECT_NTH
 (
__mb°owcs_chk_w¨n
,

106 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

107 c⁄° *
__ª°ri˘
 
__§c
,

108 
size_t
 
__Àn
, size_à
__d°Àn
), 
__mb°owcs_chk
)

109 
	`__w¨«âr
 ("mbstowcs called with dst buffer smallerÅhanÜen "

112 
__f‹tify_fun˘i⁄
 
size_t


113 
	`__NTH
 (
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, c⁄° *__ª°ri˘ 
__§c
,

114 
size_t
 
__Àn
))

116 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

118 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

119  
	`__mb°owcs_chk
 (
__d°
, 
__§c
, 
__Àn
,

120 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

122 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

123  
	`__mb°owcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
,

124 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

126  
	`__mb°owcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

127 
	}
}

130 
size_t
 
	$__wc°ombs_chk
 (*
__ª°ri˘
 
__d°
,

131 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

132 
size_t
 
__Àn
, size_à
__d°Àn
Ë
__THROW
;

133 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_Æüs
,

134 (*
__ª°ri˘
 
__d°
,

135 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

136 
size_t
 
__Àn
), 
wc°ombs
);

137 
size_t
 
	`__REDIRECT_NTH
 (
__wc°ombs_chk_w¨n
,

138 (*
__ª°ri˘
 
__d°
,

139 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

140 
size_t
 
__Àn
, size_à
__d°Àn
), 
__wc°ombs_chk
)

141 
	`__w¨«âr
 ("wcstombs called with dst buffer smallerÅhanÜen");

143 
__f‹tify_fun˘i⁄
 
size_t


144 
	`__NTH
 (
	$wc°ombs
 (*
__ª°ri˘
 
__d°
, c⁄° 
wch¨_t
 *__ª°ri˘ 
__§c
,

145 
size_t
 
__Àn
))

147 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

149 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

150  
	`__wc°ombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

151 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

152  
	`__wc°ombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dst));

154  
	`__wc°ombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
);

155 
	}
}

	@/usr/include/bits/string.h

19 #i‚de‡
_STRING_H


24 
	#_STRING_INLINE_u«lig√d
 1

	)

27 
	#_HAVE_STRING_ARCH_memp˝y
 1

	)

31 #i‡!
deföed
 
__x86_64__
 && (deföed 
__i486__
 || deföed 
__≥¡ium__
 \

32 || 
deföed
 
	g__≥¡ium¥o__
 || deföed 
	g__≥¡ium4__
 \

33 || 
deföed
 
	g__noc⁄a__
 || deföed 
	g__©om__
 \

34 || 
deföed
 
	g__c‹e2__
 || deföed 
	g__c‹ei7__
 \

35 || 
deföed
 
	g__ßndybridge__
 || deföed 
	g__haswñl__
 \

36 || 
deföed
 
	g__b⁄√Œ__
 || deföed 
	g__sûvîm⁄t__
 \

37 || 
deföed
 
	g__k6__
 || deföed 
	g__geode__
 \

38 || 
deföed
 
	g__k8__
 || deföed 
	g__©hl⁄__
 \

39 || 
deföed
 
	g__amdÁm10__
 || deföed 
	g__bdvî1__
 \

40 || 
deföed
 
	g__bdvî2__
 || deföed 
	g__bdvî3__
 \

41 || 
deföed
 
	g__bdvî4__
 || deföed 
	g__btvî1__
 \

42 || 
deföed
 
	g__btvî2__
)

46 #i‡!
deföed
 
__NO_STRING_INLINES
 && deföed 
__USE_STRING_INLINES
 \

47 && 
deföed
 
	g__GNUC__
 && __GNUC__ >= 2

49 #i‚de‡
__STRING_INLINE


50 #i‚de‡
__exã∫_ölöe


51 
	#__STRING_INLINE
 
ölöe


	)

53 
	#__STRING_INLINE
 
__exã∫_ölöe


	)

58 
	#__STRING_SMALL_GET16
(
§c
, 
idx
) \

59 ((((c⁄° *Ë(
§c
))[
idx
 + 1] << 8) \

60 | ((c⁄° *Ë(
§c
))[
idx
])

	)

61 
	#__STRING_SMALL_GET32
(
§c
, 
idx
) \

62 (((((c⁄° *Ë(
§c
))[
idx
 + 3] << 8 \

63 | ((c⁄° *Ë(
§c
))[
idx
 + 2]) << 8 \

64 | ((c⁄° *Ë(
§c
))[
idx
 + 1]) << 8 \

65 | ((c⁄° *Ë(
§c
))[
idx
])

	)

69 
	#_HAVE_STRING_ARCH_mem˝y
 1

	)

70 
	#mem˝y
(
de°
, 
§c
, 
n
) \

71 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) \

72 ? 
	`__mem˝y_c
 ((
de°
), (
§c
), (
n
)) \

73 : 
	`__mem˝y_g
 ((
de°
), (
§c
), (
n
))))

	)

74 
	#__mem˝y_c
(
de°
, 
§c
, 
n
) \

75 ((
n
) == 0 \

76 ? (
de°
) \

77 : (((
n
) % 4 == 0) \

78 ? 
	`__mem˝y_by4
 (
de°
, 
§c
, 
n
) \

79 : (((
n
) % 2 == 0) \

80 ? 
	`__mem˝y_by2
 (
de°
, 
§c
, 
n
) \

81 : 
	`__mem˝y_g
 (
de°
, 
§c
, 
n
))))

	)

83 
__STRING_INLINE
 *
__mem˝y_by4
 (*
__de°
, c⁄° *
__§c
,

84 
size_t
 
__n
);

86 
__STRING_INLINE
 *

87 
	$__mem˝y_by4
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

89 
__d0
, 
__d1
;

90 *
__tmp
 = 
__de°
;

91 
__asm__
 
__vﬁ©ûe__


99 : "=&r" (
__d0
), "=&r" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
)

100 : "1" (
__tmp
), "2" (
__§c
), "3" (
__n
 / 4)

102  
__de°
;

103 
	}
}

105 
__STRING_INLINE
 *
__mem˝y_by2
 (*
__de°
, c⁄° *
__§c
,

106 
size_t
 
__n
);

108 
__STRING_INLINE
 *

109 
	$__mem˝y_by2
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

111 
__d0
, 
__d1
;

112 *
__tmp
 = 
__de°
;

113 
__asm__
 
__vﬁ©ûe__


126 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
)

127 : "1" (
__tmp
), "2" (
__§c
), "3" (
__n
 / 2)

129  
__de°
;

130 
	}
}

132 
__STRING_INLINE
 *
__mem˝y_g
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
);

134 
__STRING_INLINE
 *

135 
	$__mem˝y_g
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

137 
__d0
, 
__d1
, 
__d2
;

138 *
__tmp
 = 
__de°
;

139 
__asm__
 
__vﬁ©ûe__


150 : "=&c" (
__d0
), "=&D" (
__d1
), "=&S" (
__d2
),

151 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__de°
)

152 : "0" (
__n
), "1" (
__tmp
), "2" (
__§c
),

153 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__§c
)

155  
__de°
;

156 
	}
}

158 
	#_HAVE_STRING_ARCH_memmove
 1

	)

159 #i‚de‡
_FORCE_INLINES


162 
	#memmove
(
de°
, 
§c
, 
n
Ë
	`__memmove_g
 (de°, src,Ç)

	)

164 
__STRING_INLINE
 *
	$__memmove_g
 (*, c⁄° *, 
size_t
)

165 
	`__asm__
 ("memmove");

167 
__STRING_INLINE
 *

168 
	$__memmove_g
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

170 
__d0
, 
__d1
, 
__d2
;

171 *
__tmp
 = 
__de°
;

172 i‡(
__de°
 < 
__§c
)

173 
__asm__
 
__vﬁ©ûe__


176 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

177 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__de°
)

178 : "0" (
__n
), "1" (
__§c
), "2" (
__tmp
),

179 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__§c
));

181 
__asm__
 
__vﬁ©ûe__


187 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

188 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__de°
)

189 : "0" (
__n
), "1" (__¿+ (c⁄° *Ë
__§c
),

190 "2" (
__n
 + (*Ë
__tmp
),

191 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__§c
));

192  
__de°
;

193 
	}
}

197 
	#_HAVE_STRING_ARCH_memcmp
 1

	)

198 #i‚de‡
_FORCE_INLINES


199 #i‚de‡
__PIC__


201 
__STRING_INLINE
 

202 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

204 
__d0
, 
__d1
, 
__d2
;

205 
__ªs
;

206 
__asm__
 
__vﬁ©ûe__


214 : "=&a" (
__ªs
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

215 : "0" (0), "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

216 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s1
),

217 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s2
)

219  
__ªs
;

220 
	}
}

225 
	#_HAVE_STRING_ARCH_mem£t
 1

	)

226 
	#_USE_STRING_ARCH_mem£t
 1

	)

227 
	#mem£t
(
s
, 
c
, 
n
) \

228 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) && (n) <= 16 \

229 ? ((
n
) == 1 \

230 ? 
	`__mem£t_c1
 ((
s
), (
c
)) \

231 : 
	`__mem£t_gc
 ((
s
), (
c
), (
n
))) \

232 : (
	`__buûtö_c⁄°™t_p
 (
c
) \

233 ? (
	`__buûtö_c⁄°™t_p
 (
n
) \

234 ? 
	`__mem£t_c˙
 ((
s
), (
c
), (
n
)) \

235 : 
	`mem£t
 ((
s
), (
c
), (
n
))) \

236 : (
	`__buûtö_c⁄°™t_p
 (
n
) \

237 ? 
	`__mem£t_g˙
 ((
s
), (
c
), (
n
)) \

238 : 
	`mem£t
 ((
s
), (
c
), (
n
))))))

	)

240 
	#__mem£t_c1
(
s
, 
c
Ë({ *
__s
 = (s); \

241 *((*Ë
__s
Ë(Ë(
c
); \

242 
__s
; })

	)

244 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

245 ({ *
__s
 = (
s
); \

247 
__ui
; \

248 
__usi
; \

249 
__uc
; \

250 } *
__u
 = 
__s
; \

251 
__c
 = ((Ë((Ë(
c
))) * 0x01010101; \

257 i‡((
n
) == 3 || (n) >= 5) \

258 
__asm__
 
	`__vﬁ©ûe__
 ("" : "Ù" (
__c
) : "0" (__c)); \

261 
n
) \

264 
__u
->
__ui
 = 
__c
; \

265 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

267 
__u
->
__ui
 = 
__c
; \

268 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

270 
__u
->
__ui
 = 
__c
; \

271 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

273 
__u
->
__usi
 = (Ë
__c
; \

274 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

275 
__u
->
__uc
 = (Ë
__c
; \

279 
__u
->
__ui
 = 
__c
; \

280 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

282 
__u
->
__ui
 = 
__c
; \

283 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

285 
__u
->
__ui
 = 
__c
; \

286 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

288 
__u
->
__usi
 = (Ë
__c
; \

292 
__u
->
__ui
 = 
__c
; \

293 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

295 
__u
->
__ui
 = 
__c
; \

296 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

298 
__u
->
__ui
 = 
__c
; \

299 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

301 
__u
->
__uc
 = (Ë
__c
; \

305 
__u
->
__ui
 = 
__c
; \

306 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

308 
__u
->
__ui
 = 
__c
; \

309 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

311 
__u
->
__ui
 = 
__c
; \

312 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

314 
__u
->
__ui
 = 
__c
; \

319 
__s
; })

	)

321 
	#__mem£t_c˙
(
s
, 
c
, 
n
) \

322 (((
n
) % 4 == 0) \

323 ? 
	`__mem£t_c˙_by4
 (
s
, ((Ë((Ë(
c
))) * 0x01010101,\

324 
n
) \

325 : (((
n
) % 2 == 0) \

326 ? 
	`__mem£t_c˙_by2
 (
s
, \

327 ((Ë((Ë(
c
))) * 0x01010101,\

328 
n
) \

329 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

331 
__STRING_INLINE
 *
__mem£t_c˙_by4
 (*
__s
, 
__c
,

332 
size_t
 
__n
);

334 
__STRING_INLINE
 *

335 
	$__mem£t_c˙_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

337 *
__tmp
 = 
__s
;

338 
__d0
;

339 #ifde‡
__i686__


340 
__asm__
 
__vﬁ©ûe__


343 : "=&a" (
__c
), "=&D" (
__tmp
), "=&c" (
__d0
),

344 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

345 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

348 
__asm__
 
__vﬁ©ûe__


354 : "=&r" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

355 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

356 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

359  
__s
;

360 
	}
}

362 
__STRING_INLINE
 *
__mem£t_c˙_by2
 (*
__s
, 
__c
,

363 
size_t
 
__n
);

365 
__STRING_INLINE
 *

366 
	$__mem£t_c˙_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

368 
__d0
, 
__d1
;

369 *
__tmp
 = 
__s
;

370 #ifde‡
__i686__


371 
__asm__
 
__vﬁ©ûe__


375 : "=&a" (
__d0
), "=&D" (
__tmp
), "=&c" (
__d1
),

376 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

377 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

380 
__asm__
 
__vﬁ©ûe__


386 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

387 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

388 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

391  
__s
;

392 
	}
}

394 
	#__mem£t_g˙
(
s
, 
c
, 
n
) \

395 (((
n
) % 4 == 0) \

396 ? 
	`__mem£t_g˙_by4
 (
s
, 
c
, 
n
) \

397 : (((
n
) % 2 == 0) \

398 ? 
	`__mem£t_g˙_by2
 (
s
, 
c
, 
n
) \

399 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

401 
__STRING_INLINE
 *
__mem£t_g˙_by4
 (*
__s
, 
__c
, 
size_t
 
__n
);

403 
__STRING_INLINE
 *

404 
	$__mem£t_g˙_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

406 *
__tmp
 = 
__s
;

407 
__d0
;

408 
__asm__
 
__vﬁ©ûe__


418 : "=&q" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

419 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

420 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

422  
__s
;

423 
	}
}

425 
__STRING_INLINE
 *
__mem£t_g˙_by2
 (*
__s
, 
__c
, 
size_t
 
__n
);

427 
__STRING_INLINE
 *

428 
	$__mem£t_g˙_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

430 
__d0
, 
__d1
;

431 *
__tmp
 = 
__s
;

432 
__asm__
 
__vﬁ©ûe__


443 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

444 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

445 : "0" ((Ë
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

447  
__s
;

448 
	}
}

452 
	#_HAVE_STRING_ARCH_memchr
 1

	)

453 #i‚de‡
_FORCE_INLINES


454 
__STRING_INLINE
 *

455 
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

457 
__d0
;

458 #ifde‡
__i686__


459 
__d1
;

461 *
__ªs
;

462 i‡(
__n
 == 0)

463  
NULL
;

464 #ifde‡
__i686__


465 
__asm__
 
__vﬁ©ûe__


469 : "=D" (
__ªs
), "=&c" (
__d0
), "=&r" (
__d1
)

470 : "a" (
__c
), "0" (
__s
), "1" (
__n
), "2" (1),

471 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

474 
__asm__
 
__vﬁ©ûe__


480 : "=D" (
__ªs
), "=&c" (
__d0
)

481 : "a" (
__c
), "0" (
__s
), "1" (
__n
),

482 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

485  
__ªs
 - 1;

486 
	}
}

489 
	#_HAVE_STRING_ARCH_memrchr
 1

	)

490 #i‚de‡
_FORCE_INLINES


491 
__STRING_INLINE
 *
__memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
);

493 
__STRING_INLINE
 *

494 
	$__memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

496 
__d0
;

497 #ifde‡
__i686__


498 
__d1
;

500 *
__ªs
;

501 i‡(
__n
 == 0)

502  
NULL
;

503 #ifde‡
__i686__


504 
__asm__
 
__vﬁ©ûe__


510 : "=D" (
__ªs
), "=&c" (
__d0
), "=&r" (
__d1
)

511 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n), "2" (-1),

512 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

515 
__asm__
 
__vﬁ©ûe__


522 : "=D" (
__ªs
), "=&c" (
__d0
)

523 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n),

524 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s
)

527  
__ªs
;

528 
	}
}

529 #ifde‡
__USE_GNU


530 
	#memrchr
(
s
, 
c
, 
n
Ë
	`__memrchr
 ((s), (c), (n))

	)

535 
	#_HAVE_STRING_ARCH_øwmemchr
 1

	)

536 
__STRING_INLINE
 *
__øwmemchr
 (c⁄° *
__s
, 
__c
);

538 #i‚de‡
_FORCE_INLINES


539 
__STRING_INLINE
 *

540 
	$__øwmemchr
 (c⁄° *
__s
, 
__c
)

542 
__d0
;

543 *
__ªs
;

544 
__asm__
 
__vﬁ©ûe__


547 : "=D" (
__ªs
), "=&c" (
__d0
)

548 : "a" (
__c
), "0" (
__s
), "1" (0xffffffff),

549 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

551  
__ªs
 - 1;

552 
	}
}

553 #ifde‡
__USE_GNU


554 
__STRING_INLINE
 *

555 
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

557  
	`__øwmemchr
 (
__s
, 
__c
);

558 
	}
}

564 
	#_HAVE_STRING_ARCH_°æí
 1

	)

565 
	#°æí
(
°r
) \

566 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
°r
) \

567 ? 
	`__buûtö_°æí
 (
°r
) \

568 : 
	`__°æí_g
 (
°r
)))

	)

569 
__STRING_INLINE
 
size_t
 
__°æí_g
 (c⁄° *
__°r
);

571 
__STRING_INLINE
 
size_t


572 
	$__°æí_g
 (c⁄° *
__°r
)

574 
__dummy
;

575 c⁄° *
__tmp
 = 
__°r
;

576 
__asm__
 
__vﬁ©ûe__


582 : "Ù" (
__tmp
), "=&q" (
__dummy
)

583 : "0" (
__°r
),

584 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__°r
)

586  
__tmp
 - 
__°r
 - 1;

587 
	}
}

591 
	#_HAVE_STRING_ARCH_°r˝y
 1

	)

592 
	#°r˝y
(
de°
, 
§c
) \

593 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

594 ? ( ((
§c
)[0]Ë=1 && 
	`°æí
 (src) + 1 <= 8 \

595 ? 
	`__°r˝y_a_smÆl
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1) \

596 : (*Ë
	`mem˝y
 ((*Ë(
de°
), \

597 (c⁄° *Ë(
§c
), \

598 
	`°æí
 (
§c
) + 1)) \

599 : 
	`__°r˝y_g
 ((
de°
), (
§c
))))

	)

601 
	#__°r˝y_a_smÆl
(
de°
, 
§c
, 
§˛í
) \

602 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

604 
__ui
; \

605 
__usi
; \

606 
__uc
; \

607 
__c
; \

608 } *
__u
 = (*Ë
__de°
; \

609 
§˛í
) \

612 
__u
->
__uc
 = '\0'; \

615 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

618 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

619 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

620 
__u
->
__uc
 = '\0'; \

623 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

626 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

627 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

628 
__u
->
__uc
 = '\0'; \

631 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

632 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

633 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

636 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

637 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

638 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

639 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

640 
__u
->
__uc
 = '\0'; \

643 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

644 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

645 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 4); \

648 (*Ë
__de°
; }))

	)

650 
__STRING_INLINE
 *
__°r˝y_g
 (*
__de°
, c⁄° *
__§c
);

652 
__STRING_INLINE
 *

653 
	$__°r˝y_g
 (*
__de°
, c⁄° *
__§c
)

655 *
__tmp
 = 
__de°
;

656 
__dummy
;

657 
__asm__
 
__vﬁ©ûe__


666 : "=&r" (
__§c
), "=&r" (
__tmp
), "=&q" (
__dummy
),

667 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

668 : "0" (
__§c
), "1" (
__tmp
),

669 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__§c
)

671  
__de°
;

672 
	}
}

675 #ifde‡
__USE_GNU


676 
	#_HAVE_STRING_ARCH_°p˝y
 1

	)

678 
	#__°p˝y
(
de°
, 
§c
) \

679 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

680 ? (
	`°æí
 (
§c
) + 1 <= 8 \

681 ? 
	`__°p˝y_a_smÆl
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1) \

682 : 
	`__°p˝y_c
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1)) \

683 : 
	`__°p˝y_g
 ((
de°
), (
§c
))))

	)

684 
	#__°p˝y_c
(
de°
, 
§c
, 
§˛í
) \

685 ((
§˛í
) % 4 == 0 \

686 ? 
	`__memp˝y_by4
 (
de°
, 
§c
, 
§˛í
) - 1 \

687 : ((
§˛í
) % 2 == 0 \

688 ? 
	`__memp˝y_by2
 (
de°
, 
§c
, 
§˛í
) - 1 \

689 : 
	`__memp˝y_byn
 (
de°
, 
§c
, 
§˛í
Ë- 1))

	)

692 
	#°p˝y
(
de°
, 
§c
Ë
	`__°p˝y
 ((de°), (§c))

	)

694 
	#__°p˝y_a_smÆl
(
de°
, 
§c
, 
§˛í
) \

695 (
	`__exãnsi⁄__
 ({ union { \

696 
__ui
; \

697 
__usi
; \

698 
__uc
; \

699 
__c
; \

700 } *
__u
 = (*Ë(
de°
); \

701 
§˛í
) \

704 
__u
->
__uc
 = '\0'; \

707 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

708 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1); \

711 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 0); \

712 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

713 
__u
->
__uc
 = '\0'; \

716 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

717 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3); \

720 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

721 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

722 
__u
->
__uc
 = '\0'; \

725 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

726 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

727 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

728 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 1); \

731 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

732 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

733 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
§c
, 4); \

734 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 2); \

735 
__u
->
__uc
 = '\0'; \

738 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 0); \

739 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 4); \

740 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
§c
, 4); \

741 
__u
 = 
	`__exãnsi⁄__
 ((*) __u + 3); \

744 (*Ë
__u
; }))

	)

746 
__STRING_INLINE
 *
__memp˝y_by4
 (*
__de°
, c⁄° *
__§c
,

747 
size_t
 
__§˛í
);

749 
__STRING_INLINE
 *

750 
	$__memp˝y_by4
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__§˛í
)

752 *
__tmp
 = 
__de°
;

753 
__d0
, 
__d1
;

754 
__asm__
 
__vﬁ©ûe__


762 : "=&r" (
__d0
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
)

763 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 4)

765  
__tmp
;

766 
	}
}

768 
__STRING_INLINE
 *
__memp˝y_by2
 (*
__de°
, c⁄° *
__§c
,

769 
size_t
 
__§˛í
);

771 
__STRING_INLINE
 *

772 
	$__memp˝y_by2
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__§˛í
)

774 *
__tmp
 = 
__de°
;

775 
__d0
, 
__d1
;

776 
__asm__
 
__vﬁ©ûe__


789 : "=&q" (
__d0
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__d1
),

790 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

791 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 2),

792 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

794  
__tmp
 + 2;

795 
	}
}

797 
__STRING_INLINE
 *
__memp˝y_byn
 (*
__de°
, c⁄° *
__§c
,

798 
size_t
 
__§˛í
);

800 
__STRING_INLINE
 *

801 
	$__memp˝y_byn
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__§˛í
)

803 
__d0
, 
__d1
;

804 *
__tmp
 = 
__de°
;

805 
__asm__
 
__vﬁ©ûe__


816 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

817 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

818 : "0" (
__tmp
), "1" (
__§˛í
), "2" (
__§c
),

819 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

821  
__tmp
;

822 
	}
}

824 
__STRING_INLINE
 *
__°p˝y_g
 (*
__de°
, c⁄° *
__§c
);

826 
__STRING_INLINE
 *

827 
	$__°p˝y_g
 (*
__de°
, c⁄° *
__§c
)

829 *
__tmp
 = 
__de°
;

830 
__dummy
;

831 
__asm__
 
__vﬁ©ûe__


840 : "=&r" (
__§c
), "Ù" (
__tmp
), "=&q" (
__dummy
),

841 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

842 : "0" (
__§c
), "1" (
__tmp
),

843 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__§c
)

845  
__tmp
 - 1;

846 
	}
}

851 
	#_HAVE_STRING_ARCH_°∫˝y
 1

	)

852 
	#°∫˝y
(
de°
, 
§c
, 
n
) \

853 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

854 ? ((
	`°æí
 (
§c
Ë+ 1 >((
size_t
Ë(
n
)) \

855 ? (*Ë
	`mem˝y
 ((*Ë(
de°
), \

856 (c⁄° *Ë(
§c
), 
n
) \

857 : 
	`__°∫˝y_cg
 ((
de°
), (
§c
), 
	`°æí
 (§cË+ 1, 
n
))) \

858 : 
	`__°∫˝y_gg
 ((
de°
), (
§c
), 
n
)))

	)

859 
	#__°∫˝y_cg
(
de°
, 
§c
, 
§˛í
, 
n
) \

860 (((
§˛í
) % 4 == 0) \

861 ? 
	`__°∫˝y_by4
 (
de°
, 
§c
, 
§˛í
, 
n
) \

862 : (((
§˛í
) % 2 == 0) \

863 ? 
	`__°∫˝y_by2
 (
de°
, 
§c
, 
§˛í
, 
n
) \

864 : 
	`__°∫˝y_byn
 (
de°
, 
§c
, 
§˛í
, 
n
)))

	)

866 
__STRING_INLINE
 *
__°∫˝y_by4
 (*
__de°
, c⁄° 
__§c
[],

867 
size_t
 
__§˛í
, size_à
__n
);

869 
__STRING_INLINE
 *

870 
	$__°∫˝y_by4
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
, size_à
__n
)

872 *
__tmp
 = 
__de°
;

873 
__dummy1
, 
__dummy2
;

874 
__asm__
 
__vﬁ©ûe__


882 : "=&r" (
__dummy1
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__dummy2
),

883 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

884 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 4),

885 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

887 (Ë
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__§˛í
);

888  
__de°
;

889 
	}
}

891 
__STRING_INLINE
 *
__°∫˝y_by2
 (*
__de°
, c⁄° 
__§c
[],

892 
size_t
 
__§˛í
, size_à
__n
);

894 
__STRING_INLINE
 *

895 
	$__°∫˝y_by2
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
, size_à
__n
)

897 *
__tmp
 = 
__de°
;

898 
__dummy1
, 
__dummy2
;

899 
__asm__
 
__vﬁ©ûe__


912 : "=&q" (
__dummy1
), "Ù" (
__tmp
), "=&r" (
__§c
), "=&r" (
__dummy2
),

913 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

914 : "1" (
__tmp
), "2" (
__§c
), "3" (
__§˛í
 / 2),

915 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

917 (Ë
	`mem£t
 (
__tmp
 + 2, '\0', 
__n
 - 
__§˛í
);

918  
__de°
;

919 
	}
}

921 
__STRING_INLINE
 *
__°∫˝y_byn
 (*
__de°
, c⁄° 
__§c
[],

922 
size_t
 
__§˛í
, size_à
__n
);

924 
__STRING_INLINE
 *

925 
	$__°∫˝y_byn
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
, size_à
__n
)

927 
__d0
, 
__d1
;

928 *
__tmp
 = 
__de°
;

929 
__asm__
 
__vﬁ©ûe__


940 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

941 "=m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__de°
)

942 : "1" (
__§˛í
), "0" (
__tmp
),"2" (
__§c
),

943 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

945 (Ë
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__§˛í
);

946  
__de°
;

947 
	}
}

949 
__STRING_INLINE
 *
__°∫˝y_gg
 (*
__de°
, c⁄° *
__§c
,

950 
size_t
 
__n
);

952 
__STRING_INLINE
 *

953 
	$__°∫˝y_gg
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

955 *
__tmp
 = 
__de°
;

956 
__dummy
;

957 i‡(
__n
 > 0)

958 
__asm__
 
__vﬁ©ûe__


974 : "=&r" (
__§c
), "=&r" (
__tmp
), "=&q" (
__dummy
), "=&r" (
__n
)

975 : "0" (
__§c
), "1" (
__tmp
), "3" (
__n
)

978  
__de°
;

979 
	}
}

983 
	#_HAVE_STRING_ARCH_°rˇt
 1

	)

984 
	#°rˇt
(
de°
, 
§c
) \

985 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
§c
) \

986 ? 
	`__°rˇt_c
 ((
de°
), (
§c
), 
	`°æí
 (src) + 1) \

987 : 
	`__°rˇt_g
 ((
de°
), (
§c
))))

	)

989 
__STRING_INLINE
 *
__°rˇt_c
 (*
__de°
, c⁄° 
__§c
[],

990 
size_t
 
__§˛í
);

992 
__STRING_INLINE
 *

993 
	$__°rˇt_c
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__§˛í
)

995 #ifde‡
__i686__


996 
__d0
;

997 *
__tmp
;

998 
__asm__
 
__vﬁ©ûe__


1000 : "=D" (
__tmp
), "=&c" (
__d0
),

1001 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

1002 : "0" (
__de°
), "1" (0xffffffff), "a" (0),

1003 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

1005 --
__tmp
;

1007 *
__tmp
 = 
__de°
;

1008 
__asm__
 
__vﬁ©ûe__


1014 : "Ù" (
__tmp
),

1015 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

1016 : "0" (
__tmp
),

1017 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__§˛í
]; } *)
__§c
)

1020 (Ë
	`mem˝y
 (
__tmp
, 
__§c
, 
__§˛í
);

1021  
__de°
;

1022 
	}
}

1024 
__STRING_INLINE
 *
__°rˇt_g
 (*
__de°
, c⁄° *
__§c
);

1026 
__STRING_INLINE
 *

1027 
	$__°rˇt_g
 (*
__de°
, c⁄° *
__§c
)

1029 *
__tmp
 = 
__de°
;

1030 
__dummy
;

1031 
__asm__
 
__vﬁ©ûe__


1044 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__§c
),

1045 "=m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__de°
)

1046 : "1" (
__tmp
), "2" (
__§c
),

1047 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__§c
)

1049  
__de°
;

1050 
	}
}

1054 
	#_HAVE_STRING_ARCH_°∫ˇt
 1

	)

1055 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

1056 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

1057 
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

1058 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

1059 ? 
	`°rˇt
 (
__de°
, (
§c
)) \

1060 : (*(*)
	`__memp˝y
 (
	`°rchr
 (
__de°
, '\0'), \

1061 (c⁄° *Ë(
§c
), \

1062 (
n
)Ë0, 
__de°
)) \

1063 : 
	`__°∫ˇt_g
 (
__de°
, (
§c
), (
n
)); }))

	)

1065 
__STRING_INLINE
 *
__°∫ˇt_g
 (*
__de°
, c⁄° 
__§c
[],

1066 
size_t
 
__n
);

1068 
__STRING_INLINE
 *

1069 
	$__°∫ˇt_g
 (*
__de°
, c⁄° 
__§c
[], 
size_t
 
__n
)

1071 *
__tmp
 = 
__de°
;

1072 
__dummy
;

1073 #ifde‡
__i686__


1074 
__asm__
 
__vﬁ©ûe__


1088 : "=&a" (
__dummy
), "=&D" (
__tmp
), "=&S" (
__§c
), "=&c" (
__n
)

1089 : "g" (
__n
), "0" (0), "1" (
__tmp
), "2" (
__§c
), "3" (0xffffffff)

1092 
__asm__
 
__vﬁ©ûe__


1109 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__§c
), "=&r" (
__n
)

1110 : "1" ((Ë
__tmp
 - 1), "2" (
__§c
), "3" (
__n
)

1113  
__de°
;

1114 
	}
}

1118 
	#_HAVE_STRING_ARCH_°rcmp
 1

	)

1119 
	#°rcmp
(
s1
, 
s2
) \

1120 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

1121 && ( ((
s1
)[0]Ë!1 || 
	`°æí
 (s1) >= 4) \

1122 && ( ((
s2
)[0]Ë!1 || 
	`°æí
 (s2) >= 4) \

1123 ? 
	`memcmp
 ((c⁄° *Ë(
s1
), (c⁄° *Ë(
s2
), \

1124 (
	`°æí
 (
s1
Ë< såÀ¿(
s2
) \

1125 ? 
	`°æí
 (
s1
Ë: såÀ¿(
s2
)) + 1) \

1126 : (
	`__buûtö_c⁄°™t_p
 (
s1
) &&  ((s1)[0]) == 1 \

1127 &&  ((
s2
)[0]Ë=1 && 
	`°æí
 (
s1
) < 4 \

1128 ? (
	`__buûtö_c⁄°™t_p
 (
s2
) &&  ((s2)[0]) == 1 \

1129 ? 
	`__°rcmp_cc
 ((c⁄° *Ë(
s1
), \

1130 (c⁄° *Ë(
s2
), \

1131 
	`°æí
 (
s1
)) \

1132 : 
	`__°rcmp_cg
 ((c⁄° *Ë(
s1
), \

1133 (c⁄° *Ë(
s2
), \

1134 
	`°æí
 (
s1
))) \

1135 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&&  ((
s1
)[0]) == 1 \

1136 &&  ((
s2
)[0]Ë=1 && 
	`°æí
 (s2) < 4 \

1137 ? (
	`__buûtö_c⁄°™t_p
 (
s1
) \

1138 ? 
	`__°rcmp_cc
 ((c⁄° *Ë(
s1
), \

1139 (c⁄° *Ë(
s2
), \

1140 
	`°æí
 (
s2
)) \

1141 : 
	`__°rcmp_gc
 ((c⁄° *Ë(
s1
), \

1142 (c⁄° *Ë(
s2
), \

1143 
	`°æí
 (
s2
))) \

1144 : 
	`__°rcmp_gg
 ((
s1
), (
s2
))))))

	)

1146 
	#__°rcmp_cc
(
s1
, 
s2
, 
l
) \

1147 (
	`__exãnsi⁄__
 ({ 
__ªsu…
 = (
s1
)[0] - (
s2
)[0]; \

1148 i‡(
l
 > 0 && 
__ªsu…
 == 0) \

1150 
__ªsu…
 = (
s1
)[1] - (
s2
)[1]; \

1151 i‡(
l
 > 1 && 
__ªsu…
 == 0) \

1153 
__ªsu…
 = (
s1
)[2] - (
s2
)[2]; \

1154 i‡(
l
 > 2 && 
__ªsu…
 == 0) \

1155 
__ªsu…
 = (
s1
)[3] - (
s2
)[3]; \

1158 
__ªsu…
; }))

	)

1160 
	#__°rcmp_cg
(
s1
, 
s2
, 
l1
) \

1161 (
	`__exãnsi⁄__
 ({ c⁄° *
__s2
 = (
s2
); \

1162 
__ªsu…
 = (
s1
)[0] - 
__s2
[0]; \

1163 i‡(
l1
 > 0 && 
__ªsu…
 == 0) \

1165 
__ªsu…
 = (
s1
)[1] - 
__s2
[1]; \

1166 i‡(
l1
 > 1 && 
__ªsu…
 == 0) \

1168 
__ªsu…
 = (
s1
)[2] - 
__s2
[2]; \

1169 i‡(
l1
 > 2 && 
__ªsu…
 == 0) \

1170 
__ªsu…
 = (
s1
)[3] - 
__s2
[3]; \

1173 
__ªsu…
; }))

	)

1175 
	#__°rcmp_gc
(
s1
, 
s2
, 
l2
) \

1176 (
	`__exãnsi⁄__
 ({ c⁄° *
__s1
 = (
s1
); \

1177 
__ªsu…
 = 
__s1
[0] - (
s2
)[0]; \

1178 i‡(
l2
 > 0 && 
__ªsu…
 == 0) \

1180 
__ªsu…
 = 
__s1
[1] - (
s2
)[1]; \

1181 i‡(
l2
 > 1 && 
__ªsu…
 == 0) \

1183 
__ªsu…
 = 
__s1
[2] - (
s2
)[2]; \

1184 i‡(
l2
 > 2 && 
__ªsu…
 == 0) \

1185 
__ªsu…
 = 
__s1
[3] - (
s2
)[3]; \

1188 
__ªsu…
; }))

	)

1190 
__STRING_INLINE
 
__°rcmp_gg
 (c⁄° *
__s1
, c⁄° *
__s2
);

1192 
__STRING_INLINE
 

1193 
	$__°rcmp_gg
 (c⁄° *
__s1
, c⁄° *
__s2
)

1195 
__ªs
;

1196 
__asm__
 
__vﬁ©ûe__


1212 : "=q" (
__ªs
), "=&r" (
__s1
), "=&r" (
__s2
)

1213 : "1" (
__s1
), "2" (
__s2
),

1214 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s1
),

1215 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s2
)

1217  
__ªs
;

1218 
	}
}

1222 
	#_HAVE_STRING_ARCH_°∫cmp
 1

	)

1223 
	#°∫cmp
(
s1
, 
s2
, 
n
) \

1224 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`°æí
 (s1Ë< ((
size_t
Ë(
n
)) \

1225 ? 
	`°rcmp
 ((
s1
), (
s2
)) \

1226 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`°æí
 (s2Ë< ((
size_t
Ë(
n
))\

1227 ? 
	`°rcmp
 ((
s1
), (
s2
)) \

1228 : 
	`__°∫cmp_g
 ((
s1
), (
s2
), (
n
)))))

	)

1230 
__STRING_INLINE
 
__°∫cmp_g
 (c⁄° *
__s1
, c⁄° *
__s2
,

1231 
size_t
 
__n
);

1233 
__STRING_INLINE
 

1234 
	$__°∫cmp_g
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

1236 
__ªs
;

1237 
__asm__
 
__vﬁ©ûe__


1256 : "=q" (
__ªs
), "=&r" (
__s1
), "=&r" (
__s2
), "=&r" (
__n
)

1257 : "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

1258 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s1
),

1259 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__n
]; } *)
__s2
)

1261  
__ªs
;

1262 
	}
}

1266 
	#_HAVE_STRING_ARCH_°rchr
 1

	)

1267 
	#_USE_STRING_ARCH_°rchr
 1

	)

1268 
	#°rchr
(
s
, 
c
) \

1269 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1270 ? ((
c
) == '\0' \

1271 ? (*Ë
	`__øwmemchr
 ((
s
), (
c
)) \

1272 : 
	`__°rchr_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1273 : 
	`__°rchr_g
 ((
s
), (
c
))))

	)

1275 
__STRING_INLINE
 *
__°rchr_c
 (c⁄° *
__s
, 
__c
);

1277 
__STRING_INLINE
 *

1278 
	$__°rchr_c
 (c⁄° *
__s
, 
__c
)

1280 
__d0
;

1281 *
__ªs
;

1282 
__asm__
 
__vﬁ©ûe__


1292 : "Ù" (
__ªs
), "=&a" (
__d0
)

1293 : "0" (
__s
), "1" (
__c
),

1294 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1296  
__ªs
;

1297 
	}
}

1299 
__STRING_INLINE
 *
__°rchr_g
 (c⁄° *
__s
, 
__c
);

1301 
__STRING_INLINE
 *

1302 
	$__°rchr_g
 (c⁄° *
__s
, 
__c
)

1304 
__d0
;

1305 *
__ªs
;

1306 
__asm__
 
__vﬁ©ûe__


1317 : "Ù" (
__ªs
), "=&a" (
__d0
)

1318 : "0" (
__s
), "1" (
__c
),

1319 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1321  
__ªs
;

1322 
	}
}

1326 
	#_HAVE_STRING_ARCH_°rch∫ul
 1

	)

1327 
	#__°rch∫ul
(
s
, 
c
) \

1328 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1329 ? ((
c
) == '\0' \

1330 ? (*Ë
	`__øwmemchr
 ((
s
), 
c
) \

1331 : 
	`__°rch∫ul_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1332 : 
	`__°rch∫ul_g
 ((
s
), 
c
)))

	)

1334 
__STRING_INLINE
 *
__°rch∫ul_c
 (c⁄° *
__s
, 
__c
);

1336 
__STRING_INLINE
 *

1337 
	$__°rch∫ul_c
 (c⁄° *
__s
, 
__c
)

1339 
__d0
;

1340 *
__ªs
;

1341 
__asm__
 
__vﬁ©ûe__


1351 : "Ù" (
__ªs
), "=&a" (
__d0
)

1352 : "0" (
__s
), "1" (
__c
),

1353 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1355  
__ªs
;

1356 
	}
}

1358 
__STRING_INLINE
 *
__°rch∫ul_g
 (c⁄° *
__s
, 
__c
);

1360 
__STRING_INLINE
 *

1361 
	$__°rch∫ul_g
 (c⁄° *
__s
, 
__c
)

1363 
__d0
;

1364 *
__ªs
;

1365 
__asm__
 
__vﬁ©ûe__


1376 : "Ù" (
__ªs
), "=&a" (
__d0
)

1377 : "0" (
__s
), "1" (
__c
),

1378 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1380  
__ªs
;

1381 
	}
}

1382 #ifde‡
__USE_GNU


1383 
	#°rch∫ul
(
s
, 
c
Ë
	`__°rch∫ul
 ((s), (c))

	)

1387 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


1389 
	#_HAVE_STRING_ARCH_ödex
 1

	)

1390 
	#ödex
(
s
, 
c
) \

1391 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1392 ? 
	`__°rchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1393 : 
	`__°rchr_g
 ((
s
), (
c
))))

	)

1398 
	#_HAVE_STRING_ARCH_°ºchr
 1

	)

1399 
	#°ºchr
(
s
, 
c
) \

1400 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1401 ? 
	`__°ºchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1402 : 
	`__°ºchr_g
 ((
s
), (
c
))))

	)

1404 #ifde‡
__i686__


1405 
__STRING_INLINE
 *
__°ºchr_c
 (c⁄° *
__s
, 
__c
);

1407 
__STRING_INLINE
 *

1408 
	$__°ºchr_c
 (c⁄° *
__s
, 
__c
)

1410 
__d0
, 
__d1
;

1411 *
__ªs
;

1412 
__asm__
 
__vﬁ©ûe__


1420 : "=d" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1421 : "0" (1), "1" (
__s
), "2" (
__c
),

1422 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1424  
__ªs
 - 1;

1425 
	}
}

1427 
__STRING_INLINE
 *
__°ºchr_g
 (c⁄° *
__s
, 
__c
);

1429 
__STRING_INLINE
 *

1430 
	$__°ºchr_g
 (c⁄° *
__s
, 
__c
)

1432 
__d0
, 
__d1
;

1433 *
__ªs
;

1434 
__asm__
 
__vﬁ©ûe__


1443 : "=d" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1444 : "0" (1), "1" (
__s
), "2" (
__c
),

1445 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1447  
__ªs
 - 1;

1448 
	}
}

1450 
__STRING_INLINE
 *
__°ºchr_c
 (c⁄° *
__s
, 
__c
);

1452 
__STRING_INLINE
 *

1453 
	$__°ºchr_c
 (c⁄° *
__s
, 
__c
)

1455 
__d0
, 
__d1
;

1456 *
__ªs
;

1457 
__asm__
 
__vﬁ©ûe__


1467 : "=d" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1468 : "0" (0), "1" (
__s
), "2" (
__c
),

1469 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1471  
__ªs
;

1472 
	}
}

1474 
__STRING_INLINE
 *
__°ºchr_g
 (c⁄° *
__s
, 
__c
);

1476 
__STRING_INLINE
 *

1477 
	$__°ºchr_g
 (c⁄° *
__s
, 
__c
)

1479 
__d0
, 
__d1
;

1480 *
__ªs
;

1481 
__asm__
 
__vﬁ©ûe__


1492 : "Ù" (
__ªs
), "=&S" (
__d0
), "=&a" (
__d1
)

1493 : "0" (0), "1" (
__s
), "2" (
__c
),

1494 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1496  
__ªs
;

1497 
	}
}

1501 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


1503 
	#_HAVE_STRING_ARCH_rödex
 1

	)

1504 
	#rödex
(
s
, 
c
) \

1505 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
) \

1506 ? 
	`__°ºchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1507 : 
	`__°ºchr_g
 ((
s
), (
c
))))

	)

1513 
	#_HAVE_STRING_ARCH_°rc•n
 1

	)

1514 
	#°rc•n
(
s
, 
ªje˘
) \

1515 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
) &&  ((reject)[0]) == 1 \

1516 ? ((
ªje˘
)[0] == '\0' \

1517 ? 
	`°æí
 (
s
) \

1518 : ((
ªje˘
)[1] == '\0' \

1519 ? 
	`__°rc•n_c1
 ((
s
), (((
ªje˘
)[0] << 8) & 0xff00)) \

1520 : 
	`__°rc•n_cg
 ((
s
), (
ªje˘
), 
	`°æí
 (reject)))) \

1521 : 
	`__°rc•n_g
 ((
s
), (
ªje˘
))))

	)

1523 
__STRING_INLINE
 
size_t
 
__°rc•n_c1
 (c⁄° *
__s
, 
__ªje˘
);

1525 #i‚de‡
_FORCE_INLINES


1526 
__STRING_INLINE
 
size_t


1527 
	$__°rc•n_c1
 (c⁄° *
__s
, 
__ªje˘
)

1529 
__d0
;

1530 *
__ªs
;

1531 
__asm__
 
__vﬁ©ûe__


1540 : "Ù" (
__ªs
), "=&a" (
__d0
)

1541 : "0" (
__s
), "1" (
__ªje˘
),

1542 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1544  (
__ªs
 - 1Ë- 
__s
;

1545 
	}
}

1548 
__STRING_INLINE
 
size_t
 
__°rc•n_cg
 (c⁄° *
__s
, c⁄° 
__ªje˘
[],

1549 
size_t
 
__ªje˘_Àn
);

1551 
__STRING_INLINE
 
size_t


1552 
	$__°rc•n_cg
 (c⁄° *
__s
, c⁄° 
__ªje˘
[], 
size_t
 
__ªje˘_Àn
)

1554 
__d0
, 
__d1
, 
__d2
;

1555 c⁄° *
__ªs
;

1556 
__asm__
 
__vﬁ©ûe__


1567 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1568 : "0" (
__s
), "d" (
__ªje˘
), "g" (
__ªje˘_Àn
)

1570  (
__ªs
 - 1Ë- 
__s
;

1571 
	}
}

1573 
__STRING_INLINE
 
size_t
 
__°rc•n_g
 (c⁄° *
__s
, c⁄° *
__ªje˘
);

1574 #ifde‡
__PIC__


1576 
__STRING_INLINE
 
size_t


1577 
	$__°rc•n_g
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

1579 
__d0
, 
__d1
, 
__d2
;

1580 c⁄° *
__ªs
;

1581 
__asm__
 
__vﬁ©ûe__


1598 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1599 : "r" (
__ªje˘
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1601  (
__ªs
 - 1Ë- 
__s
;

1602 
	}
}

1604 
__STRING_INLINE
 
size_t


1605 
	$__°rc•n_g
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

1607 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1608 c⁄° *
__ªs
;

1609 
__asm__
 
__vﬁ©ûe__


1623 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1624 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__ªje˘
), "b" (__reject)

1627  (
__ªs
 - 1Ë- 
__s
;

1628 
	}
}

1634 
	#_HAVE_STRING_ARCH_°r•n
 1

	)

1635 
	#°r•n
(
s
, 
ac˚±
) \

1636 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
) &&  ((accept)[0]) == 1 \

1637 ? ((
ac˚±
)[0] == '\0' \

1638 ? ((Ë(
s
), 0) \

1639 : ((
ac˚±
)[1] == '\0' \

1640 ? 
	`__°r•n_c1
 ((
s
), (((
ac˚±
)[0] << 8 ) & 0xff00)) \

1641 : 
	`__°r•n_cg
 ((
s
), (
ac˚±
), 
	`°æí
 (accept)))) \

1642 : 
	`__°r•n_g
 ((
s
), (
ac˚±
))))

	)

1644 #i‚de‡
_FORCE_INLINES


1645 
__STRING_INLINE
 
size_t
 
__°r•n_c1
 (c⁄° *
__s
, 
__ac˚±
);

1647 
__STRING_INLINE
 
size_t


1648 
	$__°r•n_c1
 (c⁄° *
__s
, 
__ac˚±
)

1650 
__d0
;

1651 *
__ªs
;

1653 
__asm__
 
__vﬁ©ûe__


1659 : "Ù" (
__ªs
), "=&q" (
__d0
)

1660 : "0" (
__s
), "1" (
__ac˚±
),

1661 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
)

1663  (
__ªs
 - 1Ë- 
__s
;

1664 
	}
}

1667 
__STRING_INLINE
 
size_t
 
__°r•n_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[],

1668 
size_t
 
__ac˚±_Àn
);

1670 
__STRING_INLINE
 
size_t


1671 
	$__°r•n_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[], 
size_t
 
__ac˚±_Àn
)

1673 
__d0
, 
__d1
, 
__d2
;

1674 c⁄° *
__ªs
;

1675 
__asm__
 
__vﬁ©ûe__


1686 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1687 : "0" (
__s
), "g" (
__ac˚±
), "g" (
__ac˚±_Àn
),

1690 "m" ( *(°ru˘ { 
__x
[0xfffffff]; } *)
__s
),

1691 "m" ( *(°ru˘ { 
__exãnsi⁄__
 
__x
[
__ac˚±_Àn
]; } *)
__ac˚±
)

1693  (
__ªs
 - 1Ë- 
__s
;

1694 
	}
}

1696 
__STRING_INLINE
 
size_t
 
__°r•n_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
);

1697 #ifde‡
__PIC__


1699 
__STRING_INLINE
 
size_t


1700 
	$__°r•n_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1702 
__d0
, 
__d1
, 
__d2
;

1703 c⁄° *
__ªs
;

1704 
__asm__
 
__vﬁ©ûe__


1720 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1721 : "d" (
__ac˚±
), "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (__accept)

1723  (
__ªs
 - 1Ë- 
__s
;

1724 
	}
}

1726 
__STRING_INLINE
 
size_t


1727 
	$__°r•n_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1729 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1730 c⁄° *
__ªs
;

1731 
__asm__
 
__vﬁ©ûe__


1745 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1746 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__ac˚±
), "b" (__accept)

1748  (
__ªs
 - 1Ë- 
__s
;

1749 
	}
}

1754 
	#_HAVE_STRING_ARCH_°Ωbrk
 1

	)

1755 
	#°Ωbrk
(
s
, 
ac˚±
) \

1756 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
ac˚±
) &&  ((accept)[0]) == 1 \

1757 ? ((
ac˚±
)[0] == '\0' \

1758 ? ((Ë(
s
), (*) 0) \

1759 : ((
ac˚±
)[1] == '\0' \

1760 ? 
	`°rchr
 ((
s
), (
ac˚±
)[0]) \

1761 : 
	`__°Ωbrk_cg
 ((
s
), (
ac˚±
), 
	`°æí
 (accept)))) \

1762 : 
	`__°Ωbrk_g
 ((
s
), (
ac˚±
))))

	)

1764 
__STRING_INLINE
 *
__°Ωbrk_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[],

1765 
size_t
 
__ac˚±_Àn
);

1767 
__STRING_INLINE
 *

1768 
	$__°Ωbrk_cg
 (c⁄° *
__s
, c⁄° 
__ac˚±
[], 
size_t
 
__ac˚±_Àn
)

1770 
__d0
, 
__d1
, 
__d2
;

1771 *
__ªs
;

1772 
__asm__
 
__vﬁ©ûe__


1787 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1788 : "0" (
__s
), "d" (
__ac˚±
), "g" (
__ac˚±_Àn
)

1790  
__ªs
;

1791 
	}
}

1793 
__STRING_INLINE
 *
__°Ωbrk_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
);

1794 #ifde‡
__PIC__


1796 
__STRING_INLINE
 *

1797 
	$__°Ωbrk_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1799 
__d0
, 
__d1
, 
__d2
;

1800 *
__ªs
;

1801 
__asm__
 
__vﬁ©ûe__


1822 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1823 : "d" (
__ac˚±
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1825  
__ªs
;

1826 
	}
}

1828 
__STRING_INLINE
 *

1829 
	$__°Ωbrk_g
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

1831 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1832 *
__ªs
;

1833 
__asm__
 
__vﬁ©ûe__


1852 : "=S" (
__ªs
), "=&a" (
__d0
), "=&c" (
__d1
), "=&d" (
__d2
), "=&D" (
__d3
)

1853 : "0" (
__s
), "1" (0), "2" (0xffffffff), "b" (
__ac˚±
)

1855  
__ªs
;

1856 
	}
}

1861 
	#_HAVE_STRING_ARCH_°r°r
 1

	)

1862 
	#°r°r
(
hay°ack
, 
√edÀ
) \

1863 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
√edÀ
) &&  ((needle)[0]) == 1 \

1864 ? ((
√edÀ
)[0] == '\0' \

1865 ? (
hay°ack
) \

1866 : ((
√edÀ
)[1] == '\0' \

1867 ? 
	`°rchr
 ((
hay°ack
), (
√edÀ
)[0]) \

1868 : 
	`__°r°r_cg
 ((
hay°ack
), (
√edÀ
), \

1869 
	`°æí
 (
√edÀ
)))) \

1870 : 
	`__°r°r_g
 ((
hay°ack
), (
√edÀ
))))

	)

1874 
__STRING_INLINE
 *
__°r°r_cg
 (c⁄° *
__hay°ack
,

1875 c⁄° 
__√edÀ
[],

1876 
size_t
 
__√edÀ_Àn
);

1878 
__STRING_INLINE
 *

1879 
	$__°r°r_cg
 (c⁄° *
__hay°ack
, c⁄° 
__√edÀ
[],

1880 
size_t
 
__√edÀ_Àn
)

1882 
__d0
, 
__d1
, 
__d2
;

1883 *
__ªs
;

1884 
__asm__
 
__vﬁ©ûe__


1897 : "=&a" (
__ªs
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

1898 : "g" (
__√edÀ_Àn
), "1" (
__hay°ack
), "d" (
__√edÀ
)

1900  
__ªs
;

1901 
	}
}

1903 
__STRING_INLINE
 *
__°r°r_g
 (c⁄° *
__hay°ack
,

1904 c⁄° *
__√edÀ
);

1905 #ifde‡
__PIC__


1907 
__STRING_INLINE
 *

1908 
	$__°r°r_g
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

1910 
__d0
, 
__d1
, 
__d2
;

1911 *
__ªs
;

1912 
__asm__
 
__vﬁ©ûe__


1931 : "=&a" (
__ªs
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
)

1932 : "0" (0), "1" (0xffffffff), "2" (
__hay°ack
), "3" (
__√edÀ
),

1933 "d" (
__√edÀ
)

1935  
__ªs
;

1936 
	}
}

1938 
__STRING_INLINE
 *

1939 
	$__°r°r_g
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

1941 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1942 *
__ªs
;

1943 
__asm__
 
__vﬁ©ûe__


1960 : "=&a" (
__ªs
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1961 : "0" (0), "1" (0xffffffff), "2" (
__hay°ack
), "3" (
__√edÀ
),

1962 "b" (
__√edÀ
)

1964  
__ªs
;

1965 
	}
}

1971 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


1972 #ifde‡
__i686__


1973 
	#_HAVE_STRING_ARCH_ffs
 1

	)

1974 
	#ffs
(
w‹d
Ë(
	`__buûtö_c⁄°™t_p
 (word) \

1975 ? 
	`__buûtö_ffs
 (
w‹d
) \

1976 : ({ 
__˙t
, 
__tmp
; \

1977 
__asm__
 
__vﬁ©ûe__
 \

1980 : "=&r" (
__˙t
), "Ù" (
__tmp
) \

1981 : "rm" (
w‹d
), "1" (-1)); \

1982 
__˙t
 + 1; }))

	)

1984 #i‚de‡
ff¶


1985 
	#ff¶
(
w‹d
Ë
	`ffs
(w‹d)

	)

1990 #i‚de‡
_FORCE_INLINES


1991 #unde‡
__STRING_INLINE


	@/usr/include/bits/string2.h

20 #i‚de‡
_STRING_H


24 #i‚de‡
__NO_STRING_INLINES


41 #i‚de‡
__STRING_INLINE


42 #ifde‡
__˝lu•lus


43 
	#__STRING_INLINE
 
ölöe


	)

45 
	#__STRING_INLINE
 
__exã∫_ölöe


	)

52 
	#__°rög2_1b±r_p
(
__x
) \

53 ((
size_t
)(c⁄° *)((
__x
Ë+ 1Ë- (size_t)(c⁄° *)(__xË=1)

	)

56 #i‡!
deföed
 
_HAVE_STRING_ARCH_mem£t


57 
	#__bzîo
(
s
, 
n
Ë
	`__buûtö_mem£t
 (s, '\0',Ç)

	)

61 #i‚de‡
_HAVE_STRING_ARCH_°rchr


62 *
__øwmemchr
 (c⁄° *
__s
, 
__c
);

63 
	#°rchr
(
s
, 
c
) \

64 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
c
Ë&& !__buûtö_c⁄°™t_∞(
s
) \

65 && (
c
) == '\0' \

66 ? (*Ë
	`__øwmemchr
 (
s
, 
c
) \

67 : 
	`__buûtö_°rchr
 (
s
, 
c
)))

	)

72 #ifde‡
__USE_GNU


73 #i‚de‡
_HAVE_STRING_ARCH_°p˝y


74 
	#__°p˝y
(
de°
, 
§c
Ë
	`__buûtö_°p˝y
 (de°, src)

	)

77 
	#°p˝y
(
de°
, 
§c
Ë
	`__°p˝y
 (de°, src)

	)

83 #i‚de‡
_HAVE_STRING_ARCH_°∫˝y


84 
	#°∫˝y
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫˝y
 (de°, src,Ç)

	)

89 #i‚de‡
_HAVE_STRING_ARCH_°∫ˇt


90 #ifde‡
_USE_STRING_ARCH_°rchr


91 
	#°∫ˇt
(
de°
, 
§c
, 
n
) \

92 (
	`__exãnsi⁄__
 ({ *
__de°
 = (
de°
); \

93 
	`__buûtö_c⁄°™t_p
 (
§c
Ë&& __buûtö_c⁄°™t_∞(
n
) \

94 ? (
	`°æí
 (
§c
Ë< ((
size_t
Ë(
n
)) \

95 ? 
	`°rˇt
 (
__de°
, 
§c
) \

96 : (*((*Ë
	`__memp˝y
 (
	`°rchr
 (
__de°
, '\0'), \

97 
§c
, 
n
)Ë'\0', 
__de°
)) \

98 : 
	`°∫ˇt
 (
de°
, 
§c
, 
n
); }))

	)

100 
	#°∫ˇt
(
de°
, 
§c
, 
n
Ë
	`__buûtö_°∫ˇt
 (de°, src,Ç)

	)

106 #i‚de‡
_HAVE_STRING_ARCH_°rcmp


107 
	#°rcmp
(
s1
, 
s2
) \

108 
__exãnsi⁄__
 \

109 ({ 
size_t
 
__s1_Àn
, 
__s2_Àn
; \

110 (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& __buûtö_c⁄°™t_∞(
s2
) \

111 && (
__s1_Àn
 = 
	`__buûtö_°æí
 (
s1
), 
__s2_Àn
 = __buûtö_°æí (
s2
), \

112 (!
	`__°rög2_1b±r_p
 (
s1
Ë|| 
__s1_Àn
 >= 4) \

113 && (!
	`__°rög2_1b±r_p
 (
s2
Ë|| 
__s2_Àn
 >= 4)) \

114 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

115 : (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

116 && (
__s1_Àn
 = 
	`__buûtö_°æí
 (
s1
), __s1_len < 4) \

117 ? (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

118 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

119 : 
	`__°rcmp_cg
 (
s1
, 
s2
, 
__s1_Àn
)) \

120 : (
	`__buûtö_c⁄°™t_p
 (
s2
Ë&& 
	`__°rög2_1b±r_p
 (s2) \

121 && (
__s2_Àn
 = 
	`__buûtö_°æí
 (
s2
), __s2_len < 4) \

122 ? (
	`__buûtö_c⁄°™t_p
 (
s1
Ë&& 
	`__°rög2_1b±r_p
 (s1) \

123 ? 
	`__buûtö_°rcmp
 (
s1
, 
s2
) \

124 : -
	`__°rcmp_cg
 (
s2
, 
s1
, 
__s2_Àn
)) \

125 : 
	`__buûtö_°rcmp
 (
s1
, 
s2
)))); })

	)

127 
	#__°rcmp_cg
(
s1
, 
s2
, 
l1
) \

128 (
	`__exãnsi⁄__
 ({ c⁄° *
__s2
 = \

129 (c⁄° *Ë(c⁄° *Ë(
s2
); \

130 
__ªsu…
 = \

131 (((c⁄° *Ë(c⁄° *Ë(
s1
))[0] \

132 - 
__s2
[0]); \

133 i‡(
l1
 > 0 && 
__ªsu…
 == 0) \

135 
__ªsu…
 = (((const *) \

136 (c⁄° *Ë(
s1
))[1] - 
__s2
[1]); \

137 i‡(
l1
 > 1 && 
__ªsu…
 == 0) \

139 
__ªsu…
 = (((const *) \

140 (c⁄° *Ë(
s1
))[2] - 
__s2
[2]); \

141 i‡(
l1
 > 2 && 
__ªsu…
 == 0) \

142 
__ªsu…
 = (((const *) \

143 (c⁄° *Ë(
s1
))[3] \

144 - 
__s2
[3]); \

147 
__ªsu…
; }))

	)

152 #i‚de‡
_HAVE_STRING_ARCH_°∫cmp


153 
	#°∫cmp
(
s1
, 
s2
, 
n
) \

154 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
n
) \

155 && ((
	`__buûtö_c⁄°™t_p
 (
s1
) \

156 && 
	`°æí
 (
s1
Ë< ((
size_t
Ë(
n
))) \

157 || (
	`__buûtö_c⁄°™t_p
 (
s2
) \

158 && 
	`°æí
 (
s2
Ë< ((
size_t
Ë(
n
)))) \

159 ? 
	`°rcmp
 (
s1
, 
s2
Ë: 
	`°∫cmp
 (s1, s2, 
n
)))

	)

165 #i‚de‡
_HAVE_STRING_ARCH_°rc•n


166 
	#°rc•n
(
s
, 
ªje˘
Ë
	`__buûtö_°rc•n
 (s,Ñeje˘)

	)

172 #i‚de‡
_HAVE_STRING_ARCH_°r•n


173 
	#°r•n
(
s
, 
ac˚±
Ë
	`__buûtö_°r•n
 (s,ác˚±)

	)

178 #i‚de‡
_HAVE_STRING_ARCH_°Ωbrk


179 
	#°Ωbrk
(
s
, 
ac˚±
Ë
	`__buûtö_°Ωbrk
 (s,ác˚±)

	)

183 #i‡!
deföed
 
_HAVE_STRING_ARCH_°πok_r
 || deföed 
_FORCE_INLINES


184 #i‚de‡
_HAVE_STRING_ARCH_°πok_r


185 
	#__°πok_r
(
s
, 
£p
, 
√xç
) \

186 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
£p
Ë&& 
	`__°rög2_1b±r_p
 (sep) \

187 && ((c⁄° *Ë(
£p
))[0] != '\0' \

188 && ((c⁄° *Ë(
£p
))[1] == '\0' \

189 ? 
	`__°πok_r_1c
 (
s
, ((c⁄° *Ë(
£p
))[0], 
√xç
) \

190 : 
	`__°πok_r
 (
s
, 
£p
, 
√xç
)))

	)

193 
__STRING_INLINE
 *
__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
);

194 
__STRING_INLINE
 *

195 
	$__°πok_r_1c
 (*
__s
, 
__£p
, **
__√xç
)

197 *
__ªsu…
;

198 i‡(
__s
 =
NULL
)

199 
__s
 = *
__√xç
;

200 *
__s
 =
__£p
)

201 ++
__s
;

202 
__ªsu…
 = 
NULL
;

203 i‡(*
__s
 != '\0')

205 
__ªsu…
 = 
__s
++;

206 *
__s
 != '\0')

207 i‡(*
__s
++ =
__£p
)

209 
__s
[-1] = '\0';

213 *
__√xç
 = 
__s
;

214  
__ªsu…
;

215 
	}
}

216 #ifde‡
__USE_POSIX


217 
	#°πok_r
(
s
, 
£p
, 
√xç
Ë
	`__°πok_r
 (s, sï,Çexç)

	)

222 #i‡!
deföed
 
_HAVE_STRING_ARCH_°r£p
 || deföed 
_FORCE_INLINES


223 #i‚de‡
_HAVE_STRING_ARCH_°r£p


225 *
__°r£p_g
 (**
__°rögp
, c⁄° *
__dñim
);

226 
	#__°r£p
(
s
, 
ªje˘
) \

227 
__exãnsi⁄__
 \

228 ({ 
__r0
, 
__r1
, 
__r2
; \

229 (
	`__buûtö_c⁄°™t_p
 (
ªje˘
Ë&& 
	`__°rög2_1b±r_p
 (reject) \

230 && (
__r0
 = ((c⁄° *Ë(
ªje˘
))[0], \

231 ((c⁄° *Ë(
ªje˘
))[0] != '\0') \

232 ? ((
__r1
 = ((c⁄° *Ë(
ªje˘
))[1], \

233 ((c⁄° *Ë(
ªje˘
))[1] == '\0') \

234 ? 
	`__°r£p_1c
 (
s
, 
__r0
) \

235 : ((
__r2
 = ((c⁄° *Ë(
ªje˘
))[2], __r2 == '\0') \

236 ? 
	`__°r£p_2c
 (
s
, 
__r0
, 
__r1
) \

237 : (((c⁄° *Ë(
ªje˘
))[3] == '\0' \

238 ? 
	`__°r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

239 : 
	`__°r£p_g
 (
s
, 
ªje˘
)))) \

240 : 
	`__°r£p_g
 (
s
, 
ªje˘
)); })

	)

243 
__STRING_INLINE
 *
__°r£p_1c
 (**
__s
, 
__ªje˘
);

244 
__STRING_INLINE
 *

245 
	$__°r£p_1c
 (**
__s
, 
__ªje˘
)

247 *
__ªtvÆ
 = *
__s
;

248 i‡(
__ªtvÆ
 !
NULL
 && (*
__s
 = 
	`°rchr
 (__ªtvÆ, 
__ªje˘
)) != NULL)

249 *(*
__s
)++ = '\0';

250  
__ªtvÆ
;

251 
	}
}

253 
__STRING_INLINE
 *
__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
);

254 
__STRING_INLINE
 *

255 
	$__°r£p_2c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
)

257 *
__ªtvÆ
 = *
__s
;

258 i‡(
__ªtvÆ
 !
NULL
)

260 *
__˝
 = 
__ªtvÆ
;

263 i‡(*
__˝
 == '\0')

265 
__˝
 = 
NULL
;

268 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
)

270 *
__˝
++ = '\0';

273 ++
__˝
;

275 *
__s
 = 
__˝
;

277  
__ªtvÆ
;

278 
	}
}

280 
__STRING_INLINE
 *
__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
,

281 
__ªje˘3
);

282 
__STRING_INLINE
 *

283 
	$__°r£p_3c
 (**
__s
, 
__ªje˘1
, 
__ªje˘2
, 
__ªje˘3
)

285 *
__ªtvÆ
 = *
__s
;

286 i‡(
__ªtvÆ
 !
NULL
)

288 *
__˝
 = 
__ªtvÆ
;

291 i‡(*
__˝
 == '\0')

293 
__˝
 = 
NULL
;

296 i‡(*
__˝
 =
__ªje˘1
 || *__˝ =
__ªje˘2
 || *__˝ =
__ªje˘3
)

298 *
__˝
++ = '\0';

301 ++
__˝
;

303 *
__s
 = 
__˝
;

305  
__ªtvÆ
;

306 
	}
}

307 #ifde‡
__USE_MISC


308 
	#°r£p
(
s
, 
ªje˘
Ë
	`__°r£p
 (s,Ñeje˘)

	)

315 #ifde‡
__USE_MISC


317 #i‡!
deföed
 
_HAVE_STRING_ARCH_°rdup
 || !deföed 
_HAVE_STRING_ARCH_°∫dup


318 
	#__√ed_mÆloc_™d_ˇŒoc


	)

319 
	~<°dlib.h
>

322 #i‚de‡
_HAVE_STRING_ARCH_°rdup


324 *
	$__°rdup
 (c⁄° *
__°rög
Ë
__THROW
 
__©åibuã_mÆloc__
;

325 
	#__°rdup
(
s
) \

326 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

327 ? (((c⁄° *Ë(
s
))[0] == '\0' \

328 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

329 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

330 *
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

331 i‡(
__ªtvÆ
 !
NULL
) \

332 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, 
__Àn
); \

333 
__ªtvÆ
; 
	}
})) \

334 : 
	`__°rdup
 (
s
)))

	)

336 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


337 
	#°rdup
(
s
Ë
	`__°rdup
 (s)

	)

341 #i‚de‡
_HAVE_STRING_ARCH_°∫dup


343 *
	$__°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

344 
__THROW
 
__©åibuã_mÆloc__
;

345 
	#__°∫dup
(
s
, 
n
) \

346 (
	`__exãnsi⁄__
 (
	`__buûtö_c⁄°™t_p
 (
s
Ë&& 
	`__°rög2_1b±r_p
 (s) \

347 ? (((c⁄° *Ë(
s
))[0] == '\0' \

348 ? (*Ë
	`ˇŒoc
 ((
size_t
) 1, (size_t) 1) \

349 : ({ 
size_t
 
__Àn
 = 
	`°æí
 (
s
) + 1; \

350 
size_t
 
__n
 = (
n
); \

351 *
__ªtvÆ
; \

352 i‡(
__n
 < 
__Àn
) \

353 
__Àn
 = 
__n
 + 1; \

354 
__ªtvÆ
 = (*Ë
	`mÆloc
 (
__Àn
); \

355 i‡(
__ªtvÆ
 !
NULL
) \

357 
__ªtvÆ
[
__Àn
 - 1] = '\0'; \

358 
__ªtvÆ
 = (*Ë
	`mem˝y
 (__ªtvÆ, 
s
, \

359 
__Àn
 - 1); \

361 
__ªtvÆ
; 
	}
})) \

362 : 
	`__°∫dup
 (
s
, 
n
)))

	)

364 #ifde‡
__USE_XOPEN2K8


365 
	#°∫dup
(
s
, 
n
Ë
	`__°∫dup
 (s,Ç)

	)

371 #i‚de‡
_FORCE_INLINES


372 #unde‡
__STRING_INLINE


	@/usr/include/bits/string3.h

18 #i‚de‡
_STRING_H


22 #i‡!
__GNUC_PREREQ
 (5,0)

23 
__w¨nde˛
 (
__w¨n_mem£t_zîo_Àn
,

27 #i‚de‡
__˝lu•lus


31 #unde‡
mem˝y


32 #unde‡
memmove


33 #unde‡
mem£t


34 #unde‡
°rˇt


35 #unde‡
°r˝y


36 #unde‡
°∫ˇt


37 #unde‡
°∫˝y


38 #ifde‡
__USE_GNU


39 #unde‡
memp˝y


40 #unde‡
°p˝y


42 #ifde‡
__USE_MISC


43 #unde‡
bc›y


44 #unde‡
bzîo


49 
__f‹tify_fun˘i⁄
 *

50 
__NTH
 (
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

51 
size_t
 
__Àn
))

53  
	`__buûtö___mem˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

54 
	}
}

56 
__f‹tify_fun˘i⁄
 *

57 
__NTH
 (
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__Àn
))

59  
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

60 
	}
}

62 #ifde‡
__USE_GNU


63 
__f‹tify_fun˘i⁄
 *

64 
__NTH
 (
	$memp˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

65 
size_t
 
__Àn
))

67  
	`__buûtö___memp˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

68 
	}
}

77 
__f‹tify_fun˘i⁄
 *

78 
__NTH
 (
	$mem£t
 (*
__de°
, 
__ch
, 
size_t
 
__Àn
))

82 #i‡!
	`__GNUC_PREREQ
 (5,0)

83 i‡(
	`__buûtö_c⁄°™t_p
 (
__Àn
) && __len == 0

84 && (!
	`__buûtö_c⁄°™t_p
 (
__ch
) || __ch != 0))

86 
	`__w¨n_mem£t_zîo_Àn
 ();

87  
__de°
;

90  
	`__buûtö___mem£t_chk
 (
__de°
, 
__ch
, 
__Àn
, 
	`__bos0
 (__dest));

91 
	}
}

93 #ifde‡
__USE_MISC


94 
__f‹tify_fun˘i⁄
 

95 
__NTH
 (
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__Àn
))

97 (Ë
	`__buûtö___memmove_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos0
 (__dest));

98 
	}
}

100 
__f‹tify_fun˘i⁄
 

101 
__NTH
 (
	$bzîo
 (*
__de°
, 
size_t
 
__Àn
))

103 (Ë
	`__buûtö___mem£t_chk
 (
__de°
, '\0', 
__Àn
, 
	`__bos0
 (__dest));

104 
	}
}

107 
__f‹tify_fun˘i⁄
 *

108 
__NTH
 (
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
))

110  
	`__buûtö___°r˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

111 
	}
}

113 #ifde‡
__USE_GNU


114 
__f‹tify_fun˘i⁄
 *

115 
__NTH
 (
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
))

117  
	`__buûtö___°p˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

118 
	}
}

122 
__f‹tify_fun˘i⁄
 *

123 
__NTH
 (
	$°∫˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

124 
size_t
 
__Àn
))

126  
	`__buûtö___°∫˝y_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

127 
	}
}

130 *
	$__°≤˝y_chk
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

131 
size_t
 
__de°Àn
Ë
__THROW
;

132 *
	`__REDIRECT_NTH
 (
__°≤˝y_Æüs
, (*
__de°
, c⁄° *
__§c
,

133 
size_t
 
__n
), 
°≤˝y
);

135 
__f‹tify_fun˘i⁄
 *

136 
	`__NTH
 (
	$°≤˝y
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
))

138 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1

139 && (!
	`__buûtö_c⁄°™t_p
 (
__n
Ë|| __¿> 
	`__bos
 (
__de°
)))

140  
	`__°≤˝y_chk
 (
__de°
, 
__§c
, 
__n
, 
	`__bos
 (__dest));

141  
	`__°≤˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

142 
	}
}

145 
__f‹tify_fun˘i⁄
 *

146 
__NTH
 (
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
))

148  
	`__buûtö___°rˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__dest));

149 
	}
}

152 
__f‹tify_fun˘i⁄
 *

153 
__NTH
 (
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

154 
size_t
 
__Àn
))

156  
	`__buûtö___°∫ˇt_chk
 (
__de°
, 
__§c
, 
__Àn
, 
	`__bos
 (__dest));

157 
	}
}

	@/usr/include/bits/sys_errlist.h

19 #i‚de‡
_STDIO_H


25 #ifde‡ 
__USE_MISC


26 
sys_√º
;

27 c⁄° *c⁄° 
sys_îæi°
[];

29 #ifde‡ 
__USE_GNU


30 
_sys_√º
;

31 c⁄° *c⁄° 
_sys_îæi°
[];

	@/usr/include/bits/time.h

23 #i‡
deföed
 
__√ed_timevÆ
 || deföed 
__USE_GNU


24 #i‚de‡
_STRUCT_TIMEVAL


25 
	#_STRUCT_TIMEVAL
 1

	)

26 
	~<bôs/ty≥s.h
>

30 
	stimevÆ


32 
__time_t
 
	mtv_£c
;

33 
__su£c⁄ds_t
 
	mtv_u£c
;

38 #i‚de‡
__√ed_timevÆ


39 #i‚de‡
_BITS_TIME_H


40 
	#_BITS_TIME_H
 1

	)

48 
	#CLOCKS_PER_SEC
 ((
˛ock_t
Ë1000000)

	)

50 #i‡(!
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_POSIX
) \

51 && !
deföed
 
	g__USE_XOPEN2K


54 
	~<bôs/ty≥s.h
>

55 
__sysc⁄f
 ();

56 
	#CLK_TCK
 ((
__˛ock_t
Ë
	`__sysc⁄f
 (2)Ë

	)

59 #ifde‡
__USE_POSIX199309


61 
	#CLOCK_REALTIME
 0

	)

63 
	#CLOCK_MONOTONIC
 1

	)

65 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

67 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

69 
	#CLOCK_MONOTONIC_RAW
 4

	)

71 
	#CLOCK_REALTIME_COARSE
 5

	)

73 
	#CLOCK_MONOTONIC_COARSE
 6

	)

75 
	#CLOCK_BOOTTIME
 7

	)

77 
	#CLOCK_REALTIME_ALARM
 8

	)

79 
	#CLOCK_BOOTTIME_ALARM
 9

	)

81 
	#CLOCK_TAI
 11

	)

84 
	#TIMER_ABSTIME
 1

	)

87 #ifde‡
__USE_GNU


88 
	~<bôs/timex.h
>

90 
__BEGIN_DECLS


93 
	$˛ock_adjtime
 (
__˛ockid_t
 
__˛ock_id
, 
timex
 *
__utx
Ë
__THROW
;

95 
__END_DECLS


101 #unde‡
__√ed_timevÆ


	@/usr/include/bits/types.h

23 #i‚def 
_BITS_TYPES_H


24 
	#_BITS_TYPES_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/w‹dsize.h
>

30 
	t__u_ch¨
;

31 
	t__u_sh‹t
;

32 
	t__u_öt
;

33 
	t__u_l⁄g
;

36 sig√d 
	t__öt8_t
;

37 
	t__uöt8_t
;

38 sig√d 
	t__öt16_t
;

39 
	t__uöt16_t
;

40 sig√d 
	t__öt32_t
;

41 
	t__uöt32_t
;

42 #i‡
__WORDSIZE
 == 64

43 sig√d 
	t__öt64_t
;

44 
	t__uöt64_t
;

46 
__exãnsi⁄__
 sig√d 
	t__öt64_t
;

47 
__exãnsi⁄__
 
	t__uöt64_t
;

51 #i‡
__WORDSIZE
 == 64

52 
	t__quad_t
;

53 
	t__u_quad_t
;

55 
__exãnsi⁄__
 
	t__quad_t
;

56 
__exãnsi⁄__
 
	t__u_quad_t
;

89 
	#__S16_TYPE
 

	)

90 
	#__U16_TYPE
 

	)

91 
	#__S32_TYPE
 

	)

92 
	#__U32_TYPE
 

	)

93 
	#__SLONGWORD_TYPE
 

	)

94 
	#__ULONGWORD_TYPE
 

	)

95 #i‡
__WORDSIZE
 == 32

96 
	#__SQUAD_TYPE
 
__quad_t


	)

97 
	#__UQUAD_TYPE
 
__u_quad_t


	)

98 
	#__SWORD_TYPE
 

	)

99 
	#__UWORD_TYPE
 

	)

100 
	#__SLONG32_TYPE
 

	)

101 
	#__ULONG32_TYPE
 

	)

102 
	#__S64_TYPE
 
__quad_t


	)

103 
	#__U64_TYPE
 
__u_quad_t


	)

106 
	#__STD_TYPE
 
__exãnsi⁄__
 

	)

107 #ñi‡
__WORDSIZE
 == 64

108 
	t__SQUAD_TYPE
 

	)

109 
	t__UQUAD_TYPE
 

	)

110 
	t__SWORD_TYPE
 

	)

111 
	t__UWORD_TYPE
 

	)

112 
	t__SLONG32_TYPE
 

	)

113 
	t__ULONG32_TYPE
 

	)

114 
	t__S64_TYPE
 

	)

115 
	t__U64_TYPE
 

	)

117 
	t__STD_TYPE
 

	)

121 
	~<bôs/ty≥sizes.h
>

124 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

125 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

126 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

127 
__STD_TYPE
 
__INO_T_TYPE
 
	g__öo_t
;

128 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__öo64_t
;

129 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

130 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__∆ök_t
;

131 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

132 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

133 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

134 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

135 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__˛ock_t
;

136 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__æim_t
;

137 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__æim64_t
;

138 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

139 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

140 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£c⁄ds_t
;

141 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£c⁄ds_t
;

143 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

144 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

147 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__˛ockid_t
;

150 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__timî_t
;

153 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

158 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blk˙t_t
;

159 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blk˙t64_t
;

162 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblk˙t_t
;

163 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblk˙t64_t
;

166 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfû˙t_t
;

167 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfû˙t64_t
;

170 
__STD_TYPE
 
__FSWORD_T_TYPE
 
	g__fsw‹d_t
;

172 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

175 
__STD_TYPE
 
__SYSCALL_SLONG_TYPE
 
	g__sysˇŒ_¶⁄g_t
;

177 
__STD_TYPE
 
__SYSCALL_ULONG_TYPE
 
	g__sysˇŒ_ul⁄g_t
;

181 
__off64_t
 
	t__loff_t
;

182 
__quad_t
 *
	t__qaddr_t
;

183 *
	t__ˇddr_t
;

186 
__STD_TYPE
 
__SWORD_TYPE
 
	g__öçå_t
;

189 
__STD_TYPE
 
__U32_TYPE
 
	g__sockÀn_t
;

192 #unde‡
__STD_TYPE


	@/usr/include/bits/unistd.h

19 #i‚de‡
_UNISTD_H


23 
ssize_t
 
	$__ªad_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

24 
size_t
 
__buÊí
Ë
__wur
;

25 
ssize_t
 
	`__REDIRECT
 (
__ªad_Æüs
, (
__fd
, *
__buf
,

26 
size_t
 
__nbyãs
), 
ªad
Ë
__wur
;

27 
ssize_t
 
	`__REDIRECT
 (
__ªad_chk_w¨n
,

28 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

29 
size_t
 
__buÊí
), 
__ªad_chk
)

30 
__wur
 
	`__w¨«âr
 ("read called with biggerÜengthÅhan size of "

33 
__f‹tify_fun˘i⁄
 
__wur
 
ssize_t


34 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
)

36 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

38 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

39  
	`__ªad_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
	`__bos0
 (__buf));

41 i‡(
__nbyãs
 > 
	`__bos0
 (
__buf
))

42  
	`__ªad_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
	`__bos0
 (__buf));

44  
	`__ªad_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
);

45 
	}
}

47 #ifde‡
__USE_UNIX98


48 
ssize_t
 
	$__¥ód_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

49 
__off_t
 
__off£t
, 
size_t
 
__bufsize
Ë
__wur
;

50 
ssize_t
 
	$__¥ód64_chk
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

51 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
Ë
__wur
;

52 
ssize_t
 
	`__REDIRECT
 (
__¥ód_Æüs
,

53 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

54 
__off_t
 
__off£t
), 
¥ód
Ë
__wur
;

55 
ssize_t
 
	`__REDIRECT
 (
__¥ód64_Æüs
,

56 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

57 
__off64_t
 
__off£t
), 
¥ód64
Ë
__wur
;

58 
ssize_t
 
	`__REDIRECT
 (
__¥ód_chk_w¨n
,

59 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

60 
__off_t
 
__off£t
, 
size_t
 
__bufsize
), 
__¥ód_chk
)

61 
__wur
 
	`__w¨«âr
 ("pread called with biggerÜengthÅhan size of "

63 
ssize_t
 
	`__REDIRECT
 (
__¥ód64_chk_w¨n
,

64 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

65 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
),

66 
__¥ód64_chk
)

67 
__wur
 
	`__w¨«âr
 ("pread64 called with biggerÜengthÅhan size of "

70 #i‚de‡
__USE_FILE_OFFSET64


71 
__f‹tify_fun˘i⁄
 
__wur
 
ssize_t


72 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off_t
 
__off£t
)

74 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

76 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

77  
	`__¥ód_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

79 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

80  
	`__¥ód_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

81 
	`__bos0
 (
__buf
));

83  
	`__¥ód_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

84 
	}
}

86 
__f‹tify_fun˘i⁄
 
__wur
 
ssize_t


87 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
)

89 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

91 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

92  
	`__¥ód64_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

94 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

95  
	`__¥ód64_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

96 
	`__bos0
 (
__buf
));

99  
	`__¥ód64_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

100 
	}
}

103 #ifde‡
__USE_LARGEFILE64


104 
__f‹tify_fun˘i⁄
 
__wur
 
ssize_t


105 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
)

107 i‡(
	`__bos0
 (
__buf
Ë!(
size_t
) -1)

109 i‡(!
	`__buûtö_c⁄°™t_p
 (
__nbyãs
))

110  
	`__¥ód64_chk
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
, 
	`__bos0
 (__buf));

112 i‡–
__nbyãs
 > 
	`__bos0
 (
__buf
))

113  
	`__¥ód64_chk_w¨n
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
,

114 
	`__bos0
 (
__buf
));

117  
	`__¥ód64_Æüs
 (
__fd
, 
__buf
, 
__nbyãs
, 
__off£t
);

118 
	}
}

122 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


123 
ssize_t
 
	$__ªadlök_chk
 (c⁄° *
__ª°ri˘
 
__∑th
,

124 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

125 
size_t
 
__buÊí
)

126 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

127 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök_Æüs
,

128 (c⁄° *
__ª°ri˘
 
__∑th
,

129 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
), 
ªadlök
)

130 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

131 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök_chk_w¨n
,

132 (c⁄° *
__ª°ri˘
 
__∑th
,

133 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

134 
size_t
 
__buÊí
), 
__ªadlök_chk
)

135 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
 
	`__w¨«âr
 ("readlink called with biggerÜength "

138 
__f‹tify_fun˘i⁄
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
 
ssize_t


139 
	`__NTH
 (
	$ªadlök
 (c⁄° *
__ª°ri˘
 
__∑th
, *__ª°ri˘ 
__buf
,

140 
size_t
 
__Àn
))

142 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

144 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

145  
	`__ªadlök_chk
 (
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

147 i‡–
__Àn
 > 
	`__bos
 (
__buf
))

148  
	`__ªadlök_chk_w¨n
 (
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

150  
	`__ªadlök_Æüs
 (
__∑th
, 
__buf
, 
__Àn
);

151 
	}
}

154 #ifde‡
__USE_ATFILE


155 
ssize_t
 
	$__ªadlök©_chk
 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

156 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

157 
size_t
 
__buÊí
)

158 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

159 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök©_Æüs
,

160 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

161 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
),

162 
ªadlök©
)

163 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

164 
ssize_t
 
	`__REDIRECT_NTH
 (
__ªadlök©_chk_w¨n
,

165 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

166 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
,

167 
size_t
 
__buÊí
), 
__ªadlök©_chk
)

168 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
 
	`__w¨«âr
 ("readlinkat called with bigger "

172 
__f‹tify_fun˘i⁄
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
 
ssize_t


173 
	`__NTH
 (
	$ªadlök©
 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

174 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
))

176 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

178 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

179  
	`__ªadlök©_chk
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

181 i‡(
__Àn
 > 
	`__bos
 (
__buf
))

182  
	`__ªadlök©_chk_w¨n
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
,

183 
	`__bos
 (
__buf
));

185  
	`__ªadlök©_Æüs
 (
__fd
, 
__∑th
, 
__buf
, 
__Àn
);

186 
	}
}

189 *
	$__gëcwd_chk
 (*
__buf
, 
size_t
 
__size
, size_à
__buÊí
)

190 
__THROW
 
__wur
;

191 *
	`__REDIRECT_NTH
 (
__gëcwd_Æüs
,

192 (*
__buf
, 
size_t
 
__size
), 
gëcwd
Ë
__wur
;

193 *
	`__REDIRECT_NTH
 (
__gëcwd_chk_w¨n
,

194 (*
__buf
, 
size_t
 
__size
, size_à
__buÊí
),

195 
__gëcwd_chk
)

196 
__wur
 
	`__w¨«âr
 ("getcwd caller with biggerÜengthÅhan size of "

199 
__f‹tify_fun˘i⁄
 
__wur
 *

200 
	`__NTH
 (
	$gëcwd
 (*
__buf
, 
size_t
 
__size
))

202 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

204 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
))

205  
	`__gëcwd_chk
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

207 i‡(
__size
 > 
	`__bos
 (
__buf
))

208  
	`__gëcwd_chk_w¨n
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

210  
	`__gëcwd_Æüs
 (
__buf
, 
__size
);

211 
	}
}

213 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


214 *
	$__gëwd_chk
 (*
__buf
, 
size_t
 
buÊí
)

215 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

216 *
	`__REDIRECT_NTH
 (
__gëwd_w¨n
, (*
__buf
), 
gëwd
)

217 
	`__n⁄nuŒ
 ((1)Ë
__wur
 
	`__w¨«âr
 ("please use getcwd instead,ás getwd "

220 
__f‹tify_fun˘i⁄
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
 *

221 
	`__NTH
 (
	$gëwd
 (*
__buf
))

223 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

224  
	`__gëwd_chk
 (
__buf
, 
	`__bos
 (__buf));

225  
	`__gëwd_w¨n
 (
__buf
);

226 
	}
}

229 
size_t
 
	$__c⁄f°r_chk
 (
__«me
, *
__buf
, 
size_t
 
__Àn
,

230 
size_t
 
__buÊí
Ë
__THROW
;

231 
size_t
 
	`__REDIRECT_NTH
 (
__c⁄f°r_Æüs
, (
__«me
, *
__buf
,

232 
size_t
 
__Àn
), 
c⁄f°r
);

233 
size_t
 
	`__REDIRECT_NTH
 (
__c⁄f°r_chk_w¨n
,

234 (
__«me
, *
__buf
, 
size_t
 
__Àn
,

235 
size_t
 
__buÊí
), 
__c⁄f°r_chk
)

236 
	`__w¨«âr
 ("confstr called with biggerÜengthÅhan size of destination "

239 
__f‹tify_fun˘i⁄
 
size_t


240 
	`__NTH
 (
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
))

242 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

244 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

245  
	`__c⁄f°r_chk
 (
__«me
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

247 i‡(
	`__bos
 (
__buf
Ë< 
__Àn
)

248  
	`__c⁄f°r_chk_w¨n
 (
__«me
, 
__buf
, 
__Àn
, 
	`__bos
 (__buf));

250  
	`__c⁄f°r_Æüs
 (
__«me
, 
__buf
, 
__Àn
);

251 
	}
}

254 
	$__gëgroups_chk
 (
__size
, 
__gid_t
 
__li°
[], 
size_t
 
__li°Àn
)

255 
__THROW
 
__wur
;

256 
	`__REDIRECT_NTH
 (
__gëgroups_Æüs
, (
__size
, 
__gid_t
 
__li°
[]),

257 
gëgroups
Ë
__wur
;

258 
	`__REDIRECT_NTH
 (
__gëgroups_chk_w¨n
,

259 (
__size
, 
__gid_t
 
__li°
[], 
size_t
 
__li°Àn
),

260 
__gëgroups_chk
)

261 
__wur
 
	`__w¨«âr
 ("getgroups called with bigger group countÅhan what "

264 
__f‹tify_fun˘i⁄
 

265 
	`__NTH
 (
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]))

267 i‡(
	`__bos
 (
__li°
Ë!(
size_t
) -1)

269 i‡(!
	`__buûtö_c⁄°™t_p
 (
__size
) || __size < 0)

270  
	`__gëgroups_chk
 (
__size
, 
__li°
, 
	`__bos
 (__list));

272 i‡(
__size
 *  (
__gid_t
Ë> 
	`__bos
 (
__li°
))

273  
	`__gëgroups_chk_w¨n
 (
__size
, 
__li°
, 
	`__bos
 (__list));

275  
	`__gëgroups_Æüs
 (
__size
, 
__li°
);

276 
	}
}

279 
	$__ây«me_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

280 
size_t
 
__ƒól
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

281 
	`__REDIRECT_NTH
 (
__ây«me_r_Æüs
, (
__fd
, *
__buf
,

282 
size_t
 
__buÊí
), 
ây«me_r
)

283 
	`__n⁄nuŒ
 ((2));

284 
	`__REDIRECT_NTH
 (
__ây«me_r_chk_w¨n
,

285 (
__fd
, *
__buf
, 
size_t
 
__buÊí
,

286 
size_t
 
__ƒól
), 
__ây«me_r_chk
)

287 
	`__n⁄nuŒ
 ((2)Ë
	`__w¨«âr
 ("ttyname_r called with bigger buflenÅhan "

290 
__f‹tify_fun˘i⁄
 

291 
	`__NTH
 (
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
))

293 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

295 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

296  
	`__ây«me_r_chk
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

298 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

299  
	`__ây«me_r_chk_w¨n
 (
__fd
, 
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

301  
	`__ây«me_r_Æüs
 (
__fd
, 
__buf
, 
__buÊí
);

302 
	}
}

305 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


306 
	$__gëlogö_r_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

307 
	`__n⁄nuŒ
 ((1));

308 
	`__REDIRECT
 (
__gëlogö_r_Æüs
, (*
__buf
, 
size_t
 
__buÊí
),

309 
gëlogö_r
Ë
	`__n⁄nuŒ
 ((1));

310 
	`__REDIRECT
 (
__gëlogö_r_chk_w¨n
,

311 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

312 
__gëlogö_r_chk
)

313 
	`__n⁄nuŒ
 ((1)Ë
	`__w¨«âr
 ("getlogin_r called with bigger buflenÅhan "

316 
__f‹tify_fun˘i⁄
 

317 
	$gëlogö_r
 (*
__buf
, 
size_t
 
__buÊí
)

319 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

321 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

322  
	`__gëlogö_r_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

324 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

325  
	`__gëlogö_r_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

327  
	`__gëlogö_r_Æüs
 (
__buf
, 
__buÊí
);

328 
	}
}

332 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_UNIX98


333 
	$__gëho°«me_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

334 
__THROW
 
	`__n⁄nuŒ
 ((1));

335 
	`__REDIRECT_NTH
 (
__gëho°«me_Æüs
, (*
__buf
, 
size_t
 
__buÊí
),

336 
gëho°«me
Ë
	`__n⁄nuŒ
 ((1));

337 
	`__REDIRECT_NTH
 (
__gëho°«me_chk_w¨n
,

338 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

339 
__gëho°«me_chk
)

340 
	`__n⁄nuŒ
 ((1)Ë
	`__w¨«âr
 ("gethostname called with bigger buflenÅhan "

343 
__f‹tify_fun˘i⁄
 

344 
	`__NTH
 (
	$gëho°«me
 (*
__buf
, 
size_t
 
__buÊí
))

346 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

348 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

349  
	`__gëho°«me_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

351 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

352  
	`__gëho°«me_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

354  
	`__gëho°«me_Æüs
 (
__buf
, 
__buÊí
);

355 
	}
}

359 #i‡
deföed
 
__USE_MISC
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

360 
	$__gëdomaö«me_chk
 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
)

361 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

362 
	`__REDIRECT_NTH
 (
__gëdomaö«me_Æüs
, (*
__buf
,

363 
size_t
 
__buÊí
),

364 
gëdomaö«me
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

365 
	`__REDIRECT_NTH
 (
__gëdomaö«me_chk_w¨n
,

366 (*
__buf
, 
size_t
 
__buÊí
, size_à
__ƒól
),

367 
__gëdomaö«me_chk
)

368 
	`__n⁄nuŒ
 ((1)Ë
__wur
 
	`__w¨«âr
 ("getdomainname called with bigger "

372 
__f‹tify_fun˘i⁄
 

373 
	`__NTH
 (
	$gëdomaö«me
 (*
__buf
, 
size_t
 
__buÊí
))

375 i‡(
	`__bos
 (
__buf
Ë!(
size_t
) -1)

377 i‡(!
	`__buûtö_c⁄°™t_p
 (
__buÊí
))

378  
	`__gëdomaö«me_chk
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

380 i‡(
__buÊí
 > 
	`__bos
 (
__buf
))

381  
	`__gëdomaö«me_chk_w¨n
 (
__buf
, 
__buÊí
, 
	`__bos
 (__buf));

383  
	`__gëdomaö«me_Æüs
 (
__buf
, 
__buÊí
);

384 
	}
}

	@/usr/include/bits/waitflags.h

19 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


25 
	#WNOHANG
 1

	)

26 
	#WUNTRACED
 2

	)

29 
	#WSTOPPED
 2

	)

30 
	#WEXITED
 4

	)

31 
	#WCONTINUED
 8

	)

32 
	#WNOWAIT
 0x01000000

	)

34 
	#__WNOTHREAD
 0x20000000

	)

36 
	#__WALL
 0x40000000

	)

37 
	#__WCLONE
 0x80000000

	)

40 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


41 #i‚de‡
__ENUM_IDTYPE_T


42 
	#__ENUM_IDTYPE_T
 1

	)

46 #unde‡
P_ALL


47 #unde‡
P_PID


48 #unde‡
P_PGID


52 
	mP_ALL
,

53 
	mP_PID
,

54 
	mP_PGID


55 } 
	tidty≥_t
;

	@/usr/include/bits/waitstatus.h

19 #i‡!
deföed
 
_SYS_WAIT_H
 && !deföed 
_STDLIB_H


28 
	#__WEXITSTATUS
(
°©us
Ë(((°©usË& 0xff00Ë>> 8)

	)

31 
	#__WTERMSIG
(
°©us
Ë((°©usË& 0x7f)

	)

34 
	#__WSTOPSIG
(
°©us
Ë
	`__WEXITSTATUS
(°©us)

	)

37 
	#__WIFEXITED
(
°©us
Ë(
	`__WTERMSIG
(°©usË=0)

	)

40 
	#__WIFSIGNALED
(
°©us
) \

41 (((sig√d Ë(((
°©us
Ë& 0x7fË+ 1Ë>> 1Ë> 0)

	)

44 
	#__WIFSTOPPED
(
°©us
Ë(((°©usË& 0xffË=0x7f)

	)

48 #ifde‡
WCONTINUED


49 
	#__WIFCONTINUED
(
°©us
Ë((°©usË=
__W_CONTINUED
)

	)

53 
	#__WCOREDUMP
(
°©us
Ë((°©usË& 
__WCOREFLAG
)

	)

56 
	#__W_EXITCODE
(
ªt
, 
sig
Ë(‘ëË<< 8 | (sig))

	)

57 
	#__W_STOPCODE
(
sig
Ë((sigË<< 8 | 0x7f)

	)

58 
	#__W_CONTINUED
 0xffff

	)

59 
	#__WCOREFLAG
 0x80

	)

	@/usr/include/bits/wchar.h

19 #i‚de‡
_BITS_WCHAR_H


20 
	#_BITS_WCHAR_H
 1

	)

33 #ifde‡
__WCHAR_MAX__


34 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

35 #ñi‡
L
'\0' - 1 > 0

36 
	#__WCHAR_MAX
 (0xffffffffu + 
L
'\0')

	)

38 
	#__WCHAR_MAX
 (0x7ffffff‡+ 
L
'\0')

	)

41 #ifde‡
__WCHAR_MIN__


42 
	#__WCHAR_MIN
 
__WCHAR_MIN__


	)

43 #ñi‡
L
'\0' - 1 > 0

44 
	#__WCHAR_MIN
 (
L
'\0' + 0)

	)

46 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/bits/wordsize.h

3 #i‡
deföed
 
__x86_64__
 && !deföed 
__ILP32__


4 
	#__WORDSIZE
 64

	)

6 
	#__WORDSIZE
 32

	)

9 #ifde‡
__x86_64__


10 
	#__WORDSIZE_TIME64_COMPAT32
 1

	)

12 
	#__SYSCALL_WORDSIZE
 64

	)

	@/usr/include/bits/xopen_lim.h

29 #i‚de‡
_XOPEN_LIM_H


30 
	#_XOPEN_LIM_H
 1

	)

32 
	#__√ed_IOV_MAX


	)

33 
	~<bôs/°dio_lim.h
>

65 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

70 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

73 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

76 
	#NL_MSGMAX
 
INT_MAX


	)

80 #i‡
deföed
 
__USE_GNU
 || !deföed 
__USE_XOPEN2K8


81 
	#NL_NMAX
 
INT_MAX


	)

85 
	#NL_SETMAX
 
INT_MAX


	)

88 
	#NL_TEXTMAX
 
INT_MAX


	)

91 
	#NZERO
 20

	)

95 #ifde‡
INT_MAX


96 #i‡
INT_MAX
 == 32767

97 
	#WORD_BIT
 16

	)

99 #i‡
INT_MAX
 == 2147483647

100 
	#WORD_BIT
 32

	)

103 
	#WORD_BIT
 64

	)

106 #ñi‡
deföed
 
__INT_MAX__


107 #i‡
__INT_MAX__
 == 32767

108 
	#WORD_BIT
 16

	)

110 #i‡
__INT_MAX__
 == 2147483647

111 
	#WORD_BIT
 32

	)

114 
	#WORD_BIT
 64

	)

118 
	#WORD_BIT
 32

	)

122 #ifde‡
LONG_MAX


123 #i‡
LONG_MAX
 == 2147483647

124 
	#LONG_BIT
 32

	)

127 
	#LONG_BIT
 64

	)

129 #ñi‡
deföed
 
__LONG_MAX__


130 #i‡
__LONG_MAX__
 == 2147483647

131 
	#LONG_BIT
 32

	)

134 
	#LONG_BIT
 64

	)

137 
	~<bôs/w‹dsize.h
>

138 #i‡
__WORDSIZE
 == 64

139 
	#LONG_BIT
 64

	)

141 
	#LONG_BIT
 32

	)

	@/usr/include/endian.h

18 #i‚def 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<„©uªs.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<bôs/ídün.h
>

40 #i‚de‡
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

53 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

58 #i‡
deföed
 
__USE_MISC
 && !deföed 
__ASSEMBLER__


60 
	~<bôs/byãsw≠.h
>

62 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


63 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

64 
	#htﬁe16
(
x
Ë(x)

	)

65 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

66 
	#À16toh
(
x
Ë(x)

	)

68 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

69 
	#htﬁe32
(
x
Ë(x)

	)

70 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

71 
	#À32toh
(
x
Ë(x)

	)

73 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

74 
	#htﬁe64
(
x
Ë(x)

	)

75 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

76 
	#À64toh
(
x
Ë(x)

	)

79 
	#htobe16
(
x
Ë(x)

	)

80 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

81 
	#be16toh
(
x
Ë(x)

	)

82 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

84 
	#htobe32
(
x
Ë(x)

	)

85 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

86 
	#be32toh
(
x
Ë(x)

	)

87 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

89 
	#htobe64
(
x
Ë(x)

	)

90 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

91 
	#be64toh
(
x
Ë(x)

	)

92 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

18 #i‚def 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #unde‡
__USE_ISOC11


98 #unde‡
__USE_ISOC99


99 #unde‡
__USE_ISOC95


100 #unde‡
__USE_ISOCXX11


101 #unde‡
__USE_POSIX


102 #unde‡
__USE_POSIX2


103 #unde‡
__USE_POSIX199309


104 #unde‡
__USE_POSIX199506


105 #unde‡
__USE_XOPEN


106 #unde‡
__USE_XOPEN_EXTENDED


107 #unde‡
__USE_UNIX98


108 #unde‡
__USE_XOPEN2K


109 #unde‡
__USE_XOPEN2KXSI


110 #unde‡
__USE_XOPEN2K8


111 #unde‡
__USE_XOPEN2K8XSI


112 #unde‡
__USE_LARGEFILE


113 #unde‡
__USE_LARGEFILE64


114 #unde‡
__USE_FILE_OFFSET64


115 #unde‡
__USE_MISC


116 #unde‡
__USE_ATFILE


117 #unde‡
__USE_GNU


118 #unde‡
__USE_REENTRANT


119 #unde‡
__USE_FORTIFY_LEVEL


120 #unde‡
__KERNEL_STRICT_NAMES


124 #i‚de‡
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

137 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

146 #i‡(
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE
) \

147 && !
deföed
 
	g_DEFAULT_SOURCE


149 #unde‡
_DEFAULT_SOURCE


150 
	#_DEFAULT_SOURCE
 1

	)

154 #ifde‡
_GNU_SOURCE


155 #unde‡
_ISOC95_SOURCE


156 
	#_ISOC95_SOURCE
 1

	)

157 #unde‡
_ISOC99_SOURCE


158 
	#_ISOC99_SOURCE
 1

	)

159 #unde‡
_ISOC11_SOURCE


160 
	#_ISOC11_SOURCE
 1

	)

161 #unde‡
_POSIX_SOURCE


162 
	#_POSIX_SOURCE
 1

	)

163 #unde‡
_POSIX_C_SOURCE


164 
	#_POSIX_C_SOURCE
 200809L

	)

165 #unde‡
_XOPEN_SOURCE


166 
	#_XOPEN_SOURCE
 700

	)

167 #unde‡
_XOPEN_SOURCE_EXTENDED


168 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

169 #unde‡
_LARGEFILE64_SOURCE


170 
	#_LARGEFILE64_SOURCE
 1

	)

171 #unde‡
_DEFAULT_SOURCE


172 
	#_DEFAULT_SOURCE
 1

	)

173 #unde‡
_ATFILE_SOURCE


174 
	#_ATFILE_SOURCE
 1

	)

179 #i‡(
deföed
 
_DEFAULT_SOURCE
 \

180 || (!
deföed
 
	g__STRICT_ANSI__
 \

181 && !
deföed
 
	g_ISOC99_SOURCE
 \

182 && !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 \

183 && !
deföed
 
	g_XOPEN_SOURCE
))

184 #unde‡
_DEFAULT_SOURCE


185 
	#_DEFAULT_SOURCE
 1

	)

189 #i‡(
deföed
 
_ISOC11_SOURCE
 \

190 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

191 
	#__USE_ISOC11
 1

	)

195 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

196 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

197 
	#__USE_ISOC99
 1

	)

201 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

202 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

203 
	#__USE_ISOC95
 1

	)

210 #i‡((
deföed
 
__˝lu•lus
 && __cplusplus >= 201103L) \

211 || 
deföed
 
__GXX_EXPERIMENTAL_CXX0X__
)

212 
	#__USE_ISOCXX11
 1

	)

218 #ifde‡
_DEFAULT_SOURCE


219 #i‡!
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE


220 
	#__USE_POSIX_IMPLICITLY
 1

	)

222 #unde‡
_POSIX_SOURCE


223 
	#_POSIX_SOURCE
 1

	)

224 #unde‡
_POSIX_C_SOURCE


225 
	#_POSIX_C_SOURCE
 200809L

	)

227 #i‡((!
deföed
 
__STRICT_ANSI__
 \

228 || (
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

229 && !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

230 
	#_POSIX_SOURCE
 1

	)

231 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

232 
	#_POSIX_C_SOURCE
 2

	)

233 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

234 
	#_POSIX_C_SOURCE
 199506L

	)

235 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

236 
	#_POSIX_C_SOURCE
 200112L

	)

238 
	#_POSIX_C_SOURCE
 200809L

	)

240 
	#__USE_POSIX_IMPLICITLY
 1

	)

243 #i‡(
deföed
 
_POSIX_SOURCE
 \

244 || (
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

245 || 
deföed
 
_XOPEN_SOURCE
)

246 
	#__USE_POSIX
 1

	)

249 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


250 
	#__USE_POSIX2
 1

	)

253 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

254 
	#__USE_POSIX199309
 1

	)

257 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

258 
	#__USE_POSIX199506
 1

	)

261 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

262 
	#__USE_XOPEN2K
 1

	)

263 #unde‡
__USE_ISOC95


264 
	#__USE_ISOC95
 1

	)

265 #unde‡
__USE_ISOC99


266 
	#__USE_ISOC99
 1

	)

269 #i‡
deföed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

270 
	#__USE_XOPEN2K8
 1

	)

271 #unde‡
_ATFILE_SOURCE


272 
	#_ATFILE_SOURCE
 1

	)

275 #ifdef 
_XOPEN_SOURCE


276 
	#__USE_XOPEN
 1

	)

277 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

278 
	#__USE_XOPEN_EXTENDED
 1

	)

279 
	#__USE_UNIX98
 1

	)

280 #unde‡
_LARGEFILE_SOURCE


281 
	#_LARGEFILE_SOURCE
 1

	)

282 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

283 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

284 
	#__USE_XOPEN2K8
 1

	)

285 
	#__USE_XOPEN2K8XSI
 1

	)

287 
	#__USE_XOPEN2K
 1

	)

288 
	#__USE_XOPEN2KXSI
 1

	)

289 #unde‡
__USE_ISOC95


290 
	#__USE_ISOC95
 1

	)

291 #unde‡
__USE_ISOC99


292 
	#__USE_ISOC99
 1

	)

295 #ifde‡
_XOPEN_SOURCE_EXTENDED


296 
	#__USE_XOPEN_EXTENDED
 1

	)

301 #ifde‡
_LARGEFILE_SOURCE


302 
	#__USE_LARGEFILE
 1

	)

305 #ifde‡
_LARGEFILE64_SOURCE


306 
	#__USE_LARGEFILE64
 1

	)

309 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

310 
	#__USE_FILE_OFFSET64
 1

	)

313 #i‡
deföed
 
_DEFAULT_SOURCE


314 
	#__USE_MISC
 1

	)

317 #ifdef 
_ATFILE_SOURCE


318 
	#__USE_ATFILE
 1

	)

321 #ifdef 
_GNU_SOURCE


322 
	#__USE_GNU
 1

	)

325 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


326 
	#__USE_REENTRANT
 1

	)

329 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

330 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

331 #i‡
_FORTIFY_SOURCE
 > 1

332 
	#__USE_FORTIFY_LEVEL
 2

	)

334 
	#__USE_FORTIFY_LEVEL
 1

	)

337 
	#__USE_FORTIFY_LEVEL
 0

	)

342 
	~<°dc-¥edef.h
>

350 #unde‡
__GNU_LIBRARY__


351 
	#__GNU_LIBRARY__
 6

	)

355 
	#__GLIBC__
 2

	)

356 
	#__GLIBC_MINOR__
 24

	)

358 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

359 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

362 #i‚de‡
__ASSEMBLER__


363 #i‚de‡
_SYS_CDEFS_H


364 
	~<sys/cdefs.h
>

369 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


370 
	#__USE_LARGEFILE
 1

	)

371 
	#__USE_LARGEFILE64
 1

	)

377 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

378 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

379 && 
deföed
 
	g__exã∫_ölöe


380 
	#__USE_EXTERN_INLINES
 1

	)

388 
	~<gnu/°ubs.h
>

	@/usr/include/libio.h

28 #i‚de‡
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_c⁄fig.h
>

33 
	#_IO_Âos_t
 
_G_Âos_t


	)

34 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li°
 
_G_va_li°


	)

45 
	#_IO_wöt_t
 
wöt_t


	)

48 
	#__√ed___va_li°


	)

49 
	~<°d¨g.h
>

50 #ifde‡
__GNUC_VA_LIST


51 #unde‡
_IO_va_li°


52 
	#_IO_va_li°
 
__gnuc_va_li°


	)

55 #i‚de‡
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #i‚de‡
EOF


62 
	#EOF
 (-1)

	)

64 #i‚de‡
NULL


65 #i‡
deföed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuŒ
)

	)

69 #i‡!
deföed
(
__˝lu•lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifde‡
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifde‡
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifde‡
_IO_MTSAFE_IO


150 
	t_IO_lock_t
;

156 
	s_IO_m¨kî
 {

157 
_IO_m¨kî
 *
	m_√xt
;

158 
_IO_FILE
 *
	m_sbuf
;

162 
	m_pos
;

164 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

165 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

166 
	mpublic
:

167 
°ªamm¨kî
(
°ªambuf
 *
sb
);

168 ~
°ªamm¨kî
();

169 
ßvög
(Ë{  
	m_•os
 == -2; }

170 
dñè
(
°ªamm¨kî
&);

171 
dñè
();

176 
	e__codecvt_ªsu…


178 
	m__codecvt_ok
,

179 
	m__codecvt_∑πül
,

180 
	m__codecvt_îr‹
,

181 
	m__codecvt_noc⁄v


184 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


187 
	s_IO_codecvt


189 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

190 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

191 
	m__mb°©e_t
 *,

192 c⁄° 
	mwch¨_t
 *,

193 c⁄° 
	mwch¨_t
 *,

194 c⁄° 
	mwch¨_t
 **, *,

196 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

197 
	m__mb°©e_t
 *, *,

199 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

200 
	m__mb°©e_t
 *,

202 c⁄° **, 
	mwch¨_t
 *,

203 
	mwch¨_t
 *, wchar_t **);

204 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

205 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

206 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

207 c⁄° *, c⁄° *, 
	m_IO_size_t
);

208 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

210 
_IO_ic⁄v_t
 
	m__cd_ö
;

211 
_IO_ic⁄v_t
 
	m__cd_out
;

215 
	s_IO_wide_d©a


217 
wch¨_t
 *
	m_IO_ªad_±r
;

218 
wch¨_t
 *
	m_IO_ªad_íd
;

219 
wch¨_t
 *
	m_IO_ªad_ba£
;

220 
wch¨_t
 *
	m_IO_wrôe_ba£
;

221 
wch¨_t
 *
	m_IO_wrôe_±r
;

222 
wch¨_t
 *
	m_IO_wrôe_íd
;

223 
wch¨_t
 *
	m_IO_buf_ba£
;

224 
wch¨_t
 *
	m_IO_buf_íd
;

226 
wch¨_t
 *
	m_IO_ßve_ba£
;

227 
wch¨_t
 *
	m_IO_backup_ba£
;

229 
wch¨_t
 *
	m_IO_ßve_íd
;

231 
__mb°©e_t
 
	m_IO_°©e
;

232 
__mb°©e_t
 
	m_IO_œ°_°©e
;

233 
_IO_codecvt
 
	m_codecvt
;

235 
wch¨_t
 
	m_sh‹tbuf
[1];

237 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

241 
	s_IO_FILE
 {

242 
	m_Êags
;

243 
	#_IO_fûe_Êags
 
_Êags


	)

247 * 
	m_IO_ªad_±r
;

248 * 
	m_IO_ªad_íd
;

249 * 
	m_IO_ªad_ba£
;

250 * 
	m_IO_wrôe_ba£
;

251 * 
	m_IO_wrôe_±r
;

252 * 
	m_IO_wrôe_íd
;

253 * 
	m_IO_buf_ba£
;

254 * 
	m_IO_buf_íd
;

256 *
	m_IO_ßve_ba£
;

257 *
	m_IO_backup_ba£
;

258 *
	m_IO_ßve_íd
;

260 
_IO_m¨kî
 *
	m_m¨kîs
;

262 
_IO_FILE
 *
	m_chaö
;

264 
	m_fûío
;

266 
	m_blksize
;

268 
	m_Êags2
;

270 
_IO_off_t
 
	m_ﬁd_off£t
;

272 
	#__HAVE_COLUMN


	)

274 
	m_cur_cﬁumn
;

275 sig√d 
	m_vèbÀ_off£t
;

276 
	m_sh‹tbuf
[1];

280 
_IO_lock_t
 *
	m_lock
;

281 #ifde‡
_IO_USE_OLD_IO_FILE


284 
	s_IO_FILE_com∂ëe


286 
_IO_FILE
 
	m_fûe
;

288 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

289 
_IO_off64_t
 
	m_off£t
;

290 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


292 
_IO_codecvt
 *
	m_codecvt
;

293 
_IO_wide_d©a
 *
	m_wide_d©a
;

294 
_IO_FILE
 *
	m_‰ìªs_li°
;

295 *
	m_‰ìªs_buf
;

297 *
	m__∑d1
;

298 *
	m__∑d2
;

299 *
	m__∑d3
;

300 *
	m__∑d4
;

302 
size_t
 
	m__∑d5
;

303 
	m_mode
;

305 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

309 #i‚de‡
__˝lu•lus


310 
_IO_FILE
 
	t_IO_FILE
;

313 
	g_IO_FILE_∂us
;

315 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

316 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

317 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

318 #i‚de‡
_LIBC


319 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

320 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

321 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

323 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

324 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

325 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

333 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

341 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, c⁄° *
	t__buf
,

342 
	tsize_t
 
	t__n
);

350 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

353 
	t__io_˛o£_‚
 (*
	t__cookõ
);

356 #ifde‡
_GNU_SOURCE


358 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

359 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

360 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

361 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

366 
__io_ªad_‚
 *
	mªad
;

367 
__io_wrôe_‚
 *
	mwrôe
;

368 
__io_£ek_‚
 *
	m£ek
;

369 
__io_˛o£_‚
 *
	m˛o£
;

370 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

371 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

373 
	g_IO_cookõ_fûe
;

376 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

377 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

381 #ifde‡
__˝lu•lus


385 
__undîÊow
 (
_IO_FILE
 *);

386 
__uÊow
 (
_IO_FILE
 *);

387 
__ovîÊow
 (
_IO_FILE
 *, );

388 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


389 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

390 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

391 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

394 #i‡ 
__GNUC__
 >= 3

395 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

397 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

400 
	#_IO_gëc_u∆ocked
(
_Â
) \

401 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

402 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

403 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

404 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

405 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

406 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

407 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

408 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

409 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

410 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

412 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


413 
	#_IO_gëwc_u∆ocked
(
_Â
) \

414 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

415 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

416 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

417 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

418 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

419 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

420 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

421 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

422 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

423 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

426 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

427 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

429 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

430 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

431 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

432 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

434 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

437 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

438 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

440 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

441 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

442 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

444 #ifde‡
_IO_MTSAFE_IO


445 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

446 
	#_IO_Êockfûe
(
_Â
) \

447 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

448 
	#_IO_fu∆ockfûe
(
_Â
) \

449 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

451 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

452 
	#_IO_Êockfûe
(
_Â
Ë

	)

453 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

454 
	#_IO_·rylockfûe
(
_Â
Ë

	)

455 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

456 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

459 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

460 
_IO_va_li°
, *
__ª°ri˘
);

461 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

462 
_IO_va_li°
);

463 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

464 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

466 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

467 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

469 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

471 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


472 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

473 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

474 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

475 #i‡
__GNUC__
 >= 2

478 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


479 
	~<shlib-com∑t.h
>

480 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

481 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

482 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

483 c⁄° 
_IO_°dö_u£d
;

484 
wók_exã∫
 (
_IO_°dö_u£d
);

487 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


488 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

492 
	#_IO_fwide
(
__Â
, 
__mode
) \

493 ({ 
__ªsu…
 = (
__mode
); \

494 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

496 i‡((
__Â
)->
_mode
 == 0) \

498 (
__Â
)->
_mode
 = -1; \

499 
__ªsu…
 = (
__Â
)->
_mode
; \

501 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

502 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

504 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

505 
__ªsu…
; })

	)

508 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

509 
_IO_va_li°
, *
__ª°ri˘
);

510 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

511 
_IO_va_li°
);

512 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

513 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

516 #ifde‡
__LDBL_COMPAT


517 
	~<bôs/libio-ldbl.h
>

520 #ifde‡
__˝lu•lus


	@/usr/include/signal.h

22 #i‚def 
_SIGNAL_H


24 #i‡!
deföed
 
__√ed_sig_©omic_t
 && !deföed 
__√ed_sig£t_t


25 
	#_SIGNAL_H


	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


32 
	~<bôs/sig£t.h
>

36 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
_SIGNAL_H


37 #i‚de‡
__sig_©omic_t_deföed


38 
	#__sig_©omic_t_deföed


	)

39 
__BEGIN_NAMESPACE_STD


40 
__sig_©omic_t
 
	tsig_©omic_t
;

41 
	g__END_NAMESPACE_STD


43 #unde‡
__√ed_sig_©omic_t


46 #i‡
deföed
 
__√ed_sig£t_t
 || (deföed 
_SIGNAL_H
 && deföed 
__USE_POSIX
)

47 #i‚de‡
__sig£t_t_deföed


48 
	#__sig£t_t_deföed


	)

49 
__sig£t_t
 
	tsig£t_t
;

51 #unde‡
__√ed_sig£t_t


54 #ifde‡
_SIGNAL_H


56 
	~<bôs/ty≥s.h
>

57 
	~<bôs/signum.h
>

59 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


60 #i‚de‡
__pid_t_deföed


61 
__pid_t
 
	tpid_t
;

62 
	#__pid_t_deföed


	)

64 #ifde‡
__USE_XOPEN


66 #i‚de‡
__uid_t_deföed


67 
__uid_t
 
	tuid_t
;

68 
	#__uid_t_deföed


	)

72 #ifde‡
__USE_POSIX199309


74 
	#__√ed_time•ec


	)

75 
	~<time.h
>

78 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_XOPEN_EXTENDED


80 
	~<bôs/sigöfo.h
>

85 (*
	t__sigh™dÀr_t
) ();

90 
__sigh™dÀr_t
 
	$__sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

91 
__THROW
;

92 #ifde‡
__USE_GNU


93 
__sigh™dÀr_t
 
	$sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

94 
__THROW
;

100 
__BEGIN_NAMESPACE_STD


101 #ifde‡
__USE_MISC


102 
__sigh™dÀr_t
 
	$sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

103 
__THROW
;

106 #ifde‡
__REDIRECT_NTH


107 
__sigh™dÀr_t
 
	`__REDIRECT_NTH
 (
sig«l
,

108 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
),

109 
__sysv_sig«l
);

111 
	#sig«l
 
__sysv_sig«l


	)

114 
__END_NAMESPACE_STD


116 #ifde‡
__USE_XOPEN


119 
__sigh™dÀr_t
 
	$bsd_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

120 
__THROW
;

126 #ifde‡
__USE_POSIX


127 
	$kûl
 (
__pid_t
 
__pid
, 
__sig
Ë
__THROW
;

130 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


134 
	$kûÕg
 (
__pid_t
 
__pgΩ
, 
__sig
Ë
__THROW
;

137 
__BEGIN_NAMESPACE_STD


139 
	$øi£
 (
__sig
Ë
__THROW
;

140 
__END_NAMESPACE_STD


142 #ifde‡
__USE_MISC


144 
__sigh™dÀr_t
 
	$ssig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

145 
__THROW
;

146 
	$gsig«l
 (
__sig
Ë
__THROW
;

149 #ifde‡
__USE_XOPEN2K8


151 
	`psig«l
 (
__sig
, c⁄° *
__s
);

154 
	`psigöfo
 (c⁄° 
sigöfo_t
 *
__pöfo
, c⁄° *
__s
);

166 #ifde‡
__USE_XOPEN


167 #ifde‡
__GNUC__


168 
	$sig∑u£
 (
__sig
Ë
	`__asm__
 ("__xpg_sigpause");

170 
	`__sig∑u£
 (
__sig_‹_mask
, 
__is_sig
);

172 
	#sig∑u£
(
sig
Ë
	`__sig∑u£
 ((sig), 1)

	)

177 #ifde‡
__USE_MISC


184 
	#sigmask
(
sig
Ë
	`__sigmask
(sig)

	)

187 
	$sigblock
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

190 
	$sig£tmask
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

193 
	$siggëmask
 (Ë
__THROW
 
__©åibuã_dïªˇãd__
;

197 #ifde‡
__USE_MISC


198 
	#NSIG
 
_NSIG


	)

201 #ifde‡
__USE_GNU


202 
__sigh™dÀr_t
 
	tsigh™dÀr_t
;

206 #ifde‡
__USE_MISC


207 
__sigh™dÀr_t
 
	tsig_t
;

210 #ifde‡
__USE_POSIX


213 
	$sigem±y£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

216 
	$sigfûl£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

219 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

222 
	$sigdñ£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

225 
	$sigismembî
 (c⁄° 
sig£t_t
 *
__£t
, 
__signo
)

226 
__THROW
 
	`__n⁄nuŒ
 ((1));

228 #ifde‡
__USE_GNU


230 
	$sigi£m±y£t
 (c⁄° 
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

233 
	$sig™d£t
 (
sig£t_t
 *
__£t
, c⁄° sig£t_à*
__À·
,

234 c⁄° 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

237 
	$sig‹£t
 (
sig£t_t
 *
__£t
, c⁄° sig£t_à*
__À·
,

238 c⁄° 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

243 
	~<bôs/siga˘i⁄.h
>

246 
	$sig¥ocmask
 (
__how
, c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

247 
sig£t_t
 *
__ª°ri˘
 
__o£t
Ë
__THROW
;

254 
	$sigsu•íd
 (c⁄° 
sig£t_t
 *
__£t
Ë
	`__n⁄nuŒ
 ((1));

257 
	$siga˘i⁄
 (
__sig
, c⁄° 
siga˘i⁄
 *
__ª°ri˘
 
__a˘
,

258 
siga˘i⁄
 *
__ª°ri˘
 
__ﬂ˘
Ë
__THROW
;

261 
	$sig≥ndög
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

268 
	$sigwaô
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
, *__ª°ri˘ 
__sig
)

269 
	`__n⁄nuŒ
 ((1, 2));

271 #ifde‡
__USE_POSIX199309


276 
	$sigwaôöfo
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

277 
sigöfo_t
 *
__ª°ri˘
 
__öfo
Ë
	`__n⁄nuŒ
 ((1));

284 
	$sigtimedwaô
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

285 
sigöfo_t
 *
__ª°ri˘
 
__öfo
,

286 c⁄° 
time•ec
 *
__ª°ri˘
 
__timeout
)

287 
	`__n⁄nuŒ
 ((1));

291 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, c⁄° 
sigvÆ
 
__vÆ
)

292 
__THROW
;

297 #ifde‡
__USE_MISC


301 c⁄° *c⁄° 
_sys_sigli°
[
_NSIG
];

302 c⁄° *c⁄° 
sys_sigli°
[
_NSIG
];

306 
	~<bôs/sigc⁄ãxt.h
>

309 
	$sigªtu∫
 (
sigc⁄ãxt
 *
__s˝
Ë
__THROW
;

314 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


315 
	#__√ed_size_t


	)

316 
	~<°ddef.h
>

321 
	$sigöãºu±
 (
__sig
, 
__öãºu±
Ë
__THROW
;

323 
	~<bôs/sig°ack.h
>

324 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


326 
	~<sys/uc⁄ãxt.h
>

332 
	$sig°ack
 (
sig°ack
 *
__ss
, sig°ack *
__oss
)

333 
__THROW
 
__©åibuã_dïªˇãd__
;

337 
	$sigÆt°ack
 (c⁄° 
sigÆt°ack
 *
__ª°ri˘
 
__ss
,

338 
sigÆt°ack
 *
__ª°ri˘
 
__oss
Ë
__THROW
;

342 #ifde‡
__USE_XOPEN_EXTENDED


346 
	$sighﬁd
 (
__sig
Ë
__THROW
;

349 
	$sigªl£
 (
__sig
Ë
__THROW
;

352 
	$sigign‹e
 (
__sig
Ë
__THROW
;

355 
__sigh™dÀr_t
 
	$sig£t
 (
__sig
, 
__sigh™dÀr_t
 
__di•
Ë
__THROW
;

358 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


361 
	~<bôs/±hªadty≥s.h
>

362 
	~<bôs/sigthªad.h
>

369 
	$__libc_cuºít_sigπmö
 (Ë
__THROW
;

371 
	$__libc_cuºít_sigπmax
 (Ë
__THROW
;

375 
__END_DECLS


	@/usr/include/sys/select.h

21 #i‚de‡
_SYS_SELECT_H


22 
	#_SYS_SELECT_H
 1

	)

24 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

30 
	~<bôs/£À˘.h
>

33 
	~<bôs/sig£t.h
>

35 #i‚de‡
__sig£t_t_deföed


36 
	#__sig£t_t_deföed


	)

37 
__sig£t_t
 
	tsig£t_t
;

41 
	#__√ed_time_t


	)

42 #ifde‡
__USE_XOPEN2K


43 
	#__√ed_time•ec


	)

45 
	~<time.h
>

46 
	#__√ed_timevÆ


	)

47 
	~<bôs/time.h
>

49 #i‚de‡
__su£c⁄ds_t_deföed


50 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

51 
	#__su£c⁄ds_t_deföed


	)

56 
	t__fd_mask
;

59 #unde‡
__NFDBITS


61 
	#__NFDBITS
 (8 * (Ë (
__fd_mask
))

	)

62 
	#__FD_ELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

63 
	#__FD_MASK
(
d
Ë((
__fd_mask
Ë(1UL << ((dË% 
__NFDBITS
)))

	)

70 #ifde‡
__USE_XOPEN


71 
__fd_mask
 
	mfds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

72 
	#__FDS_BITS
(
£t
Ë((£t)->
fds_bôs
)

	)

74 
__fd_mask
 
	m__fds_bôs
[
__FD_SETSIZE
 / 
__NFDBITS
];

75 
	#__FDS_BITS
(
£t
Ë((£t)->
__fds_bôs
)

	)

77 } 
	tfd_£t
;

80 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

82 #ifde‡
__USE_MISC


84 
__fd_mask
 
	tfd_mask
;

87 
	#NFDBITS
 
__NFDBITS


	)

92 
	#FD_SET
(
fd
, 
fd£ç
Ë
	`__FD_SET
 (fd, fd£ç)

	)

93 
	#FD_CLR
(
fd
, 
fd£ç
Ë
	`__FD_CLR
 (fd, fd£ç)

	)

94 
	#FD_ISSET
(
fd
, 
fd£ç
Ë
	`__FD_ISSET
 (fd, fd£ç)

	)

95 
	#FD_ZERO
(
fd£ç
Ë
	`__FD_ZERO
 (fd£ç)

	)

98 
__BEGIN_DECLS


108 
£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

109 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

110 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

111 
timevÆ
 *
__ª°ri˘
 
__timeout
);

113 #ifde‡
__USE_XOPEN2K


120 
p£À˘
 (
__nfds
, 
fd_£t
 *
__ª°ri˘
 
__ªadfds
,

121 
fd_£t
 *
__ª°ri˘
 
__wrôefds
,

122 
fd_£t
 *
__ª°ri˘
 
__ex˚±fds
,

123 c⁄° 
time•ec
 *
__ª°ri˘
 
__timeout
,

124 c⁄° 
__sig£t_t
 *
__ª°ri˘
 
__sigmask
);

129 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__GNUC__


130 
	~<bôs/£À˘2.h
>

133 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

19 #i‚de‡
_SYS_SYSMACROS_H


20 
	#_SYS_SYSMACROS_H
 1

	)

22 
	~<„©uªs.h
>

24 
__BEGIN_DECLS


26 
__exãnsi⁄__


27 
	$gnu_dev_maj‹
 (
__dev
)

28 
__THROW
 
__©åibuã_c⁄°__
;

29 
__exãnsi⁄__


30 
	$gnu_dev_mö‹
 (
__dev
)

31 
__THROW
 
__©åibuã_c⁄°__
;

32 
__exãnsi⁄__


33 
	$gnu_dev_makedev
 (
__maj‹
,

34 
__mö‹
)

35 
__THROW
 
__©åibuã_c⁄°__
;

37 #ifde‡
__USE_EXTERN_INLINES


38 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

39 
	`__NTH
 (
	$gnu_dev_maj‹
 (
__dev
))

41  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

42 
	}
}

44 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

45 
__NTH
 (
	$gnu_dev_mö‹
 (
__dev
))

47  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

48 
	}
}

50 
__exãnsi⁄__
 
__exã∫_ölöe
 
__©åibuã_c⁄°__
 

51 
__NTH
 (
	$gnu_dev_makedev
 (
__maj‹
, 
__mö‹
))

53  ((
__mö‹
 & 0xffË| ((
__maj‹
 & 0xfff) << 8)

54 | (((Ë(
__mö‹
 & ~0xff)) << 12)

55 | (((Ë(
__maj‹
 & ~0xfff)) << 32));

56 
	}
}

58 
	g__END_DECLS


61 
	#maj‹
(
dev
Ë
	`gnu_dev_maj‹
 (dev)

	)

62 
	#mö‹
(
dev
Ë
	`gnu_dev_mö‹
 (dev)

	)

63 
	#makedev
(
maj
, 
mö
Ë
	`gnu_dev_makedev
 (maj, mö)

	)

	@/usr/include/xlocale.h

20 #i‚de‡
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loˇÀ_°ru˘


30 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

33 c⁄° *
	m__˘y≥_b
;

34 c⁄° *
	m__˘y≥_tﬁowî
;

35 c⁄° *
	m__˘y≥_touµî
;

38 c⁄° *
	m__«mes
[13];

39 } *
	t__loˇÀ_t
;

42 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

23 
__off_t
 
	m__pos
;

24 
__mb°©e_t
 
	m__°©e
;

25 } 
	t_G_Âos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb°©e_t
 
	m__°©e
;

30 } 
	t_G_Âos64_t
;

31 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gc⁄v.h
>

35 
__gc⁄v_öfo
 
	m__cd
;

38 
__gc⁄v_öfo
 
	m__cd
;

39 
__gc⁄v_°ï_d©a
 
	m__d©a
;

40 } 
	m__comböed
;

41 } 
	t_G_ic⁄v_t
;

46 
	#_G_va_li°
 
__gnuc_va_li°


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/bits/byteswap.h

19 #i‡!
deföed
 
_BYTESWAP_H
 && !deföed 
_NETINET_IN_H
 && !deföed 
_ENDIAN_H


23 #i‚de‡
_BITS_BYTESWAP_H


24 
	#_BITS_BYTESWAP_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

28 
	~<bôs/w‹dsize.h
>

31 
	#__bsw≠_c⁄°™t_16
(
x
) \

32 ((Ë((((
x
Ë>> 8Ë& 0xffË| (((xË& 0xffË<< 8)))

	)

35 
	~<bôs/byãsw≠-16.h
>

38 
	#__bsw≠_c⁄°™t_32
(
x
) \

39 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

40 (((
x
Ë& 0x0000ff00Ë<< 8Ë| (((xË& 0x000000ffË<< 24))

	)

42 #ifde‡
__GNUC__


43 #i‡
__GNUC_PREREQ
 (4, 3)

44 
__ölöe
 

45 
	$__bsw≠_32
 (
__bsx
)

47  
	`__buûtö_bsw≠32
 (
__bsx
);

48 
	}
}

49 #ñi‡
__GNUC__
 >= 2

50 #i‡
__WORDSIZE
 =64 || (
deföed
 
__i486__
 || deföed 
__≥¡ium__
 \

51 || 
deföed
 
	g__≥¡ium¥o__
 || deföed 
	g__≥¡ium4__
 \

52 || 
deföed
 
	g__k8__
 || deföed 
	g__©hl⁄__
 \

53 || 
deföed
 
	g__k6__
 || deföed 
	g__noc⁄a__
 \

54 || 
deföed
 
	g__c‹e2__
 || deföed 
	g__geode__
 \

55 || 
deföed
 
	g__amdÁm10__
)

58 
	#__bsw≠_32
(
x
) \

59 (
__exãnsi⁄__
 \

60 ({ 
__v
, 
__x
 = (
x
); \

61 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

62 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

64 
	`__asm__
 ("bsw≠ %0" : "Ù" (
__v
Ë: "0" (
__x
)); \

65 
__v
; }))

	)

67 
	#__bsw≠_32
(
x
) \

68 (
__exãnsi⁄__
 \

69 ({ 
__v
, 
__x
 = (
x
); \

70 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

71 
__v
 = 
	`__bsw≠_c⁄°™t_32
 (
__x
); \

73 
	`__asm__
 ("rorw $8, %w0;" \

76 : "Ù" (
__v
) \

77 : "0" (
__x
) \

79 
__v
; }))

	)

82 
	#__bsw≠_32
(
x
) \

83 (
__exãnsi⁄__
 \

84 ({ 
__x
 = (
x
); 
	`__bsw≠_c⁄°™t_32
 (__x); }))

	)

87 
__ölöe
 

88 
	$__bsw≠_32
 (
__bsx
)

90  
	`__bsw≠_c⁄°™t_32
 (
__bsx
);

91 
	}
}

95 #i‡
__GNUC_PREREQ
 (2, 0)

97 
	#__bsw≠_c⁄°™t_64
(
x
) \

98 (
	`__exãnsi⁄__
 ((((
x
) & 0xff00000000000000ull) >> 56) \

99 | (((
x
) & 0x00ff000000000000ull) >> 40) \

100 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

101 | (((
x
) & 0x000000ff00000000ull) >> 8) \

102 | (((
x
) & 0x00000000ff000000ull) << 8) \

103 | (((
x
) & 0x0000000000ff0000ull) << 24) \

104 | (((
x
) & 0x000000000000ff00ull) << 40) \

105 | (((
x
Ë& 0x00000000000000ffuŒË<< 56)))

	)

107 #i‡
__GNUC_PREREQ
 (4, 3)

108 
__ölöe
 
__uöt64_t


109 
	$__bsw≠_64
 (
__uöt64_t
 
__bsx
)

111  
	`__buûtö_bsw≠64
 (
__bsx
);

112 
	}
}

113 #ñi‡
__WORDSIZE
 == 64

114 
	#__bsw≠_64
(
x
) \

115 (
__exãnsi⁄__
 \

116 ({ 
__uöt64_t
 
__v
, 
__x
 = (
x
); \

117 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

118 
__v
 = 
	`__bsw≠_c⁄°™t_64
 (
__x
); \

120 
	`__asm__
 ("bsw≠ %q0" : "Ù" (
__v
Ë: "0" (
__x
)); \

121 
__v
; }))

	)

123 
	#__bsw≠_64
(
x
) \

124 (
__exãnsi⁄__
 \

125 ({ uni⁄ { 
__exãnsi⁄__
 
__uöt64_t
 
__Œ
; \

126 
__l
[2]; } 
__w
, 
__r
; \

127 i‡(
	`__buûtö_c⁄°™t_p
 (
x
)) \

128 
__r
.
__Œ
 = 
	`__bsw≠_c⁄°™t_64
 (
x
); \

131 
__w
.
__Œ
 = (
x
); \

132 
__r
.
__l
[0] = 
	`__bsw≠_32
 (
__w
.__l[1]); \

133 
__r
.
__l
[1] = 
	`__bsw≠_32
 (
__w
.__l[0]); \

135 
__r
.
__Œ
; }))

	)

138 
	#__bsw≠_c⁄°™t_64
(
x
) \

139 ((((
x
) & 0xff00000000000000ull) >> 56) \

140 | (((
x
) & 0x00ff000000000000ull) >> 40) \

141 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

142 | (((
x
) & 0x000000ff00000000ull) >> 8) \

143 | (((
x
) & 0x00000000ff000000ull) << 8) \

144 | (((
x
) & 0x0000000000ff0000ull) << 24) \

145 | (((
x
) & 0x000000000000ff00ull) << 40) \

146 | (((
x
Ë& 0x00000000000000ffuŒË<< 56))

	)

148 
__ölöe
 
__uöt64_t


149 
	$__bsw≠_64
 (
__uöt64_t
 
__bsx
)

151  
	`__bsw≠_c⁄°™t_64
 (
__bsx
);

152 
	}
}

	@/usr/include/bits/endian.h

3 #i‚de‡
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/fcntl-linux.h

19 #i‚def 
_FCNTL_H


37 #ifde‡
__USE_GNU


38 
	~<bôs/uio.h
>

42 
	#O_ACCMODE
 0003

	)

43 
	#O_RDONLY
 00

	)

44 
	#O_WRONLY
 01

	)

45 
	#O_RDWR
 02

	)

46 #i‚de‡
O_CREAT


47 
	#O_CREAT
 0100

	)

49 #i‚de‡
O_EXCL


50 
	#O_EXCL
 0200

	)

52 #i‚de‡
O_NOCTTY


53 
	#O_NOCTTY
 0400

	)

55 #i‚de‡
O_TRUNC


56 
	#O_TRUNC
 01000

	)

58 #i‚de‡
O_APPEND


59 
	#O_APPEND
 02000

	)

61 #i‚de‡
O_NONBLOCK


62 
	#O_NONBLOCK
 04000

	)

64 #i‚de‡
O_NDELAY


65 
	#O_NDELAY
 
O_NONBLOCK


	)

67 #i‚de‡
O_SYNC


68 
	#O_SYNC
 04010000

	)

70 
	#O_FSYNC
 
O_SYNC


	)

71 #i‚de‡
O_ASYNC


72 
	#O_ASYNC
 020000

	)

74 #i‚de‡
__O_LARGEFILE


75 
	#__O_LARGEFILE
 0100000

	)

78 #i‚de‡
__O_DIRECTORY


79 
	#__O_DIRECTORY
 0200000

	)

81 #i‚de‡
__O_NOFOLLOW


82 
	#__O_NOFOLLOW
 0400000

	)

84 #i‚de‡
__O_CLOEXEC


85 
	#__O_CLOEXEC
 02000000

	)

87 #i‚de‡
__O_DIRECT


88 
	#__O_DIRECT
 040000

	)

90 #i‚de‡
__O_NOATIME


91 
	#__O_NOATIME
 01000000

	)

93 #i‚de‡
__O_PATH


94 
	#__O_PATH
 010000000

	)

96 #i‚de‡
__O_DSYNC


97 
	#__O_DSYNC
 010000

	)

99 #i‚de‡
__O_TMPFILE


100 
	#__O_TMPFILE
 (020000000 | 
__O_DIRECTORY
)

	)

103 #i‚de‡
F_GETLK


104 #i‚de‡
__USE_FILE_OFFSET64


105 
	#F_GETLK
 5

	)

106 
	#F_SETLK
 6

	)

107 
	#F_SETLKW
 7

	)

109 
	#F_GETLK
 
F_GETLK64


	)

110 
	#F_SETLK
 
F_SETLK64


	)

111 
	#F_SETLKW
 
F_SETLKW64


	)

114 #i‚de‡
F_GETLK64


115 
	#F_GETLK64
 12

	)

116 
	#F_SETLK64
 13

	)

117 
	#F_SETLKW64
 14

	)

131 #ifde‡
__USE_GNU


132 
	#F_OFD_GETLK
 36

	)

133 
	#F_OFD_SETLK
 37

	)

134 
	#F_OFD_SETLKW
 38

	)

137 #ifde‡
__USE_LARGEFILE64


138 
	#O_LARGEFILE
 
__O_LARGEFILE


	)

141 #ifde‡
__USE_XOPEN2K8


142 
	#O_DIRECTORY
 
__O_DIRECTORY


	)

143 
	#O_NOFOLLOW
 
__O_NOFOLLOW


	)

144 
	#O_CLOEXEC
 
__O_CLOEXEC


	)

147 #ifde‡
__USE_GNU


148 
	#O_DIRECT
 
__O_DIRECT


	)

149 
	#O_NOATIME
 
__O_NOATIME


	)

150 
	#O_PATH
 
__O_PATH


	)

151 
	#O_TMPFILE
 
__O_TMPFILE


	)

157 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


158 
	#O_DSYNC
 
__O_DSYNC


	)

159 #i‡
deföed
 
__O_RSYNC


160 
	#O_RSYNC
 
__O_RSYNC


	)

162 
	#O_RSYNC
 
O_SYNC


	)

167 
	#F_DUPFD
 0

	)

168 
	#F_GETFD
 1

	)

169 
	#F_SETFD
 2

	)

170 
	#F_GETFL
 3

	)

171 
	#F_SETFL
 4

	)

173 #i‚de‡
__F_SETOWN


174 
	#__F_SETOWN
 8

	)

175 
	#__F_GETOWN
 9

	)

178 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


179 
	#F_SETOWN
 
__F_SETOWN


	)

180 
	#F_GETOWN
 
__F_GETOWN


	)

183 #i‚de‡
__F_SETSIG


184 
	#__F_SETSIG
 10

	)

185 
	#__F_GETSIG
 11

	)

187 #i‚de‡
__F_SETOWN_EX


188 
	#__F_SETOWN_EX
 15

	)

189 
	#__F_GETOWN_EX
 16

	)

192 #ifde‡
__USE_GNU


193 
	#F_SETSIG
 
__F_SETSIG


	)

194 
	#F_GETSIG
 
__F_GETSIG


	)

195 
	#F_SETOWN_EX
 
__F_SETOWN_EX


	)

196 
	#F_GETOWN_EX
 
__F_GETOWN_EX


	)

199 #ifde‡
__USE_GNU


200 
	#F_SETLEASE
 1024

	)

201 
	#F_GETLEASE
 1025

	)

202 
	#F_NOTIFY
 1026

	)

203 
	#F_SETPIPE_SZ
 1031

	)

204 
	#F_GETPIPE_SZ
 1032

	)

206 #ifde‡
__USE_XOPEN2K8


207 
	#F_DUPFD_CLOEXEC
 1030

	)

212 
	#FD_CLOEXEC
 1

	)

214 #i‚de‡
F_RDLCK


216 
	#F_RDLCK
 0

	)

217 
	#F_WRLCK
 1

	)

218 
	#F_UNLCK
 2

	)

223 #i‚de‡
F_EXLCK


224 
	#F_EXLCK
 4

	)

225 
	#F_SHLCK
 8

	)

228 #ifde‡
__USE_MISC


230 
	#LOCK_SH
 1

	)

231 
	#LOCK_EX
 2

	)

232 
	#LOCK_NB
 4

	)

234 
	#LOCK_UN
 8

	)

237 #ifde‡
__USE_GNU


238 
	#LOCK_MAND
 32

	)

239 
	#LOCK_READ
 64

	)

240 
	#LOCK_WRITE
 128

	)

241 
	#LOCK_RW
 192

	)

244 #ifde‡
__USE_GNU


246 
	#DN_ACCESS
 0x00000001

	)

247 
	#DN_MODIFY
 0x00000002

	)

248 
	#DN_CREATE
 0x00000004

	)

249 
	#DN_DELETE
 0x00000008

	)

250 
	#DN_RENAME
 0x00000010

	)

251 
	#DN_ATTRIB
 0x00000020

	)

252 
	#DN_MULTISHOT
 0x80000000

	)

256 #ifde‡
__USE_GNU


258 
	e__pid_ty≥


260 
	mF_OWNER_TID
 = 0,

261 
	mF_OWNER_PID
,

262 
	mF_OWNER_PGRP
,

263 
	mF_OWNER_GID
 = 
F_OWNER_PGRP


267 
	sf_ow√r_ex


269 
__pid_ty≥
 
	mty≥
;

270 
__pid_t
 
	mpid
;

276 #ifdef 
__USE_MISC


277 
	#FAPPEND
 
O_APPEND


	)

278 
	#FFSYNC
 
O_FSYNC


	)

279 
	#FASYNC
 
O_ASYNC


	)

280 
	#FNONBLOCK
 
O_NONBLOCK


	)

281 
	#FNDELAY
 
O_NDELAY


	)

284 #i‚de‡
__POSIX_FADV_DONTNEED


285 
	#__POSIX_FADV_DONTNEED
 4

	)

286 
	#__POSIX_FADV_NOREUSE
 5

	)

289 #ifde‡
__USE_XOPEN2K


290 
	#POSIX_FADV_NORMAL
 0

	)

291 
	#POSIX_FADV_RANDOM
 1

	)

292 
	#POSIX_FADV_SEQUENTIAL
 2

	)

293 
	#POSIX_FADV_WILLNEED
 3

	)

294 
	#POSIX_FADV_DONTNEED
 
__POSIX_FADV_DONTNEED


	)

295 
	#POSIX_FADV_NOREUSE
 
__POSIX_FADV_NOREUSE


	)

299 #ifde‡
__USE_GNU


301 
	#SYNC_FILE_RANGE_WAIT_BEFORE
 1

	)

304 
	#SYNC_FILE_RANGE_WRITE
 2

	)

307 
	#SYNC_FILE_RANGE_WAIT_AFTER
 4

	)

312 
	#SPLICE_F_MOVE
 1

	)

313 
	#SPLICE_F_NONBLOCK
 2

	)

316 
	#SPLICE_F_MORE
 4

	)

317 
	#SPLICE_F_GIFT
 8

	)

321 
	#FALLOC_FL_KEEP_SIZE
 1

	)

324 
	#FALLOC_FL_PUNCH_HOLE
 2

	)

325 
	#FALLOC_FL_COLLAPSE_RANGE
 8

	)

328 
	#FALLOC_FL_ZERO_RANGE
 16

	)

333 
	sfûe_h™dÀ


335 
	mh™dÀ_byãs
;

336 
	mh™dÀ_ty≥
;

338 
	mf_h™dÀ
[0];

342 
	#MAX_HANDLE_SZ
 128

	)

346 #ifde‡
__USE_ATFILE


347 
	#AT_FDCWD
 -100

	)

350 
	#AT_SYMLINK_NOFOLLOW
 0x100

	)

351 
	#AT_REMOVEDIR
 0x200

	)

353 
	#AT_SYMLINK_FOLLOW
 0x400

	)

354 #ifde‡
__USE_GNU


355 
	#AT_NO_AUTOMOUNT
 0x800

	)

357 
	#AT_EMPTY_PATH
 0x1000

	)

359 
	#AT_EACCESS
 0x200

	)

363 
	g__BEGIN_DECLS


365 #ifde‡
__USE_GNU


368 
ssize_t
 
	$ªadahód
 (
__fd
, 
__off64_t
 
__off£t
, 
size_t
 
__cou¡
)

369 
__THROW
;

376 
	`sync_fûe_ønge
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__cou¡
,

377 
__Êags
);

384 
ssize_t
 
	`vm•li˚
 (
__fdout
, c⁄° 
iovec
 *
__iov
,

385 
size_t
 
__cou¡
, 
__Êags
);

391 
ssize_t
 
	`•li˚
 (
__fdö
, 
__off64_t
 *
__offö
, 
__fdout
,

392 
__off64_t
 *
__offout
, 
size_t
 
__Àn
,

393 
__Êags
);

399 
ssize_t
 
	`ãe
 (
__fdö
, 
__fdout
, 
size_t
 
__Àn
,

400 
__Êags
);

406 #i‚de‡
__USE_FILE_OFFSET64


407 
	`ÁŒoˇã
 (
__fd
, 
__mode
, 
__off_t
 
__off£t
, __off_à
__Àn
);

409 #ifde‡
__REDIRECT


410 
	`__REDIRECT
 (
ÁŒoˇã
, (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

411 
__off64_t
 
__Àn
),

412 
ÁŒoˇã64
);

414 
	#ÁŒoˇã
 
ÁŒoˇã64


	)

417 #ifde‡
__USE_LARGEFILE64


418 
	`ÁŒoˇã64
 (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

419 
__off64_t
 
__Àn
);

424 
	$«me_to_h™dÀ_©
 (
__dfd
, c⁄° *
__«me
,

425 
fûe_h™dÀ
 *
__h™dÀ
, *
__m¡_id
,

426 
__Êags
Ë
__THROW
;

432 
	`›í_by_h™dÀ_©
 (
__mou¡dúfd
, 
fûe_h™dÀ
 *
__h™dÀ
,

433 
__Êags
);

437 
__END_DECLS


	@/usr/include/bits/libio-ldbl.h

19 #i‚de‡
_IO_STDIO_H


23 
	$__LDBL_REDIR_DECL
 (
_IO_vfsˇnf
)

24 
	`__LDBL_REDIR_DECL
 (
_IO_vÂrötf
)

	@/usr/include/bits/libm-simd-decl-stubs.h

19 #i‚de‡
_MATH_H


33 #i‚de‡
_BITS_LIBM_SIMD_DECL_STUBS_H


34 
	#_BITS_LIBM_SIMD_DECL_STUBS_H
 1

	)

36 
	#__DECL_SIMD_cos


	)

37 
	#__DECL_SIMD_cosf


	)

38 
	#__DECL_SIMD_co¶


	)

40 
	#__DECL_SIMD_sö


	)

41 
	#__DECL_SIMD_söf


	)

42 
	#__DECL_SIMD_söl


	)

44 
	#__DECL_SIMD_söcos


	)

45 
	#__DECL_SIMD_söcosf


	)

46 
	#__DECL_SIMD_söco¶


	)

48 
	#__DECL_SIMD_log


	)

49 
	#__DECL_SIMD_logf


	)

50 
	#__DECL_SIMD_logl


	)

52 
	#__DECL_SIMD_exp


	)

53 
	#__DECL_SIMD_expf


	)

54 
	#__DECL_SIMD_ex∂


	)

56 
	#__DECL_SIMD_pow


	)

57 
	#__DECL_SIMD_powf


	)

58 
	#__DECL_SIMD_powl


	)

	@/usr/include/bits/local_lim.h

24 #i‚de‡
NR_OPEN


25 
	#__undef_NR_OPEN


	)

27 #i‚de‡
LINK_MAX


28 
	#__undef_LINK_MAX


	)

30 #i‚de‡
OPEN_MAX


31 
	#__undef_OPEN_MAX


	)

33 #i‚de‡
ARG_MAX


34 
	#__undef_ARG_MAX


	)

38 
	~<löux/limôs.h
>

41 #ifde‡
__undef_NR_OPEN


42 #unde‡
NR_OPEN


43 #unde‡
__undef_NR_OPEN


46 #ifde‡
__undef_LINK_MAX


47 #unde‡
LINK_MAX


48 #unde‡
__undef_LINK_MAX


51 #ifde‡
__undef_OPEN_MAX


52 #unde‡
OPEN_MAX


53 #unde‡
__undef_OPEN_MAX


56 #ifde‡
__undef_ARG_MAX


57 #unde‡
ARG_MAX


58 #unde‡
__undef_ARG_MAX


62 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

64 
	#PTHREAD_KEYS_MAX
 1024

	)

67 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

69 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

72 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

74 #unde‡
PTHREAD_THREADS_MAX


78 
	#AIO_PRIO_DELTA_MAX
 20

	)

81 
	#PTHREAD_STACK_MIN
 16384

	)

84 
	#DELAYTIMER_MAX
 2147483647

	)

87 
	#TTY_NAME_MAX
 32

	)

90 
	#LOGIN_NAME_MAX
 256

	)

93 
	#HOST_NAME_MAX
 64

	)

96 
	#MQ_PRIO_MAX
 32768

	)

99 
	#SEM_VALUE_MAX
 (2147483647)

	)

	@/usr/include/bits/select.h

18 #i‚de‡
_SYS_SELECT_H


22 
	~<bôs/w‹dsize.h
>

25 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

27 #i‡
__WORDSIZE
 == 64

28 
	#__FD_ZERO_STOS
 "°osq"

	)

30 
	#__FD_ZERO_STOS
 "°o¶"

	)

33 
	#__FD_ZERO
(
fd•
) \

35 
__d0
, 
__d1
; \

36 
__asm__
 
	`__vﬁ©ûe__
 ("˛d;Ñï; " 
__FD_ZERO_STOS
 \

37 : "=c" (
__d0
), "=D" (
__d1
) \

38 : "a" (0), "0" ( (
fd_£t
) \

39 /  (
__fd_mask
)), \

40 "1" (&
	`__FDS_BITS
 (
fd•
)[0]) \

42 } 0)

	)

48 
	#__FD_ZERO
(
£t
) \

50 
__i
; \

51 
fd_£t
 *
__¨r
 = (
£t
); \

52 
__i
 = 0; __ò<  (
fd_£t
Ë/  (
__fd_mask
); ++__i) \

53 
	`__FDS_BITS
 (
__¨r
)[
__i
] = 0; \

54 } 0)

	)

58 
	#__FD_SET
(
d
, 
£t
) \

59 ((Ë(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] |
	`__FD_MASK
 (d)))

	)

60 
	#__FD_CLR
(
d
, 
£t
) \

61 ((Ë(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] &~
	`__FD_MASK
 (d)))

	)

62 
	#__FD_ISSET
(
d
, 
£t
) \

63 ((
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] & 
	`__FD_MASK
 (d)Ë!0)

	)

	@/usr/include/bits/select2.h

19 #i‚de‡
_SYS_SELECT_H


24 
__fdñt_chk
 (
__d
);

25 
	$__fdñt_w¨n
 (
__d
)

26 
	`__w¨«âr
 ("bit outside of fd_set selected");

27 #unde‡
__FD_ELT


28 
	#__FD_ELT
(
d
) \

29 
__exãnsi⁄__
 \

30 ({ 
__d
 = (
d
); \

31 (
	`__buûtö_c⁄°™t_p
 (
__d
) \

32 ? (0 <
__d
 && __d < 
__FD_SETSIZE
 \

33 ? (
__d
 / 
__NFDBITS
) \

34 : 
	`__fdñt_w¨n
 (
__d
)) \

35 : 
	`__fdñt_chk
 (
__d
)); 
	}
})

	)

	@/usr/include/bits/sigaction.h

19 #i‚de‡
_SIGNAL_H


24 
	ssiga˘i⁄


27 #ifde‡
__USE_POSIX199309


31 
__sigh™dÀr_t
 
	mß_h™dÀr
;

33 (*
	mß_siga˘i⁄
Ë(, 
	msigöfo_t
 *, *);

35 
	m__siga˘i⁄_h™dÀr
;

36 
	#ß_h™dÀr
 
__siga˘i⁄_h™dÀr
.
ß_h™dÀr


	)

37 
	#ß_siga˘i⁄
 
__siga˘i⁄_h™dÀr
.
ß_siga˘i⁄


	)

39 
__sigh™dÀr_t
 
	mß_h™dÀr
;

43 
__sig£t_t
 
	mß_mask
;

46 
	mß_Êags
;

49 (*
	mß_ª°‹î
) ();

53 
	#SA_NOCLDSTOP
 1

	)

54 
	#SA_NOCLDWAIT
 2

	)

55 
	#SA_SIGINFO
 4

	)

57 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_MISC


58 
	#SA_ONSTACK
 0x08000000

	)

60 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


61 
	#SA_RESTART
 0x10000000

	)

62 
	#SA_NODEFER
 0x40000000

	)

64 
	#SA_RESETHAND
 0x80000000

	)

66 #ifde‡
__USE_MISC


67 
	#SA_INTERRUPT
 0x20000000

	)

70 
	#SA_NOMASK
 
SA_NODEFER


	)

71 
	#SA_ONESHOT
 
SA_RESETHAND


	)

72 
	#SA_STACK
 
SA_ONSTACK


	)

76 
	#SIG_BLOCK
 0

	)

77 
	#SIG_UNBLOCK
 1

	)

78 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

18 #i‚de‡
_BITS_SIGCONTEXT_H


19 
	#_BITS_SIGCONTEXT_H
 1

	)

21 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
_SYS_UCONTEXT_H


25 
	#FP_XSTATE_MAGIC1
 0x46505853U

	)

26 
	#FP_XSTATE_MAGIC2
 0x46505845U

	)

27 
	#FP_XSTATE_MAGIC2_SIZE
 (
FP_XSTATE_MAGIC2
)

	)

29 
	s_Âx_sw_byãs


31 
__uöt32_t
 
	mmagic1
;

32 
__uöt32_t
 
	mexãnded_size
;

33 
__uöt64_t
 
	mx°©e_bv
;

34 
__uöt32_t
 
	mx°©e_size
;

35 
__uöt32_t
 
	m∑ddög
[7];

38 
	s_Âªg


40 
	msignifiˇnd
[4];

41 
	mexp⁄ít
;

44 
	s_Âxªg


46 
	msignifiˇnd
[4];

47 
	mexp⁄ít
;

48 
	m∑ddög
[3];

51 
	s_xmmªg


53 
__uöt32_t
 
	mñemít
[4];

58 #i‚de‡
__x86_64__


60 
	s_Â°©e


63 
__uöt32_t
 
	mcw
;

64 
__uöt32_t
 
	msw
;

65 
__uöt32_t
 
	mèg
;

66 
__uöt32_t
 
	mùoff
;

67 
__uöt32_t
 
	mcs£l
;

68 
__uöt32_t
 
	md©aoff
;

69 
__uöt32_t
 
	md©a£l
;

70 
_Âªg
 
	m_°
[8];

71 
	m°©us
;

72 
	mmagic
;

75 
__uöt32_t
 
	m_fx§_ív
[6];

76 
__uöt32_t
 
	mmxc§
;

77 
__uöt32_t
 
	mª£rved
;

78 
_Âxªg
 
	m_fx§_°
[8];

79 
_xmmªg
 
	m_xmm
[8];

80 
__uöt32_t
 
	m∑ddög
[56];

83 #i‚de‡
sigc⁄ãxt_°ru˘


88 
	#sigc⁄ãxt_°ru˘
 
sigc⁄ãxt


	)

91 
	#X86_FXSR_MAGIC
 0x0000

	)

93 
	ssigc⁄ãxt


95 
	mgs
, 
	m__gsh
;

96 
	mfs
, 
	m__fsh
;

97 
	mes
, 
	m__esh
;

98 
	mds
, 
	m__dsh
;

99 
	medi
;

100 
	mesi
;

101 
	mebp
;

102 
	me•
;

103 
	mebx
;

104 
	medx
;

105 
	mecx
;

106 
	móx
;

107 
	må≠no
;

108 
	mîr
;

109 
	meù
;

110 
	mcs
, 
	m__csh
;

111 
	meÊags
;

112 
	me•_©_sig«l
;

113 
	mss
, 
	m__ssh
;

114 
_Â°©e
 * 
	mÂ°©e
;

115 
	mﬁdmask
;

116 
	m¸2
;

121 
	s_Â°©e


124 
__uöt16_t
 
	mcwd
;

125 
__uöt16_t
 
	mswd
;

126 
__uöt16_t
 
	m·w
;

127 
__uöt16_t
 
	mf›
;

128 
__uöt64_t
 
	mrù
;

129 
__uöt64_t
 
	mrdp
;

130 
__uöt32_t
 
	mmxc§
;

131 
__uöt32_t
 
	mmx¸_mask
;

132 
_Âxªg
 
	m_°
[8];

133 
_xmmªg
 
	m_xmm
[16];

134 
__uöt32_t
 
	m∑ddög
[24];

137 
	ssigc⁄ãxt


139 
__uöt64_t
 
	mr8
;

140 
__uöt64_t
 
	mr9
;

141 
__uöt64_t
 
	mr10
;

142 
__uöt64_t
 
	mr11
;

143 
__uöt64_t
 
	mr12
;

144 
__uöt64_t
 
	mr13
;

145 
__uöt64_t
 
	mr14
;

146 
__uöt64_t
 
	mr15
;

147 
__uöt64_t
 
	mrdi
;

148 
__uöt64_t
 
	mrsi
;

149 
__uöt64_t
 
	mrbp
;

150 
__uöt64_t
 
	mrbx
;

151 
__uöt64_t
 
	mrdx
;

152 
__uöt64_t
 
	møx
;

153 
__uöt64_t
 
	mrcx
;

154 
__uöt64_t
 
	mr•
;

155 
__uöt64_t
 
	mrù
;

156 
__uöt64_t
 
	meÊags
;

157 
	mcs
;

158 
	mgs
;

159 
	mfs
;

160 
	m__∑d0
;

161 
__uöt64_t
 
	mîr
;

162 
__uöt64_t
 
	må≠no
;

163 
__uöt64_t
 
	mﬁdmask
;

164 
__uöt64_t
 
	m¸2
;

165 
__exãnsi⁄__
 union

167 
_Â°©e
 * 
	mÂ°©e
;

168 
__uöt64_t
 
	m__Â°©e_w‹d
;

170 
__uöt64_t
 
	m__ª£rved1
 [8];

175 
	s_xßve_hdr


177 
__uöt64_t
 
	mx°©e_bv
;

178 
__uöt64_t
 
	mª£rved1
[2];

179 
__uöt64_t
 
	mª£rved2
[5];

182 
	s_ymmh_°©e


184 
__uöt32_t
 
	mymmh_•a˚
[64];

187 
	s_x°©e


189 
_Â°©e
 
	mÂ°©e
;

190 
_xßve_hdr
 
	mx°©e_hdr
;

191 
_ymmh_°©e
 
	mymmh
;

	@/usr/include/bits/signum.h

19 #ifdef 
_SIGNAL_H


22 
	#SIG_ERR
 ((
__sigh™dÀr_t
Ë-1Ë

	)

23 
	#SIG_DFL
 ((
__sigh™dÀr_t
Ë0Ë

	)

24 
	#SIG_IGN
 ((
__sigh™dÀr_t
Ë1Ë

	)

26 #ifde‡
__USE_UNIX98


27 
	#SIG_HOLD
 ((
__sigh™dÀr_t
Ë2Ë

	)

32 
	#SIGHUP
 1

	)

33 
	#SIGINT
 2

	)

34 
	#SIGQUIT
 3

	)

35 
	#SIGILL
 4

	)

36 
	#SIGTRAP
 5

	)

37 
	#SIGABRT
 6

	)

38 
	#SIGIOT
 6

	)

39 
	#SIGBUS
 7

	)

40 
	#SIGFPE
 8

	)

41 
	#SIGKILL
 9

	)

42 
	#SIGUSR1
 10

	)

43 
	#SIGSEGV
 11

	)

44 
	#SIGUSR2
 12

	)

45 
	#SIGPIPE
 13

	)

46 
	#SIGALRM
 14

	)

47 
	#SIGTERM
 15

	)

48 
	#SIGSTKFLT
 16

	)

49 
	#SIGCLD
 
SIGCHLD


	)

50 
	#SIGCHLD
 17

	)

51 
	#SIGCONT
 18

	)

52 
	#SIGSTOP
 19

	)

53 
	#SIGTSTP
 20

	)

54 
	#SIGTTIN
 21

	)

55 
	#SIGTTOU
 22

	)

56 
	#SIGURG
 23

	)

57 
	#SIGXCPU
 24

	)

58 
	#SIGXFSZ
 25

	)

59 
	#SIGVTALRM
 26

	)

60 
	#SIGPROF
 27

	)

61 
	#SIGWINCH
 28

	)

62 
	#SIGPOLL
 
SIGIO


	)

63 
	#SIGIO
 29

	)

64 
	#SIGPWR
 30

	)

65 
	#SIGSYS
 31

	)

66 
	#SIGUNUSED
 31

	)

68 
	#_NSIG
 65

	)

71 
	#SIGRTMIN
 (
	`__libc_cuºít_sigπmö
 ())

	)

72 
	#SIGRTMAX
 (
	`__libc_cuºít_sigπmax
 ())

	)

76 
	#__SIGRTMIN
 32

	)

77 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

19 #i‚def 
_SIGSET_H_ty≥s


20 
	#_SIGSET_H_ty≥s
 1

	)

22 
	t__sig_©omic_t
;

26 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

29 
	m__vÆ
[
_SIGSET_NWORDS
];

30 } 
	t__sig£t_t
;

41 #i‡!
deföed
 
_SIGSET_H_‚s
 && deföed 
_SIGNAL_H


42 
	#_SIGSET_H_‚s
 1

	)

44 #i‚de‡
_EXTERN_INLINE


45 
	#_EXTERN_INLINE
 
__exã∫_ölöe


	)

49 
	#__sigmask
(
sig
) \

50 (((Ë1Ë<< (((
sig
Ë- 1Ë% (8 *  ())))

	)

53 
	#__sigw‹d
(
sig
Ë(((sigË- 1Ë/ (8 *  ()))

	)

55 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

56 
	#__sigem±y£t
(
£t
) \

57 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

58 
sig£t_t
 *
__£t
 = (
£t
); \

59 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = 0; \

60 0; }))

	)

61 
	#__sigfûl£t
(
£t
) \

62 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

63 
sig£t_t
 *
__£t
 = (
£t
); \

64 --
__˙t
 >0Ë
__£t
->
__vÆ
[__cnt] = ~0UL; \

65 0; }))

	)

67 #ifde‡
__USE_GNU


71 
	#__sigi£m±y£t
(
£t
) \

72 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

73 c⁄° 
sig£t_t
 *
__£t
 = (
£t
); \

74 
__ªt
 = 
__£t
->
__vÆ
[--
__˙t
]; \

75 !
__ªt
 && --
__˙t
 >= 0) \

76 
__ªt
 = 
__£t
->
__vÆ
[
__˙t
]; \

77 
__ªt
 =0; }))

	)

78 
	#__sig™d£t
(
de°
, 
À·
, 
right
) \

79 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

80 
sig£t_t
 *
__de°
 = (
de°
); \

81 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

82 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

83 --
__˙t
 >= 0) \

84 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

85 & 
__right
->
__vÆ
[
__˙t
]); \

86 0; }))

	)

87 
	#__sig‹£t
(
de°
, 
À·
, 
right
) \

88 (
	`__exãnsi⁄__
 ({ 
__˙t
 = 
_SIGSET_NWORDS
; \

89 
sig£t_t
 *
__de°
 = (
de°
); \

90 c⁄° 
sig£t_t
 *
__À·
 = (
À·
); \

91 c⁄° 
sig£t_t
 *
__right
 = (
right
); \

92 --
__˙t
 >= 0) \

93 
__de°
->
__vÆ
[
__˙t
] = (
__À·
->__val[__cnt] \

94 | 
__right
->
__vÆ
[
__˙t
]); \

95 0; }))

	)

102 
__sigismembî
 (c⁄° 
__sig£t_t
 *, );

103 
__sigadd£t
 (
__sig£t_t
 *, );

104 
__sigdñ£t
 (
__sig£t_t
 *, );

106 #ifde‡
__USE_EXTERN_INLINES


107 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

108 
_EXTERN_INLINE
 \

109 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

111 
__mask
 = 
	`__sigmask
 (
__sig
); \

112 
__w‹d
 = 
	`__sigw‹d
 (
__sig
); \

113  
BODY
; \

114 }

	)

116 
__SIGSETFN
 (
__sigismembî
, (
__£t
->
__vÆ
[
__w‹d
] & 
__mask
) ? 1 : 0, const)

117 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__vÆ
[
__w‹d
] |
__mask
), 0), )

118 
__SIGSETFN
 (
__sigdñ£t
, ((
__£t
->
__vÆ
[
__w‹d
] &~
__mask
), 0), )

120 #unde‡
__SIGSETFN


	@/usr/include/bits/sigstack.h

19 #i‚de‡
_SIGNAL_H


25 
	ssig°ack


27 *
	mss_•
;

28 
	mss_⁄°ack
;

35 
	mSS_ONSTACK
 = 1,

36 
	#SS_ONSTACK
 
SS_ONSTACK


	)

37 
	mSS_DISABLE


38 
	#SS_DISABLE
 
SS_DISABLE


	)

42 
	#MINSIGSTKSZ
 2048

	)

45 
	#SIGSTKSZ
 8192

	)

49 
	ssigÆt°ack


51 *
	mss_•
;

52 
	mss_Êags
;

53 
size_t
 
	mss_size
;

54 } 
	t°ack_t
;

	@/usr/include/bits/sigthread.h

19 #i‚de‡
_BITS_SIGTHREAD_H


20 
	#_BITS_SIGTHREAD_H
 1

	)

22 #i‡!
deföed
 
_SIGNAL_H
 && !deföed 
_PTHREAD_H


30 
	$±hªad_sigmask
 (
__how
,

31 c⁄° 
__sig£t_t
 *
__ª°ri˘
 
__√wmask
,

32 
__sig£t_t
 *
__ª°ri˘
 
__ﬁdmask
)
__THROW
;

35 
	$±hªad_kûl
 (
±hªad_t
 
__thªadid
, 
__signo
Ë
__THROW
;

37 #ifde‡
__USE_GNU


39 
	$±hªad_sigqueue
 (
±hªad_t
 
__thªadid
, 
__signo
,

40 c⁄° 
sigvÆ
 
__vÆue
Ë
__THROW
;

	@/usr/include/bits/timex.h

18 #i‚def 
_BITS_TIMEX_H


19 
	#_BITS_TIMEX_H
 1

	)

21 
	~<bôs/ty≥s.h
>

25 
	stimex


27 
	mmodes
;

28 
__sysˇŒ_¶⁄g_t
 
	moff£t
;

29 
__sysˇŒ_¶⁄g_t
 
	m‰eq
;

30 
__sysˇŒ_¶⁄g_t
 
	mmaxîr‹
;

31 
__sysˇŒ_¶⁄g_t
 
	me°îr‹
;

32 
	m°©us
;

33 
__sysˇŒ_¶⁄g_t
 
	mc⁄°™t
;

34 
__sysˇŒ_¶⁄g_t
 
	m¥ecisi⁄
;

35 
__sysˇŒ_¶⁄g_t
 
	mtﬁî™˚
;

36 
timevÆ
 
	mtime
;

37 
__sysˇŒ_¶⁄g_t
 
	mtick
;

38 
__sysˇŒ_¶⁄g_t
 
	mµs‰eq
;

39 
__sysˇŒ_¶⁄g_t
 
	mjôãr
;

40 
	mshi·
;

41 
__sysˇŒ_¶⁄g_t
 
	m°abû
;

42 
__sysˇŒ_¶⁄g_t
 
	mjô˙t
;

43 
__sysˇŒ_¶⁄g_t
 
	mˇl˙t
;

44 
__sysˇŒ_¶⁄g_t
 
	mîr˙t
;

45 
__sysˇŒ_¶⁄g_t
 
	m°b˙t
;

47 
	mèi
;

56 
	#ADJ_OFFSET
 0x0001

	)

57 
	#ADJ_FREQUENCY
 0x0002

	)

58 
	#ADJ_MAXERROR
 0x0004

	)

59 
	#ADJ_ESTERROR
 0x0008

	)

60 
	#ADJ_STATUS
 0x0010

	)

61 
	#ADJ_TIMECONST
 0x0020

	)

62 
	#ADJ_TAI
 0x0080

	)

63 
	#ADJ_SETOFFSET
 0x0100

	)

64 
	#ADJ_MICRO
 0x1000

	)

65 
	#ADJ_NANO
 0x2000

	)

66 
	#ADJ_TICK
 0x4000

	)

67 
	#ADJ_OFFSET_SINGLESHOT
 0x8001

	)

68 
	#ADJ_OFFSET_SS_READ
 0xa001

	)

71 
	#MOD_OFFSET
 
ADJ_OFFSET


	)

72 
	#MOD_FREQUENCY
 
ADJ_FREQUENCY


	)

73 
	#MOD_MAXERROR
 
ADJ_MAXERROR


	)

74 
	#MOD_ESTERROR
 
ADJ_ESTERROR


	)

75 
	#MOD_STATUS
 
ADJ_STATUS


	)

76 
	#MOD_TIMECONST
 
ADJ_TIMECONST


	)

77 
	#MOD_CLKB
 
ADJ_TICK


	)

78 
	#MOD_CLKA
 
ADJ_OFFSET_SINGLESHOT


	)

79 
	#MOD_TAI
 
ADJ_TAI


	)

80 
	#MOD_MICRO
 
ADJ_MICRO


	)

81 
	#MOD_NANO
 
ADJ_NANO


	)

85 
	#STA_PLL
 0x0001

	)

86 
	#STA_PPSFREQ
 0x0002

	)

87 
	#STA_PPSTIME
 0x0004

	)

88 
	#STA_FLL
 0x0008

	)

90 
	#STA_INS
 0x0010

	)

91 
	#STA_DEL
 0x0020

	)

92 
	#STA_UNSYNC
 0x0040

	)

93 
	#STA_FREQHOLD
 0x0080

	)

95 
	#STA_PPSSIGNAL
 0x0100

	)

96 
	#STA_PPSJITTER
 0x0200

	)

97 
	#STA_PPSWANDER
 0x0400

	)

98 
	#STA_PPSERROR
 0x0800

	)

100 
	#STA_CLOCKERR
 0x1000

	)

101 
	#STA_NANO
 0x2000

	)

102 
	#STA_MODE
 0x4000

	)

103 
	#STA_CLK
 0x8000

	)

106 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

107 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

	@/usr/include/bits/typesizes.h

19 #i‚de‡
_BITS_TYPES_H


23 #i‚def 
_BITS_TYPESIZES_H


24 
	#_BITS_TYPESIZES_H
 1

	)

30 #i‡
deföed
 
__x86_64__
 && deföed 
__ILP32__


31 
	#__SYSCALL_SLONG_TYPE
 
__SQUAD_TYPE


	)

32 
	#__SYSCALL_ULONG_TYPE
 
__UQUAD_TYPE


	)

34 
	#__SYSCALL_SLONG_TYPE
 
__SLONGWORD_TYPE


	)

35 
	#__SYSCALL_ULONG_TYPE
 
__ULONGWORD_TYPE


	)

38 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

39 
	#__UID_T_TYPE
 
__U32_TYPE


	)

40 
	#__GID_T_TYPE
 
__U32_TYPE


	)

41 
	#__INO_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

42 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

43 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

44 #ifde‡
__x86_64__


45 
	#__NLINK_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

46 
	#__FSWORD_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

48 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

49 
	#__FSWORD_T_TYPE
 
__SWORD_TYPE


	)

51 
	#__OFF_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

52 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

53 
	#__PID_T_TYPE
 
__S32_TYPE


	)

54 
	#__RLIM_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

55 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

56 
	#__BLKCNT_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

57 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

58 
	#__FSBLKCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

59 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

60 
	#__FSFILCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

61 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

62 
	#__ID_T_TYPE
 
__U32_TYPE


	)

63 
	#__CLOCK_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

64 
	#__TIME_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

65 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

66 
	#__SUSECONDS_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

67 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

68 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

69 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

70 
	#__TIMER_T_TYPE
 *

	)

71 
	#__BLKSIZE_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

72 
	#__FSID_T_TYPE
 såu˘ { 
__vÆ
[2]; }

	)

73 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

74 
	#__CPU_MASK_TYPE
 
__SYSCALL_ULONG_TYPE


	)

76 #ifde‡
__x86_64__


80 
	#__OFF_T_MATCHES_OFF64_T
 1

	)

83 
	#__INO_T_MATCHES_INO64_T
 1

	)

87 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/gnu/stubs.h

6 #i‡!
deföed
 
__x86_64__


7 
	~<gnu/°ubs-32.h
>

9 #i‡
deföed
 
__x86_64__
 && deföed 
__LP64__


10 
	~<gnu/°ubs-64.h
>

12 #i‡
deföed
 
__x86_64__
 && deföed 
__ILP32__


13 
	~<gnu/°ubs-x32.h
>

	@/usr/include/linux/errno.h

1 
	~<asm/î∫o.h
>

	@/usr/include/stdc-predef.h

18 #i‚def 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifde‡
__GCC_IEC_559


37 #i‡
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifde‡
__GCC_IEC_559_COMPLEX


45 #i‡
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

57 
	#__STDC_ISO_10646__
 201605L

	)

60 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/sys/cdefs.h

18 #i‚def 
_SYS_CDEFS_H


19 
	#_SYS_CDEFS_H
 1

	)

22 #i‚de‡
_FEATURES_H


23 
	~<„©uªs.h
>

29 #i‡
deföed
 
__GNUC__
 && !deföed 
__STDC__


34 #unde‡
__P


35 #unde‡
__PMT


37 #ifde‡
__GNUC__


41 #i‡
__GNUC_PREREQ
 (4, 6Ë&& !
deföed
 
_LIBC


42 
	#__LEAF
 , 
__Àaf__


	)

43 
	#__LEAF_ATTR
 
	`__©åibuã__
 ((
__Àaf__
))

	)

45 
	#__LEAF


	)

46 
	#__LEAF_ATTR


	)

54 #i‡!
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (3, 3)

55 
	#__THROW
 
	`__©åibuã__
 ((
__nŸhrow__
 
__LEAF
))

	)

56 
	#__THROWNL
 
	`__©åibuã__
 ((
__nŸhrow__
))

	)

57 
	#__NTH
(
f˘
Ë
	`__©åibuã__
 ((
__nŸhrow__
 
__LEAF
)Ë
	)
fct

59 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

60 
	#__THROW
 
	`throw
 ()

	)

61 
	#__THROWNL
 
	`throw
 ()

	)

62 
	#__NTH
(
f˘
Ë
__LEAF_ATTR
 f˘ 
	`throw
 ()

	)

64 
	#__THROW


	)

65 
	#__THROWNL


	)

66 
	#__NTH
(
f˘
Ë
	)
fct

72 
	#__ölöe


	)

74 
	#__THROW


	)

75 
	#__THROWNL


	)

76 
	#__NTH
(
f˘
Ë
	)
fct

82 
	#__P
(
¨gs
Ë
	)
args

83 
	#__PMT
(
¨gs
Ë
	)
args

88 
	#__CONCAT
(
x
,
y
Ëx ## 
	)
y

89 
	#__STRING
(
x
Ë#x

	)

92 
	#__±r_t
 *

	)

93 
	#__l⁄g_doubÀ_t
 

	)

97 #ifdef 
__˝lu•lus


98 
	#__BEGIN_DECLS
 "C" {

	)

99 
	#__END_DECLS
 }

	)

101 
	#__BEGIN_DECLS


	)

102 
	#__END_DECLS


	)

111 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES


112 
	#__BEGIN_NAMESPACE_STD
 
«me•a˚
 
°d
 {

	)

113 
	#__END_NAMESPACE_STD
 }

	)

114 
	#__USING_NAMESPACE_STD
(
«me
Ë
usög
 
°d
::«me;

	)

115 
	#__BEGIN_NAMESPACE_C99
 
«me•a˚
 
__c99
 {

	)

116 
	#__END_NAMESPACE_C99
 }

	)

117 
	#__USING_NAMESPACE_C99
(
«me
Ë
usög
 
__c99
::«me;

	)

122 
	#__BEGIN_NAMESPACE_STD


	)

123 
	#__END_NAMESPACE_STD


	)

124 
	#__USING_NAMESPACE_STD
(
«me
)

	)

125 
	#__BEGIN_NAMESPACE_C99


	)

126 
	#__END_NAMESPACE_C99


	)

127 
	#__USING_NAMESPACE_C99
(
«me
)

	)

132 
	#__bos
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
Ë
	`__buûtö_obje˘_size
 (±r, 0)

	)

135 #i‡
__GNUC_PREREQ
 (4,3)

136 
	#__w¨nde˛
(
«me
, 
msg
) \

137 
	`«me
 (Ë
	`__©åibuã__
((
	`__w¨nög__
 (
msg
)))

	)

138 
	#__w¨«âr
(
msg
Ë
	`__©åibuã__
((
	`__w¨nög__
 (msg)))

	)

139 
	#__îr‹de˛
(
«me
, 
msg
) \

140 
	`«me
 (Ë
	`__©åibuã__
((
	`__îr‹__
 (
msg
)))

	)

142 
	#__w¨nde˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

143 
	#__w¨«âr
(
msg
)

	)

144 
	#__îr‹de˛
(
«me
, 
msg
Ë
	`«me
 ()

	)

148 #i‡
__GNUC_PREREQ
 (2,97)

150 
	#__Êex¨r
 []

	)

152 #ifde‡
__GNUC__


153 
	#__Êex¨r
 [0]

	)

155 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

156 
	#__Êex¨r
 []

	)

159 
	#__Êex¨r
 [1]

	)

175 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

177 
	#__REDIRECT
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

178 #ifde‡
__˝lu•lus


179 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

180 
«me
 
¥Ÿo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

181 
	#__REDIRECT_NTHNL
(
«me
, 
¥Ÿo
, 
Æüs
) \

182 
«me
 
¥Ÿo
 
__THROWNL
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs))

	)

184 
	#__REDIRECT_NTH
(
«me
, 
¥Ÿo
, 
Æüs
) \

185 
«me
 
¥Ÿo
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs)Ë
__THROW


	)

186 
	#__REDIRECT_NTHNL
(
«me
, 
¥Ÿo
, 
Æüs
) \

187 
«me
 
¥Ÿo
 
	`__asm__
 (
	`__ASMNAME
 (#Æüs)Ë
__THROWNL


	)

189 
	#__ASMNAME
(
˙ame
Ë
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, c«me)

	)

190 
	#__ASMNAME2
(
¥efix
, 
˙ame
Ë
	`__STRING
 (¥efixË
	)
cname

203 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

204 
	#__©åibuã__
(
xyz
Ë

	)

210 #i‡
__GNUC_PREREQ
 (2,96)

211 
	#__©åibuã_mÆloc__
 
	`__©åibuã__
 ((
__mÆloc__
))

	)

213 
	#__©åibuã_mÆloc__


	)

218 #i‡
__GNUC_PREREQ
 (4, 3)

219 
	#__©åibuã_Æloc_size__
(
∑øms
) \

220 
	`__©åibuã__
 ((
__Æloc_size__
 
∑øms
))

	)

222 
	#__©åibuã_Æloc_size__
(
∑øms
Ë

	)

228 #i‡
__GNUC_PREREQ
 (2,96)

229 
	#__©åibuã_puª__
 
	`__©åibuã__
 ((
__puª__
))

	)

231 
	#__©åibuã_puª__


	)

235 #i‡
__GNUC_PREREQ
 (2,5)

236 
	#__©åibuã_c⁄°__
 
	`__©åibuã__
 ((
__c⁄°__
))

	)

238 
	#__©åibuã_c⁄°__


	)

244 #i‡
__GNUC_PREREQ
 (3,1)

245 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__u£d__
))

	)

246 
	#__©åibuã_noölöe__
 
	`__©åibuã__
 ((
__noölöe__
))

	)

248 
	#__©åibuã_u£d__
 
	`__©åibuã__
 ((
__unu£d__
))

	)

249 
	#__©åibuã_noölöe__


	)

253 #i‡
__GNUC_PREREQ
 (3,2)

254 
	#__©åibuã_dïªˇãd__
 
	`__©åibuã__
 ((
__dïªˇãd__
))

	)

256 
	#__©åibuã_dïªˇãd__


	)

265 #i‡
__GNUC_PREREQ
 (2,8)

266 
	#__©åibuã_f‹m©_¨g__
(
x
Ë
	`__©åibuã__
 ((
	`__f‹m©_¨g__
 (x)))

	)

268 
	#__©åibuã_f‹m©_¨g__
(
x
Ë

	)

275 #i‡
__GNUC_PREREQ
 (2,97)

276 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
) \

277 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__°rfm⁄__
, 
a
, 
b
)))

	)

279 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
Ë

	)

284 #i‡
__GNUC_PREREQ
 (3,3)

285 
	#__n⁄nuŒ
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

287 
	#__n⁄nuŒ
(
∑øms
)

	)

292 #i‡
__GNUC_PREREQ
 (3,4)

293 
	#__©åibuã_w¨n_unu£d_ªsu…__
 \

294 
	`__©åibuã__
 ((
__w¨n_unu£d_ªsu…__
))

	)

295 #i‡
__USE_FORTIFY_LEVEL
 > 0

296 
	#__wur
 
__©åibuã_w¨n_unu£d_ªsu…__


	)

299 
	#__©åibuã_w¨n_unu£d_ªsu…__


	)

301 #i‚de‡
__wur


302 
	#__wur


	)

306 #i‡
__GNUC_PREREQ
 (3,2)

310 #unde‡
__Æways_ölöe


311 
	#__Æways_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__Æways_ölöe__
))

	)

313 #unde‡
__Æways_ölöe


314 
	#__Æways_ölöe
 
__ölöe


	)

319 #i‡
__GNUC_PREREQ
 (4,3)

320 
	#__©åibuã_¨tificül__
 
	`__©åibuã__
 ((
__¨tificül__
))

	)

322 
	#__©åibuã_¨tificül__


	)

334 #i‡(!
deföed
 
__˝lu•lus
 || 
__GNUC_PREREQ
 (4,3) \

335 || (
deföed
 
__˛™g__
 && (deföed 
__GNUC_STDC_INLINE__
 \

336 || 
deföed
 
__GNUC_GNU_INLINE__
)))

337 #i‡
deföed
 
__GNUC_STDC_INLINE__
 || deföed 
__˝lu•lus


338 
	#__exã∫_ölöe
 
__ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

339 
	#__exã∫_Æways_ölöe
 \

340 
__Æways_ölöe
 
	`__©åibuã__
 ((
__gnu_ölöe__
))

	)

342 
	#__exã∫_ölöe
 
__ölöe


	)

343 
	#__exã∫_Æways_ölöe
 
__Æways_ölöe


	)

347 #ifde‡
__exã∫_Æways_ölöe


348 
	#__f‹tify_fun˘i⁄
 
__exã∫_Æways_ölöe
 
__©åibuã_¨tificül__


	)

353 #i‡
__GNUC_PREREQ
 (4,3)

354 
	#__va_¨g_∑ck
(Ë
	`__buûtö_va_¨g_∑ck
 ()

	)

355 
	#__va_¨g_∑ck_Àn
(Ë
	`__buûtö_va_¨g_∑ck_Àn
 ()

	)

362 #i‡!
__GNUC_PREREQ
 (2,8)

363 
	#__exãnsi⁄__


	)

367 #i‡!
__GNUC_PREREQ
 (2,92)

368 
	#__ª°ri˘


	)

374 #i‡
__GNUC_PREREQ
 (3,1Ë&& !
deföed
 
__GNUG__


375 
	#__ª°ri˘_¨r
 
__ª°ri˘


	)

377 #ifde‡
__GNUC__


378 
	#__ª°ri˘_¨r


	)

380 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

381 
	#__ª°ri˘_¨r
 
ª°ri˘


	)

384 
	#__ª°ri˘_¨r


	)

389 #i‡
__GNUC__
 >= 3

390 
	#__glibc_u∆ikñy
(
c⁄d
Ë
	`__buûtö_ex≥˘
 ((c⁄d), 0)

	)

391 
	#__glibc_likñy
(
c⁄d
Ë
	`__buûtö_ex≥˘
 ((c⁄d), 1)

	)

393 
	#__glibc_u∆ikñy
(
c⁄d
Ë(c⁄d)

	)

394 
	#__glibc_likñy
(
c⁄d
Ë(c⁄d)

	)

397 #i‡(!
deföed
 
_N‹ëu∫
 \

398 && (
deföed
 
__STDC_VERSION__
 ? __STDC_VERSION__ : 0) < 201112 \

399 && !
	$__GNUC_PREREQ
 (4,7))

400 #i‡
	`__GNUC_PREREQ
 (2,8)

401 
	#_N‹ëu∫
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

	)

403 
	#_N‹ëu∫


	)

407 #i‡(!
deföed
 
_Sètic_as£π
 && !deföed 
__˝lu•lus
 \

408 && (
deföed
 
__STDC_VERSION__
 ? __STDC_VERSION__ : 0) < 201112 \

409 && (!
	`__GNUC_PREREQ
 (4, 6Ë|| 
deföed
 
__STRICT_ANSI__
))

410 
	#_Sètic_as£π
(
ex¥
, 
dügno°ic
) \

411 (*
	`__Sètic_as£π_fun˘i⁄
 ()) \

412 [!! (°ru˘ { 
__îr‹_if_√g©ive
: (
ex¥
Ë? 2 : -1; })]

	)

415 
	~<bôs/w‹dsize.h
>

417 #i‡
deföed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && deföed 
__NO_LONG_DOUBLE_MATH


418 
	#__LDBL_COMPAT
 1

	)

419 #ifde‡
__REDIRECT


420 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

421 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
) \

422 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

423 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT_NTH
 («me,ÖrŸo,álüs)

	)

424 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
) \

425 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##«me)

	)

426 
	#__LDBL_REDIR1_DECL
(
«me
, 
Æüs
) \

427 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 (#Æüs));

	)

428 
	#__LDBL_REDIR_DECL
(
«me
) \

429 
	`__ty≥of
 (
«me
Ë«mê
	`__asm
 (
	`__ASMNAME
 ("__∆dbl_" #«me));

	)

430 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

431 
	`__LDBL_REDIR1
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

432 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

433 
	`__LDBL_REDIR1_NTH
 (
«me
, 
¥Ÿo
, 
__∆dbl_
##
Æüs
)

	)

436 #i‡!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT


437 
	#__LDBL_REDIR1
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê
	)
proto

438 
	#__LDBL_REDIR
(
«me
, 
¥Ÿo
Ë«mê
	)
proto

439 
	#__LDBL_REDIR1_NTH
(
«me
, 
¥Ÿo
, 
Æüs
Ë«mê¥Ÿÿ
__THROW


	)

440 
	#__LDBL_REDIR_NTH
(
«me
, 
¥Ÿo
Ë«mê¥Ÿÿ
__THROW


	)

441 
	#__LDBL_REDIR_DECL
(
«me
)

	)

442 #ifde‡
__REDIRECT


443 
	#__REDIRECT_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
Ë
	`__REDIRECT
 («me,ÖrŸo,álüs)

	)

444 
	#__REDIRECT_NTH_LDBL
(
«me
, 
¥Ÿo
, 
Æüs
) \

445 
	`__REDIRECT_NTH
 (
«me
, 
¥Ÿo
, 
Æüs
)

	)

	@/usr/include/sys/ucontext.h

18 #i‚de‡
_SYS_UCONTEXT_H


19 
	#_SYS_UCONTEXT_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<sig«l.h
>

26 
	~<bôs/sigc⁄ãxt.h
>

28 #ifde‡
__x86_64__


31 
__exãnsi⁄__
 
	tgªg_t
;

34 
	#NGREG
 23

	)

37 
gªg_t
 
	tgªg£t_t
[
NGREG
];

39 #ifde‡
__USE_GNU


43 
	mREG_R8
 = 0,

44 
	#REG_R8
 
REG_R8


	)

45 
	mREG_R9
,

46 
	#REG_R9
 
REG_R9


	)

47 
	mREG_R10
,

48 
	#REG_R10
 
REG_R10


	)

49 
	mREG_R11
,

50 
	#REG_R11
 
REG_R11


	)

51 
	mREG_R12
,

52 
	#REG_R12
 
REG_R12


	)

53 
	mREG_R13
,

54 
	#REG_R13
 
REG_R13


	)

55 
	mREG_R14
,

56 
	#REG_R14
 
REG_R14


	)

57 
	mREG_R15
,

58 
	#REG_R15
 
REG_R15


	)

59 
	mREG_RDI
,

60 
	#REG_RDI
 
REG_RDI


	)

61 
	mREG_RSI
,

62 
	#REG_RSI
 
REG_RSI


	)

63 
	mREG_RBP
,

64 
	#REG_RBP
 
REG_RBP


	)

65 
	mREG_RBX
,

66 
	#REG_RBX
 
REG_RBX


	)

67 
	mREG_RDX
,

68 
	#REG_RDX
 
REG_RDX


	)

69 
	mREG_RAX
,

70 
	#REG_RAX
 
REG_RAX


	)

71 
	mREG_RCX
,

72 
	#REG_RCX
 
REG_RCX


	)

73 
	mREG_RSP
,

74 
	#REG_RSP
 
REG_RSP


	)

75 
	mREG_RIP
,

76 
	#REG_RIP
 
REG_RIP


	)

77 
	mREG_EFL
,

78 
	#REG_EFL
 
REG_EFL


	)

79 
	mREG_CSGSFS
,

80 
	#REG_CSGSFS
 
REG_CSGSFS


	)

81 
	mREG_ERR
,

82 
	#REG_ERR
 
REG_ERR


	)

83 
	mREG_TRAPNO
,

84 
	#REG_TRAPNO
 
REG_TRAPNO


	)

85 
	mREG_OLDMASK
,

86 
	#REG_OLDMASK
 
REG_OLDMASK


	)

87 
	mREG_CR2


88 
	#REG_CR2
 
REG_CR2


	)

92 
	s_libc_Âxªg


94 
	msignifiˇnd
[4];

95 
	mexp⁄ít
;

96 
	m∑ddög
[3];

99 
	s_libc_xmmªg


101 
__uöt32_t
 
	mñemít
[4];

104 
	s_libc_Â°©e


107 
__uöt16_t
 
	mcwd
;

108 
__uöt16_t
 
	mswd
;

109 
__uöt16_t
 
	m·w
;

110 
__uöt16_t
 
	mf›
;

111 
__uöt64_t
 
	mrù
;

112 
__uöt64_t
 
	mrdp
;

113 
__uöt32_t
 
	mmxc§
;

114 
__uöt32_t
 
	mmx¸_mask
;

115 
_libc_Âxªg
 
	m_°
[8];

116 
_libc_xmmªg
 
	m_xmm
[16];

117 
__uöt32_t
 
	m∑ddög
[24];

121 
_libc_Â°©e
 *
	tÂªg£t_t
;

126 
gªg£t_t
 
	mgªgs
;

128 
Âªg£t_t
 
	mÂªgs
;

129 
__exãnsi⁄__
 
	m__ª£rved1
 [8];

130 } 
	tmc⁄ãxt_t
;

133 
	suc⁄ãxt


135 
	muc_Êags
;

136 
uc⁄ãxt
 *
	muc_lök
;

137 
°ack_t
 
	muc_°ack
;

138 
mc⁄ãxt_t
 
	muc_mc⁄ãxt
;

139 
__sig£t_t
 
	muc_sigmask
;

140 
_libc_Â°©e
 
	m__Âªgs_mem
;

141 } 
	tuc⁄ãxt_t
;

146 
	tgªg_t
;

149 
	#NGREG
 19

	)

152 
gªg_t
 
	tgªg£t_t
[
NGREG
];

154 #ifde‡
__USE_GNU


158 
	mREG_GS
 = 0,

159 
	#REG_GS
 
REG_GS


	)

160 
	mREG_FS
,

161 
	#REG_FS
 
REG_FS


	)

162 
	mREG_ES
,

163 
	#REG_ES
 
REG_ES


	)

164 
	mREG_DS
,

165 
	#REG_DS
 
REG_DS


	)

166 
	mREG_EDI
,

167 
	#REG_EDI
 
REG_EDI


	)

168 
	mREG_ESI
,

169 
	#REG_ESI
 
REG_ESI


	)

170 
	mREG_EBP
,

171 
	#REG_EBP
 
REG_EBP


	)

172 
	mREG_ESP
,

173 
	#REG_ESP
 
REG_ESP


	)

174 
	mREG_EBX
,

175 
	#REG_EBX
 
REG_EBX


	)

176 
	mREG_EDX
,

177 
	#REG_EDX
 
REG_EDX


	)

178 
	mREG_ECX
,

179 
	#REG_ECX
 
REG_ECX


	)

180 
	mREG_EAX
,

181 
	#REG_EAX
 
REG_EAX


	)

182 
	mREG_TRAPNO
,

183 
	#REG_TRAPNO
 
REG_TRAPNO


	)

184 
	mREG_ERR
,

185 
	#REG_ERR
 
REG_ERR


	)

186 
	mREG_EIP
,

187 
	#REG_EIP
 
REG_EIP


	)

188 
	mREG_CS
,

189 
	#REG_CS
 
REG_CS


	)

190 
	mREG_EFL
,

191 
	#REG_EFL
 
REG_EFL


	)

192 
	mREG_UESP
,

193 
	#REG_UESP
 
REG_UESP


	)

194 
	mREG_SS


195 
	#REG_SS
 
REG_SS


	)

200 
	s_libc_Âªg


202 
	msignifiˇnd
[4];

203 
	mexp⁄ít
;

206 
	s_libc_Â°©e


208 
	mcw
;

209 
	msw
;

210 
	mèg
;

211 
	mùoff
;

212 
	mcs£l
;

213 
	md©aoff
;

214 
	md©a£l
;

215 
_libc_Âªg
 
	m_°
[8];

216 
	m°©us
;

220 
_libc_Â°©e
 *
	tÂªg£t_t
;

225 
gªg£t_t
 
	mgªgs
;

228 
Âªg£t_t
 
	mÂªgs
;

229 
	mﬁdmask
;

230 
	m¸2
;

231 } 
	tmc⁄ãxt_t
;

234 
	suc⁄ãxt


236 
	muc_Êags
;

237 
uc⁄ãxt
 *
	muc_lök
;

238 
°ack_t
 
	muc_°ack
;

239 
mc⁄ãxt_t
 
	muc_mc⁄ãxt
;

240 
__sig£t_t
 
	muc_sigmask
;

241 
_libc_Â°©e
 
	m__Âªgs_mem
;

242 } 
	tuc⁄ãxt_t
;

	@/usr/include/asm/errno.h

1 
	~<asm-gíîic/î∫o.h
>

	@/usr/include/bits/byteswap-16.h

19 #i‚de‡
_BITS_BYTESWAP_H


23 #ifde‡
__GNUC__


24 #i‡
__GNUC__
 >= 2

25 
	#__bsw≠_16
(
x
) \

26 (
__exãnsi⁄__
 \

27 ({ 
__v
, 
__x
 = (Ë(
x
); \

28 i‡(
	`__buûtö_c⁄°™t_p
 (
__x
)) \

29 
__v
 = 
	`__bsw≠_c⁄°™t_16
 (
__x
); \

31 
	`__asm__
 ("rorw $8, %w0" \

32 : "Ù" (
__v
) \

33 : "0" (
__x
) \

35 
__v
; }))

	)

38 
	#__bsw≠_16
(
x
) \

39 (
__exãnsi⁄__
 \

40 ({ 
__x
 = (Ë(
x
); \

41 
	`__bsw≠_c⁄°™t_16
 (
__x
); }))

	)

44 
__ölöe
 

45 
	$__bsw≠_16
 (
__bsx
)

47  
	`__bsw≠_c⁄°™t_16
 (
__bsx
);

48 
	}
}

	@/usr/include/bits/uio.h

18 #i‡!
deföed
 
_SYS_UIO_H
 && !deföed 
_FCNTL_H


22 #i‚de‡
_BITS_UIO_H


23 
	#_BITS_UIO_H
 1

	)

25 
	~<sys/ty≥s.h
>

39 
	#UIO_MAXIOV
 1024

	)

43 
	siovec


45 *
	miov_ba£
;

46 
size_t
 
	miov_Àn
;

52 #ifde‡
__USE_GNU


53 #i‡
deföed
 
_SYS_UIO_H
 && !deföed 
_BITS_UIO_H_FOR_SYS_UIO_H


54 
	#_BITS_UIO_H_FOR_SYS_UIO_H
 1

	)

56 
__BEGIN_DECLS


59 
ssize_t
 
	$¥o˚ss_vm_ªadv
 (
pid_t
 
__pid
, c⁄° 
iovec
 *
__lvec
,

60 
__liov˙t
,

61 c⁄° 
iovec
 *
__rvec
,

62 
__riov˙t
,

63 
__Êags
)

64 
__THROW
;

67 
ssize_t
 
	$¥o˚ss_vm_wrôev
 (
pid_t
 
__pid
, c⁄° 
iovec
 *
__lvec
,

68 
__liov˙t
,

69 c⁄° 
iovec
 *
__rvec
,

70 
__riov˙t
,

71 
__Êags
)

72 
__THROW
;

74 
__END_DECLS


	@/usr/include/gconv.h

22 #i‚de‡
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<„©uªs.h
>

26 
	#__√ed_mb°©e_t


	)

27 
	#__√ed_wöt_t


	)

28 
	~<wch¨.h
>

29 
	#__√ed_size_t


	)

30 
	#__√ed_wch¨_t


	)

31 
	~<°ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004,

60 
	m__GCONV_TRANSLIT
 = 0x0008

65 
	g__gc⁄v_°ï
;

66 
	g__gc⁄v_°ï_d©a
;

67 
	g__gc⁄v_lﬂded_obje˘
;

71 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

79 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

80 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

84 
	s__gc⁄v_°ï


86 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

87 c⁄° *
__mod«me
;

89 
__cou¡î
;

91 *
__‰om_«me
;

92 *
__to_«me
;

94 
__gc⁄v_f˘
 
__f˘
;

95 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

96 
__gc⁄v_öô_f˘
 
__öô_f˘
;

97 
__gc⁄v_íd_f˘
 
__íd_f˘
;

101 
__mö_√eded_‰om
;

102 
__max_√eded_‰om
;

103 
__mö_√eded_to
;

104 
__max_√eded_to
;

107 
__°©eful
;

109 *
__d©a
;

114 
	s__gc⁄v_°ï_d©a


116 *
__outbuf
;

117 *
__outbu„nd
;

121 
__Êags
;

125 
__övoˇti⁄_cou¡î
;

129 
__öã∫Æ_u£
;

131 
__mb°©e_t
 *
__°©ï
;

132 
__mb°©e_t
 
__°©e
;

138 
	s__gc⁄v_öfo


140 
size_t
 
__n°ïs
;

141 
__gc⁄v_°ï
 *
__°ïs
;

142 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
[0];

143 } *
	t__gc⁄v_t
;

146 
	`__gc⁄v_å™¶ôî©e
 (
__gc⁄v_°ï
 *
°ï
,

147 
__gc⁄v_°ï_d©a
 *
°ï_d©a
,

148 c⁄° *
öbuf°¨t
,

149 c⁄° **
öbuÂ
,

150 c⁄° *
öbu„nd
,

151 **
outbuf°¨t
,

152 
size_t
 *
úªvîsibÀ
);

	@/usr/include/gnu/stubs-32.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub_chÊags


	)

11 
	#__°ub_Áâach


	)

12 
	#__°ub_fchÊags


	)

13 
	#__°ub_fdëach


	)

14 
	#__°ub_gây


	)

15 
	#__°ub_lchmod


	)

16 
	#__°ub_ªvoke


	)

17 
	#__°ub_£éogö


	)

18 
	#__°ub_sigªtu∫


	)

19 
	#__°ub_s°k


	)

20 
	#__°ub_°ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub___com∑t_bdÊush


	)

11 
	#__°ub_chÊags


	)

12 
	#__°ub_Áâach


	)

13 
	#__°ub_fchÊags


	)

14 
	#__°ub_fdëach


	)

15 
	#__°ub_gëmsg


	)

16 
	#__°ub_gây


	)

17 
	#__°ub_lchmod


	)

18 
	#__°ub_putmsg


	)

19 
	#__°ub_ªvoke


	)

20 
	#__°ub_£éogö


	)

21 
	#__°ub_sigªtu∫


	)

22 
	#__°ub_s°k


	)

23 
	#__°ub_°ty


	)

	@/usr/include/gnu/stubs-x32.h

6 #ifde‡
_LIBC


7 #îr‹ 
Aµliˇti⁄s
 
may
 
nŸ
 
deföe
 
the
 
ma¸o
 
_LIBC


10 
	#__°ub___com∑t_bdÊush


	)

11 
	#__°ub___com∑t_¸óã_moduÀ


	)

12 
	#__°ub___com∑t_gë_kî√l_syms


	)

13 
	#__°ub___com∑t_quîy_moduÀ


	)

14 
	#__°ub___com∑t_u£lib


	)

15 
	#__°ub_chÊags


	)

16 
	#__°ub_Áâach


	)

17 
	#__°ub_fchÊags


	)

18 
	#__°ub_fdëach


	)

19 
	#__°ub_gëmsg


	)

20 
	#__°ub_gây


	)

21 
	#__°ub_lchmod


	)

22 
	#__°ub_nfs£rv˘l


	)

23 
	#__°ub_putmsg


	)

24 
	#__°ub_ªvoke


	)

25 
	#__°ub_£éogö


	)

26 
	#__°ub_sigªtu∫


	)

27 
	#__°ub_s°k


	)

28 
	#__°ub_°ty


	)

	@/usr/include/linux/limits.h

1 #i‚de‡
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/wchar.h

23 #i‚de‡
_WCHAR_H


25 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<„©uªs.h
>

30 #ifde‡
_WCHAR_H


32 
	#__√ed___FILE


	)

33 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


34 
	#__√ed_FILE


	)

36 
	~<°dio.h
>

38 
	#__√ed___va_li°


	)

39 
	~<°d¨g.h
>

41 
	~<bôs/wch¨.h
>

44 
	#__√ed_size_t


	)

45 
	#__√ed_wch¨_t


	)

46 
	#__√ed_NULL


	)

48 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


49 #unde‡
__√ed_wöt_t


50 
	#__√ed_wöt_t


	)

51 
	~<°ddef.h
>

55 #i‚de‡
_WINT_T


60 
	#_WINT_T


	)

61 
	twöt_t
;

65 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
deföed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twöt_t
;

69 
	g__END_NAMESPACE_STD


74 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
____mb°©e_t_deföed


80 
	#____mb°©e_t_deföed
 1

	)

84 
	m__cou¡
;

87 #ifde‡
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wöt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__vÆue
;

94 } 
	t__mb°©e_t
;

96 #unde‡
__√ed_mb°©e_t


101 #ifde‡
_WCHAR_H


103 #i‚de‡
__mb°©e_t_deföed


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb°©e_t_deföed
 1

	)

111 #ifde‡
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

115 #i‚de‡
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #i‚de‡
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


128 
	~<w˘y≥.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
)

149 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

152 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

153 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

154 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

157 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

158 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
)

159 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

161 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

162 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

163 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

166 
	$wcscmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
)

167 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

169 
	$wc¢cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

170 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

171 
__END_NAMESPACE_STD


173 #ifde‡
__USE_XOPEN2K8


175 
	$wcsˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

178 
	$wc¢ˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

179 
size_t
 
__n
Ë
__THROW
;

183 
	~<xloˇÀ.h
>

185 
	$wcsˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

186 
__loˇÀ_t
 
__loc
Ë
__THROW
;

188 
	$wc¢ˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

189 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

192 
__BEGIN_NAMESPACE_STD


195 
	$wcscﬁl
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

199 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

200 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

201 
__END_NAMESPACE_STD


203 #ifde‡
__USE_XOPEN2K8


209 
	$wcscﬁl_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

210 
__loˇÀ_t
 
__loc
Ë
__THROW
;

215 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

216 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

219 
wch¨_t
 *
	$wcsdup
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

222 
__BEGIN_NAMESPACE_STD


224 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


225 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

226 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

227 "C++" c⁄° 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

228 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

230 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

231 
__THROW
 
__©åibuã_puª__
;

234 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


235 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

236 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

237 "C++" c⁄° 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

238 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

240 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

241 
__THROW
 
__©åibuã_puª__
;

243 
__END_NAMESPACE_STD


245 #ifde‡
__USE_GNU


248 
wch¨_t
 *
	$wcsch∫ul
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__wc
)

249 
__THROW
 
__©åibuã_puª__
;

252 
__BEGIN_NAMESPACE_STD


255 
size_t
 
	$wcsc•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ªje˘
)

256 
__THROW
 
__©åibuã_puª__
;

259 
size_t
 
	$wcs•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

260 
__THROW
 
__©åibuã_puª__
;

262 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


263 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

264 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

265 "C++" c⁄° 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
,

266 c⁄° 
wch¨_t
 *
__ac˚±
)

267 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

269 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

270 
__THROW
 
__©åibuã_puª__
;

273 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


274 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

275 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

276 "C++" c⁄° 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
,

277 c⁄° 
wch¨_t
 *
__√edÀ
)

278 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

280 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

281 
__THROW
 
__©åibuã_puª__
;

285 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

286 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

287 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

290 
size_t
 
	$wc¶í
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

291 
__END_NAMESPACE_STD


293 #ifde‡
__USE_XOPEN


295 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


296 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

297 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

298 "C++" c⁄° 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
,

299 c⁄° 
wch¨_t
 *
__√edÀ
)

300 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

302 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

303 
__THROW
 
__©åibuã_puª__
;

307 #ifde‡
__USE_XOPEN2K8


309 
size_t
 
	$wc¢Àn
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

310 
__THROW
 
__©åibuã_puª__
;

314 
__BEGIN_NAMESPACE_STD


316 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


317 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

319 "C++" c⁄° 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
,

320 
size_t
 
__n
)

321 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

323 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

324 
__THROW
 
__©åibuã_puª__
;

328 
	$wmemcmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

329 
__THROW
 
__©åibuã_puª__
;

332 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

333 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

337 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

338 
__THROW
;

341 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

342 
__END_NAMESPACE_STD


344 #ifde‡
__USE_GNU


347 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

348 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

349 
__THROW
;

353 
__BEGIN_NAMESPACE_STD


356 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

360 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

364 
	$mbsöô
 (c⁄° 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

368 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

369 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

370 
mb°©e_t
 *
__ª°ri˘
 
__p
Ë
__THROW
;

373 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

374 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

377 
size_t
 
	$__mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

378 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

379 
size_t
 
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

380 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

381 
__END_NAMESPACE_STD


383 #ifde‡
__USE_EXTERN_INLINES


389 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

390 
__exã∫_ölöe
 
wöt_t


391 
	`__NTH
 (
	$btowc
 (
__c
))

392 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

393 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

395 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

396 
__exã∫_ölöe
 

397 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

398 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

399 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

401 
__exã∫_ölöe
 
size_t


402 
__NTH
 (
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

403 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

404 {  (
__ps
 !
NULL


405 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

408 
__BEGIN_NAMESPACE_STD


411 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

412 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

413 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

417 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

418 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

419 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

420 
__END_NAMESPACE_STD


423 #ifdef 
__USE_XOPEN2K8


426 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

427 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

428 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

432 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

433 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

434 
size_t
 
__nwc
, size_à
__Àn
,

435 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

440 #ifde‡
__USE_XOPEN


442 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

446 
	$wcswidth
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

450 
__BEGIN_NAMESPACE_STD


453 
	$wc°od
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

454 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

455 
__END_NAMESPACE_STD


457 #ifde‡
__USE_ISOC99


458 
__BEGIN_NAMESPACE_C99


460 
	$wc°of
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

461 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

462 
	$wc°ﬁd
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

463 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

464 
__END_NAMESPACE_C99


468 
__BEGIN_NAMESPACE_STD


471 
	$wc°ﬁ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

472 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

476 
	$wc°oul
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

477 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

478 
__THROW
;

479 
__END_NAMESPACE_STD


481 #ifde‡
__USE_ISOC99


482 
__BEGIN_NAMESPACE_C99


485 
__exãnsi⁄__


486 
	$wc°ﬁl
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

487 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

488 
__THROW
;

492 
__exãnsi⁄__


493 
	$wc°ouŒ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

494 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

495 
__ba£
Ë
__THROW
;

496 
__END_NAMESPACE_C99


499 #ifde‡
__USE_GNU


502 
__exãnsi⁄__


503 
	$wc°oq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

504 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

505 
__THROW
;

509 
__exãnsi⁄__


510 
	$wc°ouq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

511 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

512 
__ba£
Ë
__THROW
;

515 #ifde‡
__USE_GNU


529 
	~<xloˇÀ.h
>

533 
	$wc°ﬁ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

534 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

535 
__loˇÀ_t
 
__loc
Ë
__THROW
;

537 
	$wc°oul_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

538 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

539 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

541 
__exãnsi⁄__


542 
	$wc°ﬁl_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

543 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

544 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

546 
__exãnsi⁄__


547 
	$wc°ouŒ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

548 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

549 
__ba£
, 
__loˇÀ_t
 
__loc
)

550 
__THROW
;

552 
	$wc°od_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

553 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

554 
__THROW
;

556 
	$wc°of_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

557 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

558 
__THROW
;

560 
	$wc°ﬁd_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

561 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

562 
__loˇÀ_t
 
__loc
Ë
__THROW
;

566 #ifde‡
__USE_XOPEN2K8


569 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

570 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

574 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

575 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

576 
__THROW
;

583 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

586 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


587 
__BEGIN_NAMESPACE_STD


590 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

597 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

598 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

604 
	`w¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

607 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

608 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

609 
__THROW
 ;

615 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

616 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

617 
__gnuc_va_li°
 
__¨g
)

623 
	`vw¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

624 
__gnuc_va_li°
 
__¨g
)

628 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

629 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

630 
__gnuc_va_li°
 
__¨g
)

631 
__THROW
 ;

638 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

639 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

645 
	`wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

648 
	$swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

649 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

650 
__THROW
 ;

652 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

653 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

654 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

655 #ifde‡
__REDIRECT


659 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

660 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

661 
__isoc99_fwsˇnf
)

663 
	`__REDIRECT
 (
wsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

664 
__isoc99_wsˇnf
)

666 
	`__REDIRECT_NTH
 (
swsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

667 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

668 ...), 
__isoc99_swsˇnf
)

671 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

672 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

673 
	`__isoc99_wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

674 
	$__isoc99_swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

675 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

676 
__THROW
;

677 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

678 
	#wsˇnf
 
__isoc99_wsˇnf


	)

679 
	#swsˇnf
 
__isoc99_swsˇnf


	)

683 
__END_NAMESPACE_STD


686 #ifde‡
__USE_ISOC99


687 
__BEGIN_NAMESPACE_C99


692 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

693 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

694 
__gnuc_va_li°
 
__¨g
)

700 
	`vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

701 
__gnuc_va_li°
 
__¨g
)

704 
	$vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

705 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

706 
__gnuc_va_li°
 
__¨g
)

707 
__THROW
 ;

709 #i‡!
deföed
 
__USE_GNU
 \

710 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

711 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

712 #ifde‡
__REDIRECT


713 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

714 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

715 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

717 
	`__REDIRECT
 (
vwsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

718 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

720 
	`__REDIRECT_NTH
 (
vswsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

721 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

722 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

725 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

726 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

727 
__gnuc_va_li°
 
__¨g
);

728 
	`__isoc99_vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

729 
__gnuc_va_li°
 
__¨g
);

730 
	$__isoc99_vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

731 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

732 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

733 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

734 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

735 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

739 
__END_NAMESPACE_C99


743 
__BEGIN_NAMESPACE_STD


748 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

749 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

755 
wöt_t
 
	`gëwch¨
 ();

762 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

763 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

769 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

777 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

778 
__FILE
 *
__ª°ri˘
 
__°ªam
);

784 
	`Âutws
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

785 
__FILE
 *
__ª°ri˘
 
__°ªam
);

792 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

793 
__END_NAMESPACE_STD


796 #ifde‡
__USE_GNU


804 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

805 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

813 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

821 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

830 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

831 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

840 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

841 
__FILE
 *
__ª°ri˘
 
__°ªam
);

849 
	`Âutws_u∆ocked
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

850 
__FILE
 *
__ª°ri˘
 
__°ªam
);

854 
__BEGIN_NAMESPACE_C99


858 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

859 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

860 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

861 
__END_NAMESPACE_C99


863 #ifde‡
__USE_GNU


864 
	~<xloˇÀ.h
>

868 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

869 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

870 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

871 
__loˇÀ_t
 
__loc
Ë
__THROW
;

880 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


881 
	#__√ed_iswxxx


	)

882 
	~<w˘y≥.h
>

886 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


887 
	~<bôs/wch¨2.h
>

890 #ifde‡
__LDBL_COMPAT


891 
	~<bôs/wch¨-ldbl.h
>

894 
__END_DECLS


902 #unde‡
__√ed_mb°©e_t


903 #unde‡
__√ed_wöt_t


	@/usr/include/asm-generic/errno.h

1 #i‚de‡
_ASM_GENERIC_ERRNO_H


2 
	#_ASM_GENERIC_ERRNO_H


	)

4 
	~<asm-gíîic/î∫o-ba£.h
>

6 
	#EDEADLK
 35

	)

7 
	#ENAMETOOLONG
 36

	)

8 
	#ENOLCK
 37

	)

17 
	#ENOSYS
 38

	)

19 
	#ENOTEMPTY
 39

	)

20 
	#ELOOP
 40

	)

21 
	#EWOULDBLOCK
 
EAGAIN


	)

22 
	#ENOMSG
 42

	)

23 
	#EIDRM
 43

	)

24 
	#ECHRNG
 44

	)

25 
	#EL2NSYNC
 45

	)

26 
	#EL3HLT
 46

	)

27 
	#EL3RST
 47

	)

28 
	#ELNRNG
 48

	)

29 
	#EUNATCH
 49

	)

30 
	#ENOCSI
 50

	)

31 
	#EL2HLT
 51

	)

32 
	#EBADE
 52

	)

33 
	#EBADR
 53

	)

34 
	#EXFULL
 54

	)

35 
	#ENOANO
 55

	)

36 
	#EBADRQC
 56

	)

37 
	#EBADSLT
 57

	)

39 
	#EDEADLOCK
 
EDEADLK


	)

41 
	#EBFONT
 59

	)

42 
	#ENOSTR
 60

	)

43 
	#ENODATA
 61

	)

44 
	#ETIME
 62

	)

45 
	#ENOSR
 63

	)

46 
	#ENONET
 64

	)

47 
	#ENOPKG
 65

	)

48 
	#EREMOTE
 66

	)

49 
	#ENOLINK
 67

	)

50 
	#EADV
 68

	)

51 
	#ESRMNT
 69

	)

52 
	#ECOMM
 70

	)

53 
	#EPROTO
 71

	)

54 
	#EMULTIHOP
 72

	)

55 
	#EDOTDOT
 73

	)

56 
	#EBADMSG
 74

	)

57 
	#EOVERFLOW
 75

	)

58 
	#ENOTUNIQ
 76

	)

59 
	#EBADFD
 77

	)

60 
	#EREMCHG
 78

	)

61 
	#ELIBACC
 79

	)

62 
	#ELIBBAD
 80

	)

63 
	#ELIBSCN
 81

	)

64 
	#ELIBMAX
 82

	)

65 
	#ELIBEXEC
 83

	)

66 
	#EILSEQ
 84

	)

67 
	#ERESTART
 85

	)

68 
	#ESTRPIPE
 86

	)

69 
	#EUSERS
 87

	)

70 
	#ENOTSOCK
 88

	)

71 
	#EDESTADDRREQ
 89

	)

72 
	#EMSGSIZE
 90

	)

73 
	#EPROTOTYPE
 91

	)

74 
	#ENOPROTOOPT
 92

	)

75 
	#EPROTONOSUPPORT
 93

	)

76 
	#ESOCKTNOSUPPORT
 94

	)

77 
	#EOPNOTSUPP
 95

	)

78 
	#EPFNOSUPPORT
 96

	)

79 
	#EAFNOSUPPORT
 97

	)

80 
	#EADDRINUSE
 98

	)

81 
	#EADDRNOTAVAIL
 99

	)

82 
	#ENETDOWN
 100

	)

83 
	#ENETUNREACH
 101

	)

84 
	#ENETRESET
 102

	)

85 
	#ECONNABORTED
 103

	)

86 
	#ECONNRESET
 104

	)

87 
	#ENOBUFS
 105

	)

88 
	#EISCONN
 106

	)

89 
	#ENOTCONN
 107

	)

90 
	#ESHUTDOWN
 108

	)

91 
	#ETOOMANYREFS
 109

	)

92 
	#ETIMEDOUT
 110

	)

93 
	#ECONNREFUSED
 111

	)

94 
	#EHOSTDOWN
 112

	)

95 
	#EHOSTUNREACH
 113

	)

96 
	#EALREADY
 114

	)

97 
	#EINPROGRESS
 115

	)

98 
	#ESTALE
 116

	)

99 
	#EUCLEAN
 117

	)

100 
	#ENOTNAM
 118

	)

101 
	#ENAVAIL
 119

	)

102 
	#EISNAM
 120

	)

103 
	#EREMOTEIO
 121

	)

104 
	#EDQUOT
 122

	)

106 
	#ENOMEDIUM
 123

	)

107 
	#EMEDIUMTYPE
 124

	)

108 
	#ECANCELED
 125

	)

109 
	#ENOKEY
 126

	)

110 
	#EKEYEXPIRED
 127

	)

111 
	#EKEYREVOKED
 128

	)

112 
	#EKEYREJECTED
 129

	)

115 
	#EOWNERDEAD
 130

	)

116 
	#ENOTRECOVERABLE
 131

	)

118 
	#ERFKILL
 132

	)

120 
	#EHWPOISON
 133

	)

	@/usr/include/bits/wchar-ldbl.h

19 #i‚de‡
_WCHAR_H


23 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


24 
__BEGIN_NAMESPACE_C99


25 
__LDBL_REDIR_DECL
 (
fw¥ötf
);

26 
__LDBL_REDIR_DECL
 (
w¥ötf
);

27 
__LDBL_REDIR_DECL
 (
sw¥ötf
);

28 
__LDBL_REDIR_DECL
 (
vfw¥ötf
);

29 
__LDBL_REDIR_DECL
 (
vw¥ötf
);

30 
__LDBL_REDIR_DECL
 (
vsw¥ötf
);

31 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

32 && !
deföed
 
	g__REDIRECT
 \

33 && (
deföed
 
	g__STRICT_ANSI__
 || deföed 
	g__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fwsˇnf
, 
__∆dbl___isoc99_fwsˇnf
)

35 
	$__LDBL_REDIR1_DECL
 (
wsˇnf
, 
__∆dbl___isoc99_wsˇnf
)

36 
	$__LDBL_REDIR1_DECL
 (
swsˇnf
, 
__∆dbl___isoc99_swsˇnf
)

38 
	`__LDBL_REDIR_DECL
 (
fwsˇnf
);

39 
	`__LDBL_REDIR_DECL
 (
wsˇnf
);

40 
	`__LDBL_REDIR_DECL
 (
swsˇnf
);

42 
__END_NAMESPACE_C99


45 #ifde‡
__USE_ISOC99


46 
__BEGIN_NAMESPACE_C99


47 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd
, 
wc°od
);

48 #i‡!
deföed
 
__USE_GNU
 && !deföed 
__REDIRECT
 \

49 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

50 
	$__LDBL_REDIR1_DECL
 (
vfwsˇnf
, 
__∆dbl___isoc99_vfwsˇnf
)

51 
	$__LDBL_REDIR1_DECL
 (
vwsˇnf
, 
__∆dbl___isoc99_vwsˇnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vswsˇnf
, 
__∆dbl___isoc99_vswsˇnf
)

54 
	`__LDBL_REDIR_DECL
 (
vfwsˇnf
);

55 
	`__LDBL_REDIR_DECL
 (
vwsˇnf
);

56 
	`__LDBL_REDIR_DECL
 (
vswsˇnf
);

58 
__END_NAMESPACE_C99


61 #ifde‡
__USE_GNU


62 
	`__LDBL_REDIR1_DECL
 (
wc°ﬁd_l
, 
wc°od_l
);

65 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


66 
	$__LDBL_REDIR_DECL
 (
__sw¥ötf_chk
)

67 
	$__LDBL_REDIR_DECL
 (
__vsw¥ötf_chk
)

68 #i‡
__USE_FORTIFY_LEVEL
 > 1

69 
	$__LDBL_REDIR_DECL
 (
__fw¥ötf_chk
)

70 
	$__LDBL_REDIR_DECL
 (
__w¥ötf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__vfw¥ötf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vw¥ötf_chk
)

	@/usr/include/bits/wchar2.h

19 #i‚de‡
_WCHAR_H


24 
wch¨_t
 *
	$__wmem˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

25 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

26 
size_t
 
__ns1
Ë
__THROW
;

27 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_Æüs
,

28 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

29 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
),

30 
wmem˝y
);

31 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem˝y_chk_w¨n
,

32 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

33 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

34 
size_t
 
__ns1
), 
__wmem˝y_chk
)

35 
	`__w¨«âr
 ("wmemcpy called withÜength biggerÅhan size of destination "

38 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

39 
	`__NTH
 (
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, c⁄° wch¨_à*__ª°ri˘ 
__s2
,

40 
size_t
 
__n
))

42 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

44 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

45  
	`__wmem˝y_chk
 (
__s1
, 
__s2
, 
__n
,

46 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

48 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

49  
	`__wmem˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

50 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

52  
	`__wmem˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

53 
	}
}

56 
wch¨_t
 *
	$__wmemmove_chk
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

57 
size_t
 
__n
, size_à
__ns1
Ë
__THROW
;

58 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_Æüs
, (wch¨_à*
__s1
,

59 c⁄° 
wch¨_t
 *
__s2
,

60 
size_t
 
__n
), 
wmemmove
);

61 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¨n
,

62 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

63 
size_t
 
__n
, size_à
__ns1
), 
__wmemmove_chk
)

64 
	`__w¨«âr
 ("wmemmove called withÜength biggerÅhan size of destination "

67 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

68 
	`__NTH
 (
	$wmemmove
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
))

70 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

72 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

73  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

74 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

76 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

77  
	`__wmemmove_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

78 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

80  
	`__wmemmove_Æüs
 (
__s1
, 
__s2
, 
__n
);

81 
	}
}

84 #ifde‡
__USE_GNU


85 
wch¨_t
 *
	$__wmemp˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

86 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

87 
size_t
 
__ns1
Ë
__THROW
;

88 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_Æüs
,

89 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

90 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
,

91 
size_t
 
__n
), 
wmemp˝y
);

92 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmemp˝y_chk_w¨n
,

93 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

94 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
,

95 
size_t
 
__ns1
), 
__wmemp˝y_chk
)

96 
	`__w¨«âr
 ("wmempcpy called withÜength biggerÅhan size of destination "

99 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

100 
	`__NTH
 (
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
, c⁄° wch¨_à*__ª°ri˘ 
__s2
,

101 
size_t
 
__n
))

103 i‡(
	`__bos0
 (
__s1
Ë!(
size_t
) -1)

105 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

106  
	`__wmemp˝y_chk
 (
__s1
, 
__s2
, 
__n
,

107 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

109 i‡(
__n
 > 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
))

110  
	`__wmemp˝y_chk_w¨n
 (
__s1
, 
__s2
, 
__n
,

111 
	`__bos0
 (
__s1
Ë/  (
wch¨_t
));

113  
	`__wmemp˝y_Æüs
 (
__s1
, 
__s2
, 
__n
);

114 
	}
}

118 
wch¨_t
 *
	$__wmem£t_chk
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

119 
size_t
 
__ns
Ë
__THROW
;

120 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_Æüs
, (wch¨_à*
__s
, wch¨_à
__c
,

121 
size_t
 
__n
), 
wmem£t
);

122 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¨n
,

123 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
,

124 
size_t
 
__ns
), 
__wmem£t_chk
)

125 
	`__w¨«âr
 ("wmemset called withÜength biggerÅhan size of destination "

128 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

129 
	`__NTH
 (
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
))

131 i‡(
	`__bos0
 (
__s
Ë!(
size_t
) -1)

133 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

134  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sË/  (
wch¨_t
));

136 i‡(
__n
 > 
	`__bos0
 (
__s
Ë/  (
wch¨_t
))

137  
	`__wmem£t_chk_w¨n
 (
__s
, 
__c
, 
__n
,

138 
	`__bos0
 (
__s
Ë/  (
wch¨_t
));

140  
	`__wmem£t_Æüs
 (
__s
, 
__c
, 
__n
);

141 
	}
}

144 
wch¨_t
 *
	$__wcs˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

145 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

146 
size_t
 
__n
Ë
__THROW
;

147 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcs˝y_Æüs
,

148 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

149 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcs˝y
);

151 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

152 
	`__NTH
 (
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
))

154 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

155  
	`__wcs˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

156  
	`__wcs˝y_Æüs
 (
__de°
, 
__§c
);

157 
	}
}

160 
wch¨_t
 *
	$__w˝˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

161 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

162 
size_t
 
__de°Àn
Ë
__THROW
;

163 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝˝y_Æüs
,

164 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

165 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
w˝˝y
);

167 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

168 
	`__NTH
 (
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
))

170 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

171  
	`__w˝˝y_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

172  
	`__w˝˝y_Æüs
 (
__de°
, 
__§c
);

173 
	}
}

176 
wch¨_t
 *
	$__wc¢˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

177 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

178 
size_t
 
__de°Àn
Ë
__THROW
;

179 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_Æüs
,

180 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

181 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

182 
size_t
 
__n
), 
wc¢˝y
);

183 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢˝y_chk_w¨n
,

184 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

185 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

186 
size_t
 
__n
, size_à
__de°Àn
), 
__wc¢˝y_chk
)

187 
	`__w¨«âr
 ("wcsncpy called withÜength biggerÅhan size of destination "

190 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

191 
	`__NTH
 (
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
,

192 
size_t
 
__n
))

194 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

196 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

197  
	`__wc¢˝y_chk
 (
__de°
, 
__§c
, 
__n
,

198 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

199 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

200  
	`__wc¢˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

201 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

203  
	`__wc¢˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

204 
	}
}

207 
wch¨_t
 *
	$__w˝n˝y_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

208 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
,

209 
size_t
 
__de°Àn
Ë
__THROW
;

210 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_Æüs
,

211 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

212 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

213 
size_t
 
__n
), 
w˝n˝y
);

214 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__w˝n˝y_chk_w¨n
,

215 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

216 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

217 
size_t
 
__n
, size_à
__de°Àn
), 
__w˝n˝y_chk
)

218 
	`__w¨«âr
 ("wcpncpy called withÜength biggerÅhan size of destination "

221 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

222 
	`__NTH
 (
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
,

223 
size_t
 
__n
))

225 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

227 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
))

228  
	`__w˝n˝y_chk
 (
__de°
, 
__§c
, 
__n
,

229 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

230 i‡(
__n
 > 
	`__bos
 (
__de°
Ë/  (
wch¨_t
))

231  
	`__w˝n˝y_chk_w¨n
 (
__de°
, 
__§c
, 
__n
,

232 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

234  
	`__w˝n˝y_Æüs
 (
__de°
, 
__§c
, 
__n
);

235 
	}
}

238 
wch¨_t
 *
	$__wcsˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

239 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

240 
size_t
 
__de°Àn
Ë
__THROW
;

241 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wcsˇt_Æüs
,

242 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

243 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
), 
wcsˇt
);

245 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

246 
	`__NTH
 (
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
))

248 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

249  
	`__wcsˇt_chk
 (
__de°
, 
__§c
, 
	`__bos
 (__de°Ë/  (
wch¨_t
));

250  
	`__wcsˇt_Æüs
 (
__de°
, 
__§c
);

251 
	}
}

254 
wch¨_t
 *
	$__wc¢ˇt_chk
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

255 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

256 
size_t
 
__n
, size_à
__de°Àn
Ë
__THROW
;

257 
wch¨_t
 *
	`__REDIRECT_NTH
 (
__wc¢ˇt_Æüs
,

258 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

259 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
,

260 
size_t
 
__n
), 
wc¢ˇt
);

262 
__f‹tify_fun˘i⁄
 
wch¨_t
 *

263 
	`__NTH
 (
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
, c⁄° wch¨_à*__ª°ri˘ 
__§c
,

264 
size_t
 
__n
))

266 i‡(
	`__bos
 (
__de°
Ë!(
size_t
) -1)

267  
	`__wc¢ˇt_chk
 (
__de°
, 
__§c
, 
__n
,

268 
	`__bos
 (
__de°
Ë/  (
wch¨_t
));

269  
	`__wc¢ˇt_Æüs
 (
__de°
, 
__§c
, 
__n
);

270 
	}
}

273 
	$__sw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

274 
__Êag
, 
size_t
 
__s_Àn
,

275 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

276 
__THROW
 ;

278 
	`__REDIRECT_NTH_LDBL
 (
__sw¥ötf_Æüs
,

279 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

280 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...),

281 
sw¥ötf
);

283 #ifde‡
__va_¨g_∑ck


284 
__f‹tify_fun˘i⁄
 

285 
	`__NTH
 (
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

286 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...))

288 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

289  
	`__sw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

290 
	`__bos
 (
__s
Ë/  (
wch¨_t
),

291 
__fmt
, 
	`__va_¨g_∑ck
 ());

292  
	`__sw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¨g_∑ck
 ());

293 
	}
}

294 #ñi‡!
deföed
 
__˝lu•lus


296 
	#sw¥ötf
(
s
, 
n
, ...) \

297 (
	`__bos
 (
s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

298 ? 
	`__sw¥ötf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

299 
	`__bos
 (
s
Ë/  (
wch¨_t
), 
__VA_ARGS__
) \

300 : 
	`sw¥ötf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

303 
	$__vsw¥ötf_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

304 
__Êag
, 
size_t
 
__s_Àn
,

305 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

306 
__gnuc_va_li°
 
__¨g
)

307 
__THROW
 ;

309 
	`__REDIRECT_NTH_LDBL
 (
__vsw¥ötf_Æüs
,

310 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

311 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
,

312 
__gnuc_va_li°
 
__≠
), 
vsw¥ötf
);

314 
__f‹tify_fun˘i⁄
 

315 
	`__NTH
 (
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

316 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
))

318 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 || 
__USE_FORTIFY_LEVEL
 > 1)

319  
	`__vsw¥ötf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

320 
	`__bos
 (
__s
Ë/  (
wch¨_t
), 
__fmt
, 
__≠
);

321  
	`__vsw¥ötf_Æüs
 (
__s
, 
__n
, 
__fmt
, 
__≠
);

322 
	}
}

325 #i‡
__USE_FORTIFY_LEVEL
 > 1

327 
__fw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

328 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

329 
__w¥ötf_chk
 (
__Êag
, c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

331 
__vfw¥ötf_chk
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, 
__Êag
,

332 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

333 
__gnuc_va_li°
 
__≠
);

334 
__vw¥ötf_chk
 (
__Êag
, c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

335 
__gnuc_va_li°
 
__≠
);

337 #ifde‡
__va_¨g_∑ck


338 
__f‹tify_fun˘i⁄
 

339 
	$w¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, ...)

341  
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¨g_∑ck
 ());

342 
	}
}

344 
__f‹tify_fun˘i⁄
 

345 
	$fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
, c⁄° 
wch¨_t
 *__ª°ri˘ 
__fmt
, ...)

347  
	`__fw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

348 
	`__va_¨g_∑ck
 ());

349 
	}
}

350 #ñi‡!
deföed
 
__˝lu•lus


351 
	#w¥ötf
(...) \

352 
	`__w¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

353 
	#fw¥ötf
(
°ªam
, ...) \

354 
	`__fw¥ötf_chk
 (
°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

357 
__f‹tify_fun˘i⁄
 

358 
	$vw¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

360  
	`__vw¥ötf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

361 
	}
}

363 
__f‹tify_fun˘i⁄
 

364 
	$vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

365 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__fmt
, 
__gnuc_va_li°
 
__≠
)

367  
	`__vfw¥ötf_chk
 (
__°ªam
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__≠
);

368 
	}
}

372 
wch¨_t
 *
	$__fgëws_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

373 
__FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

374 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_Æüs
,

375 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

376 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws
Ë
__wur
;

377 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_chk_w¨n
,

378 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

379 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
__fgëws_chk
)

380 
__wur
 
	`__w¨«âr
 ("fgetws called with bigger sizeÅhanÜength "

383 
__f‹tify_fun˘i⁄
 
__wur
 
wch¨_t
 *

384 
	$fgëws
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

386 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

388 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

389  
	`__fgëws_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

390 
__n
, 
__°ªam
);

392 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

393  
	`__fgëws_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

394 
__n
, 
__°ªam
);

396  
	`__fgëws_Æüs
 (
__s
, 
__n
, 
__°ªam
);

397 
	}
}

399 #ifde‡
__USE_GNU


400 
wch¨_t
 *
	$__fgëws_u∆ocked_chk
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
,

401 
__n
, 
__FILE
 *
__ª°ri˘
 
__°ªam
)

402 
__wur
;

403 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_Æüs
,

404 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
,

405 
__FILE
 *
__ª°ri˘
 
__°ªam
), 
fgëws_u∆ocked
)

406 
__wur
;

407 
wch¨_t
 *
	`__REDIRECT
 (
__fgëws_u∆ocked_chk_w¨n
,

408 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__size
, 
__n
,

409 
__FILE
 *
__ª°ri˘
 
__°ªam
),

410 
__fgëws_u∆ocked_chk
)

411 
__wur
 
	`__w¨«âr
 ("fgetws_unlocked called with bigger sizeÅhanÜength "

414 
__f‹tify_fun˘i⁄
 
__wur
 
wch¨_t
 *

415 
	$fgëws_u∆ocked
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
__n
, 
__FILE
 *__ª°ri˘ 
__°ªam
)

417 i‡(
	`__bos
 (
__s
Ë!(
size_t
) -1)

419 i‡(!
	`__buûtö_c⁄°™t_p
 (
__n
) || __n <= 0)

420  
	`__fgëws_u∆ocked_chk
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

421 
__n
, 
__°ªam
);

423 i‡((
size_t
Ë
__n
 > 
	`__bos
 (
__s
Ë/  (
wch¨_t
))

424  
	`__fgëws_u∆ocked_chk_w¨n
 (
__s
, 
	`__bos
 (__sË/  (
wch¨_t
),

425 
__n
, 
__°ªam
);

427  
	`__fgëws_u∆ocked_Æüs
 (
__s
, 
__n
, 
__°ªam
);

428 
	}
}

432 
size_t
 
	$__w¸tomb_chk
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

433 
mb°©e_t
 *
__ª°ri˘
 
__p
,

434 
size_t
 
__buÊí
Ë
__THROW
 
__wur
;

435 
size_t
 
	`__REDIRECT_NTH
 (
__w¸tomb_Æüs
,

436 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

437 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
w¸tomb
Ë
__wur
;

439 
__f‹tify_fun˘i⁄
 
__wur
 
size_t


440 
	`__NTH
 (
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wch¨
,

441 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

446 
	#__WCHAR_MB_LEN_MAX
 16

	)

447 #i‡
deföed
 
MB_LEN_MAX
 && MB_LEN_MAX !
__WCHAR_MB_LEN_MAX


450 i‡(
	`__bos
 (
__s
Ë!(
size_t
Ë-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

451  
	`__w¸tomb_chk
 (
__s
, 
__wch¨
, 
__ps
, 
	`__bos
 (__s));

452  
	`__w¸tomb_Æüs
 (
__s
, 
__wch¨
, 
__ps
);

453 
	}
}

456 
size_t
 
	$__mb§towcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

457 c⁄° **
__ª°ri˘
 
__§c
,

458 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

459 
size_t
 
__d°Àn
Ë
__THROW
;

460 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_Æüs
,

461 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

462 c⁄° **
__ª°ri˘
 
__§c
,

463 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

464 
mb§towcs
);

465 
size_t
 
	`__REDIRECT_NTH
 (
__mb§towcs_chk_w¨n
,

466 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

467 c⁄° **
__ª°ri˘
 
__§c
,

468 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

469 
size_t
 
__d°Àn
), 
__mb§towcs_chk
)

470 
	`__w¨«âr
 ("mbsrtowcs called with dst buffer smallerÅhanÜen "

473 
__f‹tify_fun˘i⁄
 
size_t


474 
	`__NTH
 (
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, c⁄° **__ª°ri˘ 
__§c
,

475 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

477 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

479 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

480  
	`__mb§towcs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

481 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

483 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

484  
	`__mb§towcs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
,

485 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

487  
	`__mb§towcs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

488 
	}
}

491 
size_t
 
	$__wc§tombs_chk
 (*
__ª°ri˘
 
__d°
,

492 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

493 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

494 
size_t
 
__d°Àn
Ë
__THROW
;

495 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_Æüs
,

496 (*
__ª°ri˘
 
__d°
,

497 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

498 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

499 
wc§tombs
);

500 
size_t
 
	`__REDIRECT_NTH
 (
__wc§tombs_chk_w¨n
,

501 (*
__ª°ri˘
 
__d°
,

502 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

503 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

504 
size_t
 
__d°Àn
), 
__wc§tombs_chk
)

505 
	`__w¨«âr
 ("wcsrtombs called with dst buffer smallerÅhanÜen");

507 
__f‹tify_fun˘i⁄
 
size_t


508 
	`__NTH
 (
	$wc§tombs
 (*
__ª°ri˘
 
__d°
, c⁄° 
wch¨_t
 **__ª°ri˘ 
__§c
,

509 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

511 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

513 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

514  
	`__wc§tombs_chk
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

516 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

517  
	`__wc§tombs_chk_w¨n
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
, 
	`__bos
 (__dst));

519  
	`__wc§tombs_Æüs
 (
__d°
, 
__§c
, 
__Àn
, 
__ps
);

520 
	}
}

523 #ifde‡
__USE_GNU


524 
size_t
 
	$__mb¢πowcs_chk
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

525 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

526 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

527 
size_t
 
__d°Àn
Ë
__THROW
;

528 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_Æüs
,

529 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

530 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

531 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
),

532 
mb¢πowcs
);

533 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢πowcs_chk_w¨n
,

534 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

535 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

536 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

537 
size_t
 
__d°Àn
), 
__mb¢πowcs_chk
)

538 
	`__w¨«âr
 ("mbsnrtowcs called with dst buffer smallerÅhanÜen "

541 
__f‹tify_fun˘i⁄
 
size_t


542 
	`__NTH
 (
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
, c⁄° **__ª°ri˘ 
__§c
,

543 
size_t
 
__nmc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

545 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

547 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

548  
	`__mb¢πowcs_chk
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

549 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

551 i‡(
__Àn
 > 
	`__bos
 (
__d°
Ë/  (
wch¨_t
))

552  
	`__mb¢πowcs_chk_w¨n
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
,

553 
	`__bos
 (
__d°
Ë/  (
wch¨_t
));

555  
	`__mb¢πowcs_Æüs
 (
__d°
, 
__§c
, 
__nmc
, 
__Àn
, 
__ps
);

556 
	}
}

559 
size_t
 
	$__wc¢πombs_chk
 (*
__ª°ri˘
 
__d°
,

560 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

561 
size_t
 
__nwc
, size_à
__Àn
,

562 
mb°©e_t
 *
__ª°ri˘
 
__ps
, 
size_t
 
__d°Àn
)

563 
__THROW
;

564 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_Æüs
,

565 (*
__ª°ri˘
 
__d°
,

566 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

567 
size_t
 
__nwc
, size_à
__Àn
,

568 
mb°©e_t
 *
__ª°ri˘
 
__ps
), 
wc¢πombs
);

569 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢πombs_chk_w¨n
,

570 (*
__ª°ri˘
 
__d°
,

571 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

572 
size_t
 
__nwc
, size_à
__Àn
,

573 
mb°©e_t
 *
__ª°ri˘
 
__ps
,

574 
size_t
 
__d°Àn
), 
__wc¢πombs_chk
)

575 
	`__w¨«âr
 ("wcsnrtombs called with dst buffer smallerÅhanÜen");

577 
__f‹tify_fun˘i⁄
 
size_t


578 
	`__NTH
 (
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
, c⁄° 
wch¨_t
 **__ª°ri˘ 
__§c
,

579 
size_t
 
__nwc
, size_à
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

581 i‡(
	`__bos
 (
__d°
Ë!(
size_t
) -1)

583 i‡(!
	`__buûtö_c⁄°™t_p
 (
__Àn
))

584  
	`__wc¢πombs_chk
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

585 
	`__bos
 (
__d°
));

587 i‡(
__Àn
 > 
	`__bos
 (
__d°
))

588  
	`__wc¢πombs_chk_w¨n
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
,

589 
	`__bos
 (
__d°
));

591  
	`__wc¢πombs_Æüs
 (
__d°
, 
__§c
, 
__nwc
, 
__Àn
, 
__ps
);

592 
	}
}

	@/usr/include/wctype.h

23 #i‚de‡
_WCTYPE_H


25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 #i‚de‡
__√ed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__√ed_wöt_t


	)

33 
	~<wch¨.h
>

37 #i‚de‡
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #unde‡
__√ed_iswxxx


46 #i‚de‡
__iswxxx_deföed


47 
	#__iswxxx_deföed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	tw˘y≥_t
;

53 
	g__END_NAMESPACE_C99


55 #i‚de‡
_ISwbô


60 
	~<ídün.h
>

61 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


62 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

64 
	#_ISwbô
(
bô
) \

65 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

73 
	m__ISwuµî
 = 0,

74 
	m__ISwlowî
 = 1,

75 
	m__ISwÆpha
 = 2,

76 
	m__ISwdigô
 = 3,

77 
	m__ISwxdigô
 = 4,

78 
	m__ISw•a˚
 = 5,

79 
	m__ISw¥öt
 = 6,

80 
	m__ISwgøph
 = 7,

81 
	m__ISwbœnk
 = 8,

82 
	m__ISw˙ål
 = 9,

83 
	m__ISwpun˘
 = 10,

84 
	m__ISwÆnum
 = 11,

86 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

87 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

88 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

89 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

90 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

91 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

92 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

93 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

94 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

95 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

96 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

97 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

117 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

120 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

124 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

128 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

133 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

136 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

141 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

146 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

151 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

156 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

161 #ifde‡
__USE_ISOC99


162 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

171 
w˘y≥_t
 
	$w˘y≥
 (c⁄° *
__¥›îty
Ë
__THROW
;

175 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 c⁄° 
	t__öt32_t
 *
	tw˘øns_t
;

187 
__END_NAMESPACE_C99


188 #ifde‡
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

197 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifde‡
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
w˘øns_t
 
	$w˘øns
 (c⁄° *
__¥›îty
Ë
__THROW
;

221 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifde‡
__USE_XOPEN2K8


226 
	~<xloˇÀ.h
>

230 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

236 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

239 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

243 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

247 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

252 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

255 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

260 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

265 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

270 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

275 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

280 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

284 
w˘y≥_t
 
	$w˘y≥_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

285 
__THROW
;

289 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

290 
__THROW
;

298 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

301 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

305 
w˘øns_t
 
	$w˘øns_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

306 
__THROW
;

309 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

310 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

314 
__END_DECLS


	@/usr/include/asm-generic/errno-base.h

1 #i‚de‡
_ASM_GENERIC_ERRNO_BASE_H


2 
	#_ASM_GENERIC_ERRNO_BASE_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

	@
1
.
1
/usr/include
211
4141
adplug/binfile.cpp
adplug/binfile.h
adplug/binio.cpp
adplug/binio.h
adplug/demuopl.h
adplug/dosbox_opl.cpp
adplug/dosbox_opl.h
adplug/emuopl.cpp
adplug/emuopl.h
adplug/fmopl.c
adplug/fmopl.h
adplug/fprovide.cpp
adplug/fprovide.h
adplug/opl.h
adplug/player.cpp
adplug/player.h
adplug/rix.cpp
adplug/rix.h
adplug/surroundopl.cpp
adplug/surroundopl.h
ascii.h
battle.c
battle.h
big5font.h
common.h
ending.c
ending.h
fight.c
fight.h
font.c
font.h
game.c
game.h
gbfont.h
getopt.c
getopt.h
global.c
global.h
input.c
input.h
itemmenu.c
itemmenu.h
libmad/bit.c
libmad/bit.h
libmad/decoder.c
libmad/decoder.h
libmad/fixed.c
libmad/fixed.h
libmad/frame.c
libmad/frame.h
libmad/huffman.c
libmad/huffman.h
libmad/layer12.c
libmad/layer12.h
libmad/layer3.c
libmad/layer3.h
libmad/libmad_config.h
libmad/libmad_global.h
libmad/mad.h
libmad/music_mad.c
libmad/music_mad.h
libmad/stream.c
libmad/stream.h
libmad/synth.c
libmad/synth.h
libmad/timer.c
libmad/timer.h
magicmenu.c
magicmenu.h
main.c
main.h
map.c
map.h
midi.c
midi.h
native_midi/native_midi.h
native_midi/native_midi_common.c
native_midi/native_midi_common.h
native_midi/native_midi_macosx.c
native_midi/native_midi_win32.c
palcommon.c
palcommon.h
palette.c
palette.h
play.c
play.h
private.c
res.c
res.h
rixplay.cpp
rixplay.h
rngplay.c
rngplay.h
scene.c
scene.h
script.c
script.h
sound.c
sound.h
text.c
text.h
ui.c
ui.h
uibattle.c
uibattle.h
uigame.c
uigame.h
util.c
util.h
video.c
video.h
yj1.c
/usr/include/assert.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/limits.h
/usr/include/mad.h
/usr/include/math.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/sys/types.h
/usr/include/sys/wait.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/bits/confname.h
/usr/include/bits/environments.h
/usr/include/bits/errno.h
/usr/include/bits/fcntl.h
/usr/include/bits/fcntl2.h
/usr/include/bits/huge_val.h
/usr/include/bits/huge_valf.h
/usr/include/bits/huge_vall.h
/usr/include/bits/inf.h
/usr/include/bits/math-finite.h
/usr/include/bits/math-vector.h
/usr/include/bits/mathcalls.h
/usr/include/bits/mathdef.h
/usr/include/bits/mathinline.h
/usr/include/bits/nan.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/posix_opt.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/siginfo.h
/usr/include/bits/stat.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-bsearch.h
/usr/include/bits/stdlib-float.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/unistd.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wchar.h
/usr/include/bits/wordsize.h
/usr/include/bits/xopen_lim.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/libio.h
/usr/include/signal.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/fcntl-linux.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/libm-simd-decl-stubs.h
/usr/include/bits/local_lim.h
/usr/include/bits/select.h
/usr/include/bits/select2.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/timex.h
/usr/include/bits/typesizes.h
/usr/include/gnu/stubs.h
/usr/include/linux/errno.h
/usr/include/stdc-predef.h
/usr/include/sys/cdefs.h
/usr/include/sys/ucontext.h
/usr/include/asm/errno.h
/usr/include/bits/byteswap-16.h
/usr/include/bits/uio.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/gnu/stubs-x32.h
/usr/include/linux/limits.h
/usr/include/wchar.h
/usr/include/asm-generic/errno.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/wctype.h
/usr/include/asm-generic/errno-base.h
